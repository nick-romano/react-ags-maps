/*! For license information please see app-8e85eaad7e3b7d00d4f1.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"+165":function(e,t){e.exports=function(e,t){return e.has(t)}},"+3Lk":function(e,t,r){"use strict";r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return b})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return f}));var n=r("mK0O"),i=r("WYis"),a=r("g9+Q");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e){var t=Object(a.k)(e);if("CIMTextSymbol"===t.type)return t.height;var r=0;if(t.symbolLayers){var n,i=c(t.symbolLayers);try{for(i.s();!(n=i.n()).done;){var o=n.value;Object(a.g)(o)&&o.size>r?r=o.size:Object(a.i)(o)&&o.width>r?r=o.width:Object(a.f)(o)}}catch(s){i.e(s)}finally{i.f()}}return r}function f(e,t,r){var n=Object(a.k)(e),i=l(e);0!==i?p(n,t/i,!1,r):function(e,t){if("CIMTextSymbol"!==e.type){if(e.symbolLayers){var r,n=c(e.symbolLayers);try{for(n.s();!(r=n.n()).done;){var i=r.value;switch(i.type){case"CIMPictureMarker":case"CIMVectorMarker":i.size=t;break;case"CIMPictureStroke":case"CIMSolidStroke":i.width=t}}}catch(a){n.e(a)}finally{n.f()}}}else e.height=t}(n,t)}function p(e,t,r,n){if("CIMTextSymbol"!==e.type){if(r&&e.effects){var i,a=c(e.effects);try{for(a.s();!(i=a.n()).done;){h(i.value,t)}}catch(f){a.e(f)}finally{a.f()}}if(e.symbolLayers){var o,u=c(e.symbolLayers);try{for(u.s();!(o=u.n()).done;){var l=o.value;switch(l.type){case"CIMPictureMarker":case"CIMVectorMarker":d(l,t,n);break;case"CIMPictureStroke":case"CIMSolidStroke":null!=n&&n.preserveOutlineWidth||(l.width*=t);break;case"CIMPictureFill":l.height*=t,l.offsetX*=t,l.offsetY*=t;break;case"CIMHatchFill":p(l.lineSymbol,t,!0,s(s({},n),{},{preserveOutlineWidth:!1})),l.offsetX*=t,l.offsetY*=t,l.separation*=t}}}catch(f){u.e(f)}finally{u.f()}}}else e.height*=t}function d(e,t,r){if(e.markerPlacement&&function(e,t){switch(Object(a.h)(e)&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset*=t,e.offsetAlongLine*=t,e.placementTemplate&&e.placementTemplate.length){var r=e.placementTemplate.map((function(e){return e*t}));e.placementTemplate=r}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset*=t,e.placementTemplate&&e.placementTemplate.length){var n=e.placementTemplate.map((function(e){return e*t}));e.placementTemplate=n}break;case"CIMMarkerPlacementOnLine":e.startPointOffset*=t;break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine*=t;break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition*=t,e.endPosition*=t;break;case"CIMMarkerPlacementPolygonCenter":e.offsetX*=t,e.offsetY*=t;break;case"CIMMarkerPlacementInsidePolygon":e.offsetX*=t,e.offsetY*=t,e.stepX*=t,e.stepY*=t}}(e.markerPlacement,t),e.offsetX*=t,e.offsetY*=t,e.anchorPoint&&"Absolute"===e.anchorPointUnits&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size*=t,"CIMVectorMarker"===e.type&&e.markerGraphics){var n,i=c(e.markerGraphics);try{for(i.s();!(n=i.n()).done;){var o=n.value;e.scaleSymbolsProportionally||p(o.symbol,t,!0,r)}}catch(s){i.e(s)}finally{i.f()}}}function h(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width*=t;break;case"CIMGeometricEffectBuffer":e.size*=t;break;case"CIMGeometricEffectCut":e.beginCut*=t,e.endCut*=t,e.middleCut*=t;break;case"CIMGeometricEffectDashes":if(e.customEndingOffset*=t,e.offsetAlongLine*=t,e.dashTemplate&&e.dashTemplate.length){var r=e.dashTemplate.map((function(e){return e*t}));e.dashTemplate=r}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length*=t;break;case"CIMGeometricEffectMove":e.offsetX*=t,e.offsetY*=t;break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset*=t;break;case"CIMGeometricEffectRegularPolygon":e.radius*=t;break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth*=t,e.length*=t,e.toWidth*=t;break;case"CIMGeometricEffectWave":e.amplitude*=t,e.period*=t}}function b(e){var t=[];return function e(t,r){var n;n="CIMTextSymbol"===t.type?t.symbol:t;var i="CIMPolygonSymbol"===t.type;if(n.symbolLayers){var o,s=c(n.symbolLayers);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(!(u.colorLocked||i&&(Object(a.i)(u)||Object(a.g)(u)&&u.markerPlacement&&Object(a.h)(u.markerPlacement))))switch(u.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":break;case"CIMVectorMarker":u.markerGraphics.forEach((function(t){e(t.symbol,r)}));break;case"CIMSolidStroke":case"CIMSolidFill":y(r,u.color);break;case"CIMHatchFill":e(u.lineSymbol,r)}}}catch(l){s.e(l)}finally{s.f()}}}(Object(a.k)(e),t),t.length?new i.a(Object(a.e)(t[0])):null}function y(e,t){var r,n=c(e);try{for(n.s();!(r=n.n()).done;){if(r.value.join(".")===t.join("."))return}}catch(i){n.e(i)}finally{n.f()}e.push(t)}function v(e,t){t instanceof i.a||(t=new i.a(t)),function e(t,r){var n;n="CIMTextSymbol"===t.type?t.symbol:t;var i="CIMPolygonSymbol"===t.type;if(n.symbolLayers){var o,s=c(n.symbolLayers);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(!u.colorLocked&&(!i||!(Object(a.i)(u)||Object(a.g)(u)&&u.markerPlacement&&Object(a.h)(u.markerPlacement)))){var l=r.toArray(0);switch(u.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":break;case"CIMVectorMarker":u.markerGraphics.forEach((function(t){e(t.symbol,r)}));break;case"CIMSolidStroke":case"CIMSolidFill":u.color=l;break;case"CIMHatchFill":e(u.lineSymbol,r)}}}}catch(f){s.e(f)}finally{s.f()}}}(Object(a.k)(e),t)}},"+Ckz":function(e,t,r){var n=r("V2ZB"),i=r("tb+2");e.exports=function(e,t){return n(e,i(e),t)}},"+I+c":function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}r.d(t,"a",(function(){return n}))},"+JF/":function(e,t,r){"use strict";r.d(t,"a",(function(){return w})),r.d(t,"b",(function(){return j})),r.d(t,"c",(function(){return I}));var n=r("yBJb"),i=r("hisu"),a=r("7im+"),o=r("1w7Q"),s=r("Sje8"),c=r("DVFM"),u=r("IH5m"),l=r("tcyg"),f=function e(t){Object(i.a)(this,e),this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1},p=function(){function e(t){Object(i.a)(this,e),this.callback=t,this.isActive=!0}return Object(n.a)(e,[{key:"remove",value:function(){this.isActive=!1}}]),e}(),d=0,h=0,b={time:Object(l.a)(0),deltaTime:Object(l.a)(0),elapsedFrameTime:Object(l.a)(0),frameDuration:Object(l.a)(0)},y=["prepare","preRender","render","postRender","update"],v=[],m=new c.a,g=function(){function e(t){Object(i.a)(this,e),this._task=t}return Object(n.a)(e,[{key:"remove",value:function(){this._task.removed=!0}},{key:"pause",value:function(){this._task.paused=!0}},{key:"resume",value:function(){this._task.paused=!1}}]),e}(),O={frameTasks:m,willDispatch:!1,clearFrameTasks:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m.forAll((function(e){e.removed=!0})),e&&S()},dispatch:P,executeFrameTasks:function(e){var t=Object(l.a)(e-d);d=e;for(var r=h>0?h:1e3/60,n=Math.max(0,t-r),i=function(i){var a=performance.now(),o=y[i];m.forAll((function(a){var s;a.paused||a.removed||(0===i&&a.ticks++,a.phases[o]&&(b.time=e,b.deltaTime=0===a.ticks?Object(l.a)(0):t,b.elapsedFrameTime=Object(l.a)(performance.now()-e),b.frameDuration=Object(l.a)(r-n),null==(s=a.phases[o])||s.call(a,b)))})),R[i].record(performance.now()-a)},a=0;a<y.length;a++)i(a);S(),M.record(performance.now()-e)}};function j(e){var t=new p(e);return v.push(t),O.willDispatch||(O.willDispatch=!0,Object(o.a)(P)),t}function w(e){var t=new f(e);return m.push(t),null==_&&(d=performance.now(),_=requestAnimationFrame(k)),new g(t)}var _=null;function k(){var e=performance.now();_=null,_=m.length>0?requestAnimationFrame(k):null,O.executeFrameTasks(e)}var x=new c.a;function S(){m.forAll((function(e){e.removed&&x.push(e)})),m.removeUnorderedMany(x.data,x.length),x.clear()}function P(){for(;v.length;){var e=Object(a.c)(v.shift());e.isActive&&e.callback()}O.willDispatch=!1}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,r=Object(u.g)(),n=function n(){Object(u.n)(t)?r.reject(Object(u.e)()):0===e?r():(--e,Object(o.a)((function(){return n()})))};return n(),r.promise}var R=y.map((function(e){return new s.a(e)})),M=new s.a("total")},"+JFt":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("kDog"),f=r("0fJP"),p=r("xAIp"),d=(r("wckI"),r("J4Pc"),r("TM+E"),r("vo12")),h=r("iaHD"),b=r("ykrQ"),y=r("y2zH"),v=r("tqwG"),m=r("Gz0R");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var O=l.a.ofType({base:null,key:"type",typeMap:{text:y.a}}),j=n=function(e){Object(o.a)(r,e);var t=g(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).verticalOffset=null,n.callout=null,n.styleOrigin=null,n.symbolLayers=new O,n.type="label-3d",n}return Object(a.a)(r,[{key:"supportsCallout",value:function(){return!0}},{key:"hasVisibleCallout",value:function(){return Object(v.b)(this)}},{key:"hasVisibleVerticalOffset",value:function(){return Object(v.c)(this)}},{key:"clone",value:function(){return new n({styleOrigin:Object(f.a)(this.styleOrigin),symbolLayers:Object(f.a)(this.symbolLayers),thumbnail:Object(f.a)(this.thumbnail),callout:Object(f.a)(this.callout),verticalOffset:Object(f.a)(this.verticalOffset)})}}],[{key:"fromTextSymbol",value:function(e){return new n({symbolLayers:[y.a.fromTextSymbol(e)]})}}]),r}(b.a);Object(u.a)([Object(p.b)({type:m.a,json:{write:!0}})],j.prototype,"verticalOffset",void 0),Object(u.a)([Object(p.b)(v.a)],j.prototype,"callout",void 0),Object(u.a)([Object(p.b)({json:{read:!1,write:!1}})],j.prototype,"styleOrigin",void 0),Object(u.a)([Object(p.b)({type:O})],j.prototype,"symbolLayers",void 0),Object(u.a)([Object(d.a)({LabelSymbol3D:"label-3d"},{readOnly:!0})],j.prototype,"type",void 0);var w=j=n=Object(u.a)([Object(h.a)("esri.symbols.LabelSymbol3D")],j);t.a=w},"+KWP":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("8jRW");function i(e){return e=e||n.a.location.hostname,l.some((function(t){var r;return null!=(null==(r=e)?void 0:r.match(t))}))}function a(e,t){return e&&(t=t||n.a.location.hostname)?null!=t.match(o)||null!=t.match(c)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(s)||null!=t.match(u)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}var o=/^devext.arcgis.com$/,s=/^qaext.arcgis.com$/,c=/^[\w-]*\.mapsdevext.arcgis.com$/,u=/^[\w-]*\.mapsqa.arcgis.com$/,l=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,o,s,/^jsapps.esri.com$/,c,u]},"+Ltg":function(e,t,r){"use strict";e.exports=function(e,t,r,n,i,a,o,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,i,a,o,s],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},"+MBG":function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return i})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return p})),r.d(t,"h",(function(){return c})),r.d(t,"i",(function(){return d})),r.d(t,"j",(function(){return l})),r.d(t,"k",(function(){return a})),r.d(t,"l",(function(){return s}));var n=r("p0eS");function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function a(e,t,r,n,i,a,o,s,c,u){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=a,e[5]=o,e[6]=s,e[7]=c,e[8]=u,e}function o(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function s(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function c(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=t[6],l=t[7],f=t[8],p=r[0],d=r[1],h=r[2],b=r[3],y=r[4],v=r[5],m=r[6],g=r[7],O=r[8];return e[0]=p*n+d*o+h*u,e[1]=p*i+d*s+h*l,e[2]=p*a+d*c+h*f,e[3]=b*n+y*o+v*u,e[4]=b*i+y*s+v*l,e[5]=b*a+y*c+v*f,e[6]=m*n+g*o+O*u,e[7]=m*i+g*s+O*l,e[8]=m*a+g*c+O*f,e}function u(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=t[6],l=t[7],f=t[8],p=r[0],d=r[1];return e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=c,e[6]=p*n+d*o+u,e[7]=p*i+d*s+l,e[8]=p*a+d*c+f,e}function l(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=t[6],l=t[7],f=t[8],p=Math.sin(r),d=Math.cos(r);return e[0]=d*n+p*o,e[1]=d*i+p*s,e[2]=d*a+p*c,e[3]=d*o-p*n,e[4]=d*s-p*i,e[5]=d*c-p*a,e[6]=u,e[7]=l,e[8]=f,e}function f(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=a*t[6],e[7]=a*t[7],e[8]=a*t[8],e}function p(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e}function d(e,t){var r=t[0],n=t[1],i=t[2],a=t[4],o=t[5],s=t[6],c=t[8],u=t[9],l=t[10],f=l*o-s*u,p=-l*a+s*c,d=u*a-o*c,h=r*f+n*p+i*d;if(!h)return null;var b=1/h;return e[0]=f*b,e[1]=(-l*n+i*u)*b,e[2]=(s*n-i*o)*b,e[3]=p*b,e[4]=(l*r-i*c)*b,e[5]=(-s*r+i*a)*b,e[6]=d*b,e[7]=(-u*r+n*c)*b,e[8]=(o*r-n*a)*b,e}function h(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],u=t[7],l=t[8],f=t[9],p=t[10],d=t[11],h=t[12],b=t[13],y=t[14],v=t[15],m=r*s-n*o,g=r*c-i*o,O=r*u-a*o,j=n*c-i*s,w=n*u-a*s,_=i*u-a*c,k=l*b-f*h,x=l*y-p*h,S=l*v-d*h,P=f*y-p*b,I=f*v-d*b,R=p*v-d*y,M=m*R-g*I+O*P+j*S-w*x+_*k;return M?(M=1/M,e[0]=(s*R-c*I+u*P)*M,e[1]=(c*S-o*R-u*x)*M,e[2]=(o*I-s*S+u*k)*M,e[3]=(i*I-n*R-a*P)*M,e[4]=(r*R-i*S+a*x)*M,e[5]=(n*S-r*I-a*k)*M,e[6]=(b*_-y*w+v*j)*M,e[7]=(y*O-h*_-v*g)*M,e[8]=(h*w-b*O+v*m)*M,e):null}function b(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function y(e){var t=n.a,r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],c=e[5],u=e[6],l=e[7],f=e[8];return Math.abs(1-(r*r+o*o+u*u))<=t&&Math.abs(1-(i*i+s*s+l*l))<=t&&Math.abs(1-(a*a+c*c+f*f))<=t}var v=c,m=b;Object.freeze({__proto__:null,fromMat4:i,copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},set:a,identity:o,transpose:s,invert:function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],u=t[7],l=t[8],f=l*o-s*u,p=-l*a+s*c,d=u*a-o*c,h=r*f+n*p+i*d;return h?(h=1/h,e[0]=f*h,e[1]=(-l*n+i*u)*h,e[2]=(s*n-i*o)*h,e[3]=p*h,e[4]=(l*r-i*c)*h,e[5]=(-s*r+i*a)*h,e[6]=d*h,e[7]=(-u*r+n*c)*h,e[8]=(o*r-n*a)*h,e):null},adjoint:function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],u=t[7],l=t[8];return e[0]=o*l-s*u,e[1]=i*u-n*l,e[2]=n*s-i*o,e[3]=s*c-a*l,e[4]=r*l-i*c,e[5]=i*a-r*s,e[6]=a*u-o*c,e[7]=n*c-r*u,e[8]=r*o-n*a,e},determinant:function(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],u=e[8];return t*(u*a-o*c)+r*(-u*i+o*s)+n*(c*i-a*s)},multiply:c,translate:u,rotate:l,scale:f,scaleByVec2:p,fromTranslation:function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},fromRotation:function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromMat2d:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},fromQuat:function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r+r,s=n+n,c=i+i,u=r*o,l=n*o,f=n*s,p=i*o,d=i*s,h=i*c,b=a*o,y=a*s,v=a*c;return e[0]=1-f-h,e[3]=l-v,e[6]=p+y,e[1]=l+v,e[4]=1-u-h,e[7]=d-b,e[2]=p-y,e[5]=d+b,e[8]=1-u-f,e},normalFromMat4Legacy:d,normalFromMat4:h,projection:function(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e},str:function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},frob:function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},add:function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e},subtract:b,multiplyScalar:function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e},multiplyScalarAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},equals:function(e,t){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],c=e[5],u=e[6],l=e[7],f=e[8],p=t[0],d=t[1],h=t[2],b=t[3],y=t[4],v=t[5],m=t[6],g=t[7],O=t[8];return Math.abs(r-p)<=n.a*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(i-d)<=n.a*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(a-h)<=n.a*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(o-b)<=n.a*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(s-y)<=n.a*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(c-v)<=n.a*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(u-m)<=n.a*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(l-g)<=n.a*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(f-O)<=n.a*Math.max(1,Math.abs(f),Math.abs(O))},isOrthoNormal:y,mul:v,sub:m})},"+MV2":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var n=r("a1Tm");function i(e,t){var r=t||e.extent,i=e.width,a=Object(n.d)(r&&r.spatialReference);return r&&i?r.width/i*a*n.h*96:0}function a(e,t){return e/(Object(n.d)(t)*n.h*96)}function o(e,t){var r=e.extent,n=e.width,i=a(t,r.spatialReference);return r.clone().expand(i*n/r.width)}},"+MdM":function(e,t,r){"use strict";r.d(t,"a",(function(){return w})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return m})),r.d(t,"e",(function(){return h})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return i})),r.d(t,"h",(function(){return O})),r.d(t,"i",(function(){return u})),r.d(t,"j",(function(){return l})),r.d(t,"k",(function(){return s})),r.d(t,"l",(function(){return o})),r.d(t,"m",(function(){return p})),r.d(t,"n",(function(){return v})),r.d(t,"o",(function(){return g})),r.d(t,"p",(function(){return c})),r.d(t,"q",(function(){return f}));r("J4Pc"),r("7im+");var n=r("nd5+");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;return[e[0],e[1],e[2],e[3]]}function a(e){return[e[0],e[1],e[2],e[3]]}function o(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i();return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i();return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function c(e,t){return new n.a({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function u(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if("length"in t)j(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}return r}function l(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=t.length,i=e[0],a=e[1],o=e[2],s=e[3],c=0;c<n;c++){var u=t[c];i=Math.min(i,u[0]),a=Math.min(a,u[1]),o=Math.max(o,u[0]),s=Math.max(s,u[1])}return r[0]=i,r[1]=a,r[2]=o,r[3]=s,r}function f(e){return e[0]>=e[2]?0:e[2]-e[0]}function p(e){return e[1]>=e[3]?0:e[3]-e[1]}function d(e){return f(e)*p(e)}function h(e,t){return b(e,t[0],t[1])}function b(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function y(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r}function v(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function m(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function g(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function O(e){return e?g(e,w):i(w)}function j(e){return 4===e.length}var w=[1/0,1/0,-1/0,-1/0],_=[0,0,0,0]},"+Vbj":function(e,t,r){var n=r("jgJv"),i=r("lYsT"),a=r("PqlX"),o=n?n.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||i(e)||!!(o&&e&&e[o])}},"+b7D":function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l}));var n=r("7im+"),i=r("a1Tm"),a=r("12QT");function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r){if(Object(n.h)(t)||Object(n.h)(r)||r.vcsWkid||Object(a.c)(t,r))return null;var s=Object(i.e)(t)/Object(i.e)(r);if(1===s)return null;switch(e){case"point":case"esriGeometryPoint":return function(e){return function(e,t){e&&null!=e.z&&(e.z*=t)}(e,s)};case"polyline":case"esriGeometryPolyline":return function(e){return function(e,t){if(e){var r,n=o(e.paths);try{for(n.s();!(r=n.n()).done;){var i,a=o(r.value);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.length>2&&(s[2]*=t)}}catch(c){a.e(c)}finally{a.f()}}}catch(c){n.e(c)}finally{n.f()}}}(e,s)};case"polygon":case"esriGeometryPolygon":return function(e){return function(e,t){if(e){var r,n=o(e.rings);try{for(n.s();!(r=n.n()).done;){var i,a=o(r.value);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.length>2&&(s[2]*=t)}}catch(c){a.e(c)}finally{a.f()}}}catch(c){n.e(c)}finally{n.f()}}}(e,s)};case"multipoint":case"esriGeometryMultipoint":return function(e){return function(e,t){if(e){var r,n=o(e.points);try{for(n.s();!(r=n.n()).done;){var i=r.value;i.length>2&&(i[2]*=t)}}catch(a){n.e(a)}finally{n.f()}}}(e,s)};default:return null}}function u(e,t,r){if(null==e.hasM||e.hasZ){var n,i=o(t);try{for(i.s();!(n=i.n()).done;){var a,s=o(n.value);try{for(s.s();!(a=s.n()).done;){var c=a.value;c.length>2&&(c[2]*=r)}}catch(u){s.e(u)}finally{s.f()}}}catch(u){i.e(u)}finally{i.f()}}}function l(e,t,r){if((e||t)&&r){var n=Object(i.e)(r);f(e,r,n),f(t,r,n)}}function f(e,t,r){if(e){var n,i=o(e);try{for(i.s();!(n=i.n()).done;){p(n.value.geometry,t,r)}}catch(a){i.e(a)}finally{i.f()}}}function p(e,t,r){if(e&&e.spatialReference&&!Object(a.c)(e.spatialReference,t)){var n=Object(i.e)(e.spatialReference)/r;if(1!==n)if("x"in e)null!=e.z&&(e.z*=n);else if("rings"in e)u(e,e.rings,n);else if("paths"in e)u(e,e.paths,n);else if("points"in e&&(null==e.hasM||e.hasZ)){var s,c=o(e.points);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.length>2&&(l[2]*=n)}}catch(f){c.e(f)}finally{c.f()}}}}},"+dZb":function(e,t,r){var n=r("zm72"),i=r("scUu");e.exports=function(e,t,r){return n(i,e,t,r)}},"+iL7":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"+rqd":function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0n+b"),f=r("xAIp"),p=(r("J4Pc"),r("wckI")),d=(r("TM+E"),r("vo12")),h=r("iaHD");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var y=n=function(e){Object(o.a)(r,e);var t=b(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="map-layer",n}return Object(a.a)(r,[{key:"clone",value:function(){var e=this.mapLayerId,t=this.gdbVersion;return new n({mapLayerId:e,gdbVersion:t})}}]),r}(l.a);Object(u.a)([Object(d.a)({mapLayer:"map-layer"})],y.prototype,"type",void 0),Object(u.a)([Object(f.b)({type:p.a,json:{write:!0}})],y.prototype,"mapLayerId",void 0),Object(u.a)([Object(f.b)({type:String,json:{write:!0}})],y.prototype,"gdbVersion",void 0),y=n=Object(u.a)([Object(h.a)("esri.layers.support.source.MapLayerSource")],y)},"+xMG":function(e,t,r){"use strict";function n(e){return!!e&&e.prototype&&e.prototype.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")}r.d(t,"a",(function(){return n}))},"+xdC":function(e,t,r){"use strict";r.r(t);var n=r("ZFoC"),i=r("tM9Q"),a=r("uNCi"),o=r("ERkP");t.default={Playground:n.c,Props:n.d,Map:i.Map,Legend:a.a,React:o}},"+yVN":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("WYis"),f=r("0fJP"),p=r("frPA"),d=r("xAIp"),h=r("gljZ"),b=(r("J4Pc"),r("TM+E"),r("vo12")),y=r("iaHD"),v=r("jr4m"),m=r("oRkd"),g=r("ursF");function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var j=n=function(e){Object(o.a)(r,e);var t=O(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).backgroundColor=null,e.borderLineColor=null,e.borderLineSize=null,e.font=new m.a,e.horizontalAlignment="center",e.kerning=!0,e.haloColor=null,e.haloSize=null,e.rightToLeft=null,e.rotated=!1,e.text="",e.type="text",e.verticalAlignment=null,e.xoffset=0,e.yoffset=0,e.angle=0,e.width=null,e.lineWidth=192,e.lineHeight=1,e}return Object(a.a)(r,[{key:"normalizeCtorArgs",value:function(e,t,r){if(e&&"string"!=typeof e)return e;var n={};return e&&(n.text=e),t&&(n.font=t),r&&(n.color=r),n}},{key:"writeLineWidth",value:function(e,t,r,n){n&&"string"!=typeof n?n.origin:t[r]=e}},{key:"castLineWidth",value:function(e){return Object(p.e)(e)}},{key:"writeLineHeight",value:function(e,t,r,n){n&&"string"!=typeof n?n.origin:t[r]=e}},{key:"clone",value:function(){return new n({angle:this.angle,backgroundColor:Object(f.a)(this.backgroundColor),borderLineColor:Object(f.a)(this.borderLineColor),borderLineSize:this.borderLineSize,color:Object(f.a)(this.color),font:this.font&&this.font.clone(),haloColor:Object(f.a)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}},{key:"hash",value:function(){return"".concat(this.backgroundColor&&this.backgroundColor.hash(),".").concat(this.borderLineColor,".").concat(this.borderLineSize,".").concat(this.color.hash(),".").concat(this.font&&this.font.hash(),".").concat(this.haloColor&&this.haloColor.hash(),".").concat(this.haloSize,".").concat(this.horizontalAlignment,".").concat(this.kerning,".").concat(this.rightToLeft,".").concat(this.rotated,".").concat(this.text,".").concat(this.verticalAlignment,".").concat(this.width,".").concat(this.xoffset,".").concat(this.yoffset,".").concat(this.lineHeight,".").concat(this.lineWidth,".").concat(this.angle)}}]),r}(g.a);Object(u.a)([Object(d.b)({type:l.a,json:{write:!0}})],j.prototype,"backgroundColor",void 0),Object(u.a)([Object(d.b)({type:l.a,json:{write:!0}})],j.prototype,"borderLineColor",void 0),Object(u.a)([Object(d.b)({type:Number,json:{write:!0}})],j.prototype,"borderLineSize",void 0),Object(u.a)([Object(d.b)({type:m.a,json:{write:!0}})],j.prototype,"font",void 0),Object(u.a)([Object(d.b)({type:["left","right","center","justify"],json:{write:!0}})],j.prototype,"horizontalAlignment",void 0),Object(u.a)([Object(d.b)({type:Boolean,json:{write:!0}})],j.prototype,"kerning",void 0),Object(u.a)([Object(d.b)({type:l.a,json:{write:!0}})],j.prototype,"haloColor",void 0),Object(u.a)([Object(d.b)({type:Number,cast:p.e,json:{write:!0}})],j.prototype,"haloSize",void 0),Object(u.a)([Object(d.b)({type:Boolean,json:{write:!0}})],j.prototype,"rightToLeft",void 0),Object(u.a)([Object(d.b)({type:Boolean,json:{write:!0}})],j.prototype,"rotated",void 0),Object(u.a)([Object(d.b)({type:String,json:{write:!0}})],j.prototype,"text",void 0),Object(u.a)([Object(b.a)({esriTS:"text"},{readOnly:!0})],j.prototype,"type",void 0),Object(u.a)([Object(d.b)({type:["baseline","top","middle","bottom"],json:{write:!0}})],j.prototype,"verticalAlignment",void 0),Object(u.a)([Object(d.b)({type:Number,cast:p.e,json:{write:!0}})],j.prototype,"xoffset",void 0),Object(u.a)([Object(d.b)({type:Number,cast:p.e,json:{write:!0}})],j.prototype,"yoffset",void 0),Object(u.a)([Object(d.b)({type:Number,json:{read:function(e){return e&&-1*e},write:function(e,t){return t.angle=e&&-1*e}}})],j.prototype,"angle",void 0),Object(u.a)([Object(d.b)({type:Number,json:{write:!0}})],j.prototype,"width",void 0),Object(u.a)([Object(d.b)({type:Number})],j.prototype,"lineWidth",void 0),Object(u.a)([Object(v.a)("lineWidth")],j.prototype,"writeLineWidth",null),Object(u.a)([Object(h.a)("lineWidth")],j.prototype,"castLineWidth",null),Object(u.a)([Object(d.b)({type:Number})],j.prototype,"lineHeight",void 0),Object(u.a)([Object(v.a)("lineHeight")],j.prototype,"writeLineHeight",null);var w=j=n=Object(u.a)([Object(y.a)("esri.symbols.TextSymbol")],j);t.a=w},"/3M5":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("BG/N"),i=/\[([^\[\]]+)\]/gi;function a(e,t,r){var a=this;return e?e.map((function(e){var o=new n.a;if(o.read(e,r),o.labelExpression){var s=t.fields||t.layerDefinition&&t.layerDefinition.fields||a.fields;o.labelExpression=o.labelExpression.replace(i,(function(e,t){return"[".concat(function(e,t){if(!t)return e;for(var r=e.toLowerCase(),n=0;n<t.length;n++){var i=t[n].name;if(i.toLowerCase()===r)return i}return e}(t,s),"]")}))}return o})):null}},"/5e1":function(e,t){e.exports=function(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var c=o[e?s:++i];if(!1===r(a[c],c,a))break}return t}}},"/BCw":function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return y})),r.d(t,"d",(function(){return j})),r.d(t,"e",(function(){return O})),r.d(t,"f",(function(){return p})),r.d(t,"g",(function(){return d})),r.d(t,"h",(function(){return v})),r.d(t,"i",(function(){return m})),r.d(t,"j",(function(){return b})),r.d(t,"k",(function(){return g}));var n=r("aNYv"),i=r("7im+"),a=r("z9dv"),o=r("9jes"),s=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],c=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(".concat(s.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),u=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(".concat(s.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),l=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function f(e){return!!c.test(e)}function p(e){var t=Object(a.K)(e),r=t.path.match(c)||t.path.match(u);if(!r)return null;var i=Object(n.a)(r,5),o=i[1],s=i[2],l=i[3],f=i[4],p=s.indexOf("/");return{title:h(-1!==p?s.slice(p+1):s),serverType:l,sublayer:null!=f&&""!==f?parseInt(f,10):null,url:{path:o}}}function d(e){var t=Object(a.K)(e).path.match(l);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function h(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function b(e,t){var r=[];if(e){var n=p(e);Object(i.i)(n)&&n.title&&r.push(n.title)}if(t){var a=h(t);r.push(a)}if(2===r.length){if(-1!==r[0].toLowerCase().indexOf(r[1].toLowerCase()))return r[0];if(-1!==r[1].toLowerCase().indexOf(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function y(e){if(!e)return!1;var t=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),r=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&r}function v(e,t){return e?Object(a.I)(Object(a.H)(e,t)):e}function m(e){var t=e.url;if(!t)return{url:t};t=Object(a.H)(t,e.logger);var r,n=Object(a.K)(t),o=p(n.path);if(Object(i.i)(o))null!=o.sublayer&&null==e.layer.layerId&&(r=o.sublayer),t=o.url.path;else if(e.nonStandardUrlAllowed){var s=d(n.path);Object(i.i)(s)&&(t=s.serviceUrl,r=s.sublayerId)}return{url:Object(a.I)(t),layerId:r}}function g(e,t,r,n,i){Object(o.f)(t,n,"url",i),n.url&&null!=e.layerId&&(n.url=Object(a.z)(n.url,r,e.layerId.toString()))}function O(e){if(!e)return!1;var t=e.toLowerCase(),r=-1!==t.indexOf("/services/"),n=-1!==t.indexOf("/mapserver/wmsserver"),i=-1!==t.indexOf("/imageserver/wmsserver"),a=-1!==t.indexOf("/wmsserver");return r&&(n||i||a)}function j(e){if(!e)return!1;var t=new a.a(Object(a.A)(e)).authority.toLowerCase();return"server.arcgisonline.com"===t||"services.arcgisonline.com"===t}},"/FXl":function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return f}));var n=r("ERkP"),i=r.n(n);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var l=i.a.createContext({}),f=function(e){return function(t){var r=p(t.components);return i.a.createElement(e,o({},t,{components:r}))}},p=function(e){var t=i.a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},d=function(e){var t=p(e.components);return i.a.createElement(l.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},b=i.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,o=e.parentName,s=u(e,["components","mdxType","originalType","parentName"]),l=p(r),f=n,d=l["".concat(o,".").concat(f)]||l[f]||h[f]||a;return r?i.a.createElement(d,c(c({ref:t},s),{},{components:r})):i.a.createElement(d,c({ref:t},s))}));function y(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,o=new Array(a);o[0]=b;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:n,o[1]=s;for(var u=2;u<a;u++)o[u]=r[u];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,r)}b.displayName="MDXCreateElement"},"/H5Z":function(e,t,r){"use strict";var n,i=r("eijD"),a=r("hisu"),o=r("yBJb"),s=r("4Mpa"),c=r("CHlC"),u=r("kMo5"),l=r("P+uj"),f=r("NthX"),p=r.n(f),d=r("dQW7"),h=r("TM+E"),b=r("IH5m"),y=r("xAIp"),v=(r("J4Pc"),r("wckI"),r("vo12")),m=r("iaHD"),g=r("eoZi"),O=r("9jes"),j=r("ursF"),w=r("zOOR");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var k=h.a.getLogger("esri.symbols.WebStyleSymbol"),x=n=function(e){Object(c.a)(f,e);var t,u=_(f);function f(e){var t;return Object(a.a)(this,f),(t=u.call(this,e)).styleName=null,t.portal=null,t.styleUrl=null,t.thumbnail=null,t.name=null,t.type="web-style",t}return Object(o.a)(f,[{key:"read",value:function(e,t){this.portal=t?t.portal:void 0,Object(s.a)(Object(l.a)(f.prototype),"read",this).call(this,e,t)}},{key:"clone",value:function(){return new n({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}},{key:"fetchSymbol",value:function(e){return this._fetchSymbol("webRef",e)}},{key:"fetchCIMSymbol",value:function(e){return this._fetchSymbol("cimRef",e)}},{key:"_fetchSymbol",value:(t=Object(i.a)(p.a.mark((function e(t,n){var i,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(r.bind(null,"g4tb"));case 2:return i=e.sent,Object(b.v)(n),a=i.resolveWebStyleSymbol(this,{portal:this.portal},t,n),e.abrupt("return",(a.catch((function(e){k.error("#fetchSymbol()","Failed to create symbol from style",e)})),a));case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),f}(j.a);Object(d.a)([Object(y.b)({json:{write:!1}})],x.prototype,"color",void 0),Object(d.a)([Object(y.b)({type:String,json:{write:!0}})],x.prototype,"styleName",void 0),Object(d.a)([Object(y.b)({type:g.a,json:{write:!1}})],x.prototype,"portal",void 0),Object(d.a)([Object(y.b)({type:String,json:{read:O.d,write:O.f}})],x.prototype,"styleUrl",void 0),Object(d.a)([Object(y.b)({type:w.a,json:{read:!1}})],x.prototype,"thumbnail",void 0),Object(d.a)([Object(y.b)({type:String,json:{write:!0}})],x.prototype,"name",void 0),Object(d.a)([Object(v.a)({styleSymbolReference:"web-style"},{readOnly:!0})],x.prototype,"type",void 0);var S=x=n=Object(d.a)([Object(m.a)("esri.symbols.WebStyleSymbol")],x);t.a=S},"/Qyy":function(e,t,r){var n=r("dIZa"),i=r("SyCk"),a=r("q+I6"),o=r("9aUh");e.exports=function(e,t,r){if(!o(r))return!1;var s=typeof t;return!!("number"==s?i(r)&&a(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},"/TJE":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("4Mpa"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("mK0O"),f=r("dQW7"),p=r("Mp7X"),d=r("7i+s"),h=r("TM+E"),b=r("frPA"),y=r("xAIp"),v=(r("J4Pc"),r("gljZ")),m=r("mp5+"),g=r("iaHD"),O=r("jr4m"),j=r("MEGb"),w=r("CzOP"),_=r("pRE0"),k=r("k9UV"),x=r("0F8f");function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var I=h.a.getLogger("esri.renderers.visualVariables.SizeVariable"),R=new d.a({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),M=new d.a({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function E(e){if(null!=e)return"string"==typeof e||"number"==typeof e?Object(b.e)(e):"size"===e.type?Object(k.c)(e)?e:(delete(e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)).type,new A(e)):void 0}function T(e,t,r){if("object"!=typeof e)return e;var n=new A;return n.read(e,r),n}var A=n=function(e){Object(s.a)(r,e);var t=S(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).axis=null,n.legendOptions=null,n.normalizationField=null,n.scaleBy=null,n.target=null,n.type="size",n.useSymbolValue=null,n.valueExpression=null,n.valueRepresentation=null,n.valueUnit=null,n}return Object(a.a)(r,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:x.viewScaleRE.test(this.valueExpression)}}},{key:"expression",set:function(e){I.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===e?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}},{key:"index",set:function(e){Object(k.c)(this.maxSize)&&(this.maxSize.index="visualVariables[".concat(e,"].maxSize")),Object(k.c)(this.minSize)&&(this.minSize.index="visualVariables[".concat(e,"].minSize")),this._set("index",e)}},{key:"inputValueType",get:function(){return Object(k.a)(this)}},{key:"maxDataValue",set:function(e){e&&this.stops&&(I.warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}},{key:"maxSize",set:function(e){e&&this.stops&&(I.warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}},{key:"castMaxSize",value:function(e){return E(e)}},{key:"readMaxSize",value:function(e,t,r){return T(e,0,r)}},{key:"minDataValue",set:function(e){e&&this.stops&&(I.warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}},{key:"minSize",set:function(e){e&&this.stops&&(I.warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}},{key:"castMinSize",value:function(e){return E(e)}},{key:"readMinSize",value:function(e,t,r){return T(e,0,r)}},{key:"arcadeRequired",get:function(){return!!this.valueExpression||this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}},{key:"stops",set:function(e){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?e&&Array.isArray(e)&&(e=e.filter((function(e){return!!e}))).sort((function(e,t){return e.value-t.value})):e&&(I.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}},{key:"transformationType",get:function(){return Object(k.b)(this,this.inputValueType)}},{key:"readValueExpression",value:function(e,t){return e||t.expression&&"$view.scale"}},{key:"writeValueExpressionWebScene",value:function(e,t,r,n){if("$view.scale"===e){if(n&&n.messages){var i=this.index,a="string"==typeof i?i:"visualVariables[".concat(i,"]");n.messages.push(new p.a("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:a+".valueExpression",context:n}))}}else t[r]=e}},{key:"readValueUnit",value:function(e){return e?M.read(e):null}},{key:"clone",value:function(){return new n({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Object(k.c)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Object(k.c)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((function(e){return e.clone()})),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}},{key:"flipSizes",value:function(){if("clamped-linear"===this.transformationType){var e=this.minSize,t=this.maxSize;return this.minSize=t,this.maxSize=e,this}if("stops"===this.transformationType){for(var r=this.stops,n=r.map((function(e){return e.size})).reverse(),i=r.length,a=0;a<i;a++)r[a].size=n[a];return this}return this}},{key:"getAttributeHash",value:function(){return"".concat(Object(o.a)(Object(u.a)(r.prototype),"getAttributeHash",this).call(this),"-").concat(this.target,"-").concat(this.normalizationField)}},{key:"_interpolateData",value:function(){return this.stops&&this.stops.map((function(e){return e.value||0}))}}]),r}(j.a);Object(f.a)([Object(y.b)({readOnly:!0})],A.prototype,"cache",null),Object(f.a)([Object(y.b)({type:R.apiValues,json:{type:R.jsonValues,origins:{"web-map":{read:!1}},read:R.read,write:R.write}})],A.prototype,"axis",void 0),Object(f.a)([Object(y.b)({type:String,value:null,json:{read:!1}})],A.prototype,"expression",null),Object(f.a)([Object(y.b)()],A.prototype,"index",null),Object(f.a)([Object(y.b)({type:String,readOnly:!0})],A.prototype,"inputValueType",null),Object(f.a)([Object(y.b)({type:_.a,json:{write:!0}})],A.prototype,"legendOptions",void 0),Object(f.a)([Object(y.b)({type:Number,value:null,json:{write:!0}})],A.prototype,"maxDataValue",null),Object(f.a)([Object(y.b)({type:Number,value:null,json:{write:!0}})],A.prototype,"maxSize",null),Object(f.a)([Object(v.a)("maxSize")],A.prototype,"castMaxSize",null),Object(f.a)([Object(m.a)("maxSize")],A.prototype,"readMaxSize",null),Object(f.a)([Object(y.b)({type:Number,value:null,json:{write:!0}})],A.prototype,"minDataValue",null),Object(f.a)([Object(y.b)({type:Number,value:null,json:{write:!0}})],A.prototype,"minSize",null),Object(f.a)([Object(v.a)("minSize")],A.prototype,"castMinSize",null),Object(f.a)([Object(m.a)("minSize")],A.prototype,"readMinSize",null),Object(f.a)([Object(y.b)({type:String,json:{write:!0}})],A.prototype,"normalizationField",void 0),Object(f.a)([Object(y.b)({readOnly:!0})],A.prototype,"arcadeRequired",null),Object(f.a)([Object(y.b)({type:String})],A.prototype,"scaleBy",void 0),Object(f.a)([Object(y.b)({type:[w.a],value:null,json:{write:!0}})],A.prototype,"stops",null),Object(f.a)([Object(y.b)({type:["outline"],json:{write:!0}})],A.prototype,"target",void 0),Object(f.a)([Object(y.b)({type:String,readOnly:!0})],A.prototype,"transformationType",null),Object(f.a)([Object(y.b)({type:["size"],json:{type:["sizeInfo"]}})],A.prototype,"type",void 0),Object(f.a)([Object(y.b)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],A.prototype,"useSymbolValue",void 0),Object(f.a)([Object(y.b)({type:String,json:{write:!0}})],A.prototype,"valueExpression",void 0),Object(f.a)([Object(m.a)("valueExpression",["valueExpression","expression"])],A.prototype,"readValueExpression",null),Object(f.a)([Object(O.a)("web-scene","valueExpression")],A.prototype,"writeValueExpressionWebScene",null),Object(f.a)([Object(y.b)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],A.prototype,"valueRepresentation",void 0),Object(f.a)([Object(y.b)({type:M.apiValues,json:{write:M.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],A.prototype,"valueUnit",void 0),Object(f.a)([Object(m.a)("valueUnit")],A.prototype,"readValueUnit",null);var C=A=n=Object(f.a)([Object(g.a)("esri.renderers.visualVariables.SizeVariable")],A);t.a=C},"/dUa":function(e,t,r){var n=r("MoOl"),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return i.call(e)}),e.exports=n.inspectSource},"/v4n":function(e,t,r){"use strict";var n=r("hisu"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("dQW7"),c=r("kDog"),u=r("0n+b"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var d=function(e){Object(i.a)(r,e);var t=p(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).floorField=null,i.viewAllMode=!1,i.viewAllLevelIds=new c.a,i}return r}(u.a);Object(s.a)([Object(l.b)({type:String,json:{write:!0}})],d.prototype,"floorField",void 0),Object(s.a)([Object(l.b)({json:{read:!1,write:!1}})],d.prototype,"viewAllMode",void 0),Object(s.a)([Object(l.b)({json:{read:!1,write:!1}})],d.prototype,"viewAllLevelIds",void 0);var h=d=Object(s.a)([Object(f.a)("esri.layers.support.LayerFloorInfo")],d);t.a=h},"/xo8":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return c}));var n=r("mK0O"),i=r("z9dv");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){return t?o(o({},t),{},{query:o(o({},e),t.query)}):{query:e}}function c(e){return"string"==typeof e?Object(i.K)(e):e}function u(e,t,r){var n={};for(var i in e)if("declaredClass"!==i){var a=e[i];if(null!=a&&"function"!=typeof a)if(Array.isArray(a)){n[i]=[];for(var o=0;o<a.length;o++)n[i][o]=u(a[o])}else if("object"==typeof a)if(a.toJSON){var s=a.toJSON(r&&r[i]);n[i]=t?s:JSON.stringify(s)}else n[i]=t?a:JSON.stringify(a);else n[i]=a}return n}},"/yxD":function(e,t,r){"use strict";r.r(t);var n=r("ZFoC"),i=r("tM9Q"),a=r("lLlv"),o=r("ERkP");t.default={Playground:n.c,Props:n.d,Map:i.Map,LayerList:a.a,React:o}},"01Rw":function(e,t,r){"use strict";r.r(t);var n,i=r("mK0O"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("dQW7"),f=r("kDog"),p=r("vVXE"),d=r("A0wW"),h=r("UfAV"),b=r("J4Pc"),y=r("TM+E"),v=r("j56I"),m=r("PVS0"),g=r("gljZ"),O=r("xAIp"),j=r("iaHD"),w=r("IXv3"),_=r("v3KF"),k=(r("wckI"),r("eijD")),x=r("NthX"),S=r.n(x),P=r("hZBP"),I=r("FYmP"),R=r("QSFP"),M=r("f6f6"),E=r("5xtG");function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var A=n=function(e){Object(s.a)(r,e);var t=T(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).displayValueEnabled=!1,n.max=1,n.min=0,n.step=.1,n.type="slider",n.value=null,n}return Object(o.a)(r,[{key:"clone",value:function(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}}]),r}(M.a);Object(l.a)([Object(O.b)()],A.prototype,"displayValueEnabled",void 0),Object(l.a)([Object(O.b)()],A.prototype,"max",void 0),Object(l.a)([Object(O.b)()],A.prototype,"min",void 0),Object(l.a)([Object(O.b)()],A.prototype,"step",void 0),Object(l.a)([Object(O.b)()],A.prototype,"value",void 0);var C=A=n=Object(l.a)([Object(j.a)("esri.support.Action.ActionSlider")],A),D=r("KWbM"),L=r("kpMX"),F=r("mjOD");function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var B="esri-layer-list-panel",V="esri-layer-list-panel__content",U="esri-layer-list-panel__content--legend",z="esri-layer-list-panel__content--string",q="esri-layer-list-panel__content--html-element",H="esri-layer-list-panel__content--widget",G=function(e){Object(s.a)(n,e);var t=N(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e,r))._legend=null,i._handles=new h.a,i.content=null,i.image=null,i.listItem=null,i.open=!1,i.visible=!0,i}return Object(o.a)(n,[{key:"initialize",value:function(){var e=this;this.own([Object(v.a)(this,"content",(function(t){return e._createLegend(t)}))])}},{key:"destroy",value:function(){var e=this._legend;e&&e.destroy(),this._legend=null}},{key:"className",get:function(){var e=this.image,t=this._getFirstWidget();return this._get("className")||!e&&t?t.iconClass:""},set:function(e){void 0!==e?this._override("className",e):this._clearOverride("className")}},{key:"title",get:function(){var e=this._getFirstWidget();return this._get("title")||e?e.label:""},set:function(e){void 0!==e?this._override("title",e):this._clearOverride("title")}},{key:"render",value:function(){return Object(F.a)("div",{class:B},this._renderContents())}},{key:"_renderContent",value:function(e){var t=this._legend,r=this.listItem;return e?"legend"===e?r&&r.view&&r.layer&&t?Object(F.a)("div",{class:this.classes(V,U),key:t},t.render()):null:"string"==typeof e?Object(F.a)("div",{class:this.classes(V,z),key:e,innerHTML:e}):Object(L.b)(e)?Object(F.a)("div",{class:this.classes(V,H),key:e},e.render()):e instanceof HTMLElement?Object(F.a)("div",{class:this.classes(V,q),key:e,bind:e,afterCreate:this._attachToNode}):null:null}},{key:"_renderContents",value:function(){var e=this,t=this.content;return Array.isArray(t)?t.map((function(t){return e._renderContent(t)})):this._renderContent(t)}},{key:"_getLegendOptions",value:function(e){if(e){var t=e.layer,r=e.view;return t&&r?{view:r,layerInfos:[{layer:t,title:""}]}:void 0}}},{key:"_createLegend",value:function(e){var t=this;this._hasLegend(e)&&!this._legend&&Promise.resolve().then(r.bind(null,"wC0I")).then((function(e){var r=e.default,n=t._handles,i=t.listItem,a=new r(t._getLegendOptions(i));t._legend=a,t.notifyChange("className"),t.notifyChange("title");var o=Object(v.a)(t,["listItem.view","listItem.layer"],(function(){return t._updateLegend(a)}));n.add(o,"legends"),t.scheduleRender()}))}},{key:"_hasLegend",value:function(e){var t="legend";return e===t||!!Array.isArray(e)&&e.some((function(e){return e===t}))}},{key:"_attachToNode",value:function(e){e.appendChild(this)}},{key:"_updateLegend",value:function(e){var t=this.listItem;if(t){var r=t.layer,n=t.view;e.view=n,e.layerInfos=[{layer:r,title:null}],this.scheduleRender()}}},{key:"_getWidget",value:function(e){return"legend"===e?this._legend:Object(L.b)(e)?e:null}},{key:"_getFirstWidget",value:function(){var e=this,t=this.content;if(Array.isArray(t)){var r=null;return t.some((function(t){var n=e._getWidget(t);return n&&(r=n),!!n})),r}return this._getWidget(t)}}]),n}(Object(R.a)(w.a));Object(l.a)([Object(O.b)()],G.prototype,"className",null),Object(l.a)([Object(O.b)()],G.prototype,"content",void 0),Object(l.a)([Object(O.b)()],G.prototype,"image",void 0),Object(l.a)([Object(O.b)()],G.prototype,"listItem",void 0),Object(l.a)([Object(O.b)()],G.prototype,"title",null),Object(l.a)([Object(O.b)()],G.prototype,"open",void 0),Object(l.a)([Object(O.b)()],G.prototype,"visible",void 0);var W,J=G=Object(l.a)([Object(j.a)("esri.widgets.LayerList.ListItemPanel")],G),$="hide",Z="hide-children";function Q(e){if(e)return null!=e.listMode?e.listMode:void 0}function X(e){if(e)return e.listMode===Z||"wmts"===e.type?void 0:"group"===e.type?"layers":"sublayers"}function K(e,t){e&&e.sort((function(e,r){var n=t.indexOf(e.uid),i=t.indexOf(r.uid);return n>i?-1:n<i?1:0}))}function Y(e){var t=null==e?void 0:e.layer;return t&&"group"===t.type?t.layers:null}function ee(e,t){var r,n=null==(r=e.layer)?void 0:r.uid;return n&&t.find((function(e){var t;return(null==(t=e.layer)?void 0:t.uid)===n}))}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var re=f.a.ofType({key:"type",defaultKeyValue:"button",base:M.a,typeMap:{button:E.a,toggle:D.a,slider:C}}),ne=f.a.ofType(re),ie="layer",ae="child-list-mode",oe=W=function(e){Object(s.a)(n,e);var t,r=te(n);function n(e){var t;return Object(a.a)(this,n),(t=r.call(this,e)).actionsSections=new ne,t.actionsOpen=!1,t.children=new(f.a.ofType(W)),t.childrenSortable=!0,t.error=null,t.layer=null,t.layerView=null,t.open=!1,t.panel=null,t.parent=null,t.sortable=!0,t.view=null,t.visible=null,t}return Object(o.a)(n,[{key:"initialize",value:function(){var e=this;this.handles.add([Object(v.a)(this,"layer",(function(t){return e._watchLayerProperties(t)})),Object(v.a)(this,"view",(function(t){return e._updateChildren(t)})),Object(v.a)(this,"panel",(function(t){return e._setListItemOnPanel(t)})),Object(v.a)(this,["layer","view"],(function(){return e._getLayerView()}))])}},{key:"destroy",value:function(){this.view=null}},{key:"castPanel",value:function(e){return this.get("panel.open")&&!e.hasOwnProperty("open")&&(e.open=!0),e?new J(e):null}},{key:"title",get:function(){var e=this.get("layer.layer");return(!e||e&&this.get("layer.layer.loaded"))&&this.get("layer.title")||this.get("layer.attributes.title")||""},set:function(e){void 0!==e?this._override("title",e):this._clearOverride("title")}},{key:"updating",get:function(){var e=this.layerView;return e?e.updating:this._isLayerUpdating(this.layer)}},{key:"visibleAtCurrentScale",get:function(){return!function(e,t){if(!e||isNaN(t))return!1;var r=function(e){if(e)return null!=e.minScale?e.minScale:void 0}(e),n=function(e){if(e)return null!=e.maxScale?e.maxScale:void 0}(e),i=!isNaN(r)&&r>0&&t>r,a=!isNaN(n)&&n>0&&t<n;return i||a}(this.layer,this.get("view.scale"))}},{key:"visibilityMode",get:function(){return function(e){if(!e)return"inherited";var t=e.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"==typeof t)return t?"independent":"inherited";var r=e.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"==typeof r?r?"independent":"inherited":null!=e.visibilityMode?e.visibilityMode:"independent"}(this.layer)}},{key:"clone",value:function(){return new W({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})}},{key:"_setListItemOnPanel",value:function(e){e&&(e.listItem=this)}},{key:"_updateChildren",value:function(e){var t=this.children;t&&t.forEach((function(t){return t.view=e}))}},{key:"_addChildren",value:function(e){var t=this;if(this.handles.remove(ae),this.children.removeAll(),e){e.forEach((function(r){t.handles.add(Object(v.d)(r,"listMode",(function(){return t._addChildren(e)})),ae)}));var r=e.filter((function(e){return"hide"!==Q(e)}));this.children.addMany(this._makeChildren(r))}}},{key:"_watchSublayerChanges",value:function(e){var t=this;e&&this.handles.add(e.on("change",(function(){t._addChildren(e)})),ie)}},{key:"_initializeChildLayers",value:function(e){this._addChildren(e),this._watchSublayerChanges(e)}},{key:"_makeChildren",value:function(e){var t=this;return e.map((function(e){return Q(e)!==$?new W({layer:e,parent:t,view:t.view}):null})).reverse()}},{key:"_watchLayerProperties",value:function(e){var t=this;if(this.handles&&(this.handles.remove(ie),this.handles.remove(ae),e))if(this.handles.add(Object(v.d)(e,"listMode",(function(){return t._watchLayerProperties(e)})),ie),"hide-children"!==Q(e)){var r=X(e);r&&this.handles.add(Object(v.a)(e,r,(function(){e.hasOwnProperty(r)&&t._initializeChildLayers(e[r])})),ie)}else this.children.removeAll()}},{key:"_getLayerView",value:(t=Object(k.a)(S.a.mark((function e(){var t,r,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.layer,r=this.view,!t||!r){e.next=13;break}return e.prev=2,e.next=5,r.whenLayerView(t);case 5:if((n=e.sent).layer===this.layer){e.next=8;break}return e.abrupt("return");case 8:this._set("layerView",n),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}}),e,this,[[2,11]])}))),function(){return t.apply(this,arguments)})},{key:"_isLayerUpdating",value:function(e){return e&&"loading"===e.loadStatus}}]),n}(Object(R.a)(Object(I.b)(P.a)));Object(l.a)([Object(O.b)({type:ne})],oe.prototype,"actionsSections",void 0),Object(l.a)([Object(O.b)()],oe.prototype,"actionsOpen",void 0),Object(l.a)([Object(O.b)({type:f.a})],oe.prototype,"children",void 0),Object(l.a)([Object(O.b)()],oe.prototype,"childrenSortable",void 0),Object(l.a)([Object(m.a)("layer.loadError?")],oe.prototype,"error",void 0),Object(l.a)([Object(O.b)()],oe.prototype,"layer",void 0),Object(l.a)([Object(O.b)({readOnly:!0})],oe.prototype,"layerView",void 0),Object(l.a)([Object(O.b)()],oe.prototype,"open",void 0),Object(l.a)([Object(O.b)({type:J})],oe.prototype,"panel",void 0),Object(l.a)([Object(g.a)("panel")],oe.prototype,"castPanel",null),Object(l.a)([Object(O.b)()],oe.prototype,"parent",void 0),Object(l.a)([Object(O.b)()],oe.prototype,"sortable",void 0),Object(l.a)([Object(O.b)()],oe.prototype,"title",null),Object(l.a)([Object(O.b)({readOnly:!0})],oe.prototype,"updating",null),Object(l.a)([Object(O.b)({value:null})],oe.prototype,"view",void 0),Object(l.a)([Object(m.a)("layer.visible")],oe.prototype,"visible",void 0),Object(l.a)([Object(O.b)({readOnly:!0})],oe.prototype,"visibleAtCurrentScale",null),Object(l.a)([Object(O.b)({readOnly:!0})],oe.prototype,"visibilityMode",null);var se=oe=W=Object(l.a)([Object(j.a)("esri.widgets.LayerList.ListItem")],oe);function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var ue="view",le="view-layers",fe="map-layers",pe="layer-views",de="layer-list-mode",he=f.a.ofType(se),be=function(e){Object(s.a)(r,e);var t=ce(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e))._handles=new h.a,n.listItemCreatedFunction=null,n.operationalItems=new he,n.view=null,n}return Object(o.a)(r,[{key:"initialize",value:function(){var e=this;this._handles.add(Object(v.a)(this,["view","view.ready"],(function(){return e._viewHandles()})),ue)}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null,this.view=null,this.operationalItems.removeAll()}},{key:"state",get:function(){var e=this.get("view");return this.get("view.ready")?"ready":e?"loading":"disabled"}},{key:"triggerAction",value:function(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}},{key:"moveListItem",value:function(e,t,r,n){var i,a,o=null==e?void 0:e.layer;if(o){var s=null==(i=this.view)||null==(a=i.map)?void 0:a.layers,c=t?Y(t):s,u=r?Y(r):s;if(c&&u){var l=this.operationalItems,f=(null==t?void 0:t.children)||l,p=(null==r?void 0:r.children)||l,d=u.length-n;e.parent=r||null,f.includes(e)&&f.remove(e),c.includes(o)&&c.remove(o),p.includes(e)||p.add(e,d),u.includes(o)||u.add(o,d)}}}},{key:"_createLayerViewHandles",value:function(e){var t=this,r=this._handles;r.remove(pe),this._compileList(),e&&r.add(e.on("change",(function(){return t._compileList()})),pe)}},{key:"_createMapLayerHandles",value:function(e){var t=this,r=this._handles;r.remove(fe),this._compileList(),e&&r.add(e.on("change",(function(){return t._compileList()})),fe)}},{key:"_watchItemProperties",value:function(e){var t=this;this._handles.add([e.children.on("change",(function(){t._modifyListItemChildren(e.children)}))],"children-change-".concat(e.uid))}},{key:"_modifyListItemChildren",value:function(e){var t=this;e.forEach((function(e){return t._modifyListItem(e)}))}},{key:"_modifyListItem",value:function(e){if("function"==typeof this.listItemCreatedFunction){var t={item:e};this.listItemCreatedFunction.call(null,t)}this._modifyListItemChildren(e.children)}},{key:"_createListItem",value:function(e){var t=this.view,r=new se({layer:e,view:t});return this._watchItemProperties(r),r}},{key:"_removeAllItems",value:function(){var e=this._handles,t=this.operationalItems;t.forEach((function(t){e.remove("children-change-".concat(t.uid))})),t.removeAll()}},{key:"_getViewableLayers",value:function(e){if(e)return e.filter((function(e){return"hide"!==Q(e)}))}},{key:"_watchLayersListMode",value:function(e){var t=this,r=this._handles;r.remove(de),e&&e.forEach((function(e){r.add(Object(v.d)(e,"listMode",(function(){return t._compileList()})),de)}))}},{key:"_compileList",value:function(){var e=this.get("view.map.layers");this._watchLayersListMode(e);var t=this._getViewableLayers(e);t&&t.length?(this._createNewItems(t),this._modifyOrRemoveItems(t),this._sortItems(t)):this._removeAllItems()}},{key:"_createNewItems",value:function(e){var t=this,r=this.operationalItems;e.forEach((function(e){r.find((function(t){return t.layer===e}))||r.add(t._createListItem(e))}))}},{key:"_modifyOrRemoveItems",value:function(e){var t=this,r=this._handles,n=this.operationalItems,i=[];n.forEach((function(n){n&&e&&e.find((function(e){return n.layer===e}))?t._modifyListItem(n):(r.remove("children-change-".concat(n.uid)),i.push(n))})),n.removeMany(i)}},{key:"_sortItems",value:function(e){this.operationalItems.sort((function(t,r){var n=e.indexOf(t.layer),i=e.indexOf(r.layer);return n>i?-1:n<i?1:0}))}},{key:"_viewHandles",value:function(){var e=this,t=this._handles,r=this.view;t.remove([fe,pe,le]),this._compileList(),r&&r.ready&&t.add([Object(v.a)(this,"view.map.allLayers",(function(t){return e._createMapLayerHandles(t)})),Object(v.a)(this,"view.allLayerViews",(function(t){return e._createLayerViewHandles(t)})),Object(v.a)(this,"listItemCreatedFunction",(function(){return e._compileList()}))],le)}}]),r}(_.a.EventedAccessor);Object(l.a)([Object(O.b)()],be.prototype,"listItemCreatedFunction",void 0),Object(l.a)([Object(O.b)({type:he})],be.prototype,"operationalItems",void 0),Object(l.a)([Object(O.b)({readOnly:!0})],be.prototype,"state",null),Object(l.a)([Object(O.b)()],be.prototype,"view",void 0);var ye=be=Object(l.a)([Object(j.a)("esri.widgets.LayerList.LayerListViewModel")],be),ve=r("Q7Dg"),me=r("XRld"),ge=r("Ykki"),Oe=(r("c+HS"),r("k5Cm"));function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}function ke(e,t,r){e.splice(r,0,e.splice(t,1)[0])}var xe=f.a.ofType(se),Se="data-sort-filter",Pe="data-layer-uid",Ie="esri-layer-list esri-widget esri-widget--panel",Re="esri-layer-list--new-ui",Me="esri-layer-list__no-items",Ee="esri-layer-list__list",Te="esri-layer-list__list--root",Ae="esri-layer-list__list--exclusive",Ce="esri-layer-list__list--inherited",De="esri-layer-list__list--independent",Le="esri-layer-list__item",Fe="esri-layer-list__item--error",Ne="esri-layer-list__item--invisible",Be="esri-layer-list__item--invisible-at-scale",Ve="esri-layer-list__item--updating",Ue="esri-layer-list__item--has-children",ze="esri-layer-list__item--selectable",qe="esri-layer-list__item-container",He="esri-layer-list__item-actions-menu",Ge="esri-layer-list__item-actions-menu-item",We="esri-layer-list__item-actions-menu-item--active",Je="esri-layer-list__item-actions",$e="esri-layer-list__item-actions-list",Ze="esri-layer-list__item-action",Qe="esri-layer-list__item-action-icon",Xe="esri-layer-list__item-action-image",Ke="esri-layer-list__item-action-title",Ye="esri-layer-list__action-toggle",et="esri-layer-list__action-toggle--on",tt="esri-layer-list__item-label",rt="esri-layer-list__item-error-message",nt="esri-layer-list__item-title",it="esri-layer-list__item-toggle",at="esri-layer-list__item-toggle-icon",ot="esri-layer-list__item-toggle-icon",st="esri-layer-list__item-radio-icon",ct="esri-layer-list__child-toggle",ut="esri-layer-list__child-toggle--open",lt="esri-layer-list__child-toggle-icon--opened",ft="esri-layer-list__child-toggle-icon--closed",pt="esri-layer-list__child-toggle-icon--closed-rtl",dt="esri-layer-list--chosen",ht="esri-disabled",bt="esri-disabled-element",yt="esri-hidden",vt="esri-rotating",mt="esri-icon-handle-horizontal",gt="esri-icon-visible",Ot="esri-icon-non-visible",jt="esri-icon-radio-checked",wt="esri-icon-radio-unchecked",_t="esri-icon-notice-triangle",kt="esri-icon-down-arrow",xt="esri-icon-right-triangle-arrow",St="esri-icon-left-triangle-arrow",Pt="esri-icon-loading-indicator",It="esri-icon-default-action",Rt="esri-icon-layers",Mt="actions",Et="action-section",Tt="items",At="exclusive",Ct="inherited";var Dt=y.a.getLogger("esri.widgets.LayerList"),Lt={statusIndicators:!0},Ft=function(e){Object(s.a)(r,e);var t=_e(r);function r(e,n){var i;return Object(a.a)(this,r),(i=t.call(this,e,n))._handles=new h.a,i._sortableNodes=new Map,i._sortableMap=new Map,i._focusSortUid=null,i._newUI=Object(b.a)("esri-layerlist-new-ui"),i.visibleItems=null,i.iconClass=Rt,i.label=void 0,i.listItemCreatedFunction=null,i.localeStrings=null,i.messages=null,i.messagesCommon=null,i.multipleSelectionEnabled=!1,i.operationalItems=null,i.selectionEnabled=!1,i.selectedItems=new xe,i.view=null,i.viewModel=new ye,i.visibleElements=we({},Lt),i._onSortableSort=function(e){var t=e.to,r=e.from,n=e.item,a=e.newIndex;r&&t&&(r===t?i._sortLayers(i._sortableMap.get(r.dataset.group)):i._moveLayerFromChildList({to:t,from:r,item:n,newIndex:a}))},i._sortableCanPut=function(e,t,r){var n,i,a=e.el.dataset.group,o=t.el.dataset.group,s=e.el["data-item"],c=r["data-item"],u=null==c||null==(n=c.layer)?void 0:n.type,l=null==s||null==(i=s.layer)?void 0:i.type;return a&&o&&u&&!("group"===l&&"group"===u)},i._sortableCanPull=function(e,t,r){var n,i=e.el.dataset.group,a=t.el.dataset.group,o=r["data-item"],s=null==o||null==(n=o.layer)?void 0:n.type;return i&&a&&!!s},i._onSortableEnd=function(e){var t=e.oldIndex,r=e.from,n=e.to,i=e.item;r!==n&&r.insertBefore(i,r.children[t])},i}return Object(o.a)(r,[{key:"initialize",value:function(){var e=this,t=this.operationalItems;this._setVisibleItems(t),this.own(Object(v.b)(this,"operationalItems","change",(function(){return e._itemsChanged(t)})),Object(v.a)(this,"selectionEnabled",(function(){return e._toggleAllSorting()})))}},{key:"destroy",value:function(){this._destroySortables(),this._handles.destroy(),this._handles=null}},{key:"statusIndicatorsVisible",set:function(e){Object(p.c)(Dt,"statusIndicatorsVisible",{replacement:"visibleElements.statusIndicators",version:"4.15"}),this.visibleElements=we(we({},this.visibleElements),{},{statusIndicators:e})}},{key:"castVisibleElements",value:function(e){return we(we({},Lt),e)}},{key:"triggerAction",value:function(e,t){this.viewModel.triggerAction(e,t)}},{key:"render",value:function(){var e,t,r=this.visibleItems,n=this._newUI,a=null==(t=this.viewModel)?void 0:t.state,o=(e={},Object(i.a)(e,Re,n),Object(i.a)(e,yt,"loading"===a),Object(i.a)(e,ht,"disabled"===a),e);return Object(F.a)("div",{class:this.classes(Ie,o)},null!=r&&r.length?this.renderItems():this.renderNoItems())}},{key:"renderNoItems",value:function(){return Object(F.a)("div",{class:Me},this.messages.noItemsToDisplay)}},{key:"renderItems",value:function(){var e=this,t=this.visibleItems,r=this.selectionEnabled,n=this.messages;return Object(F.a)("ul",{"aria-label":n.widgetLabel,role:r?"listbox":void 0,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,"data-group":"root",bind:this,class:this.classes(Ee,Te,De)},null==t?void 0:t.map((function(t){return e.renderItem(t,null)})).toArray())}},{key:"renderActionsMenuIcon",value:function(e,t){var r=this.messages,n=Object(i.a)({},We,e.actionsOpen),a=e.actionsOpen?r.closeActions:r.openActions;return Object(F.a)("div",{key:"actions-menu-toggle","data-item":e,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes(Ge,n),tabindex:"0",role:"button","aria-controls":t,"aria-label":a,title:a},Object(F.a)("span",{"aria-hidden":"true",class:mt}))}},{key:"renderActionsMenu",value:function(e,t,r,n){var i=e.panel,a=i&&i.visible?this.renderPanelButton(i):null,o=1===r&&this._getSingleActionButton(t),s=o?this.renderAction({item:e,action:o,singleAction:!0}):null,c=!o&&r?this.renderActionsMenuIcon(e,n):null;return c||a||o?Object(F.a)("div",{key:"actions-menu",class:He},a,s,c):null}},{key:"renderChildList",value:function(e,t){var r,n,a=this,o=this.selectionEnabled,s=e.visibilityMode,c=e.children,u=!!e.error,l=!!c.length&&!u,f=!l&&o&&"group"===(null==(n=e.layer)?void 0:n.type),p=At,d=Ct,h=(r={},Object(i.a)(r,Ae,s===p),Object(i.a)(r,Ce,s===d),Object(i.a)(r,De,s!==d&&s!==p),r);return l||f?Object(F.a)("ul",{bind:this,key:"list-items",id:t,"data-group":e.uid,"data-item":e,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,class:this.classes(Ee,h),"aria-expanded":e.open?"true":"false",role:o?"listbox":s===p?"radiogroup":"group",hidden:!e.open&&!f||null},null==c?void 0:c.map((function(t){return a.renderItem(t,e)})).toArray()):null}},{key:"renderChildrenToggle",value:function(e,t){var r=this.messagesCommon,n=e.children,a=!!e.error,o=!!n.length&&!a,s=Object(i.a)({},ut,e.open),c=e.open?r.collapse:r.expand;return o?Object(F.a)("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":e,key:"toggle-children",class:this.classes(ct,s),tabindex:"0",role:"button","aria-controls":t,"aria-label":c,title:c},Object(F.a)("span",{"aria-hidden":"true",class:this.classes(ft,xt)}),Object(F.a)("span",{"aria-hidden":"true",class:this.classes(lt,kt)}),Object(F.a)("span",{"aria-hidden":"true",class:this.classes(pt,St)})):null}},{key:"renderError",value:function(e){return e.error?Object(F.a)("div",{key:"esri-layer-list__error",class:rt,role:"alert"},Object(F.a)("span",null,this.messages.layerError)):null}},{key:"renderItemContent",value:function(e,t,r){var n=this.id,i="".concat(n,"_").concat(e.uid),a="".concat(i,"_actions"),o="".concat(i,"__list"),s=e.panel,c=this._filterActions(e.actionsSections),u=this._countActions(c);return[Object(F.a)("div",{key:"list-item-container",class:qe},this.renderChildrenToggle(e,o),this.renderLabel(e,t,r),this.renderActionsMenu(e,c,u,a)),this.renderError(e),u?this.renderActionsSections(e,c,a):null,s&&s.open?s.render():null,this.renderChildList(e,o)]}},{key:"renderItem",value:function(e,t){var r,n=this._newUI,a=this.id,o=this.selectionEnabled,s=this.selectedItems,c=this.visibleElements,u=e.children,l="".concat("".concat(a,"_").concat(e.uid),"__title"),f=!!e.error,p=!!u.length&&!f,d=(r={},Object(i.a)(r,Ue,p),Object(i.a)(r,Fe,!!f),Object(i.a)(r,Ve,e.updating&&!t&&c.statusIndicators),Object(i.a)(r,Ne,n&&!e.visible),Object(i.a)(r,Be,!e.visibleAtCurrentScale),Object(i.a)(r,ze,o),r);if(o){var h,b,y=(h={},Object(i.a)(h,Pe,null==(b=e.layer)?void 0:b.uid),Object(i.a)(h,Se,(!e.sortable).toString()),h);return Object(F.a)("li",we({key:"item-with-selection-".concat(e.uid),bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(Le,d),"aria-labelledby":l,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":e,"data-group":t?t.uid:"root",tabIndex:0,"aria-selected":ee(e,s)?"true":"false",role:"option"},y),this.renderItemContent(e,t,l))}return Object(F.a)("li",{key:"item-no-selection-".concat(e.uid),bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(Le,d),"aria-labelledby":l},this.renderItemContent(e,t,l))}},{key:"renderItemTitle",value:function(e,t){var r=this.messages,n=e.title||r.untitledLayer,i=e.visibleAtCurrentScale?n:"".concat(n," (").concat(r.layerInvisibleAtScale,")");return Object(F.a)("span",{key:"layer-title-container",id:t,title:i,"aria-label":i,class:nt},n)}},{key:"renderItemToggleIcon",value:function(e,t){var r,n=this._newUI,a=At,o=t&&t.visibilityMode,s=(r={},Object(i.a)(r,at,n),Object(i.a)(r,ot,n&&o!==a),Object(i.a)(r,st,n&&o===a),Object(i.a)(r,jt,o===a&&e.visible),Object(i.a)(r,wt,o===a&&!e.visible),Object(i.a)(r,gt,o!==a&&e.visible),Object(i.a)(r,Ot,o!==a&&!e.visible),r);return Object(F.a)("span",{key:"item-toggle-icon",class:this.classes(s),"aria-hidden":"true"})}},{key:"renderItemToggle",value:function(e,t,r){var n=this.selectionEnabled,i=At,a=t&&t.visibilityMode,o=a===i?"radio":"switch";return Object(F.a)("span",n?{key:"item-toggle-selection-enabled",class:it,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":a,tabIndex:0,"aria-checked":e.visible?"true":"false",role:o,"aria-labelledby":r}:{key:"item-toggle",class:it},this.renderItemToggleIcon(e,t))}},{key:"renderItemError",value:function(e){return e.error?Object(F.a)("span",{key:"notice-triangle","aria-hidden":"true",class:_t}):null}},{key:"renderLabel",value:function(e,t,r){var n=this.selectionEnabled,i=this._newUI,a=Ct,o=At,s=null==t?void 0:t.visibilityMode,c=s===o?"radio":"switch",u=[this.renderItemToggle(e,t,r),this.renderItemTitle(e,r)];i&&u.reverse();var l=Object(F.a)("div",n?{key:"item-label-no-selection-".concat(e.uid),class:tt}:{key:"item-label-with-selection-".concat(e.uid),class:tt,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":s,tabIndex:0,"aria-checked":e.visible?"true":"false",role:c,"aria-labelledby":r},u);return s===a||e.error?Object(F.a)("div",{key:"item-label-container-".concat(e.uid),class:tt},this.renderItemError(e),this.renderItemTitle(e,r)):l}},{key:"renderPanelButton",value:function(e){var t=e.className,r=e.open,n=e.title,a=e.image||t?t:It,o=this._getIconImageStyles(e),s=Object(i.a)({},We,r),c=Object(i.a)({},Xe,!!o["background-image"]);return a&&(c[a]=!!a),Object(F.a)("div",{key:"panel-".concat(e.uid),bind:this,"data-panel":e,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes(Ge,s),role:"button",tabindex:"0",title:n,"aria-label":n},Object(F.a)("span",{class:this.classes(c),styles:o}))}},{key:"renderActionsSections",value:function(e,t,r){var n=this,i=t.toArray().map((function(t,r){return Object(F.a)("ul",{key:"".concat(e,"-action-section-").concat(r),class:$e},n.renderActionSection(e,t))}));return Object(F.a)("div",{role:"group","aria-expanded":e.actionsOpen?"true":"false",key:"actions-section",id:r,class:Je,hidden:!e.actionsOpen||null},i)}},{key:"renderActionSection",value:function(e,t){var r=this;return(t&&t.toArray()).map((function(t){return r.renderAction({item:e,action:t})}))}},{key:"renderActionIcon",value:function(e){var t,r=e.active,n=e.className,a=this._getIconImageStyles(e),o="button"!==e.type||e.image||n?n:It,s=(t={},Object(i.a)(t,Xe,!r&&!!a["background-image"]),Object(i.a)(t,Pt,r),Object(i.a)(t,vt,r),t);return o&&!r&&(s[o]=!0),Object(F.a)("span",{key:"action-icon","aria-hidden":"true",class:this.classes(Qe,s),styles:a})}},{key:"renderActionTitle",value:function(e,t){return t?null:Object(F.a)("span",{key:"action-title",class:Ke},e)}},{key:"renderAction",value:function(e){var t,r=e.item,n=e.action,a=e.singleAction,o=n.active,s=n.disabled,c=n.title,u=(t={},Object(i.a)(t,Ge,a&&"button"===n.type),Object(i.a)(t,Ze,o||!a&&"toggle"!==n.type),Object(i.a)(t,Ye,!o&&"toggle"===n.type),Object(i.a)(t,et,!o&&"toggle"===n.type&&n.value),Object(i.a)(t,bt,s),t),l=[this.renderActionIcon(n),this.renderActionTitle(c,a)];return a?Object(F.a)("div",{bind:this,"data-item":r,"data-action":n,role:"button",key:"single-action-".concat(n.uid),onclick:this._triggerAction,onkeydown:this._triggerAction,classes:u,tabindex:"0",title:c,"aria-label":c},l):Object(F.a)("li",{bind:this,"data-item":r,"data-action":n,key:"action-".concat(n.uid),onclick:this._triggerAction,onkeydown:this._triggerAction,classes:u,tabindex:"0",role:"button",title:c,"aria-label":c},l)}},{key:"_sortNodeRemoved",value:function(e){var t=this._sortableMap,r=e.dataset.group,n=t.get(r);n&&n.destroy(),t.delete(r)}},{key:"_destroySortables",value:function(){var e=this._sortableMap,t=this._sortableNodes;e.forEach((function(e){return e&&e.destroy()})),e.clear(),t.clear()}},{key:"_moveLayerFromChildList",value:function(e){var t=e.to,r=e.from,n=e.item,i=e.newIndex,a=n["data-item"],o=t["data-item"],s=r["data-item"];this.viewModel.moveListItem(a,s,o,i)}},{key:"_sortLayers",value:function(e){if(e){var t,r,n=e.el["data-item"],i=e.toArray();n?function(e,t){var r=null==e?void 0:e.layer;if(r){var n=X(r);n&&K(r.get(n),t)}}(n,i):K(null==(t=this.view)||null==(r=t.map)?void 0:r.layers,i)}}},{key:"_toggleSorting",value:function(e,t){var r=this._sortableMap,n=this.selectionEnabled,i=r.get(t),a=e["data-item"],o=("root"===t||a.childrenSortable&&function(e){var t=e&&(e.get("layer.layer")||e.layer);if(!t)return!1;var r=t.get("capabilities.exportMap.supportsDynamicLayers");return"boolean"!=typeof r||r}(a))&&n;if(i)i.option("disabled",!o);else if(o){var s=Oe.a.create(e,{dataIdAttr:Pe,group:{name:t,pull:this._sortableCanPull,put:this._sortableCanPut},filter:"[".concat(Se,'="true"]'),fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!o,chosenClass:dt});r.set(t,s)}}},{key:"_toggleAllSorting",value:function(){var e=this;this._sortableNodes.forEach((function(t,r){return e._toggleSorting(t,r)}))}},{key:"_sortNodeCreated",value:function(e){var t=e.dataset.group;t&&(this._sortableNodes.set(t,e),this._toggleSorting(e,t))}},{key:"_setVisibleItems",value:function(e){var t=this;this.visibleItems=null==e?void 0:e.filter((function(e){return t.errorsVisible||!e.error}))}},{key:"_getSingleActionButton",value:function(e){return e.reduce((function(e){return e})).filter((function(e){return e&&"button"===e.type})).getItemAt(0)}},{key:"_focusListItem",value:function(e){var t,r=this._focusSortUid;e&&r&&(null==(t=e["data-item"].layer)?void 0:t.uid)===r&&(e.focus(),this._focusSortUid=null)}},{key:"_watchActionSectionChanges",value:function(e,t){var r=this,n=Et+t;this._handles.add(e.on("change",this.scheduleRender.bind(this)),n),e.forEach((function(e){return r._renderOnActionChanges(e,t)}))}},{key:"_renderOnActionChanges",value:function(e,t){var r=this,n=Mt+t;"toggle"!==e.type?"slider"!==e.type?this._handles.add([Object(v.a)(e,["className","image","id","title","visible"],(function(){return r.scheduleRender()}))],n):this._handles.add([Object(v.a)(e,["className","id","title","visible","value","displayValueEnabled","max","min","step"],(function(){return r.scheduleRender()}))],n):this._handles.add([Object(v.a)(e,["className","image","id","title","visible","value"],(function(){return r.scheduleRender()}))],n)}},{key:"_renderOnItemChanges",value:function(e){var t=this,r=e.uid,n=Tt+r;this._handles.add([Object(v.a)(e,["actionsOpen","visible","open","updating","title","visibleAtCurrentScale","error","visibilityMode","panel","panel.title","panel.content","panel.className","sortable","childrenSortable"],(function(){return t.scheduleRender()})),e.actionsSections.on("change",(function(){return t.scheduleRender()})),e.children.on("change",(function(){return t.scheduleRender()}))],n),e.children.forEach((function(e){return t._renderOnItemChanges(e)})),e.actionsSections.forEach((function(e){return t._watchActionSectionChanges(e,r)}))}},{key:"_itemsChanged",value:function(e){var t=this;this._handles.removeAll(),e.forEach((function(e){return t._renderOnItemChanges(e)})),this._setVisibleItems(e),this.scheduleRender()}},{key:"_filterActions",value:function(e){return e.map((function(e){return e.filter((function(e){return e.visible}))}))}},{key:"_countActions",value:function(e){return e.reduce((function(e,t){return e+t.length}),0)}},{key:"_getIconImageStyles",value:function(e){var t="esri.widgets.LayerList.ListItemPanel"===e.declaredClass||"esri.support.Action.ActionButton"===e.declaredClass||"esri.support.Action.ActionToggle"===e.declaredClass?e.image:null;return{"background-image":t?'url("'.concat(t,'")'):null}}},{key:"_selectionKeydown",value:function(e){var t=Object(d.a)(e);if(-1!==["ArrowDown","ArrowUp"].indexOf(t)){e.stopPropagation();var r=e.currentTarget,n=r["data-item"],i=this._sortableMap,a=this.selectedItems,o=r.dataset.group,s=i.get(o);if(s){var c=ee(n,a),u=s.toArray(),l=e.target,f=u.indexOf(l.dataset.layerUid);if(-1!==f){if("ArrowDown"===t){var p,h,b=f+1;if(b>=u.length)return;c?(ke(u,f,b),s.sort(u),this._sortLayers(s),this._focusSortUid=null==(p=n.layer)?void 0:p.uid):(this._focusSortUid=null==(h=n.layer)?void 0:h.uid,this.scheduleRender())}if("ArrowUp"===t){var y,v,m=f-1;if(m<=-1)return;c?(ke(u,f,m),s.sort(u),this._sortLayers(s),this._focusSortUid=null==(y=n.layer)?void 0:y.uid):(this._focusSortUid=null==(v=n.layer)?void 0:v.uid,this.scheduleRender())}}}}else this._toggleSelection(e)}},{key:"_toggleActionsOpen",value:function(e){var t=e.currentTarget["data-item"],r=!t.actionsOpen;r&&this.operationalItems.forEach((function(e){return function e(t){var r=t.actionsOpen,n=t.children;r&&(t.actionsOpen=!1),n.forEach((function(t){return e(t)}))}(e)})),t.actionsOpen=r,e.stopPropagation()}},{key:"_triggerPanel",value:function(e){var t=e.currentTarget["data-panel"];t&&(t.open=!t.open),e.stopPropagation()}},{key:"_triggerAction",value:function(e){var t=e.currentTarget,r=t["data-action"],n=t["data-item"];"toggle"===r.type&&(r.value=!r.value),this.triggerAction(r,n),e.stopPropagation()}},{key:"_toggleVisibility",value:function(e){var t=e.currentTarget,r=t.getAttribute("data-parent-visibility"),n=t["data-item"];r===At&&n.visible||(n.visible=!n.visible),e.stopPropagation()}},{key:"_toggleChildrenClick",value:function(e){var t=e.currentTarget["data-item"];t.open=!t.open,e.stopPropagation()}},{key:"_toggleSelection",value:function(e){e.stopPropagation();var t=this.multipleSelectionEnabled,r=this.selectedItems,n=e.currentTarget["data-item"],i=ee(n,r),a=r.length;if(!t)return!a||i&&1===a?void(i?null==r.remove||r.remove(i):r.add(n)):(r.removeAll(),void r.add(n));i?null==r.remove||r.remove(i):r.add(n)}}]),r}(w.a);Object(l.a)([Object(O.b)()],Ft.prototype,"visibleItems",void 0),Object(l.a)([Object(O.b)()],Ft.prototype,"iconClass",void 0),Object(l.a)([Object(O.b)()],Ft.prototype,"errorsVisible",void 0),Object(l.a)([Object(O.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Ft.prototype,"label",void 0),Object(l.a)([Object(m.a)("viewModel.listItemCreatedFunction")],Ft.prototype,"listItemCreatedFunction",void 0),Object(l.a)([Object(O.b)()],Ft.prototype,"localeStrings",void 0),Object(l.a)([Object(O.b)(),Object(me.a)("esri/widgets/LayerList/t9n/LayerList")],Ft.prototype,"messages",void 0),Object(l.a)([Object(O.b)(),Object(me.a)("esri/t9n/common")],Ft.prototype,"messagesCommon",void 0),Object(l.a)([Object(O.b)()],Ft.prototype,"multipleSelectionEnabled",void 0),Object(l.a)([Object(m.a)("viewModel.operationalItems")],Ft.prototype,"operationalItems",void 0),Object(l.a)([Object(O.b)()],Ft.prototype,"selectionEnabled",void 0),Object(l.a)([Object(O.b)()],Ft.prototype,"selectedItems",void 0),Object(l.a)([Object(O.b)()],Ft.prototype,"statusIndicatorsVisible",null),Object(l.a)([Object(m.a)("viewModel.view")],Ft.prototype,"view",void 0),Object(l.a)([Object(ge.a)("trigger-action"),Object(O.b)({type:ye})],Ft.prototype,"viewModel",void 0),Object(l.a)([Object(O.b)()],Ft.prototype,"visibleElements",void 0),Object(l.a)([Object(g.a)("visibleElements")],Ft.prototype,"castVisibleElements",null),Object(l.a)([Object(m.a)("viewModel.triggerAction")],Ft.prototype,"triggerAction",null),Object(l.a)([Object(ve.a)()],Ft.prototype,"_toggleActionsOpen",null),Object(l.a)([Object(ve.a)()],Ft.prototype,"_triggerPanel",null),Object(l.a)([Object(ve.a)()],Ft.prototype,"_triggerAction",null),Object(l.a)([Object(ve.a)()],Ft.prototype,"_toggleVisibility",null),Object(l.a)([Object(ve.a)()],Ft.prototype,"_toggleChildrenClick",null),Object(l.a)([Object(ve.a)()],Ft.prototype,"_toggleSelection",null);var Nt=Ft=Object(l.a)([Object(j.a)("esri.widgets.LayerList")],Ft);t.default=Nt},"05DL":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=(r("xAIp"),r("J4Pc"),r("wckI"),r("TM+E"),r("vo12")),f=r("iaHD"),p=r("x/Hb");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var h=n=function(e){Object(o.a)(r,e);var t=d(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="inherited",n}return Object(a.a)(r,[{key:"clone",value:function(){return new n}}]),r}(p.a);Object(u.a)([Object(l.a)({inherited:"inherited"})],h.prototype,"type",void 0);var b=h=n=Object(u.a)([Object(f.a)("esri.layers.support.InheritedDomain")],h);t.a=b},"0711":function(e,t,r){var n=r("WRuO"),i=r("WMT/"),a=r("F3Ab"),o=r("wnk4"),s=r("ArpJ"),c=r("Fldm"),u=r("e766"),l=r("+Ckz"),f=r("CIBY"),p=r("2AbI"),d=r("zIph"),h=r("s3t7"),b=r("316b"),y=r("iXK7"),v=r("FQMq"),m=r("PqlX"),g=r("tfj2"),O=r("Bpme"),j=r("9aUh"),w=r("CPLO"),_=r("h0av"),k=r("Vujp"),x={};x["[object Arguments]"]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object DataView]"]=x["[object Boolean]"]=x["[object Date]"]=x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Map]"]=x["[object Number]"]=x["[object Object]"]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object Symbol]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Error]"]=x["[object Function]"]=x["[object WeakMap]"]=!1,e.exports=function e(t,r,S,P,I,R){var M,E=1&r,T=2&r,A=4&r;if(S&&(M=I?S(t,P,I,R):S(t)),void 0!==M)return M;if(!j(t))return t;var C=m(t);if(C){if(M=b(t),!E)return u(t,M)}else{var D=h(t),L="[object Function]"==D||"[object GeneratorFunction]"==D;if(g(t))return c(t,E);if("[object Object]"==D||"[object Arguments]"==D||L&&!I){if(M=T||L?{}:v(t),!E)return T?f(t,s(M,t)):l(t,o(M,t))}else{if(!x[D])return I?t:{};M=y(t,D,E)}}R||(R=new n);var F=R.get(t);if(F)return F;R.set(t,M),w(t)?t.forEach((function(n){M.add(e(n,r,S,n,t,R))})):O(t)&&t.forEach((function(n,i){M.set(i,e(n,r,S,i,t,R))}));var N=C?void 0:(A?T?d:p:T?k:_)(t);return i(N||t,(function(n,i){N&&(n=t[i=n]),a(M,i,e(n,r,S,i,t,R))})),M}},"07F0":function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}},"0942":function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"a",(function(){return n}))},"0F8f":function(e,t,r){"use strict";r.r(t),r.d(t,"getAllSizes",(function(){return P})),r.d(t,"getColor",(function(){return v})),r.d(t,"getOpacity",(function(){return m})),r.d(t,"getRotationAngle",(function(){return g})),r.d(t,"getSize",(function(){return O})),r.d(t,"getSizeForValue",(function(){return _})),r.d(t,"getSizeFromNumberOrVariable",(function(){return j})),r.d(t,"getSizeRangeAtScale",(function(){return k})),r.d(t,"getVisualVariableValues",(function(){return x})),r.d(t,"viewScaleRE",(function(){return y}));var n=r("aNYv"),i=r("WYis"),a=r("4VMI"),o=r("S9oG"),s=r("TM+E"),c=r("7im+"),u=r("MZ5C"),l=r("k9UV");function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=s.a.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),h=new a.a,b=Math.PI,y=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function v(e,t,r){var n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"color"===e.type}))[0]:e;if(n)if("esri.renderers.visualVariables.ColorVariable"===n.declaredClass){var a="number"==typeof t,o=a?null:t,s=o&&o.attributes,u=a?t:null,l=n.field,f=n.cache,p=f.ipData,h=f.hasExpression,b=n.cache.compiledFunc;if(!l&&!h){var y=n.stops;return y&&y[0]&&y[0].color}if("number"!=typeof u)if(h){if(!Object(c.i)(r)||!Object(c.i)(r.arcade))return void d.error("Use of arcade expressions requires an arcade context");var v={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},m=r.arcade.arcadeUtils,g=m.getViewInfo(v),O=m.createExecContext(o,g);if(!b){var j=m.createSyntaxTree(n.valueExpression);b=m.createFunction(j),n.cache.compiledFunc=b}u=m.executeFunction(b,O)}else s&&(u=s[l]);var w=n.normalizationField,_=s?parseFloat(s[w]):void 0;if(null!=u&&(!w||a||!isNaN(_)&&0!==_)){isNaN(_)||a||(u/=_);var k=S(u,p);if(k){var x=k[0],P=k[1],I=x===P?n.stops[x].color:i.a.blendColors(n.stops[x].color,n.stops[P].color,k[2],Object(c.i)(r)?r.color:void 0);return new i.a(I)}}}else d.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable")}function m(e,t,r){var n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"opacity"===e.type}))[0]:e;if(n)if("esri.renderers.visualVariables.OpacityVariable"===n.declaredClass){var i="number"==typeof t,a=i?null:t,o=a&&a.attributes,s=i?t:null,u=n.field,l=n.cache,f=l.ipData,p=l.hasExpression,h=n.cache.compiledFunc;if(!u&&!p){var b=n.stops;return b&&b[0]&&b[0].opacity}if("number"!=typeof s)if(p){if(Object(c.h)(r)||Object(c.h)(r.arcade))return void d.error("Use of arcade expressions requires an arcade context");var y={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},v=r.arcade.arcadeUtils,m=v.getViewInfo(y),g=v.createExecContext(a,m);if(!h){var O=v.createSyntaxTree(n.valueExpression);h=v.createFunction(O),n.cache.compiledFunc=h}s=v.executeFunction(h,g)}else o&&(s=o[u]);var j=n.normalizationField,w=o?parseFloat(o[j]):void 0;if(null!=s&&(!j||i||!isNaN(w)&&0!==w)){isNaN(w)||i||(s/=w);var _=S(s,f);if(_){var k=_[0],x=_[1];if(k===x)return n.stops[k].opacity;var P=n.stops[k].opacity;return P+(n.stops[x].opacity-P)*_[2]}}}else d.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable")}function g(e,t,r){var n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"rotation"===e.type}))[0]:e;if(n){if("esri.renderers.visualVariables.RotationVariable"===n.declaredClass){var i=n.axis||"heading",a="heading"===i&&"arithmetic"===n.rotationType?90:0,o="heading"===i&&"arithmetic"===n.rotationType?-1:1,s="number"==typeof t?null:t,u=s&&s.attributes,l=n.field,f=n.cache.hasExpression,p=n.cache.compiledFunc,h=0;if(!l&&!f)return h;if(f){if(Object(c.h)(r)||Object(c.h)(r.arcade))return void d.error("Use of arcade expressions requires an arcade context");var b={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},y=r.arcade.arcadeUtils,v=y.getViewInfo(b),m=y.createExecContext(s,v);if(!p){var g=y.createSyntaxTree(n.valueExpression);p=y.createFunction(g),n.cache.compiledFunc=p}h=y.executeFunction(p,m)}else u&&(h=u[l]||0);return h="number"!=typeof h||isNaN(h)?null:a+o*h}d.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable")}}function O(e,t,r){var n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"size"===e.type}))[0]:e;if(n){if("esri.renderers.visualVariables.SizeVariable"===n.declaredClass){var i=_(function(e,t,r){var n="number"==typeof t,i=n?null:t,a=i&&i.attributes,o=n?t:null,s=e.cache.isScaleDriven,u=e.cache.compiledFunc;if(s){var f=Object(c.i)(r)?r.scale:void 0,p=Object(c.i)(r)?r.view:void 0;o=null==f||"3d"===p?function(e){var t=null,r=null,n=e.stops;return n?(t=n[0].value,r=n[n.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}(e):f}else if(!n)switch(e.inputValueType){case"expression":if(Object(c.h)(r)||Object(c.h)(r.arcade))return void d.error("Use of arcade expressions requires an arcade context");var h={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},b=r.arcade.arcadeUtils,y=b.getViewInfo(h),v=b.createExecContext(i,y);if(!u){var m=b.createSyntaxTree(e.valueExpression);u=b.createFunction(m),e.cache.compiledFunc=u}o=b.executeFunction(u,v);break;case"field":a&&(o=a[e.field]);break;case"unknown":o=null}if(!Object(l.d)(o))return null;if(n||!e.normalizationField)return o;var g=a?parseFloat(a[e.normalizationField]):null;return Object(l.d)(g)&&0!==g?o/g:null}(n,t,r),n,t,r,n.cache.ipData);return null==i||isNaN(i)?0:i}d.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable")}}function j(e,t,r){return null==e?null:Object(l.c)(e)?O(e,t,r):Object(l.d)(e)?e:null}function w(e,t,r){return Object(l.d)(r)&&e>r?r:Object(l.d)(t)&&e<t?t:e}function _(e,t,r,i,a){switch(t.transformationType){case"additive":return function(e,t,r,n){return e+(j(t.minSize,r,n)||t.minDataValue)}(e,t,r,i);case"constant":return function(e,t,r){var n=e.stops,i=n&&n.length&&n[0].size;return null==i&&(i=e.minSize),j(i,t,r)}(t,r,i);case"clamped-linear":return function(e,t,r,n){var i=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),a=j(t.minSize,r,n),o=j(t.maxSize,r,n),s=Object(c.i)(n)?n.shape:void 0;if(e<=t.minDataValue)return a;if(e>=t.maxDataValue)return o;if("area"===t.scaleBy&&s){var u="circle"===s,l=u?b*Math.pow(a/2,2):a*a,f=l+i*((u?b*Math.pow(o/2,2):o*o)-l);return u?2*Math.sqrt(f/b):Math.sqrt(f)}return a+i*(o-a)}(e,t,r,i);case"proportional":return function(e,t,r,n){var i=Object(c.i)(n)?n.shape:void 0,a=e/t.minDataValue,o=j(t.minSize,r,n),s=j(t.maxSize,r,n);return w("circle"===i?2*Math.sqrt(a*Math.pow(o/2,2)):"square"===i||"diamond"===i||"image"===i?Math.sqrt(a*Math.pow(o,2)):a*o,o,s)}(e,t,r,i);case"stops":return function(e,t,r,i,a){var o=S(e,a),s=Object(n.a)(o,3),c=s[0],u=s[1],l=s[2];if(c===u)return j(t.stops[c].size,r,i);var f=j(t.stops[c].size,r,i);return f+(j(t.stops[u].size,r,i)-f)*l}(e,t,r,i,a);case"real-world-size":return function(e,t,r,n){var i=(Object(c.i)(n)&&n.resolution?n.resolution:1)*u.a[t.valueUnit],a=j(t.minSize,r,n),o=j(t.maxSize,r,n),s=t.valueRepresentation;return w("area"===s?2*Math.sqrt(e/b)/i:"radius"===s||"distance"===s?2*e/i:e/i,a,o)}(e,t,r,i);case"identity":return e;case"unknown":return null}}function k(e,t,r){if(!(e.cache.isScaleDriven&&"3d"===r||t))return null;var n={scale:t,view:r},i=j(e.minSize,h,n),a=j(e.maxSize,h,n);if(null!=i||null!=a){if(i>a){var o=a;a=i,i=o}return{minSize:i,maxSize:a}}}function x(e,t,r){if(e.visualVariables){var n,i=[],a=[],o=[],s=[],c=[],u=f(e.visualVariables);try{for(u.s();!(n=u.n()).done;){var l=n.value;switch(l.type){case"color":a.push(l);break;case"opacity":o.push(l);break;case"rotation":c.push(l);break;case"size":s.push(l)}}}catch(p){u.e(p)}finally{u.f()}return a.forEach((function(e){var n=v(e,t,r);i.push({variable:e,value:n})})),o.forEach((function(e){var n=m(e,t,r);i.push({variable:e,value:n})})),c.forEach((function(e){var n=g(e,t,r);i.push({variable:e,value:n})})),s.forEach((function(e){var n=O(e,t,r);i.push({variable:e,value:n})})),i.filter((function(e){return null!=e.value}))}}function S(e,t){if(t){var r=0,n=t.length-1;return t.some((function(t,i){return e<t?(n=i,!0):(r=i,!1)})),[r,n,(e-t[r])/(t[n]-t[r])]}}function P(e,t,r){var n,i=["proportional","proportional","proportional"],a=f(e);try{for(a.s();!(n=a.n()).done;){var s=n.value,c=s.useSymbolValue?"symbol-value":O(s,t,r);switch(s.axis){case"width":i[0]=c;break;case"depth":i[1]=c;break;case"height":i[2]=c;break;case"width-and-depth":i[0]=c,i[1]=c;break;case"all":case void 0:case null:i[0]=c,i[1]=c,i[2]=c;break;default:Object(o.a)(s.axis)}}}catch(u){a.e(u)}finally{a.f()}return i}},"0K2p":function(e,t,r){var n=r("nEaP"),i=r("nHIk"),a=r("tF07"),o=r("Ya6V"),s=r("/dUa"),c=r("SkE4"),u=c.get,l=c.enforce,f=String(String).split("String");(e.exports=function(e,t,r,s){var c,u=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||a(r,"name")||i(r,"name",t),(c=l(r)).source||(c.source=f.join("string"==typeof t?t:""))),e!==n?(u?!d&&e[t]&&(p=!0):delete e[t],p?e[t]=r:i(e,t,r)):p?e[t]=r:o(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},"0KRy":function(e,t,r){var n=r("LSEb")(r("s3UK"),"Map");e.exports=n},"0Qtq":function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return l}));var n=r("AQ8/"),i=r("YHXj"),a=r("aic5");function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new n.a({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:i.a.WebMercator}),minus180Line:new n.a({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:i.a.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new n.a({paths:[[[180,-180],[180,180]]],spatialReference:i.a.WGS84}),minus180Line:new n.a({paths:[[[-180,-180],[-180,180]]],spatialReference:i.a.WGS84})}};function u(e,t){return Math.ceil((e-t)/(2*t))}function l(e,t){var r,n=o(f(e));try{for(n.s();!(r=n.n()).done;){var i,a=o(r.value);try{for(a.s();!(i=a.n()).done;){i.value[0]+=t}}catch(s){a.e(s)}finally{a.f()}}}catch(s){n.e(s)}finally{n.f()}return e}function f(e){return Object(a.g)(e)?e.rings:e.paths}function p(e){var t=(null==e?void 0:e.isWebMercator)?102100:4326;return[c[t].minX,c[t].maxX]}},"0fJP":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return o}));r("J4Pc");var n=r("pYN/");function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){var r;if(t)for(r in e)e.hasOwnProperty(r)&&(void 0===e[r]?delete e[r]:e[r]instanceof Object&&o(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&void 0===e[r]&&delete e[r];return e}function s(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;if(Object(n.h)(e)||Object(n.k)(e)||Object(n.l)(e)||Object(n.f)(e)||Object(n.i)(e)||Object(n.g)(e)||Object(n.j)(e)||Object(n.d)(e)||Object(n.e)(e))return Object(n.m)(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){var t=new Map;return e.forEach((function(e,r){t.set(r,s(e))})),t}if(e instanceof Set){var r=new Set;return e.forEach((function(e){r.add(s(e))})),r}var a,o=e;if("function"==typeof o.clone)a=o.clone();else if("function"==typeof o.map&&"function"==typeof o.forEach)a=o.map(s);else if("function"==typeof o.notifyChange&&"function"==typeof o.watch)a=o.clone();else{a={};var c,u=i(Object.getOwnPropertyNames(e));try{for(u.s();!(c=u.n()).done;){var l=c.value;a[l]=s(e[l])}}catch(f){u.e(f)}finally{u.f()}}return a}function c(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof(e||{}).getTime&&"function"==typeof(t||{}).getTime&&e.getTime()===t.getTime()||!1}},"0fR5":function(e,t,r){"use strict";var n=r("mK0O"),i=r("hisu"),a=r("yBJb"),o=r("6J1V"),s=r("7im+"),c=r("B2Uc"),u=r("1Y4V");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(i.a)(this,e),this._context=t,this.type="texture",this._glName=null,this._descriptor=void 0,this._samplingModeDirty=!1,this._wrapModeDirty=!1,t.instanceCounter.increment(c.b.Texture,this),this._descriptor=f({target:3553,samplingMode:9729,wrapMode:10497,flipped:!1,hasMipmap:!1,isOpaque:!1,unpackAlignment:4,preMultiplyAlpha:!1},r),this.setData(n)}return Object(a.a)(e,[{key:"glName",get:function(){return this._glName}},{key:"descriptor",get:function(){return this._descriptor}},{key:"dispose",value:function(){this._context.gl&&this._glName&&(this._context.unbindTextureAllUnits(this),this._context.gl.deleteTexture(this._glName),this._glName=null,this._context.instanceCounter.decrement(c.b.Texture,this))}},{key:"release",value:function(){this.dispose()}},{key:"resize",value:function(e,t){var r=this._descriptor;r.width===e&&r.height===t||(r.width=e,r.height=t,this.setData(null))}},{key:"setData",value:function(t){if(this._context&&this._context.gl){var r=this._context.gl;this._glName||(this._glName=r.createTexture()),void 0===t&&(t=null),null===t&&(this._descriptor.width=this._descriptor.width||4,this._descriptor.height=this._descriptor.height||4);var n=this._context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES),i=this._descriptor;e._validateTexture(this._context,i),r.pixelStorei(r.UNPACK_ALIGNMENT,i.unpackAlignment),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,i.flipped?1:0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.preMultiplyAlpha?1:0);var a=i.pixelFormat,o=i.internalFormat?i.internalFormat:a;if(t instanceof ImageData||t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement){var c=t.width,u=t.height;t instanceof HTMLVideoElement&&(c=t.videoWidth,u=t.videoHeight),i.width&&i.height,r.texImage2D(r.TEXTURE_2D,0,o,a,i.dataType,t),i.hasMipmap&&this.generateMipmap(),void 0===i.width&&(i.width=c),void 0===i.height&&(i.height=u)}else{null!=i.width&&null!=i.height||console.error("Width and height must be specified!"),r.DEPTH24_STENCIL8&&o===r.DEPTH_STENCIL&&(o=r.DEPTH24_STENCIL8);var l=i.width,f=i.height;if(function(e){return Object(s.i)(e)&&"type"in e&&"compressed"===e.type}(t)){var p=Math.round(Math.log(Math.max(l,f))/Math.LN2)+1;i.hasMipmap=i.hasMipmap&&p===t.levels.length;for(var d=0;;++d){var h=t.levels[Math.min(d,t.levels.length-1)];if(r.compressedTexImage2D(r.TEXTURE_2D,d,o,l,f,0,h),1===l&&1===f||!i.hasMipmap)break;l=Math.max(1,l>>1),f=Math.max(1,f>>1)}}else if(Object(s.i)(t))r.texImage2D(r.TEXTURE_2D,0,o,l,f,0,a,i.dataType,t),i.hasMipmap&&this.generateMipmap();else for(var b=0;r.texImage2D(r.TEXTURE_2D,b,o,l,f,0,a,i.dataType,null),(1!==l||1!==f)&&i.hasMipmap;++b)l=Math.max(1,l>>1),f=Math.max(1,f>>1)}e._applySamplingMode(r,this._descriptor),e._applyWrapMode(r,this._descriptor),e._applyAnisotropicFilteringParameters(this._context,this._descriptor),this._context.bindTexture(n,e.TEXTURE_UNIT_FOR_UPDATES)}}},{key:"updateData",value:function(t,r,n,i,a,o){o||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");var s=this._context.gl,c=this._descriptor,u=this._context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);(r<0||n<0||i>c.width||a>c.height||r+i>c.width||n+a>c.height)&&console.error("An attempt to update out of bounds of the texture!"),s.pixelStorei(s.UNPACK_ALIGNMENT,c.unpackAlignment),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,c.flipped?1:0),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.preMultiplyAlpha?1:0),o instanceof ImageData||o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement?s.texSubImage2D(s.TEXTURE_2D,t,r,n,c.pixelFormat,c.dataType,o):s.texSubImage2D(s.TEXTURE_2D,t,r,n,i,a,c.pixelFormat,c.dataType,o),this._context.bindTexture(u,e.TEXTURE_UNIT_FOR_UPDATES)}},{key:"generateMipmap",value:function(){var t=this._descriptor;t.hasMipmap||(t.hasMipmap=!0,this._samplingModeDirty=!0,e._validateTexture(this._context,t)),9729===t.samplingMode?(this._samplingModeDirty=!0,t.samplingMode=9985):9728===t.samplingMode&&(this._samplingModeDirty=!0,t.samplingMode=9984);var r=this._context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES),n=this._context.gl;n.generateMipmap(n.TEXTURE_2D),this._context.bindTexture(r,e.TEXTURE_UNIT_FOR_UPDATES)}},{key:"setSamplingMode",value:function(e){e!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=e,this._samplingModeDirty=!0)}},{key:"setWrapMode",value:function(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,e._validateTexture(this._context,this._descriptor),this._wrapModeDirty=!0)}},{key:"applyChanges",value:function(){var t=this._context.gl,r=this._descriptor;this._samplingModeDirty&&(e._applySamplingMode(t,r),this._samplingModeDirty=!1),this._wrapModeDirty&&(e._applyWrapMode(t,r),this._wrapModeDirty=!1)}}],[{key:"_validateTexture",value:function(e,t){(t.width<0||t.height<0)&&console.error("Negative dimension parameters are not allowed!");var r=Object(o.l)(t.width)&&Object(o.l)(t.height);Object(u.a)(e.gl)||r||("number"==typeof t.wrapMode?33071!==t.wrapMode&&console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"):33071===t.wrapMode.s&&33071===t.wrapMode.t||console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"),t.hasMipmap&&console.error("Mipmapping requires power-of-two textures!"))}},{key:"_applySamplingMode",value:function(e,t){var r=t.samplingMode,n=t.samplingMode;9985===r||9987===r?(r=9729,t.hasMipmap||(n=9729)):9984!==r&&9986!==r||(r=9728,t.hasMipmap||(n=9728)),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n)}},{key:"_applyWrapMode",value:function(e,t){"number"==typeof t.wrapMode?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,t.wrapMode),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,t.wrapMode)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,t.wrapMode.s),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,t.wrapMode.t))}},{key:"_applyAnisotropicFilteringParameters",value:function(e,t){var r,n=e.capabilities.textureFilterAnisotropic;if(n){var i=e.gl;i.texParameterf(i.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY,null!=(r=t.maxAnisotropy)?r:1)}}}]),e}();p.TEXTURE_UNIT_FOR_UPDATES=0,t.a=p},"0kP4":function(e,t,r){"use strict";r.r(t);var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("Mp7X"),l=r("0n+b"),f=r("xAIp"),p=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var h=function(e){Object(a.a)(r,e);var t=d(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).created=null,i.id=null,i.portal=null,i.title=null,i.username=null,i}return Object(i.a)(r,[{key:"url",get:function(){var e=this.get("portal.restUrl");return e?"".concat(e,"/content/users/").concat(this.username,"/").concat(this.id):null}},{key:"toJSON",value:function(){throw new u.a("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}}]),r}(l.a);Object(c.a)([Object(f.b)({type:Date})],h.prototype,"created",void 0),Object(c.a)([Object(f.b)()],h.prototype,"id",void 0),Object(c.a)([Object(f.b)()],h.prototype,"portal",void 0),Object(c.a)([Object(f.b)()],h.prototype,"title",void 0),Object(c.a)([Object(f.b)({readOnly:!0})],h.prototype,"url",null),Object(c.a)([Object(f.b)()],h.prototype,"username",void 0);var b,y=h=Object(c.a)([Object(p.a)("esri.portal.PortalFolder")],h),v=r("h/NC");function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var g=b=function(e){Object(a.a)(o,e);var t=m(o);function o(){var e;Object(n.a)(this,o);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).access=null,e.created=null,e.culture=null,e.description=null,e.email=null,e.fullName=null,e.modified=null,e.orgId=null,e.portal=null,e.preferredView=null,e.privileges=null,e.region=null,e.role=null,e.roleId=null,e.sourceJSON=null,e.units=null,e.username=null,e.userType=null,e}return Object(i.a)(o,[{key:"thumbnailUrl",get:function(){var e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl("".concat(e,"/info/").concat(t,"?f=json")):null}},{key:"userContentUrl",get:function(){var e=this.get("portal.restUrl");return e?"".concat(e,"/content/users/").concat(this.username):null}},{key:"url",get:function(){var e=this.get("portal.restUrl");return e?"".concat(e,"/community/users/").concat(this.username):null}},{key:"addItem",value:function(e){var t=this,r=e&&e.item,n=e&&e.data,i=e&&e.folder,a={method:"post"};r&&(a.query=r.createPostQuery(),null!=n&&("string"==typeof n?a.query.text=n:"object"==typeof n&&(a.query.text=JSON.stringify(n))));var o=this.userContentUrl;return i&&(o+="/"+("string"==typeof i?i:i.id)),this.portal._request(o+"/addItem",a).then((function(e){return r.id=e.id,r.portal=t.portal,r.loaded?r.reload():r.load()}))}},{key:"deleteItem",value:function(e){var t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal._request(t+"/items/".concat(e.id,"/delete"),{method:"post"}).then((function(){e.id=null,e.portal=null}))}},{key:"deleteItems",value:function(e){var t=this.userContentUrl+"/deleteItems",r=e.map((function(e){return e.id}));if(r.length){var n={method:"post",query:{items:r.join(",")}};return this.portal._request(t,n).then((function(){e.forEach((function(e){e.id=null,e.portal=null}))}))}return Promise.resolve(void 0)}},{key:"fetchFolders",value:function(){var e=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then((function(t){return t&&t.folders?t.folders.map((function(t){var r=y.fromJSON(t);return r.portal=e.portal,r})):[]}))}},{key:"fetchGroups",value:function(){var e=this;return this.portal._request(this.url).then((function(t){return t&&t.groups?t.groups.map((function(t){var r=v.default.fromJSON(t);return r.portal=e.portal,r})):[]}))}},{key:"fetchItems",value:function(e){var t=this;e||(e={});var n,i=this.userContentUrl;return e.folder&&(i+="/"+e.folder.id),Promise.resolve().then(r.bind(null,"OYdn")).then((function(r){var a=r.default;n=a;var o={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return t.portal._request(i,{query:o})})).then((function(e){var r;return e&&e.items?(r=e.items.map((function(e){var r=n.fromJSON(e);return r.portal=t.portal,r})),Promise.all(r.map((function(e){return e.load()}))).catch((function(e){return e})).then((function(){return{items:r,nextStart:e.nextStart,total:e.total}}))):{items:[],nextStart:-1,total:0}}))}},{key:"fetchTags",value:function(){return this.portal._request(this.url+"/tags").then((function(e){return e.tags}))}},{key:"getThumbnailUrl",value:function(e){var t=this.thumbnailUrl;return t&&e&&(t+="&w=".concat(e)),t}},{key:"queryFavorites",value:function(e){return this.favGroupId?(this._favGroup||(this._favGroup=new v.default({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new u.a("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}},{key:"toJSON",value:function(){throw new u.a("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}}],[{key:"fromJSON",value:function(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");var t=new b;return t.sourceJSON=e,t.read(e),t}}]),o}(l.a);Object(c.a)([Object(f.b)()],g.prototype,"access",void 0),Object(c.a)([Object(f.b)({type:Date})],g.prototype,"created",void 0),Object(c.a)([Object(f.b)()],g.prototype,"culture",void 0),Object(c.a)([Object(f.b)()],g.prototype,"description",void 0),Object(c.a)([Object(f.b)()],g.prototype,"email",void 0),Object(c.a)([Object(f.b)()],g.prototype,"favGroupId",void 0),Object(c.a)([Object(f.b)()],g.prototype,"fullName",void 0),Object(c.a)([Object(f.b)({type:Date})],g.prototype,"modified",void 0),Object(c.a)([Object(f.b)()],g.prototype,"orgId",void 0),Object(c.a)([Object(f.b)()],g.prototype,"portal",void 0),Object(c.a)([Object(f.b)()],g.prototype,"preferredView",void 0),Object(c.a)([Object(f.b)()],g.prototype,"privileges",void 0),Object(c.a)([Object(f.b)()],g.prototype,"region",void 0),Object(c.a)([Object(f.b)()],g.prototype,"role",void 0),Object(c.a)([Object(f.b)()],g.prototype,"roleId",void 0),Object(c.a)([Object(f.b)()],g.prototype,"sourceJSON",void 0),Object(c.a)([Object(f.b)()],g.prototype,"thumbnail",void 0),Object(c.a)([Object(f.b)({readOnly:!0})],g.prototype,"thumbnailUrl",null),Object(c.a)([Object(f.b)()],g.prototype,"units",void 0),Object(c.a)([Object(f.b)({readOnly:!0})],g.prototype,"userContentUrl",null),Object(c.a)([Object(f.b)({readOnly:!0})],g.prototype,"url",null),Object(c.a)([Object(f.b)()],g.prototype,"username",void 0),Object(c.a)([Object(f.b)()],g.prototype,"userType",void 0);var O=g=b=Object(c.a)([Object(p.a)("esri.portal.PortalUser")],g);t.default=O},"0n+b":function(e,t,r){"use strict";r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return h}));var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("hZBP"),l=r("AZZI"),f=r("tZTS"),p=r("iaHD");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var h=function(e){var t=function(e){Object(a.a)(r,e);var t=d(r);function r(){Object(n.a)(this,r);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return t.call.apply(t,[this].concat(i))}return Object(i.a)(r,[{key:"read",value:function(e,t){Object(l.a)(this,e,t)}},{key:"write",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(f.b)(this,e,t)}},{key:"toJSON",value:function(e){return this.write({},e)}}],[{key:"fromJSON",value:function(e,t){return b.call(this,e,t)}}]),r}(e);return t=Object(c.a)([Object(p.a)("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function b(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");var r=new this;return r.read(e,t),r}var y=function(e){Object(a.a)(r,e);var t=d(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return r}(h(u.a));y=Object(c.a)([Object(p.a)("esri.core.JSONSupport")],y)},"0qVv":function(e,t,r){var n=r("gKNW"),i=r("u2vY"),a=r("BwbT"),o=r("cTHi");e.exports=function(e){return a(e)?n(o(e)):i(e)}},"0s/2":function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("hZBP"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("EOw0"),d=r("CNVc");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var b=new Set,y=[],v=new Map,m=[0,0],g=function(e){Object(a.a)(r,e);var t=h(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e))._keyToItem=new Map,i.concurrency=6,i.strategy="scale-first",i.tileInfoView=null,i}return Object(i.a)(r,[{key:"initialize",value:function(){var e=this,t=this.concurrency,r=this.process,n=this.strategy;this._queue=new d.a({concurrency:t,process:function(t,n){var i=e._keyToItem.get(t);return r(i,{signal:n})},peeker:"scale-first"===n?function(t){return e._peekByScaleFirst(t)}:function(t){return e._peekByCenterFirst(t)}})}},{key:"destroy",value:function(){this.clear(),this._queue.destroy(),this._queue=null}},{key:"length",get:function(){return this._queue?this._queue.length:0}},{key:"onGoingCount",get:function(){return this._keyToItem.size}},{key:"updating",get:function(){return this.length>0||this.onGoingCount>0}},{key:"abort",value:function(e){var t="string"==typeof e?e:e.id;this._queue.abort(t)}},{key:"clear",value:function(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}},{key:"has",value:function(e){return"string"==typeof e?this._keyToItem.has(e):this._keyToItem.has(e.id)}},{key:"isOngoing",value:function(e){var t="string"==typeof e?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}},{key:"pause",value:function(){this._queue.pause()}},{key:"push",value:function(e){var t=this,r=e.key.id;if(this._queue.has(r))return this._queue.get(r);var n=this._queue.push(r),i=function(){t._keyToItem.delete(r),t.notifyChange("updating")};return this._keyToItem.set(r,e),n.then(i,i),this.notifyChange("updating"),n}},{key:"reset",value:function(){this._queue.reset()}},{key:"resume",value:function(){this._queue.resume()}},{key:"_peekByScaleFirst",value:function(e){var t=this;if(!this.state)return e.values().next().value;var r=this.tileInfoView,n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;e.forEach((function(e){var r=t._keyToItem.get(e),a=t.tileInfoView.getTileScale(r.key);v.has(a)||(v.set(a,[]),n=Math.max(a,n),i=Math.min(a,i)),v.get(a).push(r.key),b.add(a)}));var a=this.state.scale;v.has(a)||(function(e,t){e.length=0,t.forEach((function(t){return e.push(t)}))}(y,b),y.sort(),a=y.reduce((function(e,t){return Math.abs(t-a)<Math.abs(e-a)?t:e}),y[0])),a=Math.min(a,n),a=Math.max(a,i);var o=v.get(a),s=r.getClosestInfoForScale(a),c=s.getColumnForX(this.state.center[0]),u=s.getRowForY(this.state.center[1]);return o.sort((function(e,t){var r=s.denormalizeCol(e.col,e.world),n=s.denormalizeCol(t.col,t.world);return Math.sqrt((c-r)*(c-r)+(u-e.row)*(u-e.row))-Math.sqrt((c-n)*(c-n)+(u-t.row)*(u-t.row))})),b.clear(),v.clear(),o[0].id}},{key:"_peekByCenterFirst",value:function(e){var t=this;if(!this.state)return e.values().next().value;var r=this.tileInfoView,n=this.state.center,i=Number.POSITIVE_INFINITY,a=null;return e.forEach((function(e){var o=t._keyToItem.get(e);r.getTileCoords(m,o.key);var s=Object(p.d)(m,n);s<i&&(i=s,a=o.key)})),a.id}}]),r}(u.a);Object(c.a)([Object(l.b)({constructOnly:!0})],g.prototype,"concurrency",void 0),Object(c.a)([Object(l.b)({constructOnly:!0})],g.prototype,"process",void 0),Object(c.a)([Object(l.b)()],g.prototype,"state",void 0),Object(c.a)([Object(l.b)({constructOnly:!0})],g.prototype,"strategy",void 0),Object(c.a)([Object(l.b)({constructOnly:!0})],g.prototype,"tileInfoView",void 0),Object(c.a)([Object(l.b)({readOnly:!0})],g.prototype,"updating",null);var O=g=Object(c.a)([Object(f.a)("esri.views.2d.tiling.TileQueue")],g);t.a=O},"0s7n":function(e,t,r){"use strict";function n(){return new Float32Array(2)}function i(e,t){var r=new Float32Array(2);return r[0]=e,r[1]=t,r}function a(){return n()}function o(){return i(1,1)}function s(){return i(1,0)}function c(){return i(0,1)}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var u=a(),l=o(),f=s(),p=c();Object.freeze({__proto__:null,create:n,clone:function(e){var t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t},fromValues:i,createView:function(e,t){return new Float32Array(e,t,2)},zeros:a,ones:o,unitX:s,unitY:c,ZEROS:u,ONES:l,UNIT_X:f,UNIT_Y:p})},"12QT":function(e,t,r){"use strict";r.d(t,"a",(function(){return x})),r.d(t,"b",(function(){return S})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return v})),r.d(t,"f",(function(){return b})),r.d(t,"g",(function(){return h})),r.d(t,"h",(function(){return O})),r.d(t,"i",(function(){return w})),r.d(t,"j",(function(){return k})),r.d(t,"k",(function(){return y})),r.d(t,"l",(function(){return g})),r.d(t,"m",(function(){return j})),r.d(t,"n",(function(){return m})),r.d(t,"o",(function(){return _}));var n=r("7im+"),i=r("lZmO"),a=r("tv5O"),o={102113:!0,102100:!0,3857:!0,3785:!0},s={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},c='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',u=[-20037508.342788905,20037508.342788905],l=[-20037508.342787,20037508.342787],f={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:u,origin:l,dx:1e-5},102100:{wkTemplate:c,valid:u,origin:l,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:u,origin:l,dx:1e-5},3857:{wkTemplate:c,valid:u,origin:l,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function p(e,t){return!Object(n.h)(e)&&!Object(n.h)(t)&&(e===t||(null!=e.wkid||null!=t.wkid?e.wkid===t.wkid||m(e)&&m(t)||null!=t.latestWkid&&e.wkid===t.latestWkid||null!=e.latestWkid&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase()))}function d(e){return k(e)&&e.wkid?f[e.wkid]:null}function h(e){return!!k(e)&&(e.wkid?null==a.a[e.wkid]:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function b(e){return!(O(e)||w(e))}function y(e){return k(e)&&4326===e.wkid}function v(e){return k(e)&&4490===e.wkid}function m(e){return k(e)&&null!=e.wkid&&!0===o[e.wkid]}function g(e){return 104971===e||104905===e}function O(e){return k(e)&&null!=e.wkid&&g(e.wkid)}function j(e){return 104903===e}function w(e){return k(e)&&null!=e.wkid&&j(e.wkid)}function _(e){return k(e)&&null!=e.wkid&&!0===s[e.wkid]}function k(e){return Object(n.i)(e)&&(null!=e.wkid&&e.wkid>=2e3||null!=e.wkt)}var x={wkid:4326,wkt:Object(i.c)(f[4326].wkTemplate,{Central_Meridian:"0.0"})},S={wkid:102100,latestWkid:3857}},"1XGP":function(e,t,r){"use strict";var n,i=r("aNYv"),a=r("mK0O"),o=r("eijD"),s=r("hisu"),c=r("yBJb"),u=r("CHlC"),l=r("kMo5"),f=r("P+uj"),p=r("NthX"),d=r.n(p),h=r("dQW7"),b=(r("ZTBZ"),r("hKEQ")),y=(r("YRYL"),r("DsdM"),r("c6bU"),r("IvZe"),r("6yFL"),r("vU4c"),r("h+Bk"),r("qCZy"),r("8QvB")),v=r("DGz/"),m=r("fb8N"),g=r("kDog"),O=r("Mp7X"),j=r("FYmP"),w=r("QSFP"),_=r("0fJP"),k=r("eTmm"),x=r("TM+E"),S=r("d4jZ"),P=r("z9dv"),I=r("xAIp"),R=r("F1Bx"),M=r("gljZ"),E=(r("J4Pc"),r("mp5+")),T=r("iaHD"),A=r("jr4m"),C=r("wckI"),D=r("ddfG"),L=r("Rby8"),F=r("SPOG"),N=r("nyn0"),B=r("BG/N"),V=r("ZWAC"),U=r("+rqd"),z=r("hdDo"),q=r("lMmC"),H=r("nd5+");function G(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}function Q(e){return e&&"esriSMS"===e.type}function X(e,t,r){var n,i=this.originIdOf(t)>=Object(D.d)(r.origin);return{ignoreOrigin:!0,allowNull:i,enabled:!!r&&"map-image"===(null==(n=r.layer)?void 0:n.type)&&(r.writeSublayerStructure||i)}}function K(e,t,r){var n;return{enabled:!!r&&"tile"===(null==(n=r.layer)?void 0:n.type)&&this._isOverridden(t)}}function Y(e,t,r){return{ignoreOrigin:!0,enabled:r&&r.writeSublayerStructure||!1}}function ee(e,t,r){return{ignoreOrigin:!0,enabled:!!r&&(r.writeSublayerStructure||this.originIdOf(t)>=Object(D.d)(r.origin))}}var te=x.a.getLogger("esri.layers.support.Sublayer"),re=0,ne=new Set;ne.add("layer"),ne.add("parent"),ne.add("loaded"),ne.add("loadStatus"),ne.add("loadError"),ne.add("loadWarnings");var ie=n=function(e){Object(u.a)(p,e);var t,a,l,f=Z(p);function p(e){var t;return Object(s.a)(this,p),(t=f.call(this,e)).capabilities=void 0,t.fields=null,t.fullExtent=null,t.globalIdField=null,t.legendEnabled=!0,t.objectIdField=null,t.popupEnabled=!0,t.popupTemplate=null,t.sourceJSON=null,t.title=null,t.typeIdField=null,t.types=null,t}return Object(c.a)(p,[{key:"load",value:(l=Object(o.a)(d.a.mark((function e(t){var r=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.addResolvingPromise(Object(o.a)(d.a.mark((function e(){var n,i,a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.layer||r.url){e.next=2;break}throw new O.a("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:r});case 2:if(i=null,r.layer&&!(r.originIdOf("url")>2)&&"data-layer"!==(null==(n=r.source)?void 0:n.type)){e.next=9;break}return e.next=6,Object(v.default)(r.url,$({responseType:"json",query:{f:"json"}},t));case 6:i=e.sent.data,e.next=14;break;case 9:return o=r.id,"map-layer"===(null==(a=r.source)?void 0:a.type)&&(o=r.source.mapLayerId),e.next=13,r.layer.fetchSublayerInfo(o,t);case 13:i=e.sent;case 14:i&&(r.sourceJSON=i,r.read({layerDefinition:i},{origin:"service"}));case 15:case"end":return e.stop()}}),e)})))()),this));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"readCapabilities",value:function(e,t){var r=(e=(t=t.layerDefinition||t).capabilities||e)?e.toLowerCase().split(",").map((function(e){return e.trim()})):[];return{exportMap:{supportsModification:!!t.canModifyLayer},operations:{supportsQuery:-1!==r.indexOf("query")}}}},{key:"definitionExpression",set:function(e){this._setAndNotifyLayer("definitionExpression",e)}},{key:"fieldsIndex",get:function(){return new N.a(this.fields||[])}},{key:"readGlobalIdFieldFromService",value:function(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields){var r,n=G(t.fields);try{for(n.s();!(r=n.n()).done;){var i=r.value;if("esriFieldTypeGlobalID"===i.type)return i.name}}catch(a){n.e(a)}finally{n.f()}}}},{key:"id",get:function(){var e=this._get("id");return null==e?re++:e},set:function(e){this._get("id")!==e&&(!1!==this.get("layer.capabilities.exportMap.supportsDynamicLayers")?this._set("id",e):this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"))}},{key:"labelingInfo",set:function(e){this._setAndNotifyLayer("labelingInfo",e)}},{key:"writeLabelingInfo",value:function(e,t,r,n){e&&e.length&&(t.layerDefinition={drawingInfo:{labelingInfo:e.map((function(e){return e.write({},n)}))}})}},{key:"labelsVisible",set:function(e){this._setAndNotifyLayer("labelsVisible",e)}},{key:"layer",set:function(e){this._set("layer",e),this.sublayers&&this.sublayers.forEach((function(t){return t.layer=e}))}},{key:"listMode",set:function(e){this._set("listMode",e)}},{key:"minScale",set:function(e){this._setAndNotifyLayer("minScale",e)}},{key:"readMinScale",value:function(e,t){return t.minScale||t.layerDefinition&&t.layerDefinition.minScale||0}},{key:"maxScale",set:function(e){this._setAndNotifyLayer("maxScale",e)}},{key:"readMaxScale",value:function(e,t){return t.maxScale||t.layerDefinition&&t.layerDefinition.maxScale||0}},{key:"readObjectIdFieldFromService",value:function(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields){var r,n=G(t.fields);try{for(n.s();!(r=n.n()).done;){var i=r.value;if("esriFieldTypeOID"===i.type)return i.name}}catch(a){n.e(a)}finally{n.f()}}}},{key:"opacity",set:function(e){this._setAndNotifyLayer("opacity",e)}},{key:"readOpacity",value:function(e,t){var r=t.layerDefinition;return 1-.01*(null!=r.transparency?r.transparency:r.drawingInfo.transparency)}},{key:"writeOpacity",value:function(e,t,r,n){t.layerDefinition={drawingInfo:{transparency:100-100*e}}}},{key:"writeParent",value:function(e,t){this.parent&&this.parent!==this.layer?t.parentLayerId=Object(C.e)(this.parent.id):t.parentLayerId=-1}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"renderer",set:function(e){if(e){var t,r=G(e.getSymbols());try{for(r.s();!(t=r.n()).done;){var n=t.value;if(Object(m.c)(n)){te.warn("Sublayer renderer should use 2D symbols");break}}}catch(i){r.e(i)}finally{r.f()}}this._setAndNotifyLayer("renderer",e)}},{key:"source",get:function(){return this._get("source")||new U.a({mapLayerId:this.id})},set:function(e){this._setAndNotifyLayer("source",e)}},{key:"sublayers",set:function(e){this._handleSublayersChange(e,this._get("sublayers")),this._set("sublayers",e)}},{key:"castSublayers",value:function(e){return Object(C.m)(g.a.ofType(n),e)}},{key:"writeSublayers",value:function(e,t,r){this.get("sublayers.length")&&(t[r]=this.sublayers.map((function(e){return e.id})).toArray().reverse())}},{key:"readTypeIdField",value:function(e,t){var r=(t=t.layerDefinition||t).typeIdField;if(r&&t.fields){r=r.toLowerCase();var n=t.fields.find((function(e){return e.name.toLowerCase()===r}));n&&(r=n.name)}return null}},{key:"url",get:function(){var e,t,r=null!=(e=null==(t=this.layer)?void 0:t.parsedUrl)?e:this._lastParsedUrl,n=this.source;if(!r)return null;if(this._lastParsedUrl=r,"map-layer"===(null==n?void 0:n.type))return"".concat(r.path,"/").concat(n.mapLayerId);var i={layer:JSON.stringify({source:this.source})};return"".concat(r.path,"/dynamicLayer?").concat(Object(P.E)(i))},set:function(e){e?this._override("url",e):this._clearOverride("url")}},{key:"visible",set:function(e){this._setAndNotifyLayer("visible",e)}},{key:"writeVisible",value:function(e,t,r,n){t[r]=this.getAtOrigin("defaultVisibility","service")||e}},{key:"clone",value:function(){var e=Object(R.a)(this).store,t=new n;return Object(R.a)(t).store=e.clone(ne),this.commitProperty("url"),t._lastParsedUrl=this._lastParsedUrl,t}},{key:"createPopupTemplate",value:function(e){return Object(q.a)(this,e)}},{key:"createQuery",value:function(){return new z.a({returnGeometry:!0,where:this.definitionExpression||"1=1"})}},{key:"createFeatureLayer",value:(a=Object(o.a)(d.a.mark((function e(){var t,n,i,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasOwnProperty("sublayers")){e.next=2;break}return e.abrupt("return",null);case 2:return i=null==(t=this.layer)?void 0:t.parsedUrl,e.next=6,Promise.resolve().then(r.bind(null,"EOOn"));case 6:return e.t0=e.sent.default,e.t1={url:i.path},a=new e.t0(e.t1),e.abrupt("return",(i&&this.source&&("map-layer"===this.source.type?a.layerId=this.source.mapLayerId:a.dynamicDataSource=this.source),null!=this.layer.refreshInterval&&(a.refreshInterval=this.layer.refreshInterval),this.definitionExpression&&(a.definitionExpression=this.definitionExpression),this.originIdOf("labelingInfo")>2&&(a.labelingInfo=Object(_.a)(this.labelingInfo)),this.originIdOf("labelsVisible")>0&&(a.labelsVisible=this.labelsVisible),this.originIdOf("legendEnabled")>0&&(a.legendEnabled=this.legendEnabled),this.originIdOf("visible")>0&&(a.visible=this.visible),this.originIdOf("minScale")>0&&(a.minScale=this.minScale),this.originIdOf("maxScale")>0&&(a.maxScale=this.maxScale),this.originIdOf("opacity")>0&&(a.opacity=this.opacity),this.originIdOf("popupTemplate")>0&&(a.popupTemplate=Object(_.a)(this.popupTemplate)),this.originIdOf("renderer")>2&&(a.renderer=Object(_.a)(this.renderer)),"data-layer"===(null==(n=this.source)?void 0:n.type)&&(a.dynamicDataSource=this.source.clone()),this.originIdOf("title")>0&&(a.title=this.title),"map-image"===this.layer.type&&this.layer.originIdOf("customParameters")>0&&(a.customParameters=this.layer.customParameters),"tile"===this.layer.type&&this.layer.originIdOf("customParameters")>0&&(a.customParameters=this.layer.customParameters),a));case 10:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getFeatureType",value:function(e){var t=this.typeIdField,r=this.types;if(!t||!e)return null;var n=e.attributes?e.attributes[t]:void 0;if(null==n)return null;var i=null;return r.some((function(e){var t=e.id;return null!=t&&(t.toString()===n.toString()&&(i=e),!!i)})),i}},{key:"getFieldDomain",value:function(e,t){var r=t&&t.feature,n=this.getFeatureType(r);if(n){var i=n.domains&&n.domains[e];if(i&&"inherited"!==i.type)return i}return this._getLayerDomain(e)}},{key:"queryFeatures",value:(t=Object(o.a)(d.a.mark((function e(){var t,n,a,o,s,c,u,l,f,p,h,b,y,v,m=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:this.createQuery(),n=m.length>1?m[1]:void 0,e.next=4,this.load();case 4:if(this.get("capabilities.operations.supportsQuery")){e.next=6;break}throw new O.a("Sublayer.queryFeatures","this layer doesn't support queries.");case 6:return e.next=8,Promise.all([Promise.resolve().then(r.bind(null,"KbHJ")),Promise.resolve().then(r.bind(null,"kJId"))]);case 8:return u=e.sent,l=Object(i.a)(u,2),f=l[0].executeQuery,p=l[1].default,e.next=14,f(this.url,z.a.from(t),null!=(a=null==(o=this.layer)?void 0:o.spatialReference)?a:null,$($({},n),{},{query:$($({},null==(s=this.layer)?void 0:s.customParameters),{},{token:null==(c=this.layer)?void 0:c.apiKey})}));case 14:if(h=e.sent,null!=(b=p.fromJSON(h.data))&&b.features){y=G(b.features);try{for(y.s();!(v=y.n()).done;)v.value.sourceLayer=this}catch(d){y.e(d)}finally{y.f()}}return e.abrupt("return",b);case 18:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"toExportImageJSON",value:function(){var e,t=this,r={id:this.id,source:(null==(e=this.source)?void 0:e.toJSON())||{mapLayerId:this.id,type:"mapLayer"}};this.definitionExpression&&(r.definitionExpression=this.definitionExpression);var n=["renderer","labelingInfo","opacity","labelsVisible"].reduce((function(e,r){return e[r]=t.originIdOf(r),e}),{});if(Object.keys(n).some((function(e){return n[e]>2}))){var i=r.drawingInfo={};n.renderer>2&&(i.renderer=this.renderer?this.renderer.toJSON():null),n.labelsVisible>2&&(i.showLabels=this.labelsVisible),this.labelsVisible&&n.labelingInfo>2&&(i.labelingInfo=this.labelingInfo?this.labelingInfo.map((function(e){return e.write({},{origin:"service",layer:t.layer})})):null,i.showLabels=!0),n.opacity>2&&(i.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(i.renderer)}return r}},{key:"_assignDefaultSymbolColors",value:function(e){this._forEachSimpleMarkerSymbols(e,(function(e){e.color||"esriSMSX"!==e.style&&"esriSMSCross"!==e.style||(e.outline&&e.outline.color?e.color=e.outline.color:e.color=[0,0,0,0])}))}},{key:"_forEachSimpleMarkerSymbols",value:function(e,t){if(e){var r,n=G("uniqueValueInfos"in e?e.uniqueValueInfos:"classBreakInfos"in e?e.classBreakInfos:[]);try{for(n.s();!(r=n.n()).done;){var i=r.value;Q(i.symbol)&&t(i.symbol)}}catch(a){n.e(a)}finally{n.f()}"symbol"in e&&Q(e.symbol)&&t(e.symbol),"defaultSymbol"in e&&Q(e.defaultSymbol)&&t(e.defaultSymbol)}}},{key:"_setAndNotifyLayer",value:function(e,t){var r,n,i=this.layer,a=this._get(e);switch(e){case"definitionExpression":r="supportsSublayerDefinitionExpression";case"minScale":case"maxScale":case"visible":r="supportsSublayerVisibility";break;case"labelingInfo":case"labelsVisible":case"opacity":case"renderer":case"source":r="supportsDynamicLayers",n="supportsModification"}var o=Object(R.a)(this).getDefaultOrigin();if("service"!==o){if(r&&!1===this.get("layer.capabilities.exportMap.".concat(r)))return void this._logLockedError(e,"capability not available 'layer.capabilities.exportMap.".concat(r,"'"));if(n&&!1===this.get("capabilities.exportMap.".concat(n)))return void this._logLockedError(e,"capability not available 'capabilities.exportMap.".concat(n,"'"))}"source"!==e||"not-loaded"===this.loadStatus?(this._set(e,t),"service"!==o&&a!==t&&i&&i.emit&&i.emit("sublayer-update",{propertyName:e,target:this})):this._logLockedError(e,"'source' can't be changed after calling sublayer.load()")}},{key:"_handleSublayersChange",value:function(e,t){var r=this;t&&(t.forEach((function(e){e.parent=null,e.layer=null})),this.handles.removeAll()),e&&(e.forEach((function(e){e.parent=r,e.layer=r.layer})),this.handles.add([e.on("after-add",(function(e){var t=e.item;t.parent=r,t.layer=r.layer})),e.on("after-remove",(function(e){var t=e.item;t.parent=null,t.layer=null})),e.on("before-changes",(function(e){var t=r.get("layer.capabilities.exportMap.supportsSublayersChanges");null==t||t||(te.error(new O.a("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:r,layer:r.layer})),e.preventDefault())}))]))}},{key:"_logLockedError",value:function(e,t){te.error(new O.a("sublayer:locked","Property '".concat(e,"' can't be changed on Sublayer from the layer '").concat(this.layer.id,"'"),{reason:t,sublayer:this,layer:this.layer}))}},{key:"_getLayerDomain",value:function(e){var t=this.fieldsIndex.get(e);return t?t.domain:null}}]),p}(Object(j.b)(Object(S.a)(Object(w.a)(k.a))));ie.test={isMapImageLayerOverridePolicy:function(e){return e===Y||e===X},isTileImageLayerOverridePolicy:function(e){return e===K}},Object(h.a)([Object(I.b)({readOnly:!0})],ie.prototype,"capabilities",void 0),Object(h.a)([Object(E.a)("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],ie.prototype,"readCapabilities",null),Object(h.a)([Object(I.b)({type:String,value:null,json:{name:"layerDefinition.definitionExpression",write:{overridePolicy:X}}})],ie.prototype,"definitionExpression",null),Object(h.a)([Object(I.b)({type:[F.a],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],ie.prototype,"fields",void 0),Object(h.a)([Object(I.b)({readOnly:!0})],ie.prototype,"fieldsIndex",null),Object(h.a)([Object(I.b)({type:H.a,json:{read:{source:"layerDefinition.extent"}}})],ie.prototype,"fullExtent",void 0),Object(h.a)([Object(I.b)({type:String})],ie.prototype,"globalIdField",void 0),Object(h.a)([Object(E.a)("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],ie.prototype,"readGlobalIdFieldFromService",null),Object(h.a)([Object(I.b)({type:C.a,json:{write:{ignoreOrigin:!0}}})],ie.prototype,"id",null),Object(h.a)([Object(I.b)({value:null,type:[B.a],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:Y}}})],ie.prototype,"labelingInfo",null),Object(h.a)([Object(A.a)("labelingInfo")],ie.prototype,"writeLabelingInfo",null),Object(h.a)([Object(I.b)({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:Y}}})],ie.prototype,"labelsVisible",null),Object(h.a)([Object(I.b)({value:null})],ie.prototype,"layer",null),Object(h.a)([Object(I.b)({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:ee}}})],ie.prototype,"legendEnabled",void 0),Object(h.a)([Object(I.b)({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],ie.prototype,"listMode",null),Object(h.a)([Object(I.b)({type:Number,value:0,json:{write:{overridePolicy:Y}}})],ie.prototype,"minScale",null),Object(h.a)([Object(E.a)("minScale",["minScale","layerDefinition.minScale"])],ie.prototype,"readMinScale",null),Object(h.a)([Object(I.b)({type:Number,value:0,json:{write:{overridePolicy:Y}}})],ie.prototype,"maxScale",null),Object(h.a)([Object(E.a)("maxScale",["maxScale","layerDefinition.maxScale"])],ie.prototype,"readMaxScale",null),Object(h.a)([Object(I.b)({type:String})],ie.prototype,"objectIdField",void 0),Object(h.a)([Object(E.a)("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],ie.prototype,"readObjectIdFieldFromService",null),Object(h.a)([Object(I.b)({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:Y}}})],ie.prototype,"opacity",null),Object(h.a)([Object(E.a)("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],ie.prototype,"readOpacity",null),Object(h.a)([Object(A.a)("opacity")],ie.prototype,"writeOpacity",null),Object(h.a)([Object(I.b)({json:{type:C.a,write:{target:"parentLayerId",allowNull:!0,overridePolicy:Y}}})],ie.prototype,"parent",void 0),Object(h.a)([Object(A.a)("parent")],ie.prototype,"writeParent",null),Object(h.a)([Object(I.b)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:function(e,t){return!t.disablePopup}},write:{target:"disablePopup",overridePolicy:ee,writer:function(e,t,r){t[r]=!e}}}})],ie.prototype,"popupEnabled",void 0),Object(h.a)([Object(I.b)({type:b.a,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:ee}}})],ie.prototype,"popupTemplate",void 0),Object(h.a)([Object(I.b)({readOnly:!0})],ie.prototype,"defaultPopupTemplate",null),Object(h.a)([Object(I.b)({types:y.a,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:Y},origins:{"web-scene":{types:y.b,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:Y}}}}})],ie.prototype,"renderer",null),Object(h.a)([Object(I.b)({types:{key:"type",base:null,typeMap:{"data-layer":V.a,"map-layer":U.a}},cast:function(e){if(e){if("mapLayerId"in e)return Object(C.d)(U.a,e);if("dataSource"in e)return Object(C.d)(V.a,e)}return e},json:{name:"layerDefinition.source",write:{overridePolicy:Y}}})],ie.prototype,"source",null),Object(h.a)([Object(I.b)()],ie.prototype,"sourceJSON",void 0),Object(h.a)([Object(I.b)({value:null,json:{type:[C.a],write:{target:"subLayerIds",allowNull:!0,overridePolicy:Y}}})],ie.prototype,"sublayers",null),Object(h.a)([Object(M.a)("sublayers")],ie.prototype,"castSublayers",null),Object(h.a)([Object(A.a)("sublayers")],ie.prototype,"writeSublayers",null),Object(h.a)([Object(I.b)({type:String,json:{read:{source:"name"},write:{target:"name",allowNull:!0,overridePolicy:ee}}})],ie.prototype,"title",void 0),Object(h.a)([Object(I.b)({type:String})],ie.prototype,"typeIdField",void 0),Object(h.a)([Object(E.a)("typeIdField",["layerDefinition.typeIdField"])],ie.prototype,"readTypeIdField",null),Object(h.a)([Object(I.b)({type:[L.a],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],ie.prototype,"types",void 0),Object(h.a)([Object(I.b)({type:String,json:{read:{source:"layerUrl"},write:{target:"layerUrl",overridePolicy:K}}})],ie.prototype,"url",null),Object(h.a)([Object(I.b)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:Y}}})],ie.prototype,"visible",null),Object(h.a)([Object(A.a)("visible")],ie.prototype,"writeVisible",null);var ae=ie=n=Object(h.a)([Object(T.a)("esri.layers.support.Sublayer")],ie);t.a=ae},"1Y4V":function(e,t,r){"use strict";t.a=function(e){return window.WebGL2RenderingContext&&e instanceof window.WebGL2RenderingContext}},"1ZHs":function(e,t,r){"use strict";var n=r("hisu"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("dQW7"),c=r("0n+b"),u=r("xAIp"),l=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var p=function(e){Object(i.a)(r,e);var t=f(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).type=null,e}return r}(c.a);Object(s.a)([Object(u.b)({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],p.prototype,"type",void 0);var d=p=Object(s.a)([Object(l.a)("esri.layers.support.FeatureReduction")],p);t.a=d},"1dvN":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.wrapRootElement=void 0;var i=n(r("ERkP")),a=r("LcPu");t.wrapRootElement=function(e){var t=e.element;return i.default.createElement(a.HelmetProvider,null,t)}},"1eRv":function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("TM+E"),l=r("7im+"),f=r("xAIp"),p=(r("J4Pc"),r("wckI"),r("iaHD")),d=r("/BCw");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var b=function(e){var t=function(e){Object(a.a)(r,e);var t=h(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"title",get:function(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){var e=Object(d.f)(this.url);if(Object(l.i)(e)&&e.title)return e.title}return this._get("title")||""},set:function(e){this._set("title",e)}},{key:"url",set:function(e){this._set("url",Object(d.h)(e,u.a.getLogger(this.declaredClass)))}}]),r}(e);return Object(c.a)([Object(f.b)()],t.prototype,"title",null),Object(c.a)([Object(f.b)({type:String})],t.prototype,"url",null),t=Object(c.a)([Object(p.a)("esri.layers.mixins.ArcGISService")],t)}},"1ezk":function(e,t){e.exports=function(){return!1}},"1lXL":function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("0n+b"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("jr4m");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var h=function(e){Object(a.a)(r,e);var t=d(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).enabled=!0,i.type=null,i}return Object(i.a)(r,[{key:"writeEnabled",value:function(e,t,r){e||(t[r]=e)}}]),r}(u.a);Object(c.a)([Object(l.b)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],h.prototype,"enabled",void 0),Object(c.a)([Object(p.a)("enabled")],h.prototype,"writeEnabled",null),Object(c.a)([Object(l.b)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],h.prototype,"type",void 0);var b=h=Object(c.a)([Object(f.a)("esri.symbols.Symbol3DLayer")],h);t.a=b},"1w7Q":function(e,t,r){"use strict";var n=r("8jRW");function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o=n.a.queueMicrotask?n.a.queueMicrotask:function(e){n.a.Promise.resolve().then(e)},s=[],c=[];function u(e){s.push(e),1===s.length&&o((function(){var e,t=i(c);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(o){t.e(o)}finally{t.f()}var r=s.slice();s.length=0;var n,a=i(r);try{for(a.s();!(n=a.n()).done;){(0,n.value)()}}catch(o){a.e(o)}finally{a.f()}}))}(u||(u={})).before=function(e){return c.push(e),{remove:function(){c=c.filter((function(t){return t!==e}))}}};var l=u;t.a=l},"1xKk":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return c}));var n=r("hisu"),i=r("yBJb"),a=function(){function e(t,r,i,a){Object(n.a)(this,e),this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=i;var o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=a||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}return Object(i.a)(e,[{key:"radius",get:function(){return this.semiMajorAxis}}]),e}(),o=new a(6378137,1/298.257223563,3e5,.006694379990137799),s=new a(3396190,1/169.8944472236118,23e4),c=new a(1737400,0,0)},"1zU3":function(e,t,r){"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!window.WebGLRenderingContext)return s(e,c),null;var n=o(e,t,r);return n||(s(e,u),null)}function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;switch(i){case"webgl":t=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case"webgl2":t=["webgl2"];break;default:t=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}var a,o=null,s=n(t);try{for(s.s();!(a=s.n()).done;){var c=a.value;try{o=e.getContext(c,r)}catch(u){}if(o)break}}catch(l){s.e(l)}finally{s.f()}return o}function s(e,t){var r=e.parentNode;r&&(r.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+t+"</div></div></td></tr></table>")}r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a}));var c='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',u='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'},"233l":function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("kDog"),l=r("FYmP"),f=r("7im+"),p=r("xAIp"),d=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),h=r("QdvJ");function b(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var m=function(e){Object(a.a)(r,e);var t=v(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).getCollections=null,i}return Object(i.a)(r,[{key:"initialize",value:function(){var e=this;this.handles.add(Object(h.a)((function(){return e.refresh()})))}},{key:"destroy",value:function(){this.getCollections=null}},{key:"refresh",value:function(){var e=Object(f.i)(this.getCollections)?this.getCollections():null;if(Object(f.h)(e))this.removeAll();else{var t,r=0,n=b(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;Object(f.i)(i)&&(r=this._processCollection(r,i))}}catch(a){n.e(a)}finally{n.f()}this.splice(r,this.length)}}},{key:"_createNewInstance",value:function(e){return new u.a(e)}},{key:"_processCollection",value:function(e,t){if(!t)return e;var r,n=this.itemFilterFunction?this.itemFilterFunction:function(e){return!!e},i=b(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a){if(n(a)){var o=this.indexOf(a,e);o>=0?o!==e&&this.reorder(a,e):this.add(a,e),++e}if(this.getChildrenFunction){var s=this.getChildrenFunction(a);if(Array.isArray(s)){var c,u=b(s);try{for(u.s();!(c=u.n()).done;){var l=c.value;e=this._processCollection(e,l)}}catch(f){u.e(f)}finally{u.f()}}else e=this._processCollection(e,s)}}}}catch(f){i.e(f)}finally{i.f()}return e}}]),r}(Object(l.b)(u.a));Object(c.a)([Object(p.b)()],m.prototype,"getCollections",void 0),Object(c.a)([Object(p.b)()],m.prototype,"getChildrenFunction",void 0),Object(c.a)([Object(p.b)()],m.prototype,"itemFilterFunction",void 0);var g=m=Object(c.a)([Object(d.a)("esri.core.CollectionFlattener")],m);t.a=g},"28EP":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("7im+"),f=r("xAIp"),p=(r("J4Pc"),r("wckI"),r("TM+E"),r("vo12")),d=r("mp5+"),h=r("iaHD"),b=r("1lXL"),y=r("y75+");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var m=n=function(e){Object(o.a)(r,e);var t=v(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).material=null,n.castShadows=!0,n.type="path",n.profile="circle",n.join="miter",n.cap="butt",n.width=void 0,n.height=void 0,n.anchor="center",n.profileRotation="all",n}return Object(a.a)(r,[{key:"size",get:function(){return this.width&&this.height?this.width===this.height?this.width:void 0:this.width?this.width:this.height?this.height:void 0},set:function(e){this.width=e,this.height=e}},{key:"readSize",value:function(e,t){return t.height||t.width?e:t.size}},{key:"clone",value:function(){return new n({enabled:this.enabled,material:Object(l.i)(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}}]),r}(b.a);Object(u.a)([Object(f.b)({type:y.a,json:{write:!0}})],m.prototype,"material",void 0),Object(u.a)([Object(f.b)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],m.prototype,"castShadows",void 0),Object(u.a)([Object(p.a)({Path:"path"},{readOnly:!0})],m.prototype,"type",void 0),Object(u.a)([Object(f.b)({type:Number})],m.prototype,"size",null),Object(u.a)([Object(d.a)("size")],m.prototype,"readSize",null),Object(u.a)([Object(f.b)({type:["circle","quad"],json:{write:!0,default:"circle"}})],m.prototype,"profile",void 0),Object(u.a)([Object(f.b)({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],m.prototype,"join",void 0),Object(u.a)([Object(f.b)({type:["none","butt","square","round"],json:{write:!0,default:"butt"}})],m.prototype,"cap",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],m.prototype,"width",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:!0}})],m.prototype,"height",void 0),Object(u.a)([Object(f.b)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],m.prototype,"anchor",void 0),Object(u.a)([Object(f.b)({type:["heading","all"],json:{write:!0,default:"all"}})],m.prototype,"profileRotation",void 0);var g=m=n=Object(u.a)([Object(h.a)("esri.symbols.PathSymbol3DLayer")],m);t.a=g},"2AbI":function(e,t,r){var n=r("6TGQ"),i=r("tb+2"),a=r("h0av");e.exports=function(e){return n(e,a,i)}},"2EQx":function(e,t,r){var n=r("9aUh");e.exports=function(e){return e==e&&!n(e)}},"2GMX":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codeRenderer=o,t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=new n.default.Renderer;function s(e,t){for(var r=e.children;;){if(!r.length||r[r.length-1].level===t)return r;r=r[r.length-1].children}}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t.split(/(\{\{.*?\}\})/),n=r.map((function(t){var r=t.match(/\{\{(.*)\}\}/);return r?(e.tree.splice(e.tree.indexOf(e.elements[r[1]]),1),e.elements[r[1]]):""!==t?i.default.decode(t):null}));return n}function u(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r,o=e.nextElementId++,s=null,u=t.elements&&t.elements[a];return i&&(s=Array.isArray(i)?i.map(c):c(i)),e.elements[o]=t.createElement(u||r,Object.assign({key:o},n,u?{context:e.context}:{}),s),e.tree.push(e.elements[o]),"{{".concat(o,"}}")}return a.code=r.code||o(e,t),a.html=r.html||function(r){var n=e.nextElementId++;e.tree.push(t.createElement("div",{key:n,dangerouslySetInnerHTML:{__html:r}}))},a.paragraph=r.paragraph||function(e){return u("p",null,e)},a.blockquote=r.blockquote||function(e){return u("blockquote",null,e)},a.link=r.link||function(e,t,r){return u("a",{href:e,title:t},r)},a.br=r.br||function(){return u("br")},a.hr=r.hr||function(){return u("hr")},a.strong=r.strong||function(e){return u("strong",null,e)},a.del=r.del||function(e){return u("del",null,e)},a.em=r.em||function(e){return u("em",null,e)},a.heading=r.heading||function(t,r){e.currentId=e.currentId.slice(0,r-1),e.currentId.push(t.replace(/\s/g,"-").toLowerCase());var n=e.currentId.join("-"),i=e.toc[e.toc.length-1];!i||i.level>r?e.toc.push({id:n,title:t,level:r,children:[]}):s(i,r).push({id:n,title:t,level:r,children:[]});return u("h".concat(r),{id:n},t)},a.list=r.list||function(e,t){return u(t?"ol":"ul",null,e)},a.listitem=r.listitem||function(e){return u("li",null,e)},a.table=r.table||function(e,t){return u("table",null,[u("thead",null,e),u("tbody",null,t)])},a.thead=r.thead||function(e){return u("thead",null,e)},a.tbody=r.tbody||function(e){return u("tbody",null,e)},a.tablerow=r.tablerow||function(e){return u("tr",null,e)},a.tablecell=r.tablecell||function(e,t){return u(t.header?"th":"td",{className:t.align?"text-".concat(t.align):void 0},e)},a.codespan=r.codespan||function(e){return u("code",null,e,"codespan")},a.image=r.image||function(e,t,r){return u("img",{src:e,alt:r})},a};var n=a(r("Ax1p")),i=a(r("P9a0"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){function r(e){var r;try{r=t.createElement("code",{className:"language-".concat(e.language),dangerouslySetInnerHTML:t.highlight?{__html:t.highlight(e.language,e.code)}:null},t.highlight?null:e.code)}catch(n){console.warn("".concat(e.language," is not supported by your defined highlighter.")),r=t.createElement("code",null,e.code)}return t.createElement("pre",null,r)}return function(n,i){var a=e.nextElementId++;return e.elements[a]=t.createElement(t.elements&&t.elements.code||r,{key:a,code:n,language:i}),e.tree.push(e.elements[a]),"{{".concat(a,"}}")}}},"2Hgx":function(e,t){var r="undefined"!=typeof Element,n="function"==typeof Map,i="function"==typeof Set,a="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,t){try{return function e(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){if(t.constructor!==o.constructor)return!1;var s,c,u,l;if(Array.isArray(t)){if((s=t.length)!=o.length)return!1;for(c=s;0!=c--;)if(!e(t[c],o[c]))return!1;return!0}if(n&&t instanceof Map&&o instanceof Map){if(t.size!==o.size)return!1;for(l=t.entries();!(c=l.next()).done;)if(!o.has(c.value[0]))return!1;for(l=t.entries();!(c=l.next()).done;)if(!e(c.value[1],o.get(c.value[0])))return!1;return!0}if(i&&t instanceof Set&&o instanceof Set){if(t.size!==o.size)return!1;for(l=t.entries();!(c=l.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(o)){if((s=t.length)!=o.length)return!1;for(c=s;0!=c--;)if(t[c]!==o[c])return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===o.toString();if((s=(u=Object.keys(t)).length)!==Object.keys(o).length)return!1;for(c=s;0!=c--;)if(!Object.prototype.hasOwnProperty.call(o,u[c]))return!1;if(r&&t instanceof Element)return!1;for(c=s;0!=c--;)if(("_owner"!==u[c]&&"__v"!==u[c]&&"__o"!==u[c]||!t.$$typeof)&&!e(t[u[c]],o[u[c]]))return!1;return!0}return t!=t&&o!=o}(e,t)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}}},"2LA6":function(e,t,r){"use strict";r.r(t);var n=r("eijD"),i=r("mK0O"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("NthX"),f=r.n(l),p=r("dQW7"),d=r("DGz/"),h=r("NY4G"),b=r("Mp7X"),y=r("FYmP"),v=r("v2Em"),m=r("7im+"),g=r("d4jZ"),O=r("IH5m"),j=r("xAIp"),w=(r("J4Pc"),r("wckI")),_=(r("TM+E"),r("mp5+")),k=r("iaHD"),x=r("jr4m"),S=r("ddfG"),P=r("nd5+"),I=r("+MV2"),R=r("QZQ7"),M=r("jZIy"),E=r("OhoG"),T=r("1eRv"),A=r("9P7x"),C=r("xuB6"),D=r("oTsO"),L=r("44so"),F=r("2eXi"),N=r("wJzb"),B=r("YgI4"),V=r("SU3d"),U=r("NRoO"),z=r("cEAa"),q=r("1XGP"),H=r("wetf");function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var $=function(e){Object(s.a)(u,e);var t,r,i,c=J(u);function u(){var e;Object(a.a)(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=c.call.apply(c,[this].concat(r))).alwaysRefetch=!1,e.dpi=96,e.gdbVersion=null,e.imageFormat="png24",e.imageMaxHeight=2048,e.imageMaxWidth=2048,e.imageTransparency=!0,e.isReference=null,e.labelsVisible=!1,e.operationalLayerType="ArcGISMapServiceLayer",e.sourceJSON=null,e.sublayers=null,e.type="map-image",e.url=null,e}return Object(o.a)(u,[{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?W({url:e},t):e}},{key:"load",value:function(e){var t=this,r=Object(m.i)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).catch(O.u).then((function(){return t._fetchService(r)}))),Promise.resolve(this)}},{key:"readImageFormat",value:function(e,t){var r=t.supportedImageFormatTypes;return r&&r.indexOf("PNG32")>-1?"png32":"png24"}},{key:"writeSublayers",value:function(e,t,r,n){if(this.loaded&&e){var i=e.slice().reverse().flatten((function(e){var t=e.sublayers;return t&&t.toArray().reverse()})).toArray(),a=!1;if(this.capabilities&&this.capabilities.operations.supportsExportMap&&this.capabilities.exportMap.supportsDynamicLayers){var o=Object(S.d)(n.origin);if(3===o){var s=this.createSublayersForOrigin("service").sublayers;a=Object(H.c)(i,s,2)}else if(o>3){var c=this.createSublayersForOrigin("portal-item");a=Object(H.c)(i,c.sublayers,Object(S.d)(c.origin))}}var u=[],l=W({writeSublayerStructure:a},n),f=a;i.forEach((function(e){var t=e.write({},l);u.push(t),f=f||"user"===e.originOf("visible")})),u.some((function(e){return Object.keys(e).length>1}))&&(t.layers=u),f&&(t.visibleLayers=i.filter((function(e){return e.visible})).map((function(e){return e.id})))}}},{key:"createExportImageParameters",value:function(e,t,r,n){var i=n&&n.pixelRatio||1;e&&this.version>=10&&(e=e.clone().shiftCentralMeridian());var a=new z.a({layer:this,scale:Object(I.b)({extent:e,width:t})*i}),o=a.toJSON();a.destroy();var s=!n||!n.rotation||this.version<10.3?{}:{rotation:-n.rotation},c=e&&e.spatialReference,u=c.wkid||JSON.stringify(c.toJSON());o.dpi*=i;var l={};if(null!=n&&n.timeExtent){var f=n.timeExtent.toJSON(),p=f.start,d=f.end;l.time=p&&d&&p===d?""+p:"".concat(null==p?"null":p,",").concat(null==d?"null":d)}else this.timeInfo&&!this.timeInfo.hasLiveData&&(l.time="null,null");return W(W(W({bbox:e&&e.xmin+","+e.ymin+","+e.xmax+","+e.ymax,bboxSR:u,imageSR:u,size:t+","+r},o),s),l)}},{key:"fetchImage",value:(i=Object(n.a)(f.a.mark((function e(t,r,n,i){var a,o,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s={responseType:"image",signal:null!=(a=null==i?void 0:i.signal)?a:null,query:W(W(W(W({},this.parsedUrl.query),this.createExportImageParameters(t,r,n,i)),{},{f:"image",_ts:this.alwaysRefetch?Date.now():null!=(o=null==i?void 0:i.timestamp)?o:null},this.customParameters),{},{token:this.apiKey})},c=this.parsedUrl.path+"/export",null==s.query.dynamicLayers||this.capabilities.exportMap.supportsDynamicLayers){e.next=3;break}return e.abrupt("return",Promise.reject(new b.a("mapimagelayer:dynamiclayer-not-supported","service ".concat(this.url," doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source."),{query:s.query})));case 3:return e.abrupt("return",Object(d.default)(c,s).then((function(e){return e.data})).catch((function(e){if(Object(O.m)(e))throw e;throw new b.a("mapimagelayer:image-fetch-error","Unable to load image: ".concat(c),{error:e})})));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return i.apply(this,arguments)})},{key:"fetchRecomputedExtents",value:(r=Object(n.a)(f.a.mark((function e(){var t,r,n,i,a,o,s,c,u=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},r=W(W({},t),{},{query:{returnUpdates:!0,f:"json"}}),e.next=4,Object(d.default)(this.url,r);case 4:return n=e.sent,i=n.data,a=i.extent,o=i.fullExtent,s=i.timeExtent,c=a||o,e.abrupt("return",{fullExtent:c&&P.a.fromJSON(c),timeExtent:s&&h.a.fromJSON({start:s[0],end:s[1]})});case 11:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"loadAll",value:function(){var e=this;return Object(v.a)(this,(function(t){t(e.allSublayers)}))}},{key:"_fetchService",value:(t=Object(n.a)(f.a.mark((function e(t){var r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.sourceJSON){e.next=2;break}return e.abrupt("return",void this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl}));case 2:return e.next=4,Object(d.default)(this.parsedUrl.path,{query:W(W(W({f:"json"},this.parsedUrl.query),this.customParameters),{},{token:this.apiKey}),signal:t});case 4:r=e.sent,n=r.data,r.ssl&&(this.url=this.url.replace(/^http:/i,"https:")),this.sourceJSON=n,this.read(n,{origin:"service",url:this.parsedUrl});case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),u}(Object(A.a)(Object(V.a)(Object(N.a)(Object(F.a)(Object(B.a)(Object(E.a)(Object(T.a)(Object(D.a)(Object(L.a)(Object(g.a)(Object(M.a)(Object(C.a)(Object(y.b)(R.a))))))))))))));Object(p.a)([Object(j.b)()],$.prototype,"alwaysRefetch",void 0),Object(p.a)([Object(j.b)()],$.prototype,"dpi",void 0),Object(p.a)([Object(j.b)()],$.prototype,"gdbVersion",void 0),Object(p.a)([Object(j.b)()],$.prototype,"imageFormat",void 0),Object(p.a)([Object(_.a)("imageFormat",["supportedImageFormatTypes"])],$.prototype,"readImageFormat",null),Object(p.a)([Object(j.b)({json:{origins:{service:{read:{source:"maxImageHeight"}}}}})],$.prototype,"imageMaxHeight",void 0),Object(p.a)([Object(j.b)({json:{origins:{service:{read:{source:"maxImageWidth"}}}}})],$.prototype,"imageMaxWidth",void 0),Object(p.a)([Object(j.b)()],$.prototype,"imageTransparency",void 0),Object(p.a)([Object(j.b)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}}})],$.prototype,"isReference",void 0),Object(p.a)([Object(j.b)({json:{read:!1,write:!1}})],$.prototype,"labelsVisible",void 0),Object(p.a)([Object(j.b)({type:["ArcGISMapServiceLayer"]})],$.prototype,"operationalLayerType",void 0),Object(p.a)([Object(j.b)({json:{read:!1,write:!1}})],$.prototype,"popupEnabled",void 0),Object(p.a)([Object(j.b)()],$.prototype,"sourceJSON",void 0),Object(p.a)([Object(j.b)({json:{write:{ignoreOrigin:!0}}})],$.prototype,"sublayers",void 0),Object(p.a)([Object(x.a)("sublayers",{layers:{type:[q.a]},visibleLayers:{type:[w.a]}})],$.prototype,"writeSublayers",null),Object(p.a)([Object(j.b)({type:["show","hide","hide-children"]})],$.prototype,"listMode",void 0),Object(p.a)([Object(j.b)({json:{read:!1},readOnly:!0,value:"map-image"})],$.prototype,"type",void 0),Object(p.a)([Object(j.b)(U.n)],$.prototype,"url",void 0);var Z=$=Object(p.a)([Object(k.a)("esri.layers.MapImageLayer")],$);t.default=Z},"2PsU":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=(r("ZTBZ"),r("7i+s")),f=r("0n+b"),p=r("0fJP"),d=r("xAIp"),h=(r("wckI"),r("J4Pc"),r("TM+E"),r("iaHD")),b=r("nd5+");function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var v=new l.a({upperLeft:"upper-left",lowerLeft:"lower-left"}),m=n=function(e){Object(o.a)(r,e);var t=y(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).extent=null,n.mode="view",n.originPosition="upper-left",n.tolerance=1,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n(Object(p.a)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}}]),r}(f.a);Object(u.a)([Object(d.b)({type:b.a,json:{write:{overridePolicy:function(){return{enabled:"view"===this.mode}}}}})],m.prototype,"extent",void 0),Object(u.a)([Object(d.b)({type:["view","edit"],json:{write:!0}})],m.prototype,"mode",void 0),Object(u.a)([Object(d.b)({type:String,json:{read:v.read,write:v.write}})],m.prototype,"originPosition",void 0),Object(u.a)([Object(d.b)({type:Number,json:{write:{overridePolicy:function(){return{enabled:"view"===this.mode}}}}})],m.prototype,"tolerance",void 0);var g=m=n=Object(u.a)([Object(h.a)("esri.rest.support.QuantizationParameters")],m);t.a=g},"2Tlz":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("hZBP"),f=r("PVS0"),p=(r("J4Pc"),r("wckI"),r("TM+E"),r("xAIp")),d=r("iaHD");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var b=n=function(e){Object(o.a)(r,e);var t=h(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).tooltip=null,n.value=null,n.x=null,n.y=null,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({tooltip:this.tooltip,value:this.value})}}]),r}(l.a);Object(u.a)([Object(p.b)()],b.prototype,"tooltip",void 0),Object(u.a)([Object(p.b)()],b.prototype,"value",void 0),Object(u.a)([Object(f.a)("value")],b.prototype,"x",void 0),Object(u.a)([Object(f.a)("tooltip")],b.prototype,"y",void 0);var y=b=n=Object(u.a)([Object(d.a)("esri.popup.content.support.ChartMediaInfoValueSeries")],b);t.a=y},"2d0T":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("4Mpa"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("dQW7"),f=r("WYis"),p=r("7i+s"),d=r("0fJP"),h=r("xAIp"),b=(r("wckI"),r("J4Pc"),r("TM+E"),r("vo12")),y=r("iaHD"),v=r("iKWD"),m=r("DKWO");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var O=new p.a({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"}),j=n=function(e){Object(s.a)(r,e);var t=g(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).color=new f.a([0,0,0,.25]),e.outline=new m.a,e.type="simple-fill",e.style="solid",e}return Object(a.a)(r,[{key:"normalizeCtorArgs",value:function(e,t,r){if(e&&"string"!=typeof e)return e;var n={};return e&&(n.style=e),t&&(n.outline=t),r&&(n.color=r),n}},{key:"clone",value:function(){return new n({color:Object(d.a)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}},{key:"hash",value:function(){return"".concat(Object(o.a)(Object(u.a)(r.prototype),"hash",this).call(this)).concat(this.style,".").concat(this.color&&this.color.hash())}}]),r}(v.a);Object(l.a)([Object(h.b)()],j.prototype,"color",void 0),Object(l.a)([Object(h.b)()],j.prototype,"outline",void 0),Object(l.a)([Object(b.a)({esriSFS:"simple-fill"},{readOnly:!0})],j.prototype,"type",void 0),Object(l.a)([Object(h.b)({type:O.apiValues,json:{read:O.read,write:O.write}})],j.prototype,"style",void 0);var w=j=n=Object(l.a)([Object(y.a)("esri.symbols.SimpleFillSymbol")],j);t.a=w},"2eXi":function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("xAIp"),l=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var p=function(e){var t=function(e){Object(a.a)(r,e);var t=f(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).refreshInterval=0,e}return Object(i.a)(r,[{key:"refresh",value:function(){this.emit("refresh")}}]),r}(e);return Object(c.a)([Object(u.b)({type:Number,cast:function(e){return e>=.1?e:e<=0?0:.1},json:{write:!0,origins:{"web-document":{write:!0}}}})],t.prototype,"refreshInterval",void 0),t=Object(c.a)([Object(l.a)("esri.layers.mixins.RefreshableLayer")],t)}},"2slW":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0n+b"),f=r("DKLv"),p=r("xAIp"),d=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),h=r("SBR8");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var y=n=function(e){Object(o.a)(r,e);var t=b(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).value=0,n.unit="milliseconds",n}return Object(a.a)(r,[{key:"toMilliseconds",value:function(){return Object(f.a)(this.value,this.unit,"milliseconds")}},{key:"clone",value:function(){return new n({value:this.value,unit:this.unit})}}]),r}(l.a);Object(u.a)([Object(p.b)({type:Number,json:{write:!0},nonNullable:!0})],y.prototype,"value",void 0),Object(u.a)([Object(p.b)({type:h.a.apiValues,json:{type:h.a.jsonValues,read:h.a.read,write:h.a.write},nonNullable:!0})],y.prototype,"unit",void 0);var v=y=n=Object(u.a)([Object(d.a)("esri.TimeInterval")],y);t.a=v},"2uCU":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("pEOu");function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){var r=Object(n.a)(e,t),a=r.queryResult.featureResult,o=r.queryResult.queryGeometry,s=r.queryResult.queryGeometryType;if(a&&a.features&&a.features.length&&a.objectIdFieldName){var c,u=a.objectIdFieldName,l=i(a.features);try{for(l.s();!(c=l.n()).done;){var f=c.value;f.attributes&&(f.objectId=f.attributes[u])}}catch(p){l.e(p)}finally{l.f()}}return a&&(a.queryGeometry=o,a.queryGeometryType=s),a}},"2wRU":function(e,t,r){var n=r("GI0s"),i=r("ckUF"),a=r("T9Ud"),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[n(e)]}},"2xEH":function(e,t){var r=Math.max;e.exports=function(e,t,n,i){for(var a=-1,o=e.length,s=n.length,c=-1,u=t.length,l=r(o-s,0),f=Array(u+l),p=!i;++c<u;)f[c]=t[c];for(;++a<s;)(p||a<o)&&(f[n[a]]=e[a]);for(;l--;)f[c++]=e[a++];return f}},"30K6":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r("J4Pc");var n=r("TM+E"),i=r("K2z9");function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t,r){if(e&&t)if("object"==typeof t){var n,o=a(Object.getOwnPropertyNames(t));try{for(o.s();!(n=o.n()).done;){var c=n.value;s(e,c,t[c])}}catch(f){o.e(f)}finally{o.f()}}else{if(-1!==t.indexOf(".")){var u=t.split("."),l=u.splice(u.length-1,1)[0];return void s(Object(i.b)(e,u),l,r)}e[t]=r}}n.a.getLogger("esri.core.accessorSupport.set")},"30Qs":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("ZTBZ"),f=r("NY4G"),p=r("7i+s"),d=r("0n+b"),h=r("0fJP"),b=r("xAIp"),y=r("wckI"),v=(r("J4Pc"),r("TM+E"),r("iaHD")),m=r("jr4m"),g=r("aic5");function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var j=n=function(e){Object(o.a)(r,e);var t=O(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).groupByFields=void 0,n.topCount=void 0,n.orderByFields=void 0,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}}]),r}(d.a);Object(u.a)([Object(b.b)({type:[String],json:{write:!0}})],j.prototype,"groupByFields",void 0),Object(u.a)([Object(b.b)({type:Number,json:{write:!0}})],j.prototype,"topCount",void 0),Object(u.a)([Object(b.b)({type:[String],json:{write:!0}})],j.prototype,"orderByFields",void 0);var w,_=j=n=Object(u.a)([Object(v.a)("esri.rest.support.TopFilter")],j),k=r("YHXj");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var S=new p.a({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),P=new p.a({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),I=w=function(e){Object(o.a)(r,e);var t=x(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).cacheHint=void 0,n.distance=void 0,n.geometry=null,n.geometryPrecision=void 0,n.maxAllowableOffset=void 0,n.num=void 0,n.objectIds=null,n.orderByFields=null,n.outFields=null,n.outSpatialReference=null,n.resultType=null,n.returnGeometry=!1,n.returnM=void 0,n.returnZ=void 0,n.start=void 0,n.spatialRelationship="intersects",n.timeExtent=null,n.topFilter=void 0,n.units=null,n.where="1=1",n}return Object(a.a)(r,[{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}},{key:"clone",value:function(){return new w(Object(h.a)({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}}]),r}(d.a);Object(u.a)([Object(b.b)({type:Boolean,json:{write:!0}})],I.prototype,"cacheHint",void 0),Object(u.a)([Object(b.b)({type:Number,json:{write:{overridePolicy:function(e){return{enabled:e>0}}}}})],I.prototype,"distance",void 0),Object(u.a)([Object(b.b)({types:l.a,json:{read:g.a,write:!0}})],I.prototype,"geometry",void 0),Object(u.a)([Object(b.b)({type:Number,json:{write:!0}})],I.prototype,"geometryPrecision",void 0),Object(u.a)([Object(b.b)({type:Number,json:{write:!0}})],I.prototype,"maxAllowableOffset",void 0),Object(u.a)([Object(b.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],I.prototype,"num",void 0),Object(u.a)([Object(b.b)({json:{write:!0}})],I.prototype,"objectIds",void 0),Object(u.a)([Object(b.b)({type:[String],json:{write:!0}})],I.prototype,"orderByFields",void 0),Object(u.a)([Object(b.b)({type:[String],json:{write:!0}})],I.prototype,"outFields",void 0),Object(u.a)([Object(b.b)({type:k.a,json:{read:{source:"outSR"},write:{target:"outSR"}}})],I.prototype,"outSpatialReference",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],I.prototype,"resultType",void 0),Object(u.a)([Object(b.b)({json:{write:!0}})],I.prototype,"returnGeometry",void 0),Object(u.a)([Object(b.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],I.prototype,"returnM",void 0),Object(u.a)([Object(b.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],I.prototype,"returnZ",void 0),Object(u.a)([Object(b.b)({type:Number,json:{read:{source:"resultOffset"}}})],I.prototype,"start",void 0),Object(u.a)([Object(m.a)("start"),Object(m.a)("num")],I.prototype,"writeStart",null),Object(u.a)([Object(b.b)({type:String,json:{read:{source:"spatialRel",reader:S.read},write:{target:"spatialRel",writer:S.write}}})],I.prototype,"spatialRelationship",void 0),Object(u.a)([Object(b.b)({type:f.a,json:{write:!0}})],I.prototype,"timeExtent",void 0),Object(u.a)([Object(b.b)({type:_,json:{write:!0}})],I.prototype,"topFilter",void 0),Object(u.a)([Object(b.b)({type:String,json:{read:P.read,write:{writer:P.write,overridePolicy:function(e){return{enabled:e&&this.distance>0}}}}})],I.prototype,"units",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],I.prototype,"where",void 0),(I=w=Object(u.a)([Object(v.a)("esri.rest.support.TopFeaturesQuery")],I)).from=Object(y.m)(I);var R=I;t.a=R},"30RF":function(e,t,r){"use strict";r.d(t,"d",(function(){return l})),r.d(t,"a",(function(){return f})),r.d(t,"c",(function(){return p})),r.d(t,"b",(function(){return d}));var n=r("ZkUl"),i=r("cSJ8"),a=function(e){return void 0===e?e:"/"===e?"/":"/"===e.charAt(e.length-1)?e.slice(0,-1):e},o=new Map,s=[],c=function(e){var t=decodeURIComponent(e);return Object(i.a)(t,"/react-ags-maps").split("#")[0].split("?")[0]};function u(e){return e.startsWith("/")||e.startsWith("https://")||e.startsWith("http://")?e:new URL(e,window.location.href+(window.location.href.endsWith("/")?"":"/")).pathname}var l=function(e){s=e},f=function(e){var t=h(e),r=s.map((function(e){var t=e.path;return{path:e.matchPath,originalPath:t}})),i=Object(n.pick)(r,t);return i?a(i.route.originalPath):null},p=function(e){var t=h(e),r=s.map((function(e){var t=e.path;return{path:e.matchPath,originalPath:t}})),i=Object(n.pick)(r,t);return i?i.params:{}},d=function(e){var t=c(u(e));if(o.has(t))return o.get(t);var r=f(t);return r||(r=h(e)),o.set(t,r),r},h=function(e){var t=c(u(e));return"/index.html"===t&&(t="/"),t=a(t)}},"316b":function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},"3GNe":function(e,t,r){var n=r("+dZb")("mapValues",r("qg2j"));n.placeholder=r("IOY3"),e.exports=n},"3hu9":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("J4Pc"),i=r("7im+"),a=r("IH5m");function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;return new Promise((function(c,u){if(Object(a.n)(o))u(s());else{var l=function(){d(),u(new Error("Unable to load ".concat(t)))},f=function(){var t=e;d(),c(t)},p=function(){if(e){var t=e;d(),t.src="",u(s())}},d=function(){Object(n.a)("esri-image-decode")||(e.removeEventListener("error",l),e.removeEventListener("load",f)),l=null,f=null,e=null,Object(i.i)(o)&&o.removeEventListener("abort",p),p=null,r&&URL.revokeObjectURL(t)};Object(i.i)(o)&&o.addEventListener("abort",p),Object(n.a)("esri-image-decode")?e.decode().then(f,l):(e.addEventListener("error",l),e.addEventListener("load",f))}}))}function s(){try{return new DOMException("Aborted","AbortError")}catch(t){var e=new Error;return e.name="AbortError",e}}},"3kU/":function(e,t,r){var n=r("2wRU"),i=r("TsNJ"),a=r("DhoL"),o=a&&a.isTypedArray,s=o?i(o):n;e.exports=s},"3p7a":function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return g})),r.d(t,"c",(function(){return v})),r.d(t,"d",(function(){return y})),r.d(t,"e",(function(){return O})),r.d(t,"f",(function(){return l})),r.d(t,"g",(function(){return m})),r.d(t,"h",(function(){return f}));var n=r("aNYv"),i=r("0fJP"),a=r("YHXj"),o=r("1xKk"),s=r("12QT");function c(e){return 57.29577951308232*e}function u(e){return.017453292519943*e}function l(e){return e/o.a.radius}function f(e){return Math.PI/2-2*Math.atan(Math.exp(-1*e/o.a.radius))}function p(e){return null!=e.wkid||null!=e.wkt}var d=[0,0];function h(e,t,r,i,a){var o,s,c,u,l=e,f=a;if(f.spatialReference=r,"x"in l&&"x"in f){var p=t(l.x,l.y,d,i),h=Object(n.a)(p,2);f.x=h[0],f.y=h[1]}else if("xmin"in l&&"xmin"in f)o=t(l.xmin,l.ymin,d,i),s=Object(n.a)(o,2),f.xmin=s[0],f.ymin=s[1],c=t(l.xmax,l.ymax,d,i),u=Object(n.a)(c,2),f.xmax=u[0],f.ymax=u[1];else if("paths"in l&&"paths"in f||"rings"in l&&"rings"in f){for(var b,y=("paths"in l?l.paths:l.rings),v=[],m=0;m<y.length;m++){var g=y[m];b=[],v.push(b);for(var O=0;O<g.length;O++)b.push(t(g[O][0],g[O][1],[0,0],i)),g[O].length>2&&b[O].push(g[O][2]),g[O].length>3&&b[O].push(g[O][3])}"paths"in f?f.paths=v:f.rings=v}else if("points"in l&&"points"in f){for(var j=l.points,w=[],_=0;_<j.length;_++)w[_]=t(j[_][0],j[_][1],[0,0],i),j[_].length>2&&w[_].push(j[_][2]),j[_].length>3&&w[_].push(j[_][3]);f.points=w}return a}function b(e,t){var r=e&&(p(e)?e:e.spatialReference),n=t&&(p(t)?t:t.spatialReference);return!(e&&"type"in e&&"mesh"===e.type||t&&"type"in t&&"mesh"===t.type||!r||!n)&&(!!Object(s.c)(n,r)||Object(s.n)(n)&&Object(s.k)(r)||Object(s.n)(r)&&Object(s.k)(n))}function y(e,t){var r=e&&e.spatialReference,n=t&&(p(t)?t:t.spatialReference);return b(r,n)?Object(s.c)(r,n)?Object(i.a)(e):Object(s.n)(n)?h(e,v,a.a.WebMercator,!1,Object(i.a)(e)):Object(s.k)(n)?h(e,m,a.a.WGS84,!1,Object(i.a)(e)):null:null}function v(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0];t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);var n=u(t);return r[0]=u(e)*o.a.radius,r[1]=o.a.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),r}function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=c(e/o.a.radius);return r[0]=n?i:i-360*Math.floor((i+180)/360),r[1]=c(Math.PI/2-2*Math.atan(Math.exp(-1*t/o.a.radius))),r}function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(i.a)(e);return h(e,v,a.a.WebMercator,t,r)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(i.a)(e);return h(e,m,a.a.WGS84,t,r)}},"3pC9":function(e,t,r){var n=r("gIo2"),i=r("nrda"),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},"3tQL":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return o}));var n=r("z9dv"),i=r("9jes");function a(e,t){return function(e){return e&&("service"===e.origin||"portal-item"===e.origin)&&e.layer&&("feature"===e.layer.type||"stream"===e.layer.type)}(t)&&!Object(n.s)(e)&&t.layer.parsedUrl?Object(n.z)(t.layer.parsedUrl.path,"images",e):Object(i.a)(e,t)}var o={json:{read:{source:["imageData","url"],reader:function(e,t,r){return t.imageData?Object(n.B)({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):a(t.url,r)}},write:{writer:function(e,t,r,a){!function(e,t,r,a){if(Object(n.u)(e)){var o=Object(n.i)(e);t.contentType=o.mediaType,t.imageData=o.data,r&&r.imageData===t.imageData&&r.url&&Object(i.f)(r.url,t,"url",a)}else Object(i.f)(e,t,"url",a)}(e,t,this.source,a)}}}},s={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(e,t,r){var n={};return t.imageData&&(n.imageData=t.imageData),t.contentType&&(n.contentType=t.contentType),t.url&&(n.url=a(t.url,r)),n}}}}},"41Zj":function(e,t,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!n.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},"44so":function(e,t,r){"use strict";r.d(t,"a",(function(){return A}));var n=r("mK0O"),i=r("eijD"),a=r("hisu"),o=r("yBJb"),s=r("4Mpa"),c=r("CHlC"),u=r("kMo5"),l=r("P+uj"),f=r("NthX"),p=r.n(f),d=r("dQW7"),h=r("g+AA"),b=r("DGz/"),y=r("EKEt"),v=r("Mp7X"),m=r("TM+E"),g=r("7im+"),O=r("IH5m"),j=r("z9dv"),w=r("xAIp"),_=(r("J4Pc"),r("wckI"),r("mp5+")),k=r("iaHD"),x=r("jr4m"),S=r("eoZi"),P=r("OYdn"),I=r("0kP4");function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var T=m.a.getLogger("esri.layers.mixins.PortalLayer"),A=function(e){var t=function(e){Object(c.a)(m,e);var t,n,u,f,d=E(m);function m(){var e;return Object(a.a)(this,m),(e=d.apply(this,arguments)).resourceReferences={portalItem:null,paths:[]},e.userHasEditingPrivileges=!0,e}return Object(o.a)(m,[{key:"destroy",value:function(){var e;null==(e=this.portalItem)||e.destroy(),this.portalItem=null}},{key:"portalItem",set:function(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}},{key:"readPortalItem",value:function(e,t,r){if(t.itemId)return new P.default({id:t.itemId,portal:r&&r.portal})}},{key:"writePortalItem",value:function(e,t){e&&e.id&&(t.itemId=e.id)}},{key:"loadFromPortal",value:(f=Object(i.a)(p.a.mark((function e(t,n){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.portalItem||!this.portalItem.id){e.next=14;break}return e.prev=1,e.next=4,r.e(61).then(r.bind(null,"iQat"));case 4:return i=e.sent,Object(O.v)(n),e.next=8,i.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},n);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),Object(O.m)(e.t0)||T.warn("Failed to load layer (".concat(this.title,", ").concat(this.id,") portal item (").concat(this.portalItem.id,")\n  ").concat(e.t0)),e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,11]])}))),function(e,t){return f.apply(this,arguments)})},{key:"finishLoadEditablePortalLayer",value:(u=Object(i.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.fetchUserHasEditingPrivileges(t).catch((function(e){return Object(O.u)(e),!0}));case 3:e.t1=e.sent,e.t0._set.call(e.t0,"userHasEditingPrivileges",e.t1);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"fetchUserHasEditingPrivileges",value:(n=Object(i.a)(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.url?null==h.b?void 0:h.b.findCredential(this.url):null){e.next=3;break}return e.abrupt("return",!0);case 3:if(C.credential!==r){e.next=7;break}e.t0=C.user,e.next=10;break;case 7:return e.next=9,this.fetchEditingUser(t);case 9:e.t0=e.sent;case 10:return n=e.t0,e.abrupt("return",(C.credential=r,C.user=n,Object(g.h)(n)||null==n.privileges||n.privileges.includes("features:user:edit")));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"fetchEditingUser",value:(t=Object(i.a)(p.a.mark((function e(t){var r,n,i,a,o,s,c,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=null==(r=this.portalItem)||null==(n=r.portal)?void 0:n.user)){e.next=3;break}return e.abrupt("return",i);case 3:if(null!=(a=h.b.findServerInfo(this.url))&&a.owningSystemUrl){e.next=6;break}return e.abrupt("return",null);case 6:if(o="".concat(a.owningSystemUrl,"/sharing/rest"),!(s=S.a.getDefault())||!s.loaded||Object(j.D)(s.restUrl)!==Object(j.D)(o)){e.next=9;break}return e.abrupt("return",s.user);case 9:return c="".concat(o,"/community/self"),u=Object(g.i)(t)?t.signal:null,e.next=13,Object(y.c)(Object(b.default)(c,{authMode:"no-prompt",query:{f:"json"},signal:u}));case 13:return l=e.sent,e.abrupt("return",l.ok?I.default.fromJSON(l.value.data):null);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"read",value:function(e,t){t&&(t.layer=this),Object(s.a)(Object(l.a)(m.prototype),"read",this).call(this,e,t)}},{key:"write",value:function(e,t){var r=t&&t.portal,n=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||S.a.getDefault());return r&&n&&!Object(j.r)(n.restUrl,r.restUrl)?(t.messages&&t.messages.push(new v.a("layer:cross-portal","The layer '".concat(this.title," (").concat(this.id,")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer"),{layer:this})),null):Object(s.a)(Object(l.a)(m.prototype),"write",this).call(this,e,M(M({},t),{},{layer:this}))}}]),m}(e);return Object(d.a)([Object(w.b)({type:P.default})],t.prototype,"portalItem",null),Object(d.a)([Object(_.a)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),Object(d.a)([Object(x.a)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),Object(d.a)([Object(w.b)()],t.prototype,"resourceReferences",void 0),Object(d.a)([Object(w.b)({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=Object(d.a)([Object(k.a)("esri.layers.mixins.PortalLayer")],t),t},C={credential:null,user:null}},"46c3":function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}));var n=r("7im+");function i(e){return a((function(){return e.forEach((function(e){return Object(n.i)(e)&&e.remove()}))}))}function a(e){return{remove:function(){e&&(e(),e=void 0)}}}},"4Dxs":function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r("hisu"),i=r("yBJb"),a=r("TM+E");function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(n.a)(this,e),this.eventType=t,this.keyModifiers=r}return Object(i.a)(e,[{key:"matches",value:function(e){if(e.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;var t,r=e.modifiers,n=o(this.keyModifiers);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(!r.has(i))return!1}}catch(a){n.e(a)}finally{n.f()}return!0}}]),e}();function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=a.a.getLogger("esri.views.input.InputHandler"),p=function(){function e(t){Object(n.a)(this,e),this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}return Object(i.a)(e,[{key:"incomingEventMatches",get:function(){if(!this._incomingEventMatches)for(var e in this._incomingEventMatches=[],this._incoming){var t,r=u(this._incoming[e]);try{for(r.s();!(t=r.n()).done;){var n=t.value;this._incomingEventMatches.push(n.match)}}catch(i){r.e(i)}finally{r.f()}}return this._incomingEventMatches}},{key:"incomingEventTypes",get:function(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map((function(e){return e.eventType}))),this._incomingEventTypes}},{key:"outgoingEventTypes",get:function(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}},{key:"hasSideEffects",get:function(){return this._hasSideEffects}},{key:"hasPendingInputs",get:function(){return!1}},{key:"onInstall",value:function(e){var t=this;this._manager?f.error("This InputHandler has already been registered with an InputManager"):(e.setEventCallback((function(e){return t._handleEvent(e)})),e.setUninstallCallback((function(){return t._onUninstall()})),this._manager=e)}},{key:"onUninstall",value:function(){}},{key:"registerIncoming",value:function(e,t,r){var n,i=this;"function"==typeof t?(r=t,n=[]):n=t||[];var a="string"==typeof e?new c(e,n):e,o=function(){i._incomingEventTypes=null,i._incomingEventMatches=null},s=function(e){var t=i._incoming[e.match.eventType];if(t){var r=t.indexOf(e);t.splice(r,1),o(),i._manager&&i._manager.updateDependencies()}},u=new d(a,r,{onPause:s,onRemove:s,onResume:function(e){var t=i._incoming[e.match.eventType];t&&-1===t.indexOf(e)&&(t.push(e),o(),i._manager&&i._manager.updateDependencies())}}),l=this._incoming[a.eventType];return l||(l=[],this._incoming[a.eventType]=l),l.push(u),o(),this._manager&&this._manager.updateDependencies(),u}},{key:"registerOutgoing",value:function(e){var t=this;if(this._outgoing[e])throw Error("There is already a callback registered for this outgoing InputEvent: "+e);var r=new h(e,{onEmit:function(e,r,n,i){t._manager.emit(e.eventType,r,n,i)},onRemove:function(e){delete t._outgoing[e.eventType],t._manager.updateDependencies()}});return this._outgoing[e]=r,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),r}},{key:"startCapturingPointer",value:function(e){this._manager.setPointerCapture(e,!0)}},{key:"stopCapturingPointer",value:function(e){this._manager.setPointerCapture(e,!1)}},{key:"refreshHasPendingInputs",value:function(){this._manager.refreshHasPendingInputs()}},{key:"_onUninstall",value:function(){this._manager?(this.onUninstall(),this._manager=null):f.error("This InputHandler is not registered with an InputManager")}},{key:"_handleEvent",value:function(e){var t=this._incoming[e.type];if(t){var r,n=u(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.match.matches(e)&&(i.callback(e),e.shouldStopPropagation()))break}}catch(a){n.e(a)}finally{n.f()}}}}]),e}(),d=function(){function e(t,r,i){Object(n.a)(this,e),this.match=t,this._callback=r,this._handler=i}return Object(i.a)(e,[{key:"pause",value:function(){this._handler.onPause(this)}},{key:"resume",value:function(){this._handler.onResume(this)}},{key:"remove",value:function(){this._handler.onRemove(this)}},{key:"callback",get:function(){return this._callback}}]),e}(),h=function(){function e(t,r){Object(n.a)(this,e),this.eventType=t,this._removed=!1,this._handler=r}return Object(i.a)(e,[{key:"emit",value:function(e,t,r){this._removed||this._handler.onEmit(this,e,t,r)}},{key:"remove",value:function(){this._removed=!0,this._handler.onRemove(this)}}]),e}()},"4GoY":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("yPX3"),d=r("iVOX");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var b=n=function(e){Object(o.a)(r,e);var t=h(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="line-chart",n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),r}(p.a);Object(u.a)([Object(l.b)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:d.a.write}})],b.prototype,"type",void 0);var y=b=n=Object(u.a)([Object(f.a)("esri.popup.content.LineChartMediaInfo")],b);t.a=y},"4Mpa":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("P+uj");function i(e,t,r){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(n.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}},"4VMI":function(e,t,r){"use strict";var n,i=r("mK0O"),a=r("hisu"),o=r("yBJb"),s=r("0942"),c=r("CHlC"),u=r("kMo5"),l=r("P+uj"),f=r("dQW7"),p=r("ZTBZ"),d=r("hKEQ"),h=r("fb8N"),b=r("0n+b"),y=r("0fJP"),v=r("7im+"),m=r("OYew"),g=r("xAIp"),O=(r("wckI"),r("J4Pc"),r("TM+E"),r("iaHD")),j=r("aic5");function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var x=n=function(e){Object(c.a)(r,e);var t=k(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).isAggregate=!1,e.layer=null,e.popupTemplate=null,e.sourceLayer=null,Object.defineProperty(Object(s.a)(e),"uid",{value:Object(m.a)(),configurable:!0}),e}return Object(o.a)(r,[{key:"normalizeCtorArgs",value:function(e,t,r,n){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:n}}},{key:"attributes",set:function(e){var t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}},{key:"geometry",set:function(e){var t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}},{key:"symbol",set:function(e){var t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}},{key:"visible",set:function(e){var t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}},{key:"getEffectivePopupTemplate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.popupTemplate)return this.popupTemplate;for(var t=0,r=[this.sourceLayer,this.layer];t<r.length;t++){var n=r[t];if(n){if("popupTemplate"in n&&n.popupTemplate)return n.popupTemplate;if(e&&"defaultPopupTemplate"in n&&Object(v.i)(n.defaultPopupTemplate))return n.defaultPopupTemplate}}return null}},{key:"getAttribute",value:function(e){return this.attributes&&this.attributes[e]}},{key:"setAttribute",value:function(e,t){if(this.attributes){var r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes=Object(i.a)({},e,t),this._notifyLayer("attributes",void 0,t,e)}},{key:"getObjectId",value:function(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}},{key:"toJSON",value:function(){return{geometry:Object(v.i)(this.geometry)?this.geometry.toJSON():null,symbol:Object(v.i)(this.symbol)?this.symbol.toJSON():null,attributes:_({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}},{key:"clone",value:function(){return new n(this.cloneProperties())}},{key:"notifyGeometryChanged",value:function(){this._notifyLayer("geometry",this.geometry,this.geometry)}},{key:"cloneProperties",value:function(){return{attributes:Object(y.a)(this.attributes),geometry:Object(y.a)(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:Object(y.a)(this.symbol),visible:this.visible}}},{key:"_notifyLayer",value:function(e,t,r,n){if(this.layer&&"graphicChanged"in this.layer){var i={graphic:this,property:e,oldValue:t,newValue:r};"attributes"===e&&(i.attributeName=n),this.layer.graphicChanged(i)}}}]),r}(b.a);Object(f.a)([Object(g.b)({value:null})],x.prototype,"attributes",null),Object(f.a)([Object(g.b)({value:null,types:p.a,json:{read:j.a}})],x.prototype,"geometry",null),Object(f.a)([Object(g.b)({type:Boolean})],x.prototype,"isAggregate",void 0),Object(f.a)([Object(g.b)()],x.prototype,"layer",void 0),Object(f.a)([Object(g.b)({type:d.a})],x.prototype,"popupTemplate",void 0),Object(f.a)([Object(g.b)()],x.prototype,"sourceLayer",void 0),Object(f.a)([Object(g.b)({value:null,types:h.e})],x.prototype,"symbol",null),Object(f.a)([Object(g.b)({type:Boolean,value:!0})],x.prototype,"visible",null),x=n=Object(f.a)([Object(O.a)("esri.Graphic")],x),(x||(x={})).generateUID=m.a;var S=x;t.a=S},"4WE2":function(e,t,r){"use strict";r.d(t,"a",(function(){return $})),r.d(t,"b",(function(){return re})),r.d(t,"c",(function(){return Z})),r.d(t,"d",(function(){return K})),r.d(t,"e",(function(){return Q})),r.d(t,"f",(function(){return G})),r.d(t,"g",(function(){return H})),r.d(t,"h",(function(){return U})),r.d(t,"i",(function(){return X})),r.d(t,"j",(function(){return te})),r.d(t,"k",(function(){return Y})),r.d(t,"l",(function(){return L})),r.d(t,"m",(function(){return x})),r.d(t,"n",(function(){return z})),r.d(t,"o",(function(){return B})),r.d(t,"p",(function(){return he})),r.d(t,"q",(function(){return oe})),r.d(t,"r",(function(){return ue})),r.d(t,"s",(function(){return de})),r.d(t,"t",(function(){return ie})),r.d(t,"u",(function(){return ae})),r.d(t,"v",(function(){return j})),r.d(t,"w",(function(){return w})),r.d(t,"x",(function(){return fe})),r.d(t,"y",(function(){return ne})),r.d(t,"z",(function(){return le}));var n=r("6CzD"),i=r("aNYv"),a=r("Mp7X"),o=r("TM+E"),s=r("aic5"),c=r("JBec"),u=r("TFJl"),l=r("4zgH");function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){return e?t?4:3:t?3:2}var h=o.a.getLogger("esri.tasks.support.optimizedFeatureSet"),b={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},y=function(e,t,r,n,i,a){e[r]=i,e[r+1]=a},v=function(e,t,r,n,i,a){e[r]=i,e[r+1]=a,e[r+2]=t[n+2]},m=function(e,t,r,n,i,a){e[r]=i,e[r+1]=a,e[r+2]=t[n+3]},g=function(e,t,r,n,i,a){e[r]=i,e[r+1]=a,e[r+2]=t[n+2],e[r+3]=t[n+3]};function O(e,t,r,n){if(e){if(r)return t&&n?g:v;if(t&&n)return m}else if(t&&n)return v;return y}function j(e,t){var r=e.scale,n=e.translate;return Math.round((t-n[0])/r[0])}function w(e,t){var r=e.scale,n=e.translate;return Math.round((n[1]-t)/r[1])}function _(e,t){var r=e.scale,n=e.translate;return t*r[0]+n[0]}function k(e,t){var r=e.scale;return e.translate[1]-t*r[1]}function x(e,t,r){return e?t?r?T(e):I(e):r?M(e):S(e):null}function S(e){var t=e.coords;return{x:t[0],y:t[1]}}function P(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function I(e){var t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function R(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function M(e){var t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function E(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function T(e){var t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function A(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function C(e,t){return e&&t?A:e?R:t?E:P}function D(e,t,r,n,i){var a,o=C(r,n),s=f(t);try{for(s.s();!(a=s.n()).done;){var u=a.value,p=u.geometry,d=u.attributes,h=void 0;p&&(h=o(new l.a,p)),e.push(new c.a(h,d,null,d[i]))}}catch(b){s.e(b)}finally{s.f()}return e}function L(e,t,r){if(!e)return null;for(var n=d(t,r),i=[],a=0;a<e.coords.length;a+=n){for(var o=[],s=0;s<n;s++)o.push(e.coords[a+s]);i.push(o)}return t?r?{points:i,hasZ:t,hasM:r}:{points:i,hasZ:t}:r?{points:i,hasM:r}:{points:i}}function F(e,t,r,n,i){var a,o=d(r,n),s=f(t);try{for(s.s();!(a=s.n()).done;){var u=a.value,p=u.geometry,h=u.attributes,b=void 0;p&&(b=N(new l.a,p,o)),e.push(new c.a(b,h,null,h[i]))}}catch(y){s.e(y)}finally{s.f()}return e}function N(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d(t.hasZ,t.hasM);e.lengths[0]=t.points.length;var n,i=e.coords,a=0,o=f(t.points);try{for(o.s();!(n=o.n()).done;)for(var s=n.value,c=0;c<r;c++)i[a++]=s[c]}catch(u){o.e(u)}finally{o.f()}return e}function B(e,t,r){if(!e)return null;var n,i=d(t,r),a=e.coords,o=[],s=0,c=f(e.lengths);try{for(c.s();!(n=c.n()).done;){for(var u=n.value,l=[],p=0;p<u;p++){for(var h=[],b=0;b<i;b++)h.push(a[s++]);l.push(h)}o.push(l)}}catch(y){c.e(y)}finally{c.f()}return t?r?{paths:o,hasZ:t,hasM:r}:{paths:o,hasZ:t}:r?{paths:o,hasM:r}:{paths:o}}function V(e,t,r,n,i){var a,o=d(r,n),s=f(t);try{for(s.s();!(a=s.n()).done;){var u=a.value,p=u.geometry,h=u.attributes,b=void 0;p&&(b=U(new l.a,p,o)),e.push(new c.a(b,h,null,h[i]))}}catch(y){s.e(y)}finally{s.f()}return e}function U(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d(t.hasZ,t.hasM),i=e.lengths,a=e.coords,o=0,s=f(t.paths);try{for(s.s();!(r=s.n()).done;){var c,u=r.value,l=f(u);try{for(l.s();!(c=l.n()).done;)for(var p=c.value,h=0;h<n;h++)a[o++]=p[h]}catch(b){l.e(b)}finally{l.f()}i.push(u.length)}}catch(b){s.e(b)}finally{s.f()}return e}function z(e,t,r){if(!e)return null;var n,i=d(t,r),a=e.coords,o=[],s=0,c=f(e.lengths);try{for(c.s();!(n=c.n()).done;){for(var u=n.value,l=[],p=0;p<u;p++){for(var h=[],b=0;b<i;b++)h.push(a[s++]);l.push(h)}o.push(l)}}catch(y){c.e(y)}finally{c.f()}return t?r?{rings:o,hasZ:t,hasM:r}:{rings:o,hasZ:t}:r?{rings:o,hasM:r}:{rings:o}}function q(e,t,r,n,i){var a,o=f(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=s.geometry,p=s.centroid,d=s.attributes,h=void 0;u&&(h=H(new l.a,u,r,n)),p?e.push(new c.a(h,d,P(new l.a,p),d[i])):e.push(new c.a(h,d,null,d[i]))}}catch(b){o.e(b)}finally{o.f()}return e}function H(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.hasZ,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.hasM;return G(e,t.rings,r,n),e}function G(e,t,r,n){var i=d(r,n),a=e.lengths,o=e.coords,s=0;a.length=o.length=0;var c,u=f(t);try{for(u.s();!(c=u.n()).done;){var l,p=c.value,h=f(p);try{for(h.s();!(l=h.n()).done;)for(var b=l.value,y=0;y<i;y++)o[s++]=b[y]}catch(v){h.e(v)}finally{h.f()}a.push(p.length)}}catch(v){u.e(v)}finally{u.f()}return e}var W=[],J=[];function $(e,t,r,n,a){W[0]=e;var o=Z(J,W,t,r,n,a),s=Object(i.a)(o,1)[0];return W.length=J.length=0,s}function Z(e,t,r,n,i,o){if(e.length=0,!r){var s,u=f(t);try{for(u.s();!(s=u.n()).done;){var l=s.value,p=l.attributes[o];e.push(new c.a(null,l.attributes,null,p))}}catch(d){u.e(d)}finally{u.f()}return e}switch(r){case"esriGeometryPoint":return D(e,t,n,i,o);case"esriGeometryMultipoint":return F(e,t,n,i,o);case"esriGeometryPolyline":return V(e,t,n,i,o);case"esriGeometryPolygon":return q(e,t,n,i,o);default:h.error("convertToFeatureSet:unknown-geometry",new a.a("Unable to parse unknown geometry type '".concat(r,"'"))),e.length=0}return e}function Q(e,t,r,n,i,o){var s=e.length;switch(r){case"esriGeometryPoint":D(e,t,n,i,o);break;case"esriGeometryMultipoint":F(e,t,n,i,o);break;case"esriGeometryPolyline":V(e,t,n,i,o);break;case"esriGeometryPolygon":q(e,t,n,i,o);break;default:h.error("convertToFeatureSet:unknown-geometry",new a.a("Unable to parse unknown geometry type '".concat(r,"'")))}for(var c=0;c<t.length;c++)e[c+s].geometryType=r,e[c+s].insertAfter=t[c].insertAfter,e[c+s].groupId=t[c].groupId;return e}function X(e,t,r,n){J[0]=e,ee(W,J,t,r,n);var i=W[0];return W.length=J.length=0,i}function K(e,t,r){if(!e)return null;var n=new l.a;return"hasZ"in e&&null==t&&(t=e.hasZ),"hasM"in e&&null==r&&(r=e.hasM),Object(s.f)(e)?C(null!=t?t:null!=e.z,null!=r?r:null!=e.m)(n,e):Object(s.g)(e)?H(n,e,t,r):Object(s.h)(e)?U(n,e,d(t,r)):Object(s.e)(e)?N(n,e,d(t,r)):void h.error("convertFromGeometry:unknown-geometry",new a.a("Unable to parse unknown geometry type '".concat(e,"'")))}function Y(e,t,r,n){var i=e&&("coords"in e?e:e.geometry);if(!i)return null;switch(t){case"esriGeometryPoint":var o=S;return r&&n?o=T:r?o=I:n&&(o=M),o(i);case"esriGeometryMultipoint":return L(i,r,n);case"esriGeometryPolyline":return B(i,r,n);case"esriGeometryPolygon":return z(i,r,n);default:return void h.error("convertToGeometry:unknown-geometry",new a.a("Unable to parse unknown geometry type '".concat(t,"'")))}}function ee(e,t,r,n,i){switch(e.length=0,r){case"esriGeometryPoint":return function(e,t,r,n){var i=S;r&&n?i=T:r?i=I:n&&(i=M);var a,o=f(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=s.geometry,u=s.attributes,l=c?i(c):null;e.push({attributes:u,geometry:l})}}catch(p){o.e(p)}finally{o.f()}return e}(e,t,n,i);case"esriGeometryMultipoint":return function(e,t,r,n){var i,a=f(t);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.geometry,c=o.attributes,u=void 0;s&&(u=L(s,r,n)),e.push({attributes:c,geometry:u})}}catch(l){a.e(l)}finally{a.f()}return e}(e,t,n,i);case"esriGeometryPolyline":return function(e,t,r,n){var i,a=f(t);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.geometry,c=o.attributes,u=void 0;s&&(u=B(s,r,n)),e.push({attributes:c,geometry:u})}}catch(l){a.e(l)}finally{a.f()}return e}(e,t,n,i);case"esriGeometryPolygon":return function(e,t,r,n){var i,a=f(t);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.geometry,c=o.attributes,u=o.centroid,l=void 0;if(s&&(l=z(s,r,n)),u){var p=S(u);e.push({attributes:c,centroid:p,geometry:l})}else e.push({attributes:c,geometry:l})}}catch(d){a.e(d)}finally{a.f()}return e}(e,t,n,i);default:h.error("convertToFeatureSet:unknown-geometry",new a.a("Unable to parse unknown geometry type '".concat(r,"'")))}return e}function te(e){var t=e.objectIdFieldName,r=e.spatialReference,n=e.transform,i=e.fields,a=e.hasM,o=e.hasZ,s=e.features,c=e.geometryType,u=e.exceededTransferLimit,l=e.uniqueIdField,f=e.queryGeometry,p=e.queryGeometryType,d={features:ee([],s,c,o,a),fields:i,geometryType:c,objectIdFieldName:t,spatialReference:r,uniqueIdField:l,queryGeometry:Y(f,p,!1,!1)};return n&&(d.transform=n),u&&(d.exceededTransferLimit=u),a&&(d.hasM=a),o&&(d.hasZ=o),d}function re(e,t){var r=new u.a,n=e.hasM,i=e.hasZ,o=e.features,s=e.objectIdFieldName,c=e.spatialReference,l=e.geometryType,f=e.exceededTransferLimit,p=e.transform,d=e.fields;return d&&(r.fields=d),r.geometryType=l,r.objectIdFieldName=s||t,r.spatialReference=c,r.objectIdFieldName?(o&&Z(r.features,o,l,i,n,r.objectIdFieldName),f&&(r.exceededTransferLimit=f),n&&(r.hasM=n),i&&(r.hasZ=i),p&&(r.transform=p),r):(h.error(new a.a("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),r)}function ne(e){var t=e.transform,r=e.features,n=e.hasM,i=e.hasZ;if(!t)return e;var a,o=f(r);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.geometry&&le(s.geometry,s.geometry,n,i,t),s.centroid&&le(s.centroid,s.centroid,n,i,t)}}catch(c){o.e(c)}finally{o.f()}return e.transform=null,e}function ie(e,t){var r=t.geometryType,n=t.features,i=t.hasM,a=t.hasZ;if(!e)return t;for(var o=0;o<n.length;o++){var s=n[o],c=s.weakClone();c.geometry=new l.a,ae(c.geometry,s.geometry,i,a,r,e),s.centroid&&(c.centroid=new l.a,ae(c.centroid,s.centroid,i,a,"esriGeometryPoint",e)),n[o]=c}return t.transform=e,t}function ae(e,t,r,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:r,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:n;if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;var c=b[i],u=t.coords,l=t.lengths,p=d(r,n),h=d(r&&o,n&&s),y=O(r,n,o,s);if(!l.length)return y(e.coords,u,0,0,j(a,u[0]),w(a,u[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=p,e;var v,m,g,_,k,x=0,S=0,P=S,I=f(l);try{for(I.s();!(k=I.n()).done;){var R=k.value;if(!(R<c)){var M=0;S=P,g=v=j(a,u[x]),_=m=w(a,u[x+1]),y(e.coords,u,S,x,g,_),M++,x+=p,S+=h;for(var E=1;E<R;E++,x+=p)g=j(a,u[x]),_=w(a,u[x+1]),g===v&&_===m||(y(e.coords,u,S,x,g-v,_-m),S+=h,M++,v=g,m=_);M>=c&&(e.lengths.push(M),P=S)}}}catch(T){I.e(T)}finally{I.f()}return e.coords.length=P,e.coords.length?e:null}function oe(e,t,r,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:r,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:n;if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;var c=b[i],u=t.coords,l=t.lengths,p=d(r,n),h=d(r&&o,n&&s),y=O(r,n,o,s);if(!l.length)return y(e.coords,u,0,0,u[0],u[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=p,e;var v,m=0,g=a*a,j=f(l);try{for(j.s();!(v=j.n()).done;){var w=v.value;if(w<c)m+=w*p;else{var _=e.coords.length/h,k=m,x=m+(w-1)*p;y(e.coords,u,e.coords.length,k,u[k],u[k+1]),ce(e.coords,u,p,g,y,k,x),y(e.coords,u,e.coords.length,x,u[x],u[x+1]);var S=e.coords.length/h-_;S>=c?e.lengths.push(S):e.coords.length=_*h,m+=w*p}}}catch(P){j.e(P)}finally{j.f()}return e.coords.length?e:null}function se(e,t,r,n){var i=e[t],a=e[t+1],o=e[r],s=e[r+1],c=e[n],u=e[n+1],l=o,f=s,p=c-l,d=u-f;if(0!==p||0!==d){var h=((i-l)*p+(a-f)*d)/(p*p+d*d);h>1?(l=c,f=u):h>0&&(l+=p*h,f+=d*h)}return(p=i-l)*p+(d=a-f)*d}function ce(e,t,r,n,i,a,o){for(var s,c=n,u=0,l=a+r;l<o;l+=r)(s=se(t,l,a,o))>c&&(u=l,c=s);c>n&&(u-a>r&&ce(e,t,r,n,i,a,u),i(e,t,e.length,u,t[u],t[u+1]),o-u>r&&ce(e,t,r,n,i,u,o))}function ue(e,t,r,n){if(!t||!t.coords||!t.coords.length)return null;var i=d(r,n),a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY;if(t&&t.coords)for(var u=t.coords,l=0;l<u.length;l+=i){var f=u[l],p=u[l+1];a=Math.min(a,f),s=Math.max(s,f),o=Math.min(o,p),c=Math.max(c,p)}return e[0]=a,e[1]=o,e[2]=s,e[3]=c,e}function le(e,t,r,n,a){var o=t.coords,s=t.lengths,c=r?n?g:v:n?v:y,u=d(r,n);if(!o.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!s.length)return c(e.coords,o,0,0,_(a,o[0]),k(a,o[1])),e!==t&&(e.lengths.length=0,e.coords.length=u),e;for(var l=Object(i.a)(a.scale,2),f=l[0],p=l[1],h=0,b=0;b<s.length;b++){var m=s[b];e.lengths[b]=m;var O=_(a,o[h]),j=k(a,o[h+1]);c(e.coords,o,h,h,O,j),h+=u;for(var w=1;w<m;w++,h+=u)O+=o[h]*f,j-=o[h+1]*p,c(e.coords,o,h,h,O,j)}return e!==t&&(e.lengths.length=s.length,e.coords.length=o.length),e}function fe(e,t,r,i,a,o){var s,c=d(r,i),u=O(r,i,a,o),l=t.coords;e.coords.length=0,e.lengths.length=0,(s=e.lengths).push.apply(s,Object(n.a)(t.lengths));for(var f=0;f<l.length;f+=c)u(e.coords,l,e.coords.length,f,l[f],l[f+1]);return e}function pe(e,t,r,n){for(var i=0,a=e[n*t],o=e[n*(t+1)],s=1;s<r;s++){var c=a+e[n*(t+s)],u=o+e[n*(t+s)+1],l=(c-a)*(u+o);a=c,o=u,i+=l}return.5*i}function de(e,t){for(var r=e.coords,n=e.lengths,i=0,a=0,o=0;o<n.length;o++)a+=pe(r,i,n[o],t),i+=o;return Math.abs(a)}function he(e,t){for(var r=e.clone(),n=e.coords,i=e.lengths,a=0,o=0;o<i.length;o++){for(var s=i[o],c=n[t*a],u=n[t*a+1],l=1;l<s;l++){var f=c+n[t*(a+l)],p=u+n[t*(a+l)+1];r.coords[t*(a+l)]=f,r.coords[t*(a+l)+1]=p,c=f,u=p}a+=s}return r}},"4a20":function(e,t){e.exports=function(e){return this.__data__.has(e)}},"4i+k":function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("J4Pc"),o=r("60cM"),s=4294967296,c=Object(a.a)("esri-text-decoder")?new TextDecoder("utf-8"):null,u=Object(a.a)("safari")||Object(a.a)("ios")?6:Object(a.a)("ff")?12:32,l=function(){function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t?t.byteLength:0;Object(n.a)(this,e),this._tag=0,this._dataType=99,this.init(t,r,i,a)}return Object(i.a)(e,[{key:"init",value:function(e,t,r,n){this._data=e,this._dataView=t,this._pos=r,this._end=n}},{key:"clone",value:function(){return new e(this._data,this._dataView,this._pos,this._end)}},{key:"pos",value:function(){return this._pos}},{key:"move",value:function(e){this._pos=e}},{key:"nextTag",value:function(e){for(;;){if(this._pos===this._end)return!1;var t=this._decodeVarint();if(this._tag=t>>3,this._dataType=7&t,!e||e===this._tag)break;this.skip()}return!0}},{key:"next",value:function(){if(this._pos===this._end)return!1;var e=this._decodeVarint();return this._tag=e>>3,this._dataType=7&e,!0}},{key:"empty",value:function(){return this._pos>=this._end}},{key:"tag",value:function(){return this._tag}},{key:"getInt32",value:function(){return this._decodeVarint()}},{key:"getInt64",value:function(){return this._decodeVarint()}},{key:"getUInt32",value:function(){var e=4294967295;return e=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?e:(e=(e|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?e:void 0))))}},{key:"getUInt64",value:function(){return this._decodeVarint()}},{key:"getSInt32",value:function(){var e=this.getUInt32();return e>>>1^-(1&e)|0}},{key:"getSInt64",value:function(){return this._decodeSVarint()}},{key:"getBool",value:function(){var e=0!==this._data[this._pos];return this._skip(1),e}},{key:"getEnum",value:function(){return this._decodeVarint()}},{key:"getFixed64",value:function(){var e=this._dataView,t=this._pos,r=e.getUint32(t,!0)+e.getUint32(t+4,!0)*s;return this._skip(8),r}},{key:"getSFixed64",value:function(){var e=this._dataView,t=this._pos,r=e.getUint32(t,!0)+e.getInt32(t+4,!0)*s;return this._skip(8),r}},{key:"getDouble",value:function(){var e=this._dataView.getFloat64(this._pos,!0);return this._skip(8),e}},{key:"getFixed32",value:function(){var e=this._dataView.getUint32(this._pos,!0);return this._skip(4),e}},{key:"getSFixed32",value:function(){var e=this._dataView.getInt32(this._pos,!0);return this._skip(4),e}},{key:"getFloat",value:function(){var e=this._dataView.getFloat32(this._pos,!0);return this._skip(4),e}},{key:"getString",value:function(){var e=this._getLength(),t=this._pos,r=this._toString(this._data,t,t+e);return this._skip(e),r}},{key:"getBytes",value:function(){var e=this._getLength(),t=this._pos,r=this._toBytes(this._data,t,t+e);return this._skip(e),r}},{key:"getLength",value:function(){return this._getLengthUnsafe()}},{key:"processMessageWithArgs",value:function(e,t,r,n){var i=this.getMessage(),a=e(i,t,r,n);return i.release(),a}},{key:"processMessage",value:function(e){var t=this.getMessage(),r=e(t);return t.release(),r}},{key:"getMessage",value:function(){var t=this._getLength(),r=e.pool.acquire();return r.init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),r}},{key:"release",value:function(){e.pool.release(this)}},{key:"dataType",value:function(){return this._dataType}},{key:"skip",value:function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw new Error("Invalid data type!")}}},{key:"skipLen",value:function(e){this._skip(e)}},{key:"_skip",value:function(e){if(this._pos+e>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=e}},{key:"_decodeVarint",value:function(){var e,t=this._data,r=this._pos,n=0;if(this._end-r>=10)do{if(n|=127&(e=t[r++]),0==(128&e))break;if(n|=(127&(e=t[r++]))<<7,0==(128&e))break;if(n|=(127&(e=t[r++]))<<14,0==(128&e))break;if(n|=(127&(e=t[r++]))<<21,0==(128&e))break;if(n+=268435456*(127&(e=t[r++])),0==(128&e))break;if(n+=34359738368*(127&(e=t[r++])),0==(128&e))break;if(n+=4398046511104*(127&(e=t[r++])),0==(128&e))break;if(n+=562949953421312*(127&(e=t[r++])),0==(128&e))break;if(n+=72057594037927940*(127&(e=t[r++])),0==(128&e))break;if(n+=0x8000000000000000*(127&(e=t[r++])),0==(128&e))break;throw new Error("Varint too long!")}while(0);else{for(var i=1;r!==this._end&&0!=(128&(e=t[r]));)++r,n+=(127&e)*i,i*=128;if(r===this._end)throw new Error("Varint overrun!");++r,n+=e*i}return this._pos=r,n}},{key:"_decodeSVarint",value:function(){var e=this._decodeVarint();return e%2?-(e+1)/2:e/2}},{key:"_getLength",value:function(){if(2!==this._dataType)throw new Error("Not a delimited data type!");return this._decodeVarint()}},{key:"_getLengthUnsafe",value:function(){return this.getUInt32()}},{key:"_toString",value:function(e,t,r){if((r=Math.min(this._end,r))-t>u&&c){var n=e.subarray(t,r);return c.decode(n)}for(var i="",a="",o=t;o<r;++o){var s=e[o];128&s?a+="%"+s.toString(16):(i+=decodeURIComponent(a)+String.fromCharCode(s),a="")}return a.length&&(i+=decodeURIComponent(a)),i}},{key:"_toBytes",value:function(e,t,r){return r=Math.min(this._end,r),new Uint8Array(e.buffer,t,r-t)}}]),e}();l.pool=new o.a(l,null,(function(e){e._data=null,e._dataView=null})),t.a=l},"4ifT":function(e,t,r){"use strict";var n=r("tM9Q"),i=r("aD51");"undefined"!=typeof IZoomWidget&&IZoomWidget&&IZoomWidget===Object(IZoomWidget)&&Object.isExtensible(IZoomWidget)&&!IZoomWidget.hasOwnProperty("__filemeta")&&Object.defineProperty(IZoomWidget,"__filemeta",{configurable:!0,value:{name:"IZoomWidget",filename:"src/widgets/Zoom.tsx"}});var a=function(e){return Object(i.c)(n.Zoom,e)};t.a=a,void 0!==a&&a&&a===Object(a)&&Object.isExtensible(a)&&!a.hasOwnProperty("__filemeta")&&Object.defineProperty(a,"__filemeta",{configurable:!0,value:{name:"Zoomy",filename:"src/widgets/Zoom.tsx"}})},"4mhO":function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},"4pFD":function(e,t,r){"use strict";var n=r("tM9Q"),i=r("aD51");"undefined"!=typeof IDirectionsWidget&&IDirectionsWidget&&IDirectionsWidget===Object(IDirectionsWidget)&&Object.isExtensible(IDirectionsWidget)&&!IDirectionsWidget.hasOwnProperty("__filemeta")&&Object.defineProperty(IDirectionsWidget,"__filemeta",{configurable:!0,value:{name:"IDirectionsWidget",filename:"src/widgets/Directions.tsx"}});var a=function(e){return Object(i.c)(n.Directions,e)};t.a=a,void 0!==a&&a&&a===Object(a)&&Object.isExtensible(a)&&!a.hasOwnProperty("__filemeta")&&Object.defineProperty(a,"__filemeta",{configurable:!0,value:{name:"Directionsy",filename:"src/widgets/Directions.tsx"}})},"4vgF":function(e,t,r){"use strict";function n(){return[0,0,0]}function i(e){return[e[0],e[1],e[2]]}function a(e,t,r){return[e,t,r]}function o(e){for(var t=[0,0,0],r=Math.min(3,e.length),n=0;n<r;++n)t[n]=e[n];return t}function s(e,t){return new Float64Array(e,t,3)}function c(){return[0,0,0]}function u(){return a(1,1,1)}function l(){return a(1,0,0)}function f(){return a(0,1,0)}function p(){return a(0,0,1)}r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return n})),r.d(t,"f",(function(){return o})),r.d(t,"g",(function(){return a}));var d=[0,0,0],h=u(),b=l(),y=f(),v=p();Object.freeze({__proto__:null,create:n,clone:i,fromValues:a,fromArray:o,createView:s,zeros:c,ones:u,unitX:l,unitY:f,unitZ:p,ZEROS:d,ONES:h,UNIT_X:b,UNIT_Y:y,UNIT_Z:v})},"4zgH":function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(n.a)(this,e),this.lengths=null!=t?t:[],this.coords=null!=r?r:[],this.hasIndeterminateRingOrder=i}return Object(i.a)(e,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"forEachVertex",value:function(e){var t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(var r=0;r<this.lengths.length;r++){for(var n=this.lengths[r],i=0;i<n;i++)e(this.coords[2*(i+t)],this.coords[2*(i+t)+1]);t+=n}}},{key:"clone",value:function(){return new e(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}]),e}();t.a=a},"5+lF":function(e,t,r){var n=r("naAV");e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},"5Avs":function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},"5Drr":function(e,t,r){"use strict";var n=r("NthX"),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("ERkP"),f=u(r("lZ6b"));t.default=function(e){var t=c(e,[]),i=f.default(),a=i.map,u=i.view;return l.useEffect((function(){return u&&u.ready&&s(void 0,void 0,void 0,n.mark((function e(){var i,s,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return o(r("2LA6"))}));case 2:i=e.sent,s=i.default,c=new s(t),null==a||a.layers.add(c);case 6:case"end":return e.stop()}}),e)}))),function(){!1,null==a||a.layers.remove(void 0)}}),[a,u]),null}},"5LHb":function(e,t,r){"use strict";t.__esModule=!0,t.useScrollRestoration=t.ScrollContainer=t.ScrollContext=void 0;var n=r("czn3");t.ScrollContext=n.ScrollHandler;var i=r("7UJ8");t.ScrollContainer=i.ScrollContainer;var a=r("xvMO");t.useScrollRestoration=a.useScrollRestoration},"5UAi":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("hZBP"),f=r("xAIp"),p=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),d=r("eoZi");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var b=n=function(e){Object(o.a)(r,e);var t=h(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).portal=null,e}return Object(a.a)(r,[{key:"clone",value:function(){return new n({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}}]),r}(l.a);Object(u.a)([Object(f.b)({type:String})],b.prototype,"name",void 0),Object(u.a)([Object(f.b)({type:String})],b.prototype,"styleUrl",void 0),Object(u.a)([Object(f.b)({type:String})],b.prototype,"styleName",void 0),Object(u.a)([Object(f.b)({type:d.a})],b.prototype,"portal",void 0);var y=b=n=Object(u.a)([Object(p.a)("esri.symbols.support.StyleOrigin")],b);t.a=y},"5Xgy":function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("frPA"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var d=function(e){Object(a.a)(r,e);var t=p(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).angle=0,i.type=null,i.xoffset=0,i.yoffset=0,i.size=9,i}return Object(i.a)(r,[{key:"hash",value:function(){return"".concat(this.type,".").concat(this.angle,".").concat(this.size,".").concat(this.xoffset,".").concat(this.yoffset)}}]),r}(r("ursF").a);Object(c.a)([Object(l.b)({type:Number,json:{read:function(e){return e&&-1*e},write:function(e,t){return t.angle=e&&-1*e}}})],d.prototype,"angle",void 0),Object(c.a)([Object(l.b)({type:["simple-marker","picture-marker"],readOnly:!0})],d.prototype,"type",void 0),Object(c.a)([Object(l.b)({type:Number,cast:u.e,json:{write:!0}})],d.prototype,"xoffset",void 0),Object(c.a)([Object(l.b)({type:Number,cast:u.e,json:{write:!0}})],d.prototype,"yoffset",void 0),Object(c.a)([Object(l.b)({type:Number,cast:function(e){return"auto"===e?e:Object(u.e)(e)},json:{write:!0}})],d.prototype,"size",void 0);var h=d=Object(c.a)([Object(f.a)("esri.symbols.MarkerSymbol")],d);t.a=h},"5Zwl":function(e,t,r){var n=r("9aUh"),i=r("hfno"),a=r("j6ZD"),o=Math.max,s=Math.min;e.exports=function(e,t,r){var c,u,l,f,p,d,h=0,b=!1,y=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var r=c,n=u;return c=u=void 0,h=t,f=e.apply(n,r)}function g(e){return h=e,p=setTimeout(j,t),b?m(e):f}function O(e){var r=e-d;return void 0===d||r>=t||r<0||y&&e-h>=l}function j(){var e=i();if(O(e))return w(e);p=setTimeout(j,function(e){var r=t-(e-d);return y?s(r,l-(e-h)):r}(e))}function w(e){return p=void 0,v&&c?m(e):(c=u=void 0,f)}function _(){var e=i(),r=O(e);if(c=arguments,u=this,d=e,r){if(void 0===p)return g(d);if(y)return clearTimeout(p),p=setTimeout(j,t),m(d)}return void 0===p&&(p=setTimeout(j,t)),f}return t=a(t)||0,n(r)&&(b=!!r.leading,l=(y="maxWait"in r)?o(a(r.maxWait)||0,t):l,v="trailing"in r?!!r.trailing:v),_.cancel=function(){void 0!==p&&clearTimeout(p),h=0,c=d=u=p=void 0},_.flush=function(){return void 0===p?f:w(i())},_}},"5iHx":function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("ZFo3"),o=function(){function e(t,r){Object(n.a)(this,e),this._storage=new a.b,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}return Object(i.a)(e,[{key:"put",value:function(e,t){this._storage.put(e,t,1,1)}},{key:"pop",value:function(e){return this._storage.pop(e)}},{key:"get",value:function(e){return this._storage.get(e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"destroy",value:function(){this._storage.destroy()}}]),e}();t.a=o},"5kin":function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("7im+"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("vo12")),p=r("iaHD"),d=r("1lXL"),h=r("ltNL");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var y=function(e){Object(a.a)(r,e);var t=b(r);function r(e){return Object(n.a)(this,r),t.call(this,e)}return Object(i.a)(r,[{key:"clone",value:function(){}}]),r}(r("0n+b").a);Object(c.a)([Object(l.b)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],y.prototype,"type",void 0);var v,m=y=Object(c.a)([Object(p.a)("esri.symbols.patterns.Pattern3D")],y),g=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var j=v=function(e){Object(a.a)(r,e);var t=O(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).type="style",i.style="solid",i}return Object(i.a)(r,[{key:"clone",value:function(){return new v({style:this.style})}}]),r}(m);Object(c.a)([Object(l.b)({type:["style"]})],j.prototype,"type",void 0),Object(c.a)([Object(l.b)({type:g,json:{read:!0,write:!0}})],j.prototype,"style",void 0);var w=j=v=Object(c.a)([Object(p.a)("esri.symbols.patterns.StylePattern3D")],j);var _,k={types:{key:"type",base:m,typeMap:{style:w}},json:{read:function(e,t,r){if(!e)return e;switch(e.type){case"style":var n=new w;return n.read(e,r),n}},write:!0}},x=r("Xr9Q"),S=r("y75+");function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var I=_=function(e){Object(a.a)(r,e);var t=P(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"clone",value:function(){return new _({color:Object(u.i)(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode})}}]),r}(S.a);Object(c.a)([Object(f.a)({multiply:"multiply",replace:"replace",tint:"tint"})],I.prototype,"colorMixMode",void 0);var R,M=I=_=Object(c.a)([Object(p.a)("esri.symbols.support.Symbol3DFillMaterial")],I),E=r("7uEP");function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var A=R=function(e){Object(a.a)(r,e);var t=T(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).type="fill",i.material=null,i.pattern=null,i.castShadows=!0,i.outline=null,i.edges=null,i}return Object(i.a)(r,[{key:"clone",value:function(){return new R({edges:Object(u.i)(this.edges)?this.edges.clone():null,enabled:this.enabled,material:Object(u.i)(this.material)?this.material.clone():null,pattern:Object(u.i)(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:Object(u.i)(this.outline)?this.outline.clone():null})}}],[{key:"fromSimpleFillSymbol",value:function(e){return new R({material:{color:(e.color||x.b).clone()},pattern:e.style&&"solid"!==e.style?new w({style:e.style}):null,outline:e.outline?new E.a({size:e.outline.width||0,color:(e.outline.color||x.c).clone()}):null})}}]),r}(d.a);Object(c.a)([Object(f.a)({Fill:"fill"},{readOnly:!0})],A.prototype,"type",void 0),Object(c.a)([Object(l.b)({type:M,json:{write:!0}})],A.prototype,"material",void 0),Object(c.a)([Object(l.b)(k)],A.prototype,"pattern",void 0),Object(c.a)([Object(l.b)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],A.prototype,"castShadows",void 0),Object(c.a)([Object(l.b)({type:E.a,json:{write:!0}})],A.prototype,"outline",void 0),Object(c.a)([Object(l.b)(h.a)],A.prototype,"edges",void 0);var C=A=R=Object(c.a)([Object(p.a)("esri.symbols.FillSymbol3DLayer")],A);t.a=C},"5u71":function(e,t,r){var n=r("0711");e.exports=function(e){return n(e,4)}},"5xtG":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("f6f6");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var h=n=function(e){Object(o.a)(r,e);var t=d(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).image=null,n.type="button",n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}}]),r}(p.a);Object(u.a)([Object(l.b)()],h.prototype,"image",void 0);var b=h=n=Object(u.a)([Object(f.a)("esri.support.Action.ActionButton")],h);t.a=b},"5yr3":function(e,t,r){"use strict";var n=function(e){return e=e||Object.create(null),{on:function(t,r){(e[t]||(e[t]=[])).push(r)},off:function(t,r){e[t]&&e[t].splice(e[t].indexOf(r)>>>0,1)},emit:function(t,r){(e[t]||[]).slice().map((function(e){e(r)})),(e["*"]||[]).slice().map((function(e){e(t,r)}))}}}();t.a=n},"60cM":function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb");function a(e){return e&&e.acquire&&"function"==typeof e.acquire}var o=function(){function e(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(Object(n.a)(this,e),this.ctor=t,this.acquireFunction=r,this.releaseFunction=i,this.allocationSize=a,this._pool=new Array(o),this._initialSize=o,this.ctor)for(var s=0;s<o;s++)this._pool[s]=new this.ctor;this.allocationSize=Math.max(a,1)}return Object(i.a)(e,[{key:"destroy",value:function(){this.prune(0)}},{key:"acquire",value:function(){var t,r;if(e.test.disabled)r=new this.ctor;else{if(0===this._pool.length)for(var n=this.allocationSize,i=0;i<n;i++)this._pool[i]=new this.ctor;r=this._pool.pop()}for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return this.acquireFunction?this.acquireFunction.apply(this,[r].concat(s)):a(r)&&(t=r).acquire.apply(t,s),r}},{key:"release",value:function(t){t&&!e.test.disabled&&(this.releaseFunction?this.releaseFunction(t):function(e){return e&&e.release&&"function"==typeof e.release}(t)&&t.release(),this._pool.push(t))}},{key:"prune",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._initialSize;if(!(e>=this._pool.length)){for(var t=e;t<this._pool.length;++t){var r=this._pool[t];this._dispose(r)}this._pool.length=e}}},{key:"_dispose",value:function(e){e.dispose&&"function"==typeof e.dispose&&e.dispose()}}]),e}();o.test={disabled:!1},t.a=o},"60x+":function(e,t,r){"use strict";var n=r("aNYv"),i=r("hisu"),a=r("yBJb"),o=r("60cM"),s=function(){function e(t,r,n,a){Object(i.a)(this,e),this.set(t,r,n,a)}return Object(a.a)(e,[{key:"key",get:function(){return this}},{key:"id",get:function(){return this.toString()},set:function(e){this.set(e)}},{key:"acquire",value:function(e,t,r,n){this.set(e,t,r,n)}},{key:"contains",value:function(e){var t=e.level-this.level;return this.row===e.row>>t&&this.col===e.col>>t&&this.world===e.world}},{key:"equals",value:function(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}},{key:"clone",value:function(){return new e(this)}},{key:"release",value:function(){this.level=0,this.row=0,this.col=0,this.world=0}},{key:"set",value:function(e,t,r,i){if(null==e)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof e)this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if("string"==typeof e){var a=e.split("/"),o=Object(n.a)(a,4),s=o[0],c=o[1],u=o[2],l=o[3];this.level=parseFloat(s),this.row=parseFloat(c),this.col=parseFloat(u),this.world=parseFloat(l)}else this.level=+e,this.row=+t,this.col=+r,this.world=+i||0;return this}},{key:"toString",value:function(){return"".concat(this.level,"/").concat(this.row,"/").concat(this.col,"/").concat(this.world)}},{key:"getParentKey",value:function(){return this.level<=0?null:new e(this.level-1,this.row>>1,this.col>>1,this.world)}},{key:"getChildKeys",value:function(){var t=this.level+1,r=this.row<<1,n=this.col<<1,i=this.world;return[new e(t,r,n,i),new e(t,r,n+1,i),new e(t,r+1,n,i),new e(t,r+1,n+1,i)]}},{key:"compareRowMajor",value:function(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}}],[{key:"getId",value:function(e,t,r,n){return"object"==typeof e?"".concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.world):"".concat(e,"/").concat(t,"/").concat(r,"/").concat(n)}}]),e}();s.pool=new o.a(s,null,null,25,50),t.a=s},"63Ad":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},6758:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},"67w/":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return c}));var n=r("0fJP");function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(e,t,r)}function s(e,t){if(null!=t)return t[e]||u(e.split("."),!1,t)}function c(e,t,r){var n=e.split("."),i=n.pop(),a=u(n,!0,r);a&&i&&(a[i]=t)}function u(e,t,r){var n,a=r,o=i(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(null==a)return;if(!(s in a)){if(!t)return;a[s]={}}a=a[s]}}catch(c){o.e(c)}finally{o.f()}return a}function l(e,t,r){return t?Object.keys(t).reduce((function(e,i){var a=e[i],o=t[i];return a===o?e:void 0===a?(e[i]=Object(n.a)(o),e):(Array.isArray(o)||Array.isArray(e)?(a=a?Array.isArray(a)?e[i]=a.concat():e[i]=[a]:e[i]=[],o&&(Array.isArray(o)||(o=[o]),r?o.forEach((function(e){-1===a.indexOf(e)&&a.push(e)})):e[i]=o.concat())):o&&"object"==typeof o?e[i]=l(a,o,r):e.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(e[i]=o),e)}),e||{}):e}},"6CzD":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("YZeP");var i=r("tdEy"),a=r("TJjZ");function o(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"6FhD":function(e,t,r){"use strict";var n=r("tM9Q"),i=r("aD51");"undefined"!=typeof IHomeWidget&&IHomeWidget&&IHomeWidget===Object(IHomeWidget)&&Object.isExtensible(IHomeWidget)&&!IHomeWidget.hasOwnProperty("__filemeta")&&Object.defineProperty(IHomeWidget,"__filemeta",{configurable:!0,value:{name:"IHomeWidget",filename:"src/widgets/Home.tsx"}});var a=function(e){return Object(i.c)(n.Home,e)};t.a=a,void 0!==a&&a&&a===Object(a)&&Object.isExtensible(a)&&!a.hasOwnProperty("__filemeta")&&Object.defineProperty(a,"__filemeta",{configurable:!0,value:{name:"Homey",filename:"src/widgets/Home.tsx"}})},"6J1V":function(e,t,r){"use strict";r.d(t,"a",(function(){return _})),r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return v})),r.d(t,"d",(function(){return w})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return O})),r.d(t,"g",(function(){return h})),r.d(t,"h",(function(){return g})),r.d(t,"i",(function(){return m})),r.d(t,"j",(function(){return a})),r.d(t,"k",(function(){return o})),r.d(t,"l",(function(){return u})),r.d(t,"m",(function(){return d})),r.d(t,"n",(function(){return p})),r.d(t,"o",(function(){return s})),r.d(t,"p",(function(){return l})),r.d(t,"q",(function(){return b})),r.d(t,"r",(function(){return f}));var n=r("KcHx"),i=new Float32Array(1),a=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},o=Number.isNaN||function(e){return e!=e};function s(e){--e;for(var t=1;t<32;t<<=1)e|=e>>t;return e+1}function c(e,t,r){return Math.min(Math.max(e,t),r)}function u(e){return 0==(e&e-1)}function l(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}var f=Math.sign||function(e){return+(e>0)-+(e<0)||+e},p=Math.log2||function(e){return Math.log(e)/Math.LN2};function d(e,t,r){return e+(t-e)*r}function h(e){return e*Math.PI/180}function b(e){return 180*e/Math.PI}function y(e){return Math.acos(c(e,-1,1))}function v(e){return Math.asin(c(e,-1,1))}function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6;if(o(e)||o(t))return!1;if(e===t)return!0;var n=Math.abs(e-t),i=Math.abs(e),a=Math.abs(t);if(0===e||0===t||i<1e-12&&a<1e-12){if(n>.01*r)return!1}else if(n/(i+a)>r)return!1;return!0}function g(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6;return!o(e)&&!o(t)&&(e>t?e-t:t-e)<=r}function O(e){return j(Math.max(-_,Math.min(e,_)))}function j(e){return i[0]=e,i[0]}function w(e,t){var r=Object(n.m)(e),i=v(e[2]/r),a=Math.atan2(e[1]/r,e[0]/r);return Object(n.s)(t,r,i,a),t}var _=j(34028234663852886e22)},"6N4x":function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}));var n=r("hisu"),i=function e(t){Object(n.a)(this,e),this.xTile=0,this.yTile=0,this.hash=0,this.priority=1,this.colliders=[],this.textVertexRanges=[],this.iconVertexRanges=[],this.tile=t},a=function e(){Object(n.a)(this,e),this.tileSymbols=[],this.parts=[{startTime:0,startOpacity:0,targetOpacity:0,show:!1},{startTime:0,startOpacity:0,targetOpacity:0,show:!1}],this.show=!1}},"6TGQ":function(e,t,r){var n=r("gwRl"),i=r("PqlX");e.exports=function(e,t,r){var a=t(e);return i(e)?a:n(a,r(e))}},"6iN7":function(e,t,r){var n=r("HIoB"),i=r("lYsT"),a=r("PqlX"),o=r("tfj2"),s=r("q+I6"),c=r("3kU/"),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=a(e),l=!r&&i(e),f=!r&&!l&&o(e),p=!r&&!l&&!f&&c(e),d=r||l||f||p,h=d?n(e.length,String):[],b=h.length;for(var y in e)!t&&!u.call(e,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,b))||h.push(y);return h}},"6kFe":function(e,t,r){var n=r("jcrF"),i=r("Q8UH"),a=r("ArCz"),o=r("fjdK");e.exports=function(e){var t=a(e),r=o[t];if("function"!=typeof r||!(t in n.prototype))return!1;if(e===r)return!0;var s=i(r);return!!s&&e===s[0]}},"6ka5":function(e,t,r){var n=r("gDYM"),i=r("jmUq"),a=r("GHf2")("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[a])?t:i(r)}},"6yFL":function(e,t,r){"use strict";var n=r("eijD"),i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("NthX"),l=r.n(u),f=r("dQW7"),p=r("7i+s"),d=r("0n+b"),h=r("xAIp"),b=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),y=r("s4dv");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var m=new p.a({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0}),g=function(e){Object(o.a)(c,e);var t,r,s=v(c);function c(e){var t;return Object(i.a)(this,c),(t=s.call(this,e)).authoringInfo=null,t.type=null,t}return Object(a.a)(c,[{key:"getRequiredFields",value:(r=Object(n.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.collectRequiredFields){e.next=2;break}return e.abrupt("return",[]);case 2:return r=new Set,e.next=5,this.collectRequiredFields(r,t);case 5:return e.abrupt("return",Array.from(r).sort());case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getSymbol",value:function(e,t){}},{key:"getSymbolAsync",value:(t=Object(n.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})},{key:"getSymbols",value:function(){return[]}},{key:"getAttributeHash",value:function(){return JSON.stringify(this)}},{key:"getMeshHash",value:function(){return JSON.stringify(this)}}]),c}(d.a);Object(f.a)([Object(h.b)({type:y.a,json:{write:!0}})],g.prototype,"authoringInfo",void 0),Object(f.a)([Object(h.b)({type:m.apiValues,readOnly:!0,json:{type:m.jsonValues,read:!1,write:{writer:m.write,ignoreOrigin:!0}}})],g.prototype,"type",void 0);var O=g=Object(f.a)([Object(b.a)("esri.renderers.Renderer")],g);t.a=O},"78YZ":function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r("hisu"),i=r("yBJb"),a=r("0942"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("hZBP"),f=r("7im+"),p=r("6CzD"),d=r("0fJP"),h=r("ddfG"),b=function(){function e(){Object(n.a)(this,e),this._propertyOriginMap=new Map,this._originStores=new Array(h.a),this._values=new Map}return Object(i.a)(e,[{key:"clone",value:function(t){var r=this,n=new e,i=this._originStores[0];i&&i.forEach((function(e,t){n.set(t,Object(d.a)(e),0)}));for(var a=function(e){var i=r._originStores[e];i&&i.forEach((function(r,i){t&&t.has(i)||n.set(i,Object(d.a)(r),e)}))},o=2;o<h.a;o++)a(o);return n}},{key:"get",value:function(e,t){var r=void 0===t?this._values:this._originStores[t];return r?r.get(e):void 0}},{key:"keys",value:function(e){var t=null==e?this._values:this._originStores[e];return t?Object(p.a)(t.keys()):[]}},{key:"set",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,n=this._originStores[r];if(n||(n=new Map,this._originStores[r]=n),n.set(e,t),!this._values.has(e)||Object(f.c)(this._propertyOriginMap.get(e))<=r){var i=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,r),i!==t}return!1}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,r=this._originStores[t];if(r){var n=r.get(e);if(r.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(var i=t-1;i>=0;i--){var a=this._originStores[i];if(a&&a.has(e)){this._values.set(e,a.get(e)),this._propertyOriginMap.set(e,i);break}}}return n}}},{key:"has",value:function(e,t){var r=void 0===t?this._values:this._originStores[t];return!!r&&r.has(e)}},{key:"revert",value:function(e,t){for(;t>0&&!this.has(e,t);)--t;var r=this._originStores[t],n=r&&r.get(e),i=this._values.get(e);return this._values.set(e,n),this._propertyOriginMap.set(e,t),i!==n}},{key:"originOf",value:function(e){return this._propertyOriginMap.get(e)||0}},{key:"forEach",value:function(e){this._values.forEach(e)}}]),e}(),y=r("AZZI"),v=r("F1Bx"),m=r("iaHD");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var O=function(e){var t=function(e){Object(o.a)(r,e);var t=g(r);function r(){var e;Object(n.a)(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];e=t.call.apply(t,[this].concat(o));var c=Object(f.c)(Object(v.a)(Object(a.a)(e))),u=c.metadatas,l=c.store,p=new b;return c.store=p,l.keys().forEach((function(e){p.set(e,l.get(e),0)})),Object.keys(u).forEach((function(e){c.internalGet(e)&&p.set(e,c.internalGet(e),0)})),e}return Object(i.a)(r,[{key:"read",value:function(e,t){Object(y.a)(this,e,t)}},{key:"getAtOrigin",value:function(e,t){var r=j(this),n=Object(h.d)(t);if("string"==typeof e)return r.get(e,n);var i={};return e.forEach((function(e){i[e]=r.get(e,n)})),i}},{key:"originOf",value:function(e){return Object(h.b)(this.originIdOf(e))}},{key:"originIdOf",value:function(e){return j(this).originOf(e)}},{key:"revert",value:function(e,t){var r=j(this),n=Object(h.d)(t),i=Object(v.a)(this);("string"==typeof e?"*"===e?r.keys(n):[e]:e).forEach((function(e){i.invalidate(e),r.revert(e,n),i.commit(e)}))}}]),r}(e);return t=Object(u.a)([Object(m.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function j(e){return Object(v.a)(e).store}var w=function(e){Object(o.a)(r,e);var t=g(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return r}(O(l.a));w=Object(u.a)([Object(m.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],w)},"7IP4":function(e,t){e.exports=function(){}},"7L9N":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("sQvh");function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(n.a)(e,t)}},"7Oqd":function(e,t,r){"use strict";var n=r("hisu"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("dQW7"),c=r("0n+b"),u=r("xAIp"),l=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var p=function(e){Object(i.a)(r,e);var t=f(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).type=null,i}return r}(c.a);Object(s.a)([Object(u.b)({readOnly:!0,json:{read:!1,write:!0}})],p.prototype,"type",void 0);var d=p=Object(s.a)([Object(l.a)("esri.rest.support.ColorRamp")],p);t.a=d},"7UJ8":function(e,t,r){"use strict";var n=r("vdEC"),i=r("63Ad");t.__esModule=!0,t.ScrollContainer=void 0;var a=i(r("8VmE")),o=i(r("QKC2")),s=n(r("ERkP")),c=i(r("7nmT")),u=i(r("W0B4")),l=r("czn3"),f=r("JF+v"),p={scrollKey:u.default.string.isRequired,shouldUpdateScroll:u.default.func,children:u.default.element.isRequired},d=function(e){function t(t){return e.call(this,t)||this}(0,o.default)(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this,t=c.default.findDOMNode(this),r=this.props,n=r.location,i=r.scrollKey;if(t){t.addEventListener("scroll",(function(){e.props.context.save(n,i,t.scrollTop)}));var a=this.props.context.read(n,i);t.scrollTo(0,a||0)}},r.render=function(){return this.props.children},t}(s.Component),h=function(e){return s.createElement(f.Location,null,(function(t){var r=t.location;return s.createElement(l.ScrollContext.Consumer,null,(function(t){return s.createElement(d,(0,a.default)({},e,{context:t,location:r}))}))}))};t.ScrollContainer=h,h.propTypes=p},"7WMK":function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return a}));for(var n=r("A0wW"),i=r("J4Pc"),a=Object(i.a)("mac")?"Meta":"Ctrl",o={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"},s=48;s<58;s++)o[s]=String.fromCharCode(s);for(var c=1;c<25;c++)o[111+c]="F".concat(c);for(var u=65;u<91;u++)o[u]=[String.fromCharCode(u+32),String.fromCharCode(u)];function l(e){if(void 0!==e.key)return Object(n.a)(e);var t=o[e.keyCode];return Array.isArray(t)?e.shiftKey?t[1]:t[0]:t}function f(e){switch(e){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}},"7bRu":function(e,t){e.exports=function(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}},"7i+s":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s}));var n=r("hisu"),i=r("yBJb"),a=r("67w/"),o=function(){function e(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignoreUnknown:!1};Object(n.a)(this,e),this.jsonToAPI=t,this.options=i,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this.invertMap(t),this.apiValues=this.getKeysSorted(this.apiToJSON),this.jsonValues=this.getKeysSorted(this.jsonToAPI),this.read=function(e){return r.fromJSON(e)},this.write=function(e,t,n){var i=r.toJSON(e);void 0!==i&&Object(a.c)(n,i,t)},this.write.isJSONMapWriter=!0}return Object(i.a)(e,[{key:"toJSON",value:function(e){return this.apiToJSON.hasOwnProperty(e)?this.apiToJSON[e]:this.options.ignoreUnknown?void 0:e}},{key:"fromJSON",value:function(e){return this.jsonToAPI.hasOwnProperty(e)?this.jsonToAPI[e]:this.options.ignoreUnknown?void 0:e}},{key:"invertMap",value:function(e){var t={};for(var r in e)t[e[r]]=r;return t}},{key:"getKeysSorted",value:function(e){var t=[];for(var r in e)t.push(r);return t.sort(),t}}]),e}();function s(){return function(e){return new o(e,{ignoreUnknown:!0})}}},"7im+":function(e,t,r){"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return O})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return w})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return d})),r.d(t,"f",(function(){return m})),r.d(t,"g",(function(){return j})),r.d(t,"h",(function(){return o})),r.d(t,"i",(function(){return a})),r.d(t,"j",(function(){return s})),r.d(t,"k",(function(){return v})),r.d(t,"l",(function(){return g})),r.d(t,"m",(function(){return y})),r.d(t,"n",(function(){return b})),r.d(t,"o",(function(){return h})),r.d(t,"p",(function(){return u})),r.d(t,"q",(function(){return f})),r.d(t,"r",(function(){return l}));function a(e){return null!=e}function o(e){return null==e}function s(e){return void 0===e}function c(e,t){return a(e)?t(e):null}function u(e){return e}function l(e,t){if(o(e))throw new Error(t);return e}function f(e,t){return a(e)?e:"function"==typeof t?t():t}function p(e){return a(e)&&e.destroy(),null}function d(e){return a(e)&&e.dispose(),null}function h(e){return a(e)&&e.remove(),null}function b(e){return a(e)&&e.release(),null}function y(e){return null}function v(e,t){var r,i=new Array,a=n(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.push(g(o,null,t))}}catch(s){a.e(s)}finally{a.f()}return i}function m(e,t){var r,i=n(e);try{for(i.s();!(r=i.n()).done;){g(r.value,null,t)}}catch(a){i.e(a)}finally{i.f()}}function g(e,t,r){return a(e)?r(e):t}function O(e,t){return a(e)?t(e):null}function j(e){for(var t=e,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(var a=0;a<n.length&&t;++a)t=t[n[a]];return t}function w(e){return e}},"7o+A":function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},"7qnD":function(e,t){var r=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}},"7uEP":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("WYis"),f=r("0n+b"),p=r("7im+"),d=r("frPA"),h=r("xAIp"),b=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),y=r("I2xc");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var m=n=function(e){Object(o.a)(r,e);var t=v(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).color=new l.a([0,0,0,1]),e.size=Object(d.d)(1),e.stipplePattern=null,e.stippleOffColor=null,e}return Object(a.a)(r,[{key:"clone",value:function(){return new n({color:Object(p.i)(this.color)?this.color.clone():null,size:this.size,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})}}]),r}(f.a);Object(u.a)([Object(h.b)(y.a)],m.prototype,"color",void 0),Object(u.a)([Object(h.b)(y.b)],m.prototype,"size",void 0),Object(u.a)([Object(h.b)(y.c)],m.prototype,"stipplePattern",void 0),Object(u.a)([Object(h.b)({type:l.a})],m.prototype,"stippleOffColor",void 0);var g=m=n=Object(u.a)([Object(b.a)("esri.symbols.support.Symbol3DOutline")],m);t.a=g},"7ycK":function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return _}));var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("hZBP"),l=r("TM+E"),f=r("wPzt"),p=r("xAIp"),d=(r("J4Pc"),r("wckI"),r("iaHD")),h=r("7WMK");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var y=function(e){Object(a.a)(r,e);var t=b(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,!0))._onChange=e,i._value="mouse",i.registerIncoming("pointer-down",(function(e){var t="touch"===e.data.native.pointerType;i._setValue(t?"touch":"mouse")})),i._moveHandler=i.registerIncoming("pointer-move",(function(e){var t="touch"===e.data.native.pointerType;i._setValue(t?"touch":"mouse")})),i._moveHandler.pause(),i}return Object(i.a)(r,[{key:"_setValue",value:function(e){e!==this._value&&("touch"===e?this._moveHandler.resume():this._moveHandler.pause(),this._value=e,this._onChange(e))}}]),r}(r("4Dxs").a);function v(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var O=l.a.getLogger("esri.views.input.InputManager"),j=function(e){Object(a.a)(r,e);var t=g(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e))._pointerCaptures=new Map,i._nameToGroup={},i._handlers=[],i._currentPropagation=null,i._updateDependenciesAfterPropagation=!1,i._sourceEvents=new Set,i._keyModifiers=new Set,i._activeKeyModifiers=new Set,i._stoppedPropagationEventIds=new Set,i.primaryKey=h.c,i.latestPointerType="mouse",i.test={timestamp:void 0,hasCurrentPropagation:function(){return!!i._currentPropagation}},i}return Object(i.a)(r,[{key:"initialize",value:function(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}},{key:"destroy",value:function(){for(var e=0,t=Object.keys(this._nameToGroup);e<t.length;e++){var r=t[e];this.uninstallHandlers(r)}this.eventSource=null,this._currentPropagation=null}},{key:"hasPendingInputs",get:function(){return this._handlers.some((function(e){return e.handler.hasPendingInputs}))}},{key:"installHandlers",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.INTERNAL;if(this._nameToGroup[e])O.error("There is already an InputHandler group registered under the name `"+e+"`");else if(0!==t.length){var i={name:e,handlers:t.map((function(e){return{handler:e,active:!0,removed:!1,priorityIndex:0,groupPriority:n,eventCallback:null,uninstallCallback:null}}))};this._nameToGroup[e]=i;for(var a=function(e){var t=i.handlers[e];r._handlers.push(t),t.handler.onInstall({updateDependencies:function(){r.updateDependencies()},emit:function(e,n,i,a,o){r._emitInputEvent(t.priorityIndex+1,e,n,i,o,a)},setPointerCapture:function(e,n){r._setPointerCapture(i,t,e,n)},setEventCallback:function(e){t.eventCallback=e},setUninstallCallback:function(e){t.uninstallCallback=e},refreshHasPendingInputs:function(){r.notifyChange("hasPendingInputs")}})},o=i.handlers.length-1;o>=0;o--)a(o);this.updateDependencies()}else O.error("Can't register a group of zero handlers")}},{key:"uninstallHandlers",value:function(e){var t=this._nameToGroup[e];t?(t.handlers.forEach((function(e){e.removed=!0,e.uninstallCallback()})),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):O.error("There is no InputHandler group registered under the name `"+e+"`")}},{key:"hasHandlers",value:function(e){return void 0!==this._nameToGroup[e]}},{key:"updateDependencies",value:function(){if(this._currentPropagation)this._updateDependenciesAfterPropagation=!0;else{this._updateDependenciesAfterPropagation=!1;var e=new Set,t=new Set;this._handlersPriority=[];for(var r=this._handlers.length-1;r>=0;r--){var n=this._handlers[r];n.priorityIndex=r,this._handlersPriority.push(n)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(var i=this._handlersPriority.length-1;i>=0;i--){var a=this._handlersPriority[i];a.priorityIndex=i;var o=a.handler.hasSideEffects;if(!o){var s,c=v(a.handler.outgoingEventTypes);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(e.has(u)){o=!0;break}}}catch(m){c.e(m)}finally{c.f()}}if(o){var l,f=v(a.handler.incomingEventMatches);try{for(f.s();!(l=f.n()).done;){var p=l.value;e.add(p.eventType);var d,b=v(p.keyModifiers);try{for(b.s();!(d=b.n()).done;){var y=d.value;Object(h.b)(y)||t.add(y)}}catch(m){b.e(m)}finally{b.f()}}}catch(m){f.e(m)}finally{f.f()}}a.active=o}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}}},{key:"_setLatestPointerType",value:function(e){this._set("latestPointerType",e)}},{key:"_onEventReceived",value:function(e,t){if("pointer-capture-lost"===e){var r=t;this._pointerCaptures.delete(r.native.pointerId)}this._updateKeyModifiers(e,t);var n=null!=this.test.timestamp?this.test.timestamp:t.native?t.native.timestamp:void 0,i=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,n,i)}},{key:"_updateKeyModifiers",value:function(e,t){var r=this;if(t){var n=!1,i=function(){if(!n){var e=new Set;r._activeKeyModifiers.forEach((function(t){e.add(t)})),r._activeKeyModifiers=e,n=!0}},a=function(e,t){t&&!r._activeKeyModifiers.has(e)?(i(),r._activeKeyModifiers.add(e)):!t&&r._activeKeyModifiers.has(e)&&(i(),r._activeKeyModifiers.delete(e))};if("key-down"===e||"key-up"===e){var o=t.key;this._keyModifiers.has(o)&&a(o,"key-down"===e)}var s=t.native;a("Alt",!(!s||!s.altKey)),a("Ctrl",!(!s||!s.ctrlKey)),a("Shift",!(!s||!s.shiftKey)),a("Meta",!(!s||!s.metaKey)),a("Primary",this._activeKeyModifiers.has(this.primaryKey))}}},{key:"_installRecognizers",value:function(){var e=this;this._latestPointerTypeHandler=new y((function(t){return e._setLatestPointerType(t)})),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,_.INTERNAL),this.installHandlers("input-manager-logic",[this._latestPointerTypeHandler],_.INTERNAL)}},{key:"_setPointerCapture",value:function(e,t,r,n){var i=e.name+"-"+t.priorityIndex,a=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,a),n?(a.add(i),1===a.size&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):a.has(i)&&(a.delete(i),0===a.size&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}},{key:"_garbageCollectRemovedHandlers",value:function(){this._handlers=this._handlers.filter((function(e){return!e.removed})),this.updateDependencies()}},{key:"_emitInputEventFromSource",value:function(e,t,r,n){this._emitInputEvent(0,e,t,r,n)}},{key:"_emitInputEvent",value:function(e,t,r,n,i,a){var o=void 0!==n?n:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),s=void 0!==i&&i,c={event:new w(t,r,o,a||this._activeKeyModifiers,s),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(c):this._doNewPropagation(c)}},{key:"_doNewPropagation",value:function(e){this._currentPropagation={events:new f.a,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}},{key:"_continuePropagation",value:function(){var e=this,t=this._currentPropagation;if(t){for(;this._currentPropagation.events.length>0;){var r=this._currentPropagation.events.pop(),n=r.event,i=r.priorityIndex,a=n.data&&n.data.eventId;if(null==a||!this._stoppedPropagationEventIds.has(a))for(t.currentHandler=this._handlersPriority[i];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!n.shouldStopPropagation()&&t.currentHandler.eventCallback(n),n.shouldStopPropagation()){null!=a&&this._stoppedPropagationEventIds.add(a);break}if(n.shouldPausePropagation((function(){return e._continuePropagation()})))return void this._pausePropagation({event:n,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}},{key:"_pausePropagation",value:function(e){var t=new f.a;for(t.push(e);this._currentPropagation.events.length;)t.push(this._currentPropagation.events.pop());this._currentPropagation.events=t,this._currentPropagation.currentHandler=null}},{key:"_compareHandlerPriority",value:function(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;var r,n=v(e.handler.incomingEventMatches);try{for(n.s();!(r=n.n()).done;){var i,a=r.value,o=v(t.handler.incomingEventMatches);try{var s=function(){var e=i.value;if(a.eventType!==e.eventType)return"continue";var t=a.keyModifiers.filter((function(t){return-1!==e.keyModifiers.indexOf(t)}));return t.length===a.keyModifiers.length!=(t.length===e.keyModifiers.length)?{v:a.keyModifiers.length>e.keyModifiers.length?-1:1}:void 0};for(o.s();!(i=o.n()).done;){var c=s();if("continue"!==c&&"object"==typeof c)return c.v}}catch(u){o.e(u)}finally{o.f()}}}catch(u){n.e(u)}finally{n.f()}return e.priorityIndex>t.priorityIndex?-1:1}},{key:"_sortHandlersPriority",value:function(e){var t,r=[],n=v(e);try{for(n.s();!(t=n.n()).done;){for(var i=t.value,a=0;a<r.length&&this._compareHandlerPriority(i,r[a])>=0;)a++;r.splice(a,0,i)}}catch(o){n.e(o)}finally{n.f()}return r}},{key:"debug",get:function(){var e=this,t=function(t){var r=e._setPointerCapture;e._setPointerCapture=function(){},t(),e._setPointerCapture=r};return{injectEvent:function(r,n){t((function(){e._onEventReceived(r,n)}))},disablePointerCapture:t}}}]),r}(u.a);Object(c.a)([Object(p.b)({readOnly:!0})],j.prototype,"hasPendingInputs",null),Object(c.a)([Object(p.b)()],j.prototype,"eventSource",void 0),Object(c.a)([Object(p.b)()],j.prototype,"recognizers",void 0),Object(c.a)([Object(p.b)({readOnly:!0})],j.prototype,"latestPointerType",void 0),j=Object(c.a)([Object(d.a)("esri.views.input.InputManager")],j);var w=function(){function e(t,r,i,a,o){Object(n.a)(this,e),this.type=t,this.data=r,this.timestamp=i,this.modifiers=a,this.cancelable=o,this._propagationState=0,this._resumeCallback=null}return Object(i.a)(e,[{key:"stopPropagation",value:function(){this._propagationState|=1}},{key:"shouldStopPropagation",value:function(){return 0!=(1&this._propagationState)}},{key:"async",value:function(e){var t=this;this._propagationState|=2;var r=function(e,r){t._propagationState&=-3;var n=t._resumeCallback;if(t._resumeCallback=null,n&&n(),r)throw e;return e};return("function"==typeof e?e():e).then((function(e){return r(e,!1)}),(function(e){return r(e,!0)}))}},{key:"shouldPausePropagation",value:function(e){return!!(2&this._propagationState)&&(this._resumeCallback=e,!0)}},{key:"preventDefault",value:function(){this.data.native.preventDefault()}}]),e}(),_={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3}},"7yvy":function(e,t,r){var n=r("pCs0"),i=r("O/Z7"),a=r("zYYD"),o=r("Zs3A");e.exports=function(e,t,r){return e=a(e),void 0===(t=r?void 0:t)?i(e)?o(e):n(e):e.match(t)||[]}},"8IYi":function(e,t,r){"use strict";function n(e){return e&&"getAtOrigin"in e&&"originOf"in e}r.d(t,"a",(function(){return n}))},"8JNV":function(e,t,r){"use strict";function n(e){return"string"==typeof e?document.getElementById(e):e}function i(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function a(e,t){var r=t.parentNode;r&&r.insertBefore(e,t)}function o(e,t){for(;;){var r=e.firstChild;if(!r)break;t.appendChild(r)}}function s(e){e.parentNode&&e.parentNode.removeChild(e)}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return o}));!function(){if("function"==typeof Element.prototype.closest)return function(e,t){return e.closest(t)};var e=Element.prototype.matches||Element.prototype.msMatchesSelector}()},"8N15":function(e,t,r){"use strict";var n=r("hisu"),i=r("0942"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj");function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var u=function(e){Object(a.a)(r,e);var t=c(r);function r(e,a,s){var c;return Object(n.a)(this,r),c=t.call(this,e,a,s),Object(i.a)(c)instanceof r?Object(o.a)(c):Object(o.a)(c,new r(e,a,s))}return r}(r("DFlR").a);u.prototype.type="warning",t.a=u},"8OJN":function(e,t,r){var n=r("tF07"),i=r("M/tt"),a=r("kMPr").indexOf,o=r("s3NK");e.exports=function(e,t){var r,s=i(e),c=0,u=[];for(r in s)!n(o,r)&&n(s,r)&&u.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~a(u,r)||u.push(r));return u}},"8QvB":function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return f}));var n=r("YRYL"),i=r("DsdM"),a=r("c6bU"),o=r("IvZe"),s=r("6yFL"),c=r("vU4c"),u=r("h+Bk"),l={key:"type",base:s.a,typeMap:{heatmap:o.a,simple:c.a,"unique-value":u.a,"class-breaks":n.a,"dot-density":a.a,dictionary:i.default},errorContext:"renderer"},f={key:"type",base:s.a,typeMap:{simple:c.a,"unique-value":u.a,"class-breaks":n.a},errorContext:"renderer"}},"8VmE":function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,r.apply(this,arguments)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},"8h5O":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Home=t.Directions=t.Zoom=t.Bookmarks=t.BasemapGallery=t.LayerList=t.Legend=void 0;var i=r("mkiw");Object.defineProperty(t,"Legend",{enumerable:!0,get:function(){return n(i).default}});var a=r("Nc0w");Object.defineProperty(t,"LayerList",{enumerable:!0,get:function(){return n(a).default}});var o=r("lzMW");Object.defineProperty(t,"BasemapGallery",{enumerable:!0,get:function(){return n(o).default}});var s=r("BlFe");Object.defineProperty(t,"Bookmarks",{enumerable:!0,get:function(){return n(s).default}});var c=r("H15p");Object.defineProperty(t,"Zoom",{enumerable:!0,get:function(){return n(c).default}});var u=r("J4Ic");Object.defineProperty(t,"Directions",{enumerable:!0,get:function(){return n(u).default}});var l=r("YI5O");Object.defineProperty(t,"Home",{enumerable:!0,get:function(){return n(l).default}})},"8igk":function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var n=r("aNYv"),i=r("hisu"),a=r("yBJb"),o=r("4Mpa"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("7im+"),f=r("+MBG"),p=r("Tkaf"),d=r("a1c8"),h=(r("iwTS"),r("J4Pc"),r("B2Uc"),r("cY28"),r("IxxH"),r("0fR5"),r("H8zE")),b=r("Y8sq");function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var g=function(){function e(t,r){Object(i.a)(this,e),this.layerUIDs=[],this.isDestroyed=!1,this.data=t,this.memoryUsed=t.byteLength;var n=1,a=new Uint32Array(t);this.layerUIDs=[];for(var o=a[n++],s=0;s<o;s++)this.layerUIDs[s]=a[n++];this.bufferDataOffset=n,r&&(this.layer=r.getStyleLayerByUID(this.layerUIDs[0]))}return Object(a.a)(e,[{key:"isPreparedForRendering",get:function(){return Object(l.h)(this.data)}},{key:"offset",get:function(){return this.bufferDataOffset}},{key:"destroy",value:function(){this.isDestroyed||(this.doDestroy(),this.isDestroyed=!0)}},{key:"prepareForRendering",value:function(e){Object(l.h)(this.data)||(this.doPrepareForRendering(e,this.data,this.bufferDataOffset),this.data=null)}}]),e}(),O=function(e){Object(s.a)(r,e);var t=m(r);function r(e,n){var a;Object(i.a)(this,r),(a=t.call(this,e,n)).type=2,a.lineIndexStart=0,a.lineIndexCount=0;var o=new Uint32Array(e),s=a.bufferDataOffset;a.lineIndexStart=o[s++],a.lineIndexCount=o[s++];var c=o[s++];if(c>0){for(var u=new Map,l=0;l<c;l++){var f=o[s++],p=o[s++],d=o[s++];u.set(f,[p,d])}a.patternMap=u}return a.bufferDataOffset=s,a}return Object(a.a)(r,[{key:"hasData",value:function(){return this.lineIndexCount>0}},{key:"triangleCount",value:function(){return this.lineIndexCount/3}},{key:"doDestroy",value:function(){Object(l.i)(this.lineVertexArrayObject)&&this.lineVertexArrayObject.dispose(),Object(l.i)(this.lineVertexBuffer)&&this.lineVertexBuffer.dispose(),Object(l.i)(this.lineIndexBuffer)&&this.lineIndexBuffer.dispose(),this.lineVertexArrayObject=null,this.lineVertexBuffer=null,this.lineIndexBuffer=null,this.memoryUsed=0}},{key:"doPrepareForRendering",value:function(e,t,r){var n=new Uint32Array(t),i=new Int32Array(n.buffer),a=n[r++];this.lineVertexBuffer=d.a.createVertex(e,35044,new Int32Array(i.buffer,4*r,a)),r+=a;var o=n[r++];this.lineIndexBuffer=d.a.createIndex(e,35044,new Uint32Array(n.buffer,4*r,o)),r+=o;var s=this.layer.lineMaterial;this.lineVertexArrayObject=new h.a(e,s.getAttributeLocations(),s.getLayoutInfo(),{geometry:this.lineVertexBuffer},this.lineIndexBuffer)}}]),r}(g),j=function(e){Object(s.a)(r,e);var t=m(r);function r(e,n){var a;Object(i.a)(this,r),(a=t.call(this,e,n)).type=1,a.fillIndexStart=0,a.fillIndexCount=0,a.outlineIndexStart=0,a.outlineIndexCount=0;var o=new Uint32Array(e),s=a.bufferDataOffset;a.fillIndexStart=o[s++],a.fillIndexCount=o[s++],a.outlineIndexStart=o[s++],a.outlineIndexCount=o[s++];var c=o[s++];if(c>0){for(var u=new Map,l=0;l<c;l++){var f=o[s++],p=o[s++],d=o[s++];u.set(f,[p,d])}a.patternMap=u}return a.bufferDataOffset=s,a}return Object(a.a)(r,[{key:"hasData",value:function(){return this.fillIndexCount>0||this.outlineIndexCount>0}},{key:"triangleCount",value:function(){return(this.fillIndexCount+this.outlineIndexCount)/3}},{key:"doDestroy",value:function(){Object(l.i)(this.fillVertexArrayObject)&&this.fillVertexArrayObject.dispose(),Object(l.i)(this.fillVertexBuffer)&&this.fillVertexBuffer.dispose(),Object(l.i)(this.fillIndexBuffer)&&this.fillIndexBuffer.dispose(),this.fillVertexArrayObject=null,this.fillVertexBuffer=null,this.fillIndexBuffer=null,Object(l.i)(this.outlineVertexArrayObject)&&this.outlineVertexArrayObject.dispose(),Object(l.i)(this.outlineVertexBuffer)&&this.outlineVertexBuffer.dispose(),Object(l.i)(this.outlineIndexBuffer)&&this.outlineIndexBuffer.dispose(),this.outlineVertexArrayObject=null,this.outlineVertexBuffer=null,this.outlineIndexBuffer=null,this.memoryUsed=0}},{key:"doPrepareForRendering",value:function(e,t,r){var n=new Uint32Array(t),i=new Int32Array(n.buffer),a=n[r++];this.fillVertexBuffer=d.a.createVertex(e,35044,new Int32Array(i.buffer,4*r,a)),r+=a;var o=n[r++];this.fillIndexBuffer=d.a.createIndex(e,35044,new Uint32Array(n.buffer,4*r,o)),r+=o;var s=n[r++];this.outlineVertexBuffer=d.a.createVertex(e,35044,new Int32Array(i.buffer,4*r,s)),r+=s;var c=n[r++];this.outlineIndexBuffer=d.a.createIndex(e,35044,new Uint32Array(n.buffer,4*r,c)),r+=c;var u=this.layer,l=u.fillMaterial,f=u.outlineMaterial;this.fillVertexArrayObject=new h.a(e,l.getAttributeLocations(),l.getLayoutInfo(),{geometry:this.fillVertexBuffer},this.fillIndexBuffer),this.outlineVertexArrayObject=new h.a(e,f.getAttributeLocations(),f.getLayoutInfo(),{geometry:this.outlineVertexBuffer},this.outlineIndexBuffer)}}]),r}(g),w=function(e){Object(s.a)(r,e);var t=m(r);function r(e,n,a){var o;Object(i.a)(this,r),(o=t.call(this,e,n)).type=3,o.iconPerPageElementsMap=new Map,o.glyphPerPageElementsMap=new Map,o.symbolInstances=[],o.isIconSDF=!1,o.opacityChanged=!1,o.lastOpacityUpdate=0,o.symbols=[];var s=new Uint32Array(e),c=new Int32Array(e),u=new Float32Array(e),l=o.bufferDataOffset;o.isIconSDF=!!s[l++];for(var f=s[l++],p=0;p<f;p++){var d=s[l++],h=s[l++],y=s[l++];o.iconPerPageElementsMap.set(d,[h,y])}for(var v=s[l++],m=0;m<v;m++){var g=s[l++],O=s[l++],j=s[l++];o.glyphPerPageElementsMap.set(g,[O,j])}var w=s[l++],_=s[l++];return o.iconOpacity=new Int32Array(w),o.textOpacity=new Int32Array(_),l=Object(b.b)(s,c,u,l,o.symbols,a),o.bufferDataOffset=l,o}return Object(a.a)(r,[{key:"hasData",value:function(){return this.iconPerPageElementsMap.size>0||this.glyphPerPageElementsMap.size>0}},{key:"triangleCount",value:function(){var e,t=0,r=y(this.iconPerPageElementsMap);try{for(r.s();!(e=r.n()).done;){var i=Object(n.a)(e.value,2);i[0];t+=i[1][1]}}catch(c){r.e(c)}finally{r.f()}var a,o=y(this.glyphPerPageElementsMap);try{for(o.s();!(a=o.n()).done;){var s=Object(n.a)(a.value,2);s[0];t+=s[1][1]}}catch(c){o.e(c)}finally{o.f()}return t/3}},{key:"doDestroy",value:function(){Object(l.i)(this.iconVertexArrayObject)&&this.iconVertexArrayObject.dispose(),Object(l.i)(this.iconVertexBuffer)&&this.iconVertexBuffer.dispose(),Object(l.i)(this.iconOpacityBuffer)&&this.iconOpacityBuffer.dispose(),Object(l.i)(this.iconIndexBuffer)&&this.iconIndexBuffer.dispose(),this.iconVertexArrayObject=null,this.iconVertexBuffer=null,this.iconOpacityBuffer=null,this.iconIndexBuffer=null,Object(l.i)(this.textVertexArrayObject)&&this.textVertexArrayObject.dispose(),Object(l.i)(this.textVertexBuffer)&&this.textVertexBuffer.dispose(),Object(l.i)(this.textOpacityBuffer)&&this.textOpacityBuffer.dispose(),Object(l.i)(this.textIndexBuffer)&&this.textIndexBuffer.dispose(),this.textVertexArrayObject=null,this.textVertexBuffer=null,this.textOpacityBuffer=null,this.textIndexBuffer=null,this.memoryUsed=0}},{key:"updateOpacityInfo",value:function(){if(this.opacityChanged){this.opacityChanged=!1;var e=Object(l.p)(this.iconOpacity),t=Object(l.p)(this.iconOpacityBuffer);e.length>0&&e.byteLength===t.size&&t.setSubData(e);var r=Object(l.p)(this.textOpacity),n=Object(l.p)(this.textOpacityBuffer);r.length>0&&r.byteLength===n.size&&n.setSubData(r)}}},{key:"doPrepareForRendering",value:function(e,t,r){var n=new Uint32Array(t),i=new Int32Array(n.buffer),a=n[r++];this.iconVertexBuffer=d.a.createVertex(e,35044,new Int32Array(i.buffer,4*r,a)),r+=a;var o=n[r++];this.iconIndexBuffer=d.a.createIndex(e,35044,new Uint32Array(n.buffer,4*r,o)),r+=o;var s=n[r++];this.textVertexBuffer=d.a.createVertex(e,35044,new Int32Array(i.buffer,4*r,s)),r+=s;var c=n[r++];this.textIndexBuffer=d.a.createIndex(e,35044,new Uint32Array(n.buffer,4*r,c)),r+=c,this.iconOpacityBuffer=d.a.createVertex(e,35044,Object(l.p)(this.iconOpacity).buffer),this.textOpacityBuffer=d.a.createVertex(e,35044,Object(l.p)(this.textOpacity).buffer);var u=this.layer,f=u.iconMaterial,p=u.textMaterial;this.iconVertexArrayObject=new h.a(e,f.getAttributeLocations(),f.getLayoutInfo(),{geometry:this.iconVertexBuffer,opacity:this.iconOpacityBuffer},this.iconIndexBuffer),this.textVertexArrayObject=new h.a(e,p.getAttributeLocations(),p.getLayoutInfo(),{geometry:this.textVertexBuffer,opacity:this.textOpacityBuffer},this.textIndexBuffer)}}]),r}(g),_=function(e){Object(s.a)(r,e);var t=m(r);function r(e,n){var a;Object(i.a)(this,r),(a=t.call(this,e,n)).type=4,a.circleIndexStart=0,a.circleIndexCount=0;var o=new Uint32Array(e),s=a.bufferDataOffset;return a.circleIndexStart=o[s++],a.circleIndexCount=o[s++],a.bufferDataOffset=s,a}return Object(a.a)(r,[{key:"hasData",value:function(){return this.circleIndexCount>0}},{key:"triangleCount",value:function(){return this.circleIndexCount/3}},{key:"doDestroy",value:function(){Object(l.i)(this.circleVertexArrayObject)&&this.circleVertexArrayObject.dispose(),Object(l.i)(this.circleVertexBuffer)&&this.circleVertexBuffer.dispose(),Object(l.i)(this.circleIndexBuffer)&&this.circleIndexBuffer.dispose(),this.circleVertexArrayObject=null,this.circleVertexBuffer=null,this.circleIndexBuffer=null,this.memoryUsed=0}},{key:"doPrepareForRendering",value:function(e,t,r){var n=new Uint32Array(t),i=new Int32Array(n.buffer),a=n[r++];this.circleVertexBuffer=d.a.createVertex(e,35044,new Int32Array(i.buffer,4*r,a)),r+=a;var o=n[r++];this.circleIndexBuffer=d.a.createIndex(e,35044,new Uint32Array(n.buffer,4*r,o)),r+=o;var s=this.layer.circleMaterial;this.circleVertexArrayObject=new h.a(e,s.getAttributeLocations(),s.getLayoutInfo(),{geometry:this.circleVertexBuffer},this.circleIndexBuffer)}}]),r}(g),k=r("bQwG");function x(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var I=function(e){Object(s.a)(r,e);var t=P(r);function r(e,n,a,o){var s,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return Object(i.a)(this,r),(s=t.call(this,e,a,o,[4096,4096]))._memCache=c,s._referenced=0,s._hasSymbolBuckets=!1,s._memoryUsedByLayerData=0,s.layerData=new Map,s.layerCount=0,s.status="loading",s.allSymbolsFadingOut=!1,s.lastOpacityUpdate=0,s.symbols=new Map,s.isCoverage=!1,s.neededForCoverage=!1,s.decluttered=!1,s.invalidating=!1,s.parentTile=null,s.childrenTiles=new Set,s._processed=!1,s._referenced=1,s.styleRepository=n,s.id=e.id,s.transforms.tileUnitsToPixels=Object(p.b)(),s}return Object(a.a)(r,[{key:"hasSymbolBuckets",get:function(){return this._hasSymbolBuckets}},{key:"isFading",get:function(){return this._hasSymbolBuckets&&performance.now()-this.lastOpacityUpdate<k.d}},{key:"isHoldingForFade",get:function(){return this._hasSymbolBuckets&&(!this.allSymbolsFadingOut||performance.now()-this.lastOpacityUpdate<k.d)}},{key:"wasRequested",get:function(){return"errored"===this.status||"loaded"===this.status||"reloading"===this.status}},{key:"setData",value:function(e){this.changeDataImpl(e),this.requestRender(),this.ready(),this.invalidating=!1,this._processed=!0}},{key:"deleteLayerData",value:function(e){var t,r=!1,n=x(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(this.layerData.has(i)){var a=this.layerData.get(i);this._memoryUsedByLayerData-=a.memoryUsed,3===a.type&&this.symbols.has(i)&&(this.symbols.delete(i),r=!0),a.destroy(),this.layerData.delete(i),this.layerCount--}}}catch(o){n.e(o)}finally{n.f()}Object(l.i)(this._memCache)&&this._memCache.updateSize(this.key.id,this,this._memoryUsedByLayerData),r&&this.emit("symbols-changed"),this.requestRender()}},{key:"processed",value:function(){return this._processed}},{key:"hasData",value:function(){return this.layerCount>0}},{key:"dispose",value:function(){"unloaded"!==this.status&&(R.delete(this),r._destroyRenderBuckets(this.layerData),this.layerData=null,this.layerCount=0,this._memoryUsedByLayerData=0,this.destroy(),this.status="unloaded")}},{key:"release",value:function(){return 0==--this._referenced&&(this.dispose(),this.stage=null,!0)}},{key:"retain",value:function(){++this._referenced}},{key:"referenced",get:function(){return this._referenced}},{key:"memoryUsage",get:function(){return(this._memoryUsedByLayerData+256)/(this._referenced||1)}},{key:"changeDataImpl",value:function(e){var t=!1;if(e){var r,i=x(this._createRenderBuckets(e));try{for(i.s();!(r=i.n()).done;){var a=Object(n.a)(r.value,2),o=a[0],s=a[1];if(this.layerData.has(o)){var c=this.layerData.get(o);this._memoryUsedByLayerData-=s.memoryUsed,c.destroy(),this.layerData.delete(o),this.layerCount--}3===s.type&&(this.symbols.set(o,s.symbols),t=!0),this._memoryUsedByLayerData+=s.memoryUsed,this.layerData.set(o,s),this.layerCount++}}catch(d){i.e(d)}finally{i.f()}Object(l.i)(this._memCache)&&this._memCache.updateSize(this.key.id,this,this._memoryUsedByLayerData)}this._hasSymbolBuckets=!1;var u,f=x(this.layerData);try{for(f.s();!(u=f.n()).done;){var p=Object(n.a)(u.value,2);p[0];3===p[1].type&&(this._hasSymbolBuckets=!0)}}catch(d){f.e(d)}finally{f.f()}t&&this.emit("symbols-changed")}},{key:"attachWithContext",value:function(e){this.stage={context:e,trashDisplayObject:function(e){e.processDetach()},untrashDisplayObject:function(){return!1}}}},{key:"setTransform",value:function(e,t){Object(o.a)(Object(u.a)(r.prototype),"setTransform",this).call(this,e,t);var n=t/(e.resolution*e.pixelRatio),i=this.size[0]/this.coordRange[0]*n,a=this.size[1]/this.coordRange[1]*n,s=[0,0];e.toScreen(s,this.coords);var c=this.transforms.tileUnitsToPixels;Object(f.b)(c),Object(f.c)(c,c,s),Object(f.j)(c,c,Math.PI*e.rotation/180),Object(f.d)(c,c,[i,a,1])}},{key:"_createRenderBuckets",value:function(e){var t,r=new Map,n=new Map,i=x(e);try{for(i.s();!(t=i.n()).done;){var a,o=t.value,s=this._deserializeBucket(o,n),c=x(s.layerUIDs);try{for(c.s();!(a=c.n()).done;){var u=a.value;r.set(u,s)}}catch(l){c.e(l)}finally{c.f()}}}catch(l){i.e(l)}finally{i.f()}return r}},{key:"_deserializeBucket",value:function(e,t){var r=t.get(e);if(r)return r;switch(new Uint32Array(e)[0]){case 1:r=new j(e,this.styleRepository);break;case 2:r=new O(e,this.styleRepository);break;case 3:r=new w(e,this.styleRepository,this);break;case 4:r=new _(e,this.styleRepository)}return t.set(e,r),r}}],[{key:"_destroyRenderBuckets",value:function(e){if(e){var t=new Set;e.forEach((function(e){t.has(e)||(e.destroy(),t.add(e))})),e.clear()}}}]),r}(r("QPvm").a),R=new Map},"8jRW":function(e,t,r){"use strict";(function(e){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:void 0;t.a=r}).call(this,r("pCvA"))},"94VI":function(e,t){t.polyfill=function(e){return e}},"97Yx":function(e,t,r){var n=r("6kFe"),i=r("AN5y"),a=r("c2OK");e.exports=function(e,t,r,o,s,c,u,l,f,p){var d=8&t;t|=d?32:64,4&(t&=~(d?64:32))||(t&=-4);var h=[e,t,s,d?c:void 0,d?u:void 0,d?void 0:c,d?void 0:u,l,f,p],b=r.apply(void 0,h);return n(e)&&i(b,h),b.placeholder=o,a(b,e,t)}},"987k":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("VZ8p"),f=r("vVXE"),p=r("Mp7X"),d=r("QSFP"),h=r("0n+b"),b=r("0fJP"),y=r("TM+E"),v=r("7im+"),m=r("xAIp"),g=r("gljZ"),O=(r("J4Pc"),r("mp5+")),j=r("iaHD"),w=r("jr4m"),_=r("wckI"),k=r("nd5+"),x=r("y3sw");function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var P="esri.webmap.Bookmark",I=y.a.getLogger(P),R=n=function(e){Object(o.a)(r,e);var t=S(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).name=null,n.thumbnail=new x.a,n}return Object(a.a)(r,[{key:"extent",set:function(e){Object(f.c)(I,"extent",{replacement:"viewpoint",version:"4.17"}),this._set("viewpoint",new l.a({targetGeometry:e.clone()})),this._set("extent",e)}},{key:"castThumbnail",value:function(e){return"string"==typeof e?new x.a({url:e}):Object(_.m)(x.a,e)}},{key:"viewpoint",set:function(e){var t=e.targetGeometry,r=e.scale;Object(v.i)(t)&&("extent"===t.type?this._set("extent",t.clone()):"point"===t.type&&Object(v.h)(r)&&I.warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",e)),this._set("viewpoint",e)}},{key:"readViewpoint",value:function(e,t){var r=t.extent,n=t.viewpoint;return l.a.fromJSON(n||{targetGeometry:r})}},{key:"writeViewpoint",value:function(e,t,r,n){if(e){var i=e.targetGeometry;if(Object(v.i)(i)&&"extent"!==i.type){var a="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";null!=n&&n.messages?n.messages.push(new p.a("property:unsupported",a)):I.error(a)}else t[r]=e.toJSON()}}},{key:"clone",value:function(){return new n(Object(b.a)({name:this.name,thumbnail:this.thumbnail,viewpoint:this.viewpoint}))}}]),r}(Object(d.a)(h.a));Object(u.a)([Object(m.b)({type:k.a,nonNullable:!0,json:{read:!1,write:{isRequired:!0}}})],R.prototype,"extent",null),Object(u.a)([Object(m.b)({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],R.prototype,"name",void 0),Object(u.a)([Object(m.b)({type:x.a,json:{write:{overridePolicy:function(e){return{enabled:!(!e||!e.url)}}}}})],R.prototype,"thumbnail",void 0),Object(u.a)([Object(g.a)("thumbnail")],R.prototype,"castThumbnail",null),Object(u.a)([Object(m.b)({type:l.a,nonNullable:!0,json:{write:!0}})],R.prototype,"viewpoint",null),Object(u.a)([Object(O.a)("viewpoint",["extent","viewpoint"])],R.prototype,"readViewpoint",null),Object(u.a)([Object(w.a)("viewpoint")],R.prototype,"writeViewpoint",null);var M=R=n=Object(u.a)([Object(j.a)(P)],R);t.a=M},"9NdK":function(e,t,r){"use strict";var n=r("8jRW");var i,a=(i=n.a,{setTimeout:function(e,t){var r=i.setTimeout(e,t);return{remove:function(){return i.clearTimeout(r)}}}});t.a=a},"9P7x":function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r("hisu"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("dQW7"),c=r("xAIp"),u=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var f=function(e){var t=function(e){Object(i.a)(r,e);var t=l(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).blendMode="normal",e.effect=null,e}return r}(e);return Object(s.a)([Object(c.b)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{default:"normal",read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),Object(s.a)([Object(c.b)()],t.prototype,"effect",void 0),t=Object(s.a)([Object(u.a)("esri.layers.mixins.BlendLayer")],t)}},"9PpZ":function(e,t,r){"use strict";var n,i=r("1zU3");t.a=function(){return n||(n=function(){var e={available:!1,version:0,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,supportsColorBufferFloat:!1};if(void 0===typeof WebGLRenderingContext)return e;var t=document.createElement("canvas");if(!t)return e;var r=Object(i.a)(t,{failIfMajorPerformanceCaveat:!0},"webgl");if(r||(r=Object(i.a)(t,{},"webgl"))&&(e.majorPerformanceCaveat=!0),!r)return e;var n=r.getParameter(r.VERSION);if(!n)return e;var a=n.match(/^WebGL\s+([\d.]*)/);if(a){var o=parseFloat(a[1]);e.available=o>=.94;var s=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);s&&(e.supportsHighPrecisionFragment=s.precision>0),e.supportsVertexShaderSamplers=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0,e.supportsElementIndexUint=null!==r.getExtension("OES_element_index_uint"),e.supportsStandardDerivatives=null!==r.getExtension("OES_standard_derivatives"),e.supportsInstancedArrays=null!==r.getExtension("ANGLE_instanced_arrays"),e.supportsTextureFloat=null!==r.getExtension("OES_texture_float"),e.supportsColorBufferFloat=null!==r.getExtension("WEBGL_color_buffer_float")&&null!==r.getExtension("EXT_float_blend")}return e.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),e.version=function(){if(void 0===typeof WebGL2RenderingContext)return!1;var e=document.createElement("canvas");return!!e&&!!Object(i.a)(e,{},"webgl2")}()?2:1,e}()),n}},"9ZxH":function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return f}));var n=r("hisu"),i=r("0fJP"),a=r("7im+"),o=r("F1Bx"),s=function e(t){Object(n.a)(this,e),this.autoDestroy=!1,this.properties=t};function c(e){var t=e.constructor.__accessorMetadata__,r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){var n=Object.create(t.properties),o=t.autoDestroy;for(var c in n)n[c]=Object(i.a)(n[c]);(t=new s(n)).autoDestroy=o,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new s({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return Object(a.c)(e.constructor.__accessorMetadata__)}function u(e){return c(e).properties}function l(e,t){var r=u(e),n=r[t];return n||(n=r[t]={}),n}function f(e,t){return Object(o.c)(e,t,d)}var p=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function d(e){return p.test(e)?"replace":"merge"}},"9aUh":function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},"9jes":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return o})),r.d(t,"f",(function(){return c}));var n=r("7im+"),i=r("z9dv");function a(e,t){var r=t&&t.url&&t.url.path;if(e&&r&&(e=Object(i.A)(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){var n=Object(i.C)(e,t.portalItem.itemUrl);l.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return d(e,t&&t.portal)}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e)return e;!Object(i.s)(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);var n=Object(i.A)(e);if(t){var a=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(a){var o=d(a,t.portal);(n=Object(i.C)(d(n,t.portal),o,o))!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=p(n,t&&t.portal),Object(i.s)(n)&&(n=Object(i.D)(n)),null!=t&&t.resources&&null!=t&&t.portalItem&&!Object(i.s)(n)&&!Object(i.u)(n)&&0===r&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n)}),n}function s(e,t,r){return a(e,r)}function c(e,t,r,n){var i=o(e,n);void 0!==i&&(t[r]=i)}var u=/\/items\/([^\/]+)\/resources\//,l=/^\.\/resources\//;function f(e){var t=Object(n.i)(e)?e.match(u):null;return Object(n.i)(t)?t[1]:null}function p(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?Object(i.h)(e,"".concat(t.urlKey,".").concat(t.customBaseUrl),t.portalHostname):e}function d(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;var r="".concat(t.urlKey,".").concat(t.customBaseUrl);return Object(i.q)(i.g,"".concat(i.g.scheme,"://").concat(r))?Object(i.h)(e,t.portalHostname,r):Object(i.h)(e,r,t.portalHostname)}var h=Object.freeze({__proto__:null,fromJSON:a,toJSON:o,read:s,write:c,itemIdFromResourceUrl:f})},"9jjj":function(e,t){function r(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id="9jjj"},"9lU+":function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},"9nX2":function(e,t,r){var n=r("+iL7"),i=/#|\.prototype\./,a=function(e,t){var r=s[o(e)];return r==u||r!=c&&("function"==typeof t?n(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},"9pAD":function(e,t,r){var n=r("Qean");e.exports=function(e){return Object(n(e))}},"9xxD":function(e,t,r){"use strict";var n=r("D2wv"),i=r("YO7g"),a=r("Rlj/");function o(e,t){return t=t||{},function(r,n){for(var i,a=e.length,o=-1;++o<a&&0===(i=s(e[o],r,n)););return!0===t.reverse?-1*i:i}}function s(e,t,r){return"function"==typeof e?e(t,r,s.bind(null,null)):e&&"object"==typeof t&&"object"==typeof r?s(null,a(t,e),a(r,e)):n(t,r)}function c(e){return[].concat.apply([],e)}e.exports=function(e,t,r){if(null==e)return[];if(!Array.isArray(e))throw new TypeError("array-sort expects an array.");if(1===arguments.length)return e.sort();var n=c([].slice.call(arguments,1));return"object"===i(n[n.length-1])&&(r=n.pop()),e.sort(o(n,r))}},A0wW:function(e,t,r){"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function o(e,t,r){if(!a(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){var i,o=t.slice(),s=n(o);try{for(s.s();!(i=s.n()).done;){var c=i.value;e.addEventListener(c,r)}}catch(u){s.e(u)}finally{s.f()}return{remove:function(){var t,i=n(o);try{for(i.s();!(t=i.n()).done;){var a=t.value;e.removeEventListener(a,r)}}catch(u){i.e(u)}finally{i.f()}}}}return e.addEventListener(t,r),{remove:function(){e.removeEventListener(t,r)}}}function s(e,t,r){if(!a(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);var n=o(e,t,(function(t){n.remove(),r.call(e,t)}));return{remove:function(){n.remove()}}}function c(e,t,r){var n=!1,i=o(e,t,(function(t){n||r.call(e,t)}));return{resume:function(){n=!1},pause:function(){n=!0},remove:function(){i.remove()}}}r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return c}));var u={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function l(e){var t=e.key;return u[t]||t}},A277:function(e,t,r){var n=r("Exs5"),i=r("UnPy");e.exports=function(e,t){return t.length<2?e:n(e,i(t,0,-1))}},"AC3/":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("U95q");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var h=n=function(e){Object(o.a)(r,e);var t=d(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).text=null,n.type="text",n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({text:this.text})}}]),r}(p.a);Object(u.a)([Object(l.b)({type:String,json:{write:!0}})],h.prototype,"text",void 0),Object(u.a)([Object(l.b)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],h.prototype,"type",void 0);var b=h=n=Object(u.a)([Object(f.a)("esri.popup.content.TextContent")],h);t.a=b},AJMQ:function(e,t){e.exports=function(e){return this.__data__.has(e)}},AN5y:function(e,t,r){var n=r("eEf8"),i=r("u7St")(n);e.exports=i},"AQ8/":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0fJP"),f=r("xAIp"),p=(r("wckI"),r("J4Pc"),r("TM+E"),r("iaHD")),d=r("jr4m"),h=r("nd5+"),b=r("DjXQ"),y=r("OTJA"),v=r("YHXj"),m=r("qCPK"),g=r("ZPUJ");function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var j=n=function(e){Object(o.a)(r,e);var t=O(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).paths=[],e.type="polyline",e}return Object(a.a)(r,[{key:"normalizeCtorArgs",value:function(e,t){var r,n,i,a=null;return e&&!Array.isArray(e)?(a=e.paths?e.paths:null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,n=e.hasM):a=e,a=a||[],t=t||v.a.WGS84,a.length&&a[0]&&null!=a[0][0]&&"number"==typeof a[0][0]&&(a=[a]),(i=a[0]&&a[0][0])&&(void 0===r&&void 0===n?(r=i.length>2,n=!1):void 0===r?r=!n&&i.length>3:void 0===n&&(n=!r&&i.length>3)),{paths:a,spatialReference:t,hasZ:r,hasM:n}}},{key:"cache",get:function(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}},{key:"extent",get:function(){var e=this.spatialReference,t=Object(m.c)(this);if(!t)return null;var r=new h.a(t);return r.spatialReference=e,r}},{key:"writePaths",value:function(e,t){t.paths=Object(l.a)(this.paths)}},{key:"addPath",value:function(e){if(e){var t=this.paths,r=t.length;if(function(e){return!Array.isArray(e[0])}(e)){for(var n=[],i=0,a=e.length;i<a;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.concat();return this.notifyChange("paths"),this}}},{key:"clone",value:function(){var e=new n;return e.spatialReference=this.spatialReference,e.paths=Object(l.a)(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}},{key:"getPoint",value:function(e,t){if(!this._validateInputs(e,t))return null;var r=this.paths[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new y.a(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new y.a(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new y.a(r[0],r[1],r[2],r[3],this.spatialReference):new y.a(r[0],r[1],this.spatialReference)}},{key:"insertPoint",value:function(e,t,r){return this._validateInputs(e,t,!0)?(Object(g.a)(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}},{key:"removePath",value:function(e){if(!this._validateInputs(e,null))return null;var t=this.paths.splice(e,1)[0],r=this.spatialReference,n=t.map((function(e){return new y.a(e,r)}));return this.notifyChange("paths"),n}},{key:"removePoint",value:function(e,t){if(!this._validateInputs(e,t))return null;var r=new y.a(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}},{key:"setPoint",value:function(e,t,r){return this._validateInputs(e,t)?(Object(g.a)(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}},{key:"_validateInputs",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||e<0||e>=this.paths.length)return!1;if(null!=t){var n=this.paths[e];if(r&&(t<0||t>n.length))return!1;if(!r&&(t<0||t>=n.length))return!1}return!0}},{key:"toJSON",value:function(e){return this.write(null,e)}}]),r}(b.a);Object(u.a)([Object(f.b)({readOnly:!0})],j.prototype,"cache",null),Object(u.a)([Object(f.b)({readOnly:!0})],j.prototype,"extent",null),Object(u.a)([Object(f.b)({type:[[[Number]]],json:{write:{isRequired:!0}}})],j.prototype,"paths",void 0),Object(u.a)([Object(d.a)("paths")],j.prototype,"writePaths",null),(j=n=Object(u.a)([Object(p.a)("esri.geometry.Polyline")],j)).prototype.toJSON.isDefaultToJSON=!0;var w=j;t.a=w},ARTo:function(e,t,r){"use strict";var n,i=r("mK0O"),a=r("hisu"),o=r("yBJb"),s=r("4Mpa"),c=r("CHlC"),u=r("kMo5"),l=r("P+uj"),f=r("dQW7"),p=r("X6u8"),d=r("7i+s"),h=r("0n+b"),b=r("a1Tm"),y=r("8N15"),v=r("xAIp"),m=(r("J4Pc"),r("wckI"),r("TM+E"),r("mp5+")),g=r("iaHD"),O=r("jr4m");function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var _=Object(d.b)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),k=_.jsonValues.slice();Object(p.j)(k,"orthometric");var x=Object(d.b)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"}),S=n=function(e){Object(c.a)(r,e);var t=w(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).heightModel="gravity-related-height",n.heightUnit="meters",n.vertCRS=null,n}return Object(o.a)(r,[{key:"writeHeightModel",value:function(e,t,r){return _.write(e,t,r)}},{key:"readHeightModel",value:function(e,t,r){return _.read(e)||(r&&r.messages&&r.messages.push(function(e,t){return new y.a("height-model:unsupported","Height model of value '".concat(e,"' is not supported"),t)}(e,{context:r})),null)}},{key:"readHeightUnit",value:function(e,t,r){return x.read(e)||(r&&r.messages&&r.messages.push(P(e,{context:r})),null)}},{key:"readHeightUnitService",value:function(e,t,r){return Object(b.q)(e)||x.read(e)||(r&&r.messages&&r.messages.push(P(e,{context:r})),null)}},{key:"readVertCRS",value:function(e,t){return t.vertCRS||t.ellipsoid||t.geoid}},{key:"clone",value:function(){return new n({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}},{key:"equals",value:function(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}},{key:"write",value:function(e,t){return t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({origin:"web-scene"},t),Object(s.a)(Object(l.a)(r.prototype),"write",this).call(this,e,t)}}],[{key:"deriveUnitFromSR",value:function(e,t){var r=Object(b.g)(t);return new n({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}},{key:"fromJSON",value:function(e){if(!e)return null;var t=new n;return t.read(e,{origin:"web-scene"}),t}}]),r}(h.a);function P(e,t){return new y.a("height-unit:unsupported","Height unit of value '".concat(e,"' is not supported"),t)}Object(f.a)([Object(v.b)({type:_.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:k,default:"ellipsoidal"}}}})],S.prototype,"heightModel",void 0),Object(f.a)([Object(O.a)("web-scene","heightModel")],S.prototype,"writeHeightModel",null),Object(f.a)([Object(m.a)(["web-scene","service"],"heightModel")],S.prototype,"readHeightModel",null),Object(f.a)([Object(v.b)({type:x.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:x.jsonValues,write:x.write}}}})],S.prototype,"heightUnit",void 0),Object(f.a)([Object(m.a)("web-scene","heightUnit")],S.prototype,"readHeightUnit",null),Object(f.a)([Object(m.a)("service","heightUnit")],S.prototype,"readHeightUnitService",null),Object(f.a)([Object(v.b)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],S.prototype,"vertCRS",void 0),Object(f.a)([Object(m.a)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],S.prototype,"readVertCRS",null);var I=S=n=Object(f.a)([Object(g.a)("esri.geometry.HeightModelInfo")],S);t.a=I},AZZI:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return y}));var n=r("mK0O"),i=r("K2z9"),a=r("F1Bx"),o=r("zuCa");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t,r){if(!e||!e.read||!1===e.read.enabled||!e.read.source)return!1;var n=e.read.source;if("string"==typeof n){if(n===t)return!0;if(n.indexOf(".")>-1&&0===n.indexOf(t)&&Object(i.a)(n,r))return!0}else{var a,o=u(n);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s===t)return!0;if(s.indexOf(".")>-1&&0===s.indexOf(t)&&Object(i.a)(s,r))return!0}}catch(c){o.e(c)}finally{o.f()}}return!1}function p(e,t,r,n,i){var a=Object(o.c)(t[r],i);(function(e){return e&&(!e.read||!1!==e.read.enabled&&!e.read.source)})(a)&&(e[r]=!0);var s,c=u(Object.getOwnPropertyNames(t));try{for(c.s();!(s=c.n()).done;){var l=s.value;f(a=Object(o.c)(t[l],i),r,n)&&(e[l]=!0)}}catch(p){c.e(p)}finally{c.f()}}function d(e,t,r,n){var i=r.metadatas,a=Object(o.b)(i[t],"any",n),s=a&&a.default;if(void 0!==s){var c="function"==typeof s?s.call(e,t,n):s;void 0!==c&&r.set(t,c)}}var h={origin:"service"};function b(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;if(t&&"object"==typeof t){var n,s=Object(a.a)(e),c=s.metadatas,l={},f=u(Object.getOwnPropertyNames(t));try{for(f.s();!(n=f.n()).done;){var b=n.value;p(l,c,b,t,r)}}catch(x){f.e(x)}finally{f.f()}s.setDefaultOrigin(r.origin);var y,v=u(Object.getOwnPropertyNames(l));try{for(v.s();!(y=v.n()).done;){var m=y.value,g=Object(o.c)(c[m],r).read,O=g&&g.source,j=void 0;j=O&&"string"==typeof O?Object(i.c)(t,O):t[m],g&&g.reader&&(j=g.reader.call(e,j,t,r)),void 0!==j&&s.set(m,j)}}catch(x){v.e(x)}finally{v.f()}if(!r||!r.ignoreDefaults){var w,_=u(Object.getOwnPropertyNames(c));try{for(_.s();!(w=_.n()).done;){var k=w.value;l[k]||d(e,k,s,r)}}catch(x){_.e(x)}finally{_.f()}}s.setDefaultOrigin("user")}}function y(e,t,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h,a=c(c({},i),{},{messages:[]});r(a),null==(n=a.messages)||n.forEach((function(t){"warning"!==t.type||e.loaded?i&&i.messages&&i.messages.push(t):e.loadWarnings.push(t)}))}},AdG2:function(e,t,r){"use strict";r.r(t),r.d(t,"wrapRootElement",(function(){return A}));var n=r("mK0O"),i=r("ERkP"),a=r.n(i),o=r("/FXl"),s=Object(i.createContext)({}),c=function(e){var t=Object(i.useContext)(s);return e||t};void 0!==c&&c&&c===Object(c)&&Object.isExtensible(c)&&!c.hasOwnProperty("__filemeta")&&Object.defineProperty(c,"__filemeta",{configurable:!0,value:{name:"useMDXScope",filename:"node_modules/gatsby-plugin-mdx/context.js"}});var u=function(e){var t=e.__mdxScope,r=e.children;return a.a.createElement(s.Provider,{value:t},r)};void 0!==u&&u&&u===Object(u)&&Object.isExtensible(u)&&!u.hasOwnProperty("__filemeta")&&Object.defineProperty(u,"__filemeta",{configurable:!0,value:{name:"MDXScopeProvider",filename:"node_modules/gatsby-plugin-mdx/context.js"}});var l=r("hRIO"),f=r("+xdC").default,p=r("jsWu").default,d=r("efmi").default,h=r("L4it").default,b=r("PUHb").default,y=r("XBS7").default,v=r("f2JV").default,m=r("/yxD").default,g=r("f6ty").default,O=r("cX/Y").default,j=r("NoNy").default,w=r("JTKy").default,_=Object.assign({},f,p,d,h,b,y,v,m,g,O,j,w),k=_;void 0!==_&&_&&_===Object(_)&&Object.isExtensible(_)&&!_.hasOwnProperty("__filemeta")&&Object.defineProperty(_,"__filemeta",{configurable:!0,value:{name:"__DOCZ_DUMMY_EXPORT_DEFAULT",filename:"node_modules/gatsby-plugin-mdx/loaders/mdx-scopes.js"}}),void 0!==_&&_&&_===Object(_)&&Object.isExtensible(_)&&!_.hasOwnProperty("__filemeta")&&Object.defineProperty(_,"__filemeta",{configurable:!0,value:{name:"__DOCZ_DUMMY_EXPORT_DEFAULT",filename:"node_modules/gatsby-plugin-mdx/loaders/mdx-scopes.js"}});var x=r("aD51");function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I={};l.plugins.forEach((function(e){var t=e.guards,r=void 0===t?{}:t,n=e.components;Object.entries(n).forEach((function(e){var t=e[0],n=e[1];I[t]?I.push({guard:r[t],Component:n}):I[t]=[{guard:r[t],Component:n}]}))}));var R=Object.entries(I).map((function(e){var t,r=e[0],n=e[1];return(t={})[r]=function(e){return function(t){var r=e.find((function(e){var r=e.guard;return!r||r(t)})).Component;return Object(x.c)(r,t)}}(n.concat({guard:void 0,Component:r})),t})).reduce((function(e,t){return P(P({},e),t)}),{}),M=Object(o.c)((function(e){var t=e.components,r=e.children;return Object(x.c)(u,{__mdxScope:k},Object(x.c)(o.a,{components:P(P({},t),R)},r))})),E=function(e){var t=e.element;return Object(x.c)(M,null,t)},T=E;void 0!==E&&E&&E===Object(E)&&Object.isExtensible(E)&&!E.hasOwnProperty("__filemeta")&&Object.defineProperty(E,"__filemeta",{configurable:!0,value:{name:"WrapRootElement",filename:"node_modules/gatsby-plugin-mdx/wrap-root-element.js"}});var A=T;void 0!==A&&A&&A===Object(A)&&Object.isExtensible(A)&&!A.hasOwnProperty("__filemeta")&&Object.defineProperty(A,"__filemeta",{configurable:!0,value:{name:"wrapRootElement",filename:"node_modules/gatsby-plugin-mdx/gatsby-browser.js"}})},AjSt:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return g})),r.d(t,"f",(function(){return m})),r.d(t,"g",(function(){return o})),r.d(t,"h",(function(){return s})),r.d(t,"i",(function(){return l})),r.d(t,"j",(function(){return h})),r.d(t,"k",(function(){return O})),r.d(t,"l",(function(){return p})),r.d(t,"m",(function(){return f}));var n=r("4vgF"),i=r("p0eS");function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function o(e,t,r,n,i,a,o,s,c,u,l,f,p,d,h,b,y){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=a,e[5]=o,e[6]=s,e[7]=c,e[8]=u,e[9]=l,e[10]=f,e[11]=p,e[12]=d,e[13]=h,e[14]=b,e[15]=y,e}function s(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function c(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function u(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],u=t[7],l=t[8],f=t[9],p=t[10],d=t[11],h=t[12],b=t[13],y=t[14],v=t[15],m=r*s-n*o,g=r*c-i*o,O=r*u-a*o,j=n*c-i*s,w=n*u-a*s,_=i*u-a*c,k=l*b-f*h,x=l*y-p*h,S=l*v-d*h,P=f*y-p*b,I=f*v-d*b,R=p*v-d*y,M=m*R-g*I+O*P+j*S-w*x+_*k;return M?(M=1/M,e[0]=(s*R-c*I+u*P)*M,e[1]=(i*I-n*R-a*P)*M,e[2]=(b*_-y*w+v*j)*M,e[3]=(p*w-f*_-d*j)*M,e[4]=(c*S-o*R-u*x)*M,e[5]=(r*R-i*S+a*x)*M,e[6]=(y*O-h*_-v*g)*M,e[7]=(l*_-p*O+d*g)*M,e[8]=(o*I-s*S+u*k)*M,e[9]=(n*S-r*I-a*k)*M,e[10]=(h*w-b*O+v*m)*M,e[11]=(f*O-l*w-d*m)*M,e[12]=(s*x-o*P-c*k)*M,e[13]=(r*P-n*x+i*k)*M,e[14]=(b*g-h*j-y*m)*M,e[15]=(l*j-f*g+p*m)*M,e):null}function l(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=t[6],l=t[7],f=t[8],p=t[9],d=t[10],h=t[11],b=t[12],y=t[13],v=t[14],m=t[15],g=r[0],O=r[1],j=r[2],w=r[3];return e[0]=g*n+O*s+j*f+w*b,e[1]=g*i+O*c+j*p+w*y,e[2]=g*a+O*u+j*d+w*v,e[3]=g*o+O*l+j*h+w*m,g=r[4],O=r[5],j=r[6],w=r[7],e[4]=g*n+O*s+j*f+w*b,e[5]=g*i+O*c+j*p+w*y,e[6]=g*a+O*u+j*d+w*v,e[7]=g*o+O*l+j*h+w*m,g=r[8],O=r[9],j=r[10],w=r[11],e[8]=g*n+O*s+j*f+w*b,e[9]=g*i+O*c+j*p+w*y,e[10]=g*a+O*u+j*d+w*v,e[11]=g*o+O*l+j*h+w*m,g=r[12],O=r[13],j=r[14],w=r[15],e[12]=g*n+O*s+j*f+w*b,e[13]=g*i+O*c+j*p+w*y,e[14]=g*a+O*u+j*d+w*v,e[15]=g*o+O*l+j*h+w*m,e}function f(e,t,r){var n,i,a,o,s,c,u,l,f,p,d,h,b=r[0],y=r[1],v=r[2];return t===e?(e[12]=t[0]*b+t[4]*y+t[8]*v+t[12],e[13]=t[1]*b+t[5]*y+t[9]*v+t[13],e[14]=t[2]*b+t[6]*y+t[10]*v+t[14],e[15]=t[3]*b+t[7]*y+t[11]*v+t[15]):(n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=t[6],l=t[7],f=t[8],p=t[9],d=t[10],h=t[11],e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=c,e[6]=u,e[7]=l,e[8]=f,e[9]=p,e[10]=d,e[11]=h,e[12]=n*b+s*y+f*v+t[12],e[13]=i*b+c*y+p*v+t[13],e[14]=a*b+u*y+d*v+t[14],e[15]=o*b+l*y+h*v+t[15]),e}function p(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function d(e,t,r,n){var a,o,s,c,u,l,f,p,d,h,b,y,v,m,g,O,j,w,_,k,x,S,P,I,R=n[0],M=n[1],E=n[2],T=Math.sqrt(R*R+M*M+E*E);return T<i.a?null:(R*=T=1/T,M*=T,E*=T,a=Math.sin(r),s=1-(o=Math.cos(r)),c=t[0],u=t[1],l=t[2],f=t[3],p=t[4],d=t[5],h=t[6],b=t[7],y=t[8],v=t[9],m=t[10],g=t[11],O=R*R*s+o,j=M*R*s+E*a,w=E*R*s-M*a,_=R*M*s-E*a,k=M*M*s+o,x=E*M*s+R*a,S=R*E*s+M*a,P=M*E*s-R*a,I=E*E*s+o,e[0]=c*O+p*j+y*w,e[1]=u*O+d*j+v*w,e[2]=l*O+h*j+m*w,e[3]=f*O+b*j+g*w,e[4]=c*_+p*k+y*x,e[5]=u*_+d*k+v*x,e[6]=l*_+h*k+m*x,e[7]=f*_+b*k+g*x,e[8]=c*S+p*P+y*I,e[9]=u*S+d*P+v*I,e[10]=l*S+h*P+m*I,e[11]=f*S+b*P+g*I,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function h(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function b(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=n+n,c=i+i,u=a+a,l=n*s,f=n*c,p=n*u,d=i*c,h=i*u,b=a*u,y=o*s,v=o*c,m=o*u;return e[0]=1-(d+b),e[1]=f+m,e[2]=p-v,e[3]=0,e[4]=f-m,e[5]=1-(l+b),e[6]=h+y,e[7]=0,e[8]=p+v,e[9]=h-y,e[10]=1-(l+d),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}var y=Object(n.e)();function v(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function m(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function g(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=e[4],c=e[5],u=e[6],l=e[7],f=e[8],p=e[9],d=e[10],h=e[11],b=e[12],y=e[13],v=e[14],m=e[15],g=t[0],O=t[1],j=t[2],w=t[3],_=t[4],k=t[5],x=t[6],S=t[7],P=t[8],I=t[9],R=t[10],M=t[11],E=t[12],T=t[13],A=t[14],C=t[15];return Math.abs(r-g)<=i.a*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(n-O)<=i.a*Math.max(1,Math.abs(n),Math.abs(O))&&Math.abs(a-j)<=i.a*Math.max(1,Math.abs(a),Math.abs(j))&&Math.abs(o-w)<=i.a*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(s-_)<=i.a*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(c-k)<=i.a*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(u-x)<=i.a*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(l-S)<=i.a*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(f-P)<=i.a*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(p-I)<=i.a*Math.max(1,Math.abs(p),Math.abs(I))&&Math.abs(d-R)<=i.a*Math.max(1,Math.abs(d),Math.abs(R))&&Math.abs(h-M)<=i.a*Math.max(1,Math.abs(h),Math.abs(M))&&Math.abs(b-E)<=i.a*Math.max(1,Math.abs(b),Math.abs(E))&&Math.abs(y-T)<=i.a*Math.max(1,Math.abs(y),Math.abs(T))&&Math.abs(v-A)<=i.a*Math.max(1,Math.abs(v),Math.abs(A))&&Math.abs(m-C)<=i.a*Math.max(1,Math.abs(m),Math.abs(C))}function O(e){var t=i.a,r=e[0],n=e[1],a=e[2],o=e[4],s=e[5],c=e[6],u=e[8],l=e[9],f=e[10];return Math.abs(1-(r*r+o*o+u*u))<=t&&Math.abs(1-(n*n+s*s+l*l))<=t&&Math.abs(1-(a*a+c*c+f*f))<=t}var j=l,w=v;Object.freeze({__proto__:null,copy:a,set:o,identity:s,transpose:c,invert:u,adjoint:function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],u=t[7],l=t[8],f=t[9],p=t[10],d=t[11],h=t[12],b=t[13],y=t[14],v=t[15];return e[0]=s*(p*v-d*y)-f*(c*v-u*y)+b*(c*d-u*p),e[1]=-(n*(p*v-d*y)-f*(i*v-a*y)+b*(i*d-a*p)),e[2]=n*(c*v-u*y)-s*(i*v-a*y)+b*(i*u-a*c),e[3]=-(n*(c*d-u*p)-s*(i*d-a*p)+f*(i*u-a*c)),e[4]=-(o*(p*v-d*y)-l*(c*v-u*y)+h*(c*d-u*p)),e[5]=r*(p*v-d*y)-l*(i*v-a*y)+h*(i*d-a*p),e[6]=-(r*(c*v-u*y)-o*(i*v-a*y)+h*(i*u-a*c)),e[7]=r*(c*d-u*p)-o*(i*d-a*p)+l*(i*u-a*c),e[8]=o*(f*v-d*b)-l*(s*v-u*b)+h*(s*d-u*f),e[9]=-(r*(f*v-d*b)-l*(n*v-a*b)+h*(n*d-a*f)),e[10]=r*(s*v-u*b)-o*(n*v-a*b)+h*(n*u-a*s),e[11]=-(r*(s*d-u*f)-o*(n*d-a*f)+l*(n*u-a*s)),e[12]=-(o*(f*y-p*b)-l*(s*y-c*b)+h*(s*p-c*f)),e[13]=r*(f*y-p*b)-l*(n*y-i*b)+h*(n*p-i*f),e[14]=-(r*(s*y-c*b)-o*(n*y-i*b)+h*(n*c-i*s)),e[15]=r*(s*p-c*f)-o*(n*p-i*f)+l*(n*c-i*s),e},determinant:function(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],u=e[8],l=e[9],f=e[10],p=e[11],d=e[12],h=e[13],b=e[14],y=e[15];return(t*o-r*a)*(f*y-p*b)-(t*s-n*a)*(l*y-p*h)+(t*c-i*a)*(l*b-f*h)+(r*s-n*o)*(u*y-p*d)-(r*c-i*o)*(u*b-f*d)+(n*c-i*s)*(u*h-l*d)},multiply:l,translate:f,scale:p,rotate:d,rotateX:function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[4],o=t[5],s=t[6],c=t[7],u=t[8],l=t[9],f=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+u*n,e[5]=o*i+l*n,e[6]=s*i+f*n,e[7]=c*i+p*n,e[8]=u*i-a*n,e[9]=l*i-o*n,e[10]=f*i-s*n,e[11]=p*i-c*n,e},rotateY:function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],c=t[3],u=t[8],l=t[9],f=t[10],p=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-u*n,e[1]=o*i-l*n,e[2]=s*i-f*n,e[3]=c*i-p*n,e[8]=a*n+u*i,e[9]=o*n+l*i,e[10]=s*n+f*i,e[11]=c*n+p*i,e},rotateZ:function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],c=t[3],u=t[4],l=t[5],f=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+u*n,e[1]=o*i+l*n,e[2]=s*i+f*n,e[3]=c*i+p*n,e[4]=u*i-a*n,e[5]=l*i-o*n,e[6]=f*i-s*n,e[7]=p*i-c*n,e},fromTranslation:function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromRotation:function(e,t,r){var n,a,o,s=r[0],c=r[1],u=r[2],l=Math.sqrt(s*s+c*c+u*u);return l<i.a?null:(s*=l=1/l,c*=l,u*=l,n=Math.sin(t),o=1-(a=Math.cos(t)),e[0]=s*s*o+a,e[1]=c*s*o+u*n,e[2]=u*s*o-c*n,e[3]=0,e[4]=s*c*o-u*n,e[5]=c*c*o+a,e[6]=u*c*o+s*n,e[7]=0,e[8]=s*u*o+c*n,e[9]=c*u*o-s*n,e[10]=u*u*o+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},fromXRotation:h,fromYRotation:function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromZRotation:function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromRotationTranslation:b,fromQuat2:function(e,t){var r=y,n=-t[0],i=-t[1],a=-t[2],o=t[3],s=t[4],c=t[5],u=t[6],l=t[7],f=n*n+i*i+a*a+o*o;return f>0?(r[0]=2*(s*o+l*n+c*a-u*i)/f,r[1]=2*(c*o+l*i+u*n-s*a)/f,r[2]=2*(u*o+l*a+s*i-c*n)/f):(r[0]=2*(s*o+l*n+c*a-u*i),r[1]=2*(c*o+l*i+u*n-s*a),r[2]=2*(u*o+l*a+s*i-c*n)),b(e,t,r),e},getTranslation:function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},getScaling:function(e,t){var r=t[0],n=t[1],i=t[2],a=t[4],o=t[5],s=t[6],c=t[8],u=t[9],l=t[10];return e[0]=Math.sqrt(r*r+n*n+i*i),e[1]=Math.sqrt(a*a+o*o+s*s),e[2]=Math.sqrt(c*c+u*u+l*l),e},getRotation:function(e,t){var r=t[0]+t[5]+t[10],n=0;return r>0?(n=2*Math.sqrt(r+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e},fromRotationTranslationScale:function(e,t,r,n){var i=t[0],a=t[1],o=t[2],s=t[3],c=i+i,u=a+a,l=o+o,f=i*c,p=i*u,d=i*l,h=a*u,b=a*l,y=o*l,v=s*c,m=s*u,g=s*l,O=n[0],j=n[1],w=n[2];return e[0]=(1-(h+y))*O,e[1]=(p+g)*O,e[2]=(d-m)*O,e[3]=0,e[4]=(p-g)*j,e[5]=(1-(f+y))*j,e[6]=(b+v)*j,e[7]=0,e[8]=(d+m)*w,e[9]=(b-v)*w,e[10]=(1-(f+h))*w,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e},fromRotationTranslationScaleOrigin:function(e,t,r,n,i){var a=t[0],o=t[1],s=t[2],c=t[3],u=a+a,l=o+o,f=s+s,p=a*u,d=a*l,h=a*f,b=o*l,y=o*f,v=s*f,m=c*u,g=c*l,O=c*f,j=n[0],w=n[1],_=n[2],k=i[0],x=i[1],S=i[2],P=(1-(b+v))*j,I=(d+O)*j,R=(h-g)*j,M=(d-O)*w,E=(1-(p+v))*w,T=(y+m)*w,A=(h+g)*_,C=(y-m)*_,D=(1-(p+b))*_;return e[0]=P,e[1]=I,e[2]=R,e[3]=0,e[4]=M,e[5]=E,e[6]=T,e[7]=0,e[8]=A,e[9]=C,e[10]=D,e[11]=0,e[12]=r[0]+k-(P*k+M*x+A*S),e[13]=r[1]+x-(I*k+E*x+C*S),e[14]=r[2]+S-(R*k+T*x+D*S),e[15]=1,e},fromQuat:function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r+r,s=n+n,c=i+i,u=r*o,l=n*o,f=n*s,p=i*o,d=i*s,h=i*c,b=a*o,y=a*s,v=a*c;return e[0]=1-f-h,e[1]=l+v,e[2]=p-y,e[3]=0,e[4]=l-v,e[5]=1-u-h,e[6]=d+b,e[7]=0,e[8]=p+y,e[9]=d-b,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},frustum:function(e,t,r,n,i,a,o){var s=1/(r-t),c=1/(i-n),u=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*c,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(i+n)*c,e[10]=(o+a)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*u,e[15]=0,e},perspective:function(e,t,r,n,i){var a,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(n-i),e[10]=(i+n)*a,e[14]=2*i*n*a):(e[10]=-1,e[14]=-2*n),e},perspectiveFromFieldOfView:function(e,t,r,n){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),c=2/(o+s),u=2/(i+a);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(o-s)*c*.5,e[9]=(i-a)*u*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e},ortho:function(e,t,r,n,i,a,o){var s=1/(t-r),c=1/(n-i),u=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*c,e[14]=(o+a)*u,e[15]=1,e},lookAt:function(e,t,r,n){var a,o,c,u,l,f,p,d,h,b,y=t[0],v=t[1],m=t[2],g=n[0],O=n[1],j=n[2],w=r[0],_=r[1],k=r[2];return Math.abs(y-w)<i.a&&Math.abs(v-_)<i.a&&Math.abs(m-k)<i.a?s(e):(p=y-w,d=v-_,h=m-k,a=O*(h*=b=1/Math.sqrt(p*p+d*d+h*h))-j*(d*=b),o=j*(p*=b)-g*h,c=g*d-O*p,(b=Math.sqrt(a*a+o*o+c*c))?(a*=b=1/b,o*=b,c*=b):(a=0,o=0,c=0),u=d*c-h*o,l=h*a-p*c,f=p*o-d*a,(b=Math.sqrt(u*u+l*l+f*f))?(u*=b=1/b,l*=b,f*=b):(u=0,l=0,f=0),e[0]=a,e[1]=u,e[2]=p,e[3]=0,e[4]=o,e[5]=l,e[6]=d,e[7]=0,e[8]=c,e[9]=f,e[10]=h,e[11]=0,e[12]=-(a*y+o*v+c*m),e[13]=-(u*y+l*v+f*m),e[14]=-(p*y+d*v+h*m),e[15]=1,e)},targetTo:function(e,t,r,n){var i=t[0],a=t[1],o=t[2],s=n[0],c=n[1],u=n[2],l=i-r[0],f=a-r[1],p=o-r[2],d=l*l+f*f+p*p;d>0&&(l*=d=1/Math.sqrt(d),f*=d,p*=d);var h=c*p-u*f,b=u*l-s*p,y=s*f-c*l;return(d=h*h+b*b+y*y)>0&&(h*=d=1/Math.sqrt(d),b*=d,y*=d),e[0]=h,e[1]=b,e[2]=y,e[3]=0,e[4]=f*y-p*b,e[5]=p*h-l*y,e[6]=l*b-f*h,e[7]=0,e[8]=l,e[9]=f,e[10]=p,e[11]=0,e[12]=i,e[13]=a,e[14]=o,e[15]=1,e},str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},frob:function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},add:function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e},subtract:v,multiplyScalar:function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e},multiplyScalarAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e},exactEquals:m,equals:g,isOrthoNormal:O,mul:j,sub:w})},"Akg/":function(e,t,r){var n=r("2EQx"),i=r("h0av");e.exports=function(e){for(var t=i(e),r=t.length;r--;){var a=t[r],o=e[a];t[r]=[a,o,n(o)]}return t}},Akvs:function(e,t,r){"use strict";r.d(t,"a",(function(){return Me})),r.d(t,"b",(function(){return Ce})),r.d(t,"c",(function(){return Ee}));var n,i,a=r("mK0O"),o=r("eijD"),s=r("NthX"),c=r.n(s),u=r("Mp7X"),l=r("J4Pc"),f=r("IH5m"),p=r("hisu"),d=r("yBJb"),h=r("46c3"),b=r("TM+E"),y=r("g+AA"),v=r("A0wW"),m=r("7im+"),g={statsWorker:function(){return Promise.all([r.e(2),r.e(147)]).then(r.bind(null,"UPrV"))},geometryEngineWorker:function(){return Promise.all([r.e(7),r.e(0),r.e(1),r.e(116)]).then(r.bind(null,"k2ec"))},CSVSourceWorker:function(){return Promise.all([r.e(0),r.e(1),r.e(2),r.e(3),r.e(143)]).then(r.bind(null,"3i+6"))},EdgeProcessingWorker:function(){return Promise.all([r.e(1),r.e(176)]).then(r.bind(null,"hUuX"))},ElevationSamplerWorker:function(){return Promise.all([r.e(0),r.e(1),r.e(3),r.e(117)]).then(r.bind(null,"6bcT"))},FeatureServiceSnappingSourceWorker:function(){return Promise.all([r.e(0),r.e(1),r.e(2),r.e(3),r.e(178)]).then(r.bind(null,"PgmY"))},GeoJSONSourceWorker:function(){return Promise.all([r.e(0),r.e(2),r.e(3),r.e(53)]).then(r.bind(null,"N3K/"))},LercWorker:function(){return r.e(65).then(r.bind(null,"IgAI"))},MemorySourceWorker:function(){return Promise.all([r.e(0),r.e(1),r.e(2),r.e(3),r.e(144)]).then(r.bind(null,"GN0U"))},PBFDecoderWorker:function(){return Promise.all([r.e(0),r.e(1),r.e(174)]).then(r.bind(null,"4kBB"))},Pipeline:function(){return Promise.all([r.e(0),r.e(1),r.e(2),r.e(3),r.e(169)]).then(r.bind(null,"WMt+"))},PointCloudWorker:function(){return Promise.all([r.e(1),r.e(172)]).then(r.bind(null,"E1lC"))},RasterWorker:function(){return r.e(49).then(r.bind(null,"I5lI"))},SceneLayerWorker:function(){return r.e(173).then(r.bind(null,"wy8s"))},WFSSourceWorker:function(){return Promise.all([r.e(0),r.e(1),r.e(2),r.e(3),r.e(142)]).then(r.bind(null,"rVxD"))},WorkerTileHandler:function(){return Promise.all([r.e(0),r.e(52)]).then(r.bind(null,"lb/t"))}};(i=n||(n={}))[i.HANDSHAKE=0]="HANDSHAKE",i[i.OPEN=1]="OPEN",i[i.OPENED=2]="OPENED",i[i.RESPONSE=3]="RESPONSE",i[i.INVOKE=4]="INVOKE",i[i.ABORT=5]="ABORT",i[i.CLOSE=6]="CLOSE",i[i.OPEN_PORT=7]="OPEN_PORT",i[i.ON=8]="ON";var O=0;function j(){return O++}function w(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function _(e,t,r,i){var a;t.type!==n.OPEN_PORT?t.type===n.INVOKE||t.type===n.RESPONSE?(!function(e){return e&&"object"==typeof e&&("result"in e||"transferList"in e)}(r)?(a=x(i),t.data=r):(a=x(r.transferList),t.data=r.result),a?e.postMessage(t,a):e.postMessage(t)):e.postMessage(t):e.postMessage(t,[t.port])}function k(e){if(!e)return null;var t=e.data;return t?"string"==typeof t?JSON.parse(t):t:null}function x(e){if(!e||!e.length)return null;if(Object(l.a)("esri-workers-arraybuffer-transfer"))return e;var t=e.filter((function(e){return!function(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}(e)}));return t.length?t:null}var S=r("hXZc");function P(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R=n.CLOSE,M=n.ABORT,E=n.INVOKE,T=n.RESPONSE,A=n.OPEN_PORT,C=n.ON,D=function(){function e(t){Object(p.a)(this,e),this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}return Object(d.a)(e,[{key:"push",value:function(e){e.type===n.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}},{key:"clear",value:function(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}},{key:"_process",value:function(){this._timer=null;var e,t=P(this._invokeMessages);try{for(t.s();!(e=t.n()).done;){var r=e.value;this._cancelledJobIds.has(r.jobId)||this._invoke(r)}}catch(n){t.e(n)}finally{t.f()}this._cancelledJobIds.clear(),this._invokeMessages.length=0}}]),e}(),L=function(){function e(t,r){var n=this;Object(p.a)(this,e),this._port=t,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new D((function(e){return n._onInvokeMessage(e)})),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}return Object(d.a)(e,[{key:"close",value:function(){this._post({type:R}),this._close()}},{key:"isBusy",value:function(){return this._outJobs.size>0}},{key:"invoke",value:function(e,t,r){var n=this,i=r&&r.signal,a=r&&r.transferList;if(!this._port)return Promise.reject(new u.a("worker:port-closed","Cannot call invoke('".concat(e,"'), port is closed"),{methodName:e,data:t}));var o=j();return new Promise((function(r,s){var c=Object(f.r)(i,(function(){var e,t=n._outJobs.get(o);t&&(n._outJobs.delete(o),null==(e=t.abortHandle)||e.remove(),n._post({type:M,jobId:o}),s(Object(f.e)()))})),u={resolve:r,reject:s,abortHandle:c,debugInfo:e};n._outJobs.set(o,u),n._post({type:E,jobId:o,methodName:e,abortable:null!=i},t,a)}))}},{key:"on",value:function(e,t){var r=new MessageChannel;function i(e){t(e.data)}return this._port.postMessage({type:n.ON,eventType:e,port:r.port2},[r.port2]),r.port1.addEventListener("message",i),r.port1.start(),{remove:function(){r.port1.postMessage({type:n.CLOSE}),r.port1.close(),r.port1.removeEventListener("message",i)}}}},{key:"openPort",value:function(){var e=new MessageChannel;return this._post({type:A,port:e.port2}),e.port1}},{key:"_close",value:function(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach((function(e){var t;null==(t=e.abortHandle)||t.remove(),e.reject(Object(f.e)("Worker closing, aborting job calling '".concat(e.debugInfo,"'")))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}},{key:"_onMessage",value:function(e){var t=this;Object(m.i)(this._schedule)?this._schedule((function(){return t._processMessage(e)})):this._processMessage(e)}},{key:"_processMessage",value:function(e){var t=k(e);if(t)switch(t.type){case T:this._onResponseMessage(t);break;case E:this._invokeQueue.push(t);break;case M:this._onAbortMessage(t);break;case R:this._onCloseMessage();break;case A:this._onOpenPortMessage(t);break;case C:this._onOnMessage(t)}}},{key:"_onAbortMessage",value:function(e){var t=this._inJobs,r=e.jobId,n=t.get(r);this._invokeQueue.push(e),n&&(n.controller&&n.controller.abort(),t.delete(r))}},{key:"_onCloseMessage",value:function(){var t=this._client;this._close(),t&&"destroy"in t&&e.clients.get(this)===t&&t.destroy(),e.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}},{key:"_onInvokeMessage",value:function(e){var t,r=this,n=e.methodName,i=e.jobId,a=e.data,o=e.abortable?Object(f.d)():null,s=this._inJobs,c=this._client,u=c[n];try{if(!u&&n&&-1!==n.indexOf("."))for(var l=n.split("."),p=0;p<l.length-1;p++)u=(c=c[l[p]])[l[p+1]];if("function"!=typeof u)throw new TypeError("".concat(n," is not a function"));t=u.call(c,a,{client:this,signal:o?o.signal:null})}catch(d){return void this._post({type:T,jobId:i,error:w(d)})}Object(f.p)(t)?(s.set(i,{controller:o,promise:t}),t.then((function(e){s.has(i)&&(s.delete(i),r._post({type:T,jobId:i},e))}),(function(e){s.has(i)&&(s.delete(i),Object(f.m)(e)||r._post({type:T,jobId:i,error:w(e||{message:"Error encountered at method ".concat(n)})}))}))):this._post({type:T,jobId:i},t)}},{key:"_onOpenPortMessage",value:function(t){new e(t.port,{client:this._client})}},{key:"_onOnMessage",value:function(e){var t=e.port,r=this._client.on(e.eventType,(function(e){t.postMessage(e)})),i=Object(v.c)(e.port,"message",(function(e){k(e).type===n.CLOSE&&(i.remove(),r.remove(),t.close())}))}},{key:"_onResponseMessage",value:function(e){var t,r=e.jobId,n=e.error,i=e.data,a=this._outJobs;if(a.has(r)){var o=a.get(r);a.delete(r),null==(t=o.abortHandle)||t.remove(),n?o.reject(u.a.fromJSON(JSON.parse(n))):o.resolve(i)}}},{key:"_post",value:function(e,t,r){return _(this._port,e,t,r)}}],[{key:"connect",value:function(t){var r,n=new MessageChannel;r="function"==typeof t?new t:"default"in t&&"function"==typeof t.default?new t.default:t;var i=new e(n.port1,{channel:n,client:r});return"object"==typeof r&&"remoteClient"in r&&(r.remoteClient=i),e.clients.set(i,r),n.port2}},{key:"loadWorker",value:function(e){var t=g[e];return t?t():Promise.resolve(null)}}]),e}();L.kernelInfo={revision:S.b,version:y.d,buildDate:S.a},L.clients=new Map;var F=L;function N(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var V=b.a.getLogger("esri.core.workers.Connection"),U=function(){function e(){Object(p.a)(this,e),this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}return Object(d.a)(e,[{key:"destroy",value:function(){this.close()}},{key:"closed",get:function(){return!this._clients||!this._clients.length}},{key:"open",value:function(e,t){var r=this;return new Promise((function(n,i){var a=!0,o=function(e){Object(f.v)(t.signal),a&&(a=!1,e())};r._clients.length=e.length,r._clientPromises.length=e.length;for(var s=function(a){var s=e[a];Object(f.p)(s)?r._clientPromises[a]=s.then((function(e){return r._clients[a]=new F(e,t),o(n),r._clients[a]}),(function(){return o(i),null})):(r._clients[a]=new F(s,t),r._clientPromises[a]=Promise.resolve(r._clients[a]),o(n))},c=0;c<e.length;++c)s(c)}))}},{key:"broadcast",value:function(e,t,r){for(var n=new Array(this._clientPromises.length),i=0;i<this._clientPromises.length;++i){var a=this._clientPromises[i];n[i]=a.then((function(n){return n.invoke(e,t,r)}))}return n}},{key:"close",value:function(){var e,t=N(this._clientPromises);try{for(t.s();!(e=t.n()).done;){e.value.then((function(e){return e.close()}))}}catch(r){t.e(r)}finally{t.f()}this._clients.length=0,this._clientPromises.length=0}},{key:"getAvailableClient",value:function(){for(var e,t=0;t<this._clients.length;++t){var r=this._clients[t];if(r){if(!r.isBusy())return Promise.resolve(r)}else(e=e||[]).push(this._clientPromises[t])}return e?Promise.race(e):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))}},{key:"invoke",value:function(e,t,r){var n=null;return Array.isArray(r)?(V.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),n={transferList:r}):n=r,this.closed?Promise.reject(new Error("Connection closed")):this.getAvailableClient().then((function(r){return r.invoke(e,t,n)}))}},{key:"on",value:function(e,t){var r=this;return Promise.all(this._clientPromises).then((function(){return Object(h.a)(r._clients.map((function(r){return r.on(e,t)})))}))}},{key:"openPorts",value:function(){var e=this;return new Promise((function(t){for(var r=new Array(e._clientPromises.length),n=r.length,i=function(i){e._clientPromises[i].then((function(e){r[i]=e.openPort(),0==--n&&t(r)}))},a=0;a<e._clientPromises.length;++a)i(a)}))}},{key:"test",get:function(){return{numClients:this._clients.length}}}]),e}(),z=r("e6DO"),q=r("sc0P"),H=(r("U7uu"),r("z9dv"));function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Z={};var Q=function(e){var t,r={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:W({},e.has),map:W({},e.map),packages:e.packages&&e.packages.concat()||[],paths:W({},e.paths)};return e.hasOwnProperty("async")||(r.async=!0),e.hasOwnProperty("isDebug")||(r.isDebug=!1),e.baseUrl||(r.baseUrl=Z.baseUrl),null==(t=Z.packages)||t.forEach((function(e){!function(e,t){var r,n=J(e);try{for(n.s();!(r=n.n()).done;){if(r.value.name===t.name)return}}catch(i){n.e(i)}finally{n.f()}e.push(t)}(r.packages,e)})),r},X=r("8jRW"),K=function e(){var t=this;Object(p.a)(this,e);var r=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach((function(e){t[e]=function(){return r[e].apply(r,arguments)}}))},Y=X.a.MutationObserver||X.a.WebKitMutationObserver,ee=function(){var e;if(X.a.process&&X.a.process.nextTick)e=function(e){X.a.process.nextTick(e)};else if(X.a.Promise)e=function(e){X.a.Promise.resolve().then(e)};else if(Y){var t=[],r=document.createElement("div");new Y((function(){for(;t.length>0;)t.shift()()})).observe(r,{attributes:!0}),e=function(e){t.push(e),r.setAttribute("queueStatus","1")}}return e}(),te=function(){var e=X.a.MessageEvent;try{new e("message",{data:null})}catch(t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.data,n=t.bubbles,i=void 0!==n&&n,a=t.cancelable,o=void 0!==a&&a,s=document.createEvent("Event");return s.initEvent(e,i,o),s.data=r,s}}return function(t,r){return new e(t,r)}}(),re=function(){function e(){Object(p.a)(this,e),this._dispatcher=new K,this._workerPostMessage({type:n.HANDSHAKE})}var t;return Object(d.a)(e,[{key:"terminate",value:function(){}},{key:"onmessage",get:function(){return this._onmessageHandler},set:function(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}},{key:"onmessageerror",get:function(){return this._onmessageerrorHandler},set:function(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}},{key:"onerror",get:function(){return this._onerrorHandler},set:function(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}},{key:"postMessage",value:function(e){var t=this;ee((function(){t._workerMessageHandler(te("message",{data:e}))}))}},{key:"dispatchEvent",value:function(e){return this._dispatcher.dispatchEvent(e)}},{key:"addEventListener",value:function(e,t,r){this._dispatcher.addEventListener(e,t,r)}},{key:"removeEventListener",value:function(e,t,r){this._dispatcher.removeEventListener(e,t,r)}},{key:"_workerPostMessage",value:function(e){var t=this;ee((function(){t.dispatchEvent(te("message",{data:e}))}))}},{key:"_workerMessageHandler",value:(t=Object(o.a)(c.a.mark((function e(t){var r,i,a,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=k(t))||r.type!==n.OPEN){e.next=13;break}return i=r.modulePath,a=r.jobId,e.next=5,F.loadWorker(i);case 5:if(o=e.sent,e.t0=o,e.t0){e.next=11;break}return e.next=10,import(i);case 10:o=e.sent;case 11:s=F.connect(o),this._workerPostMessage({type:n.OPENED,jobId:a,data:s});case 13:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),ne=r("Vs6/");function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oe,se,ce=b.a.getLogger("esri.core.workers"),ue=n.HANDSHAKE,le='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});',fe="Failed to create Worker. Fallback to execute module in main thread";function pe(){return de.apply(this,arguments)}function de(){return(de=Object(o.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(l.a)("esri-workers")){e.next=2;break}return e.abrupt("return",he(new re));case 2:if(!oe&&!se)try{t=le.replace('"{CONFIGURATION}"',"'".concat(ye(),"'")),oe=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(n){se=n||{}}if(oe)try{r=new Worker(oe,{name:"esri-worker-"+ve++})}catch(n){ce.warn(fe,se),r=new re}else ce.warn(fe,se),r=new re;return e.abrupt("return",he(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e){return be.apply(this,arguments)}function be(){return(be=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){function r(i){var a=k(i);a&&a.type===ue&&(t.removeEventListener("message",r),t.removeEventListener("error",n),e(t))}function n(e){e.preventDefault(),t.removeEventListener("message",r),t.removeEventListener("error",n),ce.warn("Failed to create Worker. Fallback to execute module in main thread",e),(t=new re).addEventListener("message",r),t.addEventListener("error",n)}t.addEventListener("message",r),t.addEventListener("error",n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(){var e;if(null!=q.a.default){var t=ae({},q.a);delete t.default,e=JSON.parse(JSON.stringify(t))}else e=JSON.parse(JSON.stringify(q.a));e.assetsPath=Object(H.A)(e.assetsPath),e.request.interceptors=[],e.log.interceptors=[],e.locale=Object(ne.b)(),e.has={"csp-restrictions":Object(l.a)("csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":Object(l.a)("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":Object(l.a)("esri-2d-query-centroid-enabled"),"featurelayer-pbf":Object(l.a)("featurelayer-pbf"),"esri-atomics":Object(l.a)("esri-atomics"),"esri-shared-array-buffer":Object(l.a)("esri-shared-array-buffer"),"esri-tiles-debug":Object(l.a)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":Object(l.a)("esri-workers-arraybuffer-transfer"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=Object(H.A)(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=Object(H.A)(e.workers.workerPath):e.workers.workerPath=Object(H.A)(Object(z.a)("esri/core/workers/RemoteClient.js"));var r=q.a.workers.loaderConfig,n=Q({baseUrl:null==r?void 0:r.baseUrl,locale:Object(ne.b)(),has:ae({"csp-restrictions":Object(l.a)("csp-restrictions"),"dojo-test-sniff":0,"host-webworker":1},null==r?void 0:r.has),map:ae({},null==r?void 0:r.map),paths:ae({},null==r?void 0:r.paths),packages:(null==r?void 0:r.packages)||[]}),i={version:y.d,buildDate:S.a,revision:S.b};return JSON.stringify({esriConfig:e,loaderConfig:n,kernelInfo:i})}var ve=0,me=b.a.getLogger("esri.core.workers"),ge=n.ABORT,Oe=n.INVOKE,je=n.OPEN,we=n.OPENED,_e=n.RESPONSE,ke=function(){function e(t,r){Object(p.a)(this,e),this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",(function(e){e.preventDefault(),me.error(e)}))}var t,r;return Object(d.a)(e,[{key:"terminate",value:function(){this.worker.terminate()}},{key:"open",value:(r=Object(o.a)(c.a.mark((function e(t){var r,n,i,a=this,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n=r.signal,i=j(),e.abrupt("return",new Promise((function(e,r){var o={resolve:e,reject:r,abortHandle:Object(f.r)(n,(function(){a._outJobs.delete(i),a._post({type:ge,jobId:i})}))};a._outJobs.set(i,o),a._post({type:je,jobId:i,modulePath:t})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"_onMessage",value:function(e){var t=k(e);if(t)switch(t.type){case we:this._onOpenedMessage(t);break;case _e:this._onResponseMessage(t);break;case ge:this._onAbortMessage(t);break;case Oe:this._onInvokeMessage(t)}}},{key:"_onAbortMessage",value:function(e){var t=this._inJobs,r=e.jobId,n=t.get(r);n&&(n.controller&&n.controller.abort(),t.delete(r))}},{key:"_onInvokeMessage",value:function(e){var t,r=this,n=e.methodName,i=e.jobId,a=e.data,o=e.abortable?Object(f.d)():null,s=this._inJobs,c=y.e[n];try{if("function"!=typeof c)throw new TypeError("".concat(n," is not a function"));t=c.call(null,a,{signal:o?o.signal:null})}catch(u){return void this._post({type:_e,jobId:i,error:w(u)})}Object(f.p)(t)?(s.set(i,{controller:o,promise:t}),t.then((function(e){s.has(i)&&(s.delete(i),r._post({type:_e,jobId:i},e))}),(function(e){s.has(i)&&(s.delete(i),e||(e={message:"Error encountered at method"+n}),Object(f.m)(e)||r._post({type:_e,jobId:i,error:w(e||{message:"Error encountered at method ".concat(n)})}))}))):this._post({type:_e,jobId:i},t)}},{key:"_onOpenedMessage",value:function(e){var t,r=e.jobId,n=e.data,i=this._outJobs.get(r);i&&(this._outJobs.delete(r),null==(t=i.abortHandle)||t.remove(),i.resolve(n))}},{key:"_onResponseMessage",value:function(e){var t,r=e.jobId,n=e.error,i=e.data,a=this._outJobs.get(r);a&&(this._outJobs.delete(r),null==(t=a.abortHandle)||t.remove(),n?a.reject(u.a.fromJSON(JSON.parse(n))):a.resolve(i))}},{key:"_post",value:function(e,t,r){return _(this.worker,e,t,r)}}],[{key:"create",value:(t=Object(o.a)(c.a.mark((function t(r){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe();case 2:return n=t.sent,t.abrupt("return",new e(n,r));case 4:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})}]),e}();function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pe=Object(l.a)("esri-workers-debug")?1:Object(l.a)("host-browser")?navigator.hardwareConcurrency-1:0;Pe||(Pe=Object(l.a)("safari")&&Object(l.a)("mac")||Object(l.a)("trident")?7:2);var Ie=0,Re=[];function Me(){Fe()}function Ee(e,t){return Te(e,{client:t})}function Te(e,t){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(o.a)(c.a.mark((function e(t,r){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new U,e.next=3,n.open(t,r);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e){return De.apply(this,arguments)}function De(){return(De=Object(o.a)(c.a.mark((function e(t){var r,n,i,a,o,s,p,d,h,b=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=b.length>1&&void 0!==b[1]?b[1]:{},"string"==typeof t){e.next=3;break}throw new u.a("workers:undefined-module","modulePath is missing");case 3:if(n=r.strategy||"distributed",Object(l.a)("host-webworker")&&!Object(l.a)("esri-workers")&&(n="local"),"local"!==n){e.next=16;break}return e.next=7,F.loadWorker(t);case 7:if(i=e.sent,e.t0=i,e.t0){e.next=13;break}return e.next=12,import(t);case 12:i=e.sent;case 13:return Object(f.v)(r.signal),a=r.client||i,e.abrupt("return",Te([F.connect(i)],Se(Se({},r),{},{client:a})));case 16:return e.next=18,Fe();case 18:if(Object(f.v)(r.signal),"dedicated"!==n){e.next=28;break}return o=Ie++%Pe,e.t1=Te,e.next=24,Re[o].open(t,r);case 24:return e.t2=e.sent,e.t3=[e.t2],e.t4=r,e.abrupt("return",(0,e.t1)(e.t3,e.t4));case 28:if(!(r.maxNumWorkers&&r.maxNumWorkers>0)){e.next=34;break}if(!((s=Math.min(r.maxNumWorkers,Pe))<Pe)){e.next=34;break}for(p=new Array(s),d=0;d<s;++d)h=Ie++%Pe,p[d]=Re[h].open(t,r);return e.abrupt("return",Te(p,r));case 34:return e.abrupt("return",Te(Re.map((function(e){return e.open(t,r)})),r));case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Le=null;function Fe(){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(o.a)(c.a.mark((function e(){var t,r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Le){e.next=2;break}return e.abrupt("return",Le);case 2:for(Object(f.d)(),t=[],r=function(e){var r=ke.create(e).then((function(t){return Re[e]=t,t}));t.push(r)},n=0;n<Pe;n++)r(n);return e.abrupt("return",Le=Promise.all(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},ArCz:function(e,t,r){var n=r("IrTi"),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",r=n[t],a=i.call(n,t)?r.length:0;a--;){var o=r[a],s=o.func;if(null==s||s==e)return o.name}return t}},ArpJ:function(e,t,r){var n=r("V2ZB"),i=r("Vujp");e.exports=function(e,t){return e&&n(t,i(t),e)}},Ax1p:function(e,t,r){(function(t){!function(t){"use strict";var r={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:b,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:b,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:b,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/};function n(e){this.tokens=[],this.tokens.links={},this.options=e||v.defaults,this.rules=r.normal,this.options.gfm&&(this.options.tables?this.rules=r.tables:this.rules=r.gfm)}r._label=/(?:\\[\[\]]|[^\[\]])+/,r._title=/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/,r.def=f(r.def).replace("label",r._label).replace("title",r._title).getRegex(),r.bullet=/(?:[*+-]|\d+\.)/,r.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,r.item=f(r.item,"gm").replace(/bull/g,r.bullet).getRegex(),r.list=f(r.list).replace(/bull/g,r.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+r.def.source+")").getRegex(),r._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b",r.html=f(r.html).replace("comment",/<!--[\s\S]*?-->/).replace("closed",/<(tag)[\s\S]+?<\/\1>/).replace("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g,r._tag).getRegex(),r.paragraph=f(r.paragraph).replace("hr",r.hr).replace("heading",r.heading).replace("lheading",r.lheading).replace("tag","<"+r._tag).getRegex(),r.blockquote=f(r.blockquote).replace("paragraph",r.paragraph).getRegex(),r.normal=y({},r),r.gfm=y({},r.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),r.gfm.paragraph=f(r.paragraph).replace("(?!","(?!"+r.gfm.fences.source.replace("\\1","\\2")+"|"+r.list.source.replace("\\1","\\3")+"|").getRegex(),r.tables=y({},r.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),n.rules=r,n.lex=function(e,t){return new n(t).lex(e)},n.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},n.prototype.token=function(e,t){var n,i,a,o,s,c,u,l,f,p,d;for(e=e.replace(/^ +$/gm,"");e;)if((a=this.rules.newline.exec(e))&&(e=e.substring(a[0].length),a[0].length>1&&this.tokens.push({type:"space"})),a=this.rules.code.exec(e))e=e.substring(a[0].length),a=a[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?a:a.replace(/\n+$/,"")});else if(a=this.rules.fences.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"code",lang:a[2],text:a[3]||""});else if(a=this.rules.heading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:a[1].length,text:a[2]});else if(t&&(a=this.rules.nptable.exec(e))){for(e=e.substring(a[0].length),c={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/\n$/,"").split("\n")},l=0;l<c.align.length;l++)/^ *-+: *$/.test(c.align[l])?c.align[l]="right":/^ *:-+: *$/.test(c.align[l])?c.align[l]="center":/^ *:-+ *$/.test(c.align[l])?c.align[l]="left":c.align[l]=null;for(l=0;l<c.cells.length;l++)c.cells[l]=c.cells[l].split(/ *\| */);this.tokens.push(c)}else if(a=this.rules.hr.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"hr"});else if(a=this.rules.blockquote.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"blockquote_start"}),a=a[0].replace(/^ *> ?/gm,""),this.token(a,t),this.tokens.push({type:"blockquote_end"});else if(a=this.rules.list.exec(e)){for(e=e.substring(a[0].length),d=(o=a[2]).length>1,this.tokens.push({type:"list_start",ordered:d,start:d?+o:""}),n=!1,p=(a=a[0].match(this.rules.item)).length,l=0;l<p;l++)u=(c=a[l]).length,~(c=c.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=c.length,c=this.options.pedantic?c.replace(/^ {1,4}/gm,""):c.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&l!==p-1&&(o===(s=r.bullet.exec(a[l+1])[0])||o.length>1&&s.length>1||(e=a.slice(l+1).join("\n")+e,l=p-1)),i=n||/\n\n(?!\s*$)/.test(c),l!==p-1&&(n="\n"===c.charAt(c.length-1),i||(i=n)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(c,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(a=this.rules.html.exec(e))e=e.substring(a[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===a[1]||"script"===a[1]||"style"===a[1]),text:a[0]});else if(t&&(a=this.rules.def.exec(e)))e=e.substring(a[0].length),a[3]&&(a[3]=a[3].substring(1,a[3].length-1)),f=a[1].toLowerCase(),this.tokens.links[f]||(this.tokens.links[f]={href:a[2],title:a[3]});else if(t&&(a=this.rules.table.exec(e))){for(e=e.substring(a[0].length),c={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/(?: *\| *)?\n$/,"").split("\n")},l=0;l<c.align.length;l++)/^ *-+: *$/.test(c.align[l])?c.align[l]="right":/^ *:-+: *$/.test(c.align[l])?c.align[l]="center":/^ *:-+ *$/.test(c.align[l])?c.align[l]="left":c.align[l]=null;for(l=0;l<c.cells.length;l++)c.cells[l]=c.cells[l].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(c)}else if(a=this.rules.lheading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:"="===a[2]?1:2,text:a[1]});else if(t&&(a=this.rules.paragraph.exec(e)))e=e.substring(a[0].length),this.tokens.push({type:"paragraph",text:"\n"===a[1].charAt(a[1].length-1)?a[1].slice(0,-1):a[1]});else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"text",text:a[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var i={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:b,tag:/^<!--[\s\S]*?-->|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:b,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function a(e,t){if(this.options=t||v.defaults,this.links=e,this.rules=i.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=i.breaks:this.rules=i.gfm:this.options.pedantic&&(this.rules=i.pedantic)}function o(e){this.options=e||{}}function s(){}function c(e){this.tokens=[],this.token=null,this.options=e||v.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function u(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}function f(e,t){return e=e.source,t=t||"",{replace:function(t,r){return r=(r=r.source||r).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,r),this},getRegex:function(){return new RegExp(e,t)}}}function p(e,t){return d[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?d[" "+e]=e+"/":d[" "+e]=e.replace(/[^/]*$/,"")),e=d[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,i._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,i.autolink=f(i.autolink).replace("scheme",i._scheme).replace("email",i._email).getRegex(),i._inside=/(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,i._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,i.link=f(i.link).replace("inside",i._inside).replace("href",i._href).getRegex(),i.reflink=f(i.reflink).replace("inside",i._inside).getRegex(),i.normal=y({},i),i.pedantic=y({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),i.gfm=y({},i.normal,{escape:f(i.escape).replace("])","~|])").getRegex(),url:f(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",i._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:f(i.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),i.breaks=y({},i.gfm,{br:f(i.br).replace("{2,}","*").getRegex(),text:f(i.gfm.text).replace("{2,}","*").getRegex()}),a.rules=i,a.output=function(e,t,r){return new a(t,r).output(e)},a.prototype.output=function(e){for(var t,r,n,i,a="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),a+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),n="@"===i[2]?"mailto:"+(r=u(this.mangle(i[1]))):r=u(i[1]),a+=this.renderer.link(n,null,r);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),a+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):u(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,a+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){a+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,a+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),a+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),a+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),a+=this.renderer.codespan(u(i[2].trim(),!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),a+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),a+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),a+=this.renderer.text(u(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else i[0]=this.rules._backpedal.exec(i[0])[0],e=e.substring(i[0].length),"@"===i[2]?n="mailto:"+(r=u(i[0])):(r=u(i[0]),n="www."===i[1]?"http://"+r:r),a+=this.renderer.link(n,null,r);return a},a.prototype.outputLink=function(e,t){var r=u(t.href),n=t.title?u(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(r,n,this.output(e[1])):this.renderer.image(r,n,u(e[1]))},a.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e},a.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,r="",n=e.length,i=0;i<n;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),r+="&#"+t+";";return r},o.prototype.code=function(e,t,r){if(this.options.highlight){var n=this.options.highlight(e,t);null!=n&&n!==e&&(r=!0,e=n)}return t?'<pre><code class="'+this.options.langPrefix+u(t,!0)+'">'+(r?e:u(e,!0))+"\n</code></pre>\n":"<pre><code>"+(r?e:u(e,!0))+"\n</code></pre>"},o.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},o.prototype.html=function(e){return e},o.prototype.heading=function(e,t,r){return"<h"+t+' id="'+this.options.headerPrefix+r.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},o.prototype.list=function(e,t,r){var n=t?"ol":"ul";return"<"+n+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+n+">\n"},o.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},o.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},o.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},o.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},o.prototype.tablecell=function(e,t){var r=t.header?"th":"td";return(t.align?"<"+r+' style="text-align:'+t.align+'">':"<"+r+">")+e+"</"+r+">\n"},o.prototype.strong=function(e){return"<strong>"+e+"</strong>"},o.prototype.em=function(e){return"<em>"+e+"</em>"},o.prototype.codespan=function(e){return"<code>"+e+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(e){return"<del>"+e+"</del>"},o.prototype.link=function(e,t,r){if(this.options.sanitize){try{var n=decodeURIComponent(l(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(a){return r}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return r}this.options.baseUrl&&!h.test(e)&&(e=p(this.options.baseUrl,e));var i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+r+"</a>"},o.prototype.image=function(e,t,r){this.options.baseUrl&&!h.test(e)&&(e=p(this.options.baseUrl,e));var n='<img src="'+e+'" alt="'+r+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},o.prototype.text=function(e){return e},s.prototype.strong=s.prototype.em=s.prototype.codespan=s.prototype.del=s.prototype.text=function(e){return e},s.prototype.link=s.prototype.image=function(e,t,r){return""+r},s.prototype.br=function(){return""},c.parse=function(e,t){return new c(t).parse(e)},c.prototype.parse=function(e){this.inline=new a(e.links,this.options),this.inlineText=new a(e.links,y({},this.options,{renderer:new s})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},c.prototype.next=function(){return this.token=this.tokens.pop()},c.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},c.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},c.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,l(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,r,n,i="",a="";for(r="",e=0;e<this.token.header.length;e++)r+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(r),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],r="",n=0;n<t.length;n++)r+=this.renderer.tablecell(this.inline.output(t[n]),{header:!1,align:this.token.align[n]});a+=this.renderer.tablerow(r)}return this.renderer.table(i,a);case"blockquote_start":for(a="";"blockquote_end"!==this.next().type;)a+=this.tok();return this.renderer.blockquote(a);case"list_start":a="";for(var o=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)a+=this.tok();return this.renderer.list(a,o,s);case"list_item_start":for(a="";"list_item_end"!==this.next().type;)a+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(a);case"loose_item_start":for(a="";"list_item_end"!==this.next().type;)a+=this.tok();return this.renderer.listitem(a);case"html":var c=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(c);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var d={},h=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function b(){}function y(e){for(var t,r,n=1;n<arguments.length;n++)for(r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function v(e,t,r){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(r||"function"==typeof t){r||(r=t,t=null);var i,a,o=(t=y({},v.defaults,t||{})).highlight,s=0;try{i=n.lex(e,t)}catch(f){return r(f)}a=i.length;var l=function(e){if(e)return t.highlight=o,r(e);var n;try{n=c.parse(i,t)}catch(f){e=f}return t.highlight=o,e?r(e):r(null,n)};if(!o||o.length<3)return l();if(delete t.highlight,!a)return l();for(;s<i.length;s++)!function(e){"code"!==e.type?--a||l():o(e.text,e.lang,(function(t,r){return t?l(t):null==r||r===e.text?--a||l():(e.text=r,e.escaped=!0,void(--a||l()))}))}(i[s])}else try{return t&&(t=y({},v.defaults,t)),c.parse(n.lex(e,t),t)}catch(f){if(f.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||v.defaults).silent)return"<p>An error occurred:</p><pre>"+u(f.message+"",!0)+"</pre>";throw f}}b.exec=b,v.options=v.setOptions=function(e){return y(v.defaults,e),v},v.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new o,xhtml:!1,baseUrl:null},v.Parser=c,v.parser=c.parse,v.Renderer=o,v.TextRenderer=s,v.Lexer=n,v.lexer=n.lex,v.InlineLexer=a,v.inlineLexer=a.output,v.parse=v,e.exports=v}(this||"undefined"!=typeof window&&window)}).call(this,r("pCvA"))},AyDw:function(e,t,r){"use strict";r.d(t,"b",(function(){return w}));var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("7i+s"),f=r("0n+b"),p=r("z9dv"),d=r("xAIp"),h=(r("J4Pc"),r("wckI"),r("TM+E"),r("vo12")),b=r("mp5+"),y=r("iaHD"),v=r("jr4m"),m=r("9jes");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var O=Object(l.b)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"}),j=n=function(e){Object(o.a)(r,e);var t=g(r);function r(e){return Object(i.a)(this,r),t.call(this,e)}return Object(a.a)(r,[{key:"readHref",value:function(e,t,r){return e?Object(m.a)(e,r):t.dataURI}},{key:"writeHref",value:function(e,t,r,n){e&&(Object(p.u)(e)?t.dataURI=e:(t.href=Object(m.e)(e,n),Object(p.s)(t.href)&&(t.href=Object(p.D)(t.href))))}},{key:"clone",value:function(){return new n({href:this.href,primitive:this.primitive})}}]),r}(f.a);Object(u.a)([Object(d.b)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],j.prototype,"href",void 0),Object(u.a)([Object(b.a)("href")],j.prototype,"readHref",null),Object(u.a)([Object(v.a)("href",{href:{type:String},dataURI:{type:String}})],j.prototype,"writeHref",null),Object(u.a)([Object(h.a)(O)],j.prototype,"primitive",void 0),j=n=Object(u.a)([Object(y.a)("esri.symbols.support.IconSymbol3DLayerResource")],j);var w="circle",_=j;t.a=_},"B/3V":function(e,t,r){var n=r("clxC");e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},B2Uc:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return n}));var n,i=33984;!function(e){e[e.Texture=0]="Texture",e[e.Buffer=1]="Buffer",e[e.VAO=2]="VAO",e[e.Program=3]="Program",e[e.Framebuffer=4]="Framebuffer",e[e.Renderbuffer=5]="Renderbuffer",e[e.COUNT=6]="COUNT"}(n||(n={}))},"B4/L":function(e,t,r){var n=r("gwRl"),i=r("LBQr"),a=r("tb+2"),o=r("E7Xw"),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,a(e)),e=i(e);return t}:o;e.exports=s},B4Jh:function(e,t,r){var n=r("fRAL"),i=Math.max;e.exports=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),c=Array(s);++o<s;)c[o]=a[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=a[o];return u[t]=r(c),n(e,this,u)}}},B8JN:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("Mp7X"),f=r("xAIp"),p=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),d=r("jr4m"),h=r("MEGb");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var y=n=function(e){Object(o.a)(r,e);var t=b(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).axis=null,n.type="rotation",n.rotationType="geographic",n.valueExpressionTitle=null,n}return Object(a.a)(r,[{key:"cache",get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"writeValueExpressionTitleWebScene",value:function(e,t,r,n){if(n&&n.messages){var i="visualVariables[".concat(this.index,"]");n.messages.push(new l.a("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:i+".valueExpressionTitle",context:n}))}}},{key:"clone",value:function(){return new n({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}}]),r}(h.a);Object(u.a)([Object(f.b)({readOnly:!0})],y.prototype,"cache",null),Object(u.a)([Object(f.b)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],y.prototype,"axis",void 0),Object(u.a)([Object(f.b)({type:["rotation"],json:{type:["rotationInfo"]}})],y.prototype,"type",void 0),Object(u.a)([Object(f.b)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],y.prototype,"rotationType",void 0),Object(u.a)([Object(f.b)({type:String,json:{write:!0}})],y.prototype,"valueExpressionTitle",void 0),Object(u.a)([Object(d.a)("web-scene","valueExpressionTitle")],y.prototype,"writeValueExpressionTitleWebScene",null);var v=y=n=Object(u.a)([Object(p.a)("esri.renderers.visualVariables.RotationVariable")],y);t.a=v},B9Yk:function(e,t,r){"use strict";r.d(t,"a",(function(){return We})),r.d(t,"b",(function(){return ke})),r.d(t,"c",(function(){return Ne})),r.d(t,"d",(function(){return we})),r.d(t,"e",(function(){return xe})),r.d(t,"f",(function(){return ve})),r.d(t,"g",(function(){return me})),r.d(t,"h",(function(){return ge})),r.d(t,"i",(function(){return Oe})),r.d(t,"j",(function(){return Le})),r.d(t,"k",(function(){return je})),r.d(t,"l",(function(){return Ce})),r.d(t,"m",(function(){return Ee}));var n=r("eijD"),i=r("hisu"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("aNYv"),u=r("NthX"),l=r.n(u),f=r("Mp7X"),p=r("6J1V"),d=r("7im+"),h=r("IH5m"),b=r("a1Tm"),y=r("AjSt"),v=(r("KcHx"),r("4vgF")),m=r("nd5+"),g=r("XeQg"),O=r("yBJb"),j=r("e6DO"),w=r("J4Pc");function _(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(M){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var S,P,I,R,M,E=null;function T(){return!!E}function A(){return S||(S=Promise.all([r.e(1),r.e(98)]).then(r.bind(null,"L5yx")).then((function(e){return e.p})).then((function(e){return(0,e.default)({locateFile:function(e){return Object(j.a)("esri/geometry/support/".concat(e))}})})).then((function(e){H(e)})))}!function(e){function t(e,t,r){E.ensureCache.prepare();var n=J(r),i=r===n,a=E.ensureFloat64(n),o=E._pe_geog_to_proj(E.getPointer(e),t,a);return o&&$(r,t,a,i),o}function r(e,t,r){return n(e,t,r,0)}function n(e,t,r,n){E.ensureCache.prepare();var i=J(r),a=r===i,o=E.ensureFloat64(i),s=E._pe_proj_to_geog_center(E.getPointer(e),t,o,n);return s&&$(r,t,o,a),s}e.geogToProj=t,e.projGeog=function(e,n,i,a){switch(a){case I.PE_TRANSFORM_P_TO_G:return r(e,n,i);case I.PE_TRANSFORM_G_TO_P:return t(e,n,i)}return 0},e.projToGeog=r,e.projToGeogCenter=n}(P||(P={})),(M=I||(I={})).init=function(){M.PE_BUFFER_MAX=E.PeDefs.prototype.PE_BUFFER_MAX,M.PE_NAME_MAX=E.PeDefs.prototype.PE_NAME_MAX,M.PE_MGRS_MAX=E.PeDefs.prototype.PE_MGRS_MAX,M.PE_USNG_MAX=E.PeDefs.prototype.PE_USNG_MAX,M.PE_DD_MAX=E.PeDefs.prototype.PE_DD_MAX,M.PE_DDM_MAX=E.PeDefs.prototype.PE_DDM_MAX,M.PE_DMS_MAX=E.PeDefs.prototype.PE_DMS_MAX,M.PE_UTM_MAX=E.PeDefs.prototype.PE_UTM_MAX,M.PE_PARM_MAX=E.PeDefs.prototype.PE_PARM_MAX,M.PE_TYPE_NONE=E.PeDefs.prototype.PE_TYPE_NONE,M.PE_TYPE_GEOGCS=E.PeDefs.prototype.PE_TYPE_GEOGCS,M.PE_TYPE_PROJCS=E.PeDefs.prototype.PE_TYPE_PROJCS,M.PE_TYPE_GEOGTRAN=E.PeDefs.prototype.PE_TYPE_GEOGTRAN,M.PE_TYPE_COORDSYS=E.PeDefs.prototype.PE_TYPE_COORDSYS,M.PE_TYPE_UNIT=E.PeDefs.prototype.PE_TYPE_UNIT,M.PE_TYPE_LINUNIT=E.PeDefs.prototype.PE_TYPE_LINUNIT,M.PE_STR_OPTS_NONE=E.PeDefs.prototype.PE_STR_OPTS_NONE,M.PE_STR_AUTH_NONE=E.PeDefs.prototype.PE_STR_AUTH_NONE,M.PE_STR_AUTH_TOP=E.PeDefs.prototype.PE_STR_AUTH_TOP,M.PE_STR_NAME_CANON=E.PeDefs.prototype.PE_STR_NAME_CANON,M.PE_PARM_X0=E.PeDefs.prototype.PE_PARM_X0,M.PE_PARM_ND=E.PeDefs.prototype.PE_PARM_ND,M.PE_TRANSFORM_1_TO_2=E.PeDefs.prototype.PE_TRANSFORM_1_TO_2,M.PE_TRANSFORM_2_TO_1=E.PeDefs.prototype.PE_TRANSFORM_2_TO_1,M.PE_TRANSFORM_P_TO_G=E.PeDefs.prototype.PE_TRANSFORM_P_TO_G,M.PE_TRANSFORM_G_TO_P=E.PeDefs.prototype.PE_TRANSFORM_G_TO_P,M.PE_HORIZON_RECT=E.PeDefs.prototype.PE_HORIZON_RECT,M.PE_HORIZON_POLY=E.PeDefs.prototype.PE_HORIZON_POLY,M.PE_HORIZON_LINE=E.PeDefs.prototype.PE_HORIZON_LINE,M.PE_HORIZON_DELTA=E.PeDefs.prototype.PE_HORIZON_DELTA},function(e){var t={},r={},n=function(e){if(e){var t=e.getType();switch(t){case I.PE_TYPE_GEOGCS:e=E.castObject(e,E.PeGeogcs);break;case I.PE_TYPE_PROJCS:e=E.castObject(e,E.PeProjcs);break;case I.PE_TYPE_GEOGTRAN:e=E.castObject(e,E.PeGeogtran);break;default:t&I.PE_TYPE_UNIT&&(e=E.castObject(e,E.PeUnit))}}return e};function i(e,r){var i=null,a=t[e];if(a||(a={},t[e]=a),a.hasOwnProperty(String(r)))i=a[r];else{var o=E.PeFactory.prototype.factoryByType(e,r);E.compare(o,E.NULL)||(i=o,a[r]=i)}return i=n(i)}e.initialize=function(){E.PeFactory.prototype.initialize(null)},e.coordsys=function(e){return i(I.PE_TYPE_COORDSYS,e)},e.factoryByType=i,e.fromString=function(e,t){var i=null,a=r[e];if(a||(a={},r[e]=a),a.hasOwnProperty(t))i=a[t];else{var o=E.PeFactory.prototype.fromString(e,t);E.compare(o,E.NULL)||(i=o,a[t]=i)}return i=n(i)},e.geogcs=function(e){return i(I.PE_TYPE_GEOGCS,e)},e.geogtran=function(e){return i(I.PE_TYPE_GEOGTRAN,e)},e.getCode=function(e){return E.PeFactory.prototype.getCode(e)},e.projcs=function(e){return i(I.PE_TYPE_PROJCS,e)},e.unit=function(e){return i(I.PE_TYPE_UNIT,e)}}(R||(R={}));var C,D,L,F,N,B,V,U,z,q=null;function H(e){function t(e,t,r){e[t]=r(e[t])}E=e,I.init(),C.init(),N.init(),V.init(),U.init(),q=function(e){Object(a.a)(r,e);var t=x(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"destroy",value:function(){E.destroy(this)}}]),r}(E.PeGCSExtent);for(var r=0,n=[E.PeDatum,E.PeGeogcs,E.PeGeogtran,E.PeObject,E.PeParameter,E.PePrimem,E.PeProjcs,E.PeSpheroid,E.PeUnit];r<n.length;r++){t(n[r].prototype,"getName",(function(e){return function(){return e.call(this,new Array(I.PE_NAME_MAX))}}))}for(var o=0,s=[E.PeGeogtran,E.PeProjcs];o<s.length;o++){t(s[o].prototype,"getParameters",(function(e){return function(){for(var t=new Array(I.PE_PARM_MAX),r=e.call(this),n=0;n<t.length;n++){var i=E.getValue(r,"*");t[n]=i?E.wrapPointer(i,E.PeParameter):null,r+=Int32Array.BYTES_PER_ELEMENT}return t}}))}t(E.PeHorizon.prototype,"getCoord",(function(e){return function(){var t=this.getSize();if(!t)return null;var r=[];return $(r,t,e.call(this)),r}})),t(E.PeGTlistExtendedEntry.prototype,"getEntries",(function(e){var t=E._pe_getPeGTlistExtendedGTsSize();return function(){var r=null,n=e.call(this);if(!E.compare(n,E.NULL)){r=[n];var i=this.getSteps();if(i>1)for(var a=E.getPointer(n),o=1;o<i;o++)r.push(E.wrapPointer(a+t*o,E.PeGTlistExtendedGTs))}return r}}));var c=E._pe_getPeHorizonSize(),u=function(e){return function(){var t=this._cache;if(t||(t=new Map,this._cache=t),t.has(e))return t.get(e);var r=null,n=e.call(this);if(!E.compare(n,E.NULL)){r=[n];var i=n.getNump();if(i>1)for(var a=E.getPointer(n),o=1;o<i;o++)r.push(E.wrapPointer(a+c*o,E.PeHorizon))}return t.set(e,r),r}};t(E.PeProjcs.prototype,"horizonGcsGenerate",u),t(E.PeProjcs.prototype,"horizonPcsGenerate",u),E.PeObject.prototype.toString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.PE_STR_OPTS_NONE;E.ensureCache.prepare();var t=E.getPointer(this),r=E.ensureInt8(new Array(I.PE_BUFFER_MAX));return E.UTF8ToString(E._pe_object_to_string_ext(t,e,r))}}function G(e){if(e){var t=E.getClass(e);if(t){var r=E.getCache(t);if(r){var n=E.getPointer(e);n&&delete r[n]}}}}function W(e,t){for(var r=[],n=new Array(t),i=0;i<e;i++)r.push(E.ensureInt8(n));return r}function J(e){var t;return Array.isArray(e[0])?(t=[],e.forEach((function(e){t.push(e[0],e[1])}))):t=e,t}function $(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n)for(var i=0;i<2*t;i++)e[i]=E.getValue(r+i*Float64Array.BYTES_PER_ELEMENT,"double");else for(var a=0===e.length,o=0;o<t;o++)a&&(e[o]=new Array(2)),e[o][0]=E.getValue(r,"double"),e[o][1]=E.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}!function(e){var t;e.init=function(){e.PE_GTLIST_OPTS_COMMON=E.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=E._pe_getPeGTlistExtendedEntrySize()},e.getGTlist=function(e,r,n,i,a,o){var s=null,c=new E.PeInteger(o);try{var u=E.PeGTlistExtended.prototype.getGTlist(e,r,n,i,a,c);if((o=c.val)&&(s=[u],o>1))for(var l=E.getPointer(u),f=1;f<o;f++)s.push(E.wrapPointer(l+t*f,E.PeGTlistExtendedEntry))}finally{E.destroy(c)}return s}}(C||(C={})),function(e){e.destroy=function(e){if(e&&e.length){var t,r=_(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;G(n),n.getEntries().forEach((function(e){G(e);var t=e.getGeogtran();G(t),t.getParameters().forEach(G),[t.getGeogcs1(),t.getGeogcs2()].forEach((function(e){G(e);var t=e.getDatum();G(t),G(t.getSpheroid()),G(e.getPrimem()),G(e.getUnit())}))}))}}catch(i){r.e(i)}finally{r.f()}E.PeGTlistExtendedEntry.prototype.Delete(e[0])}}}(D||(D={})),function(e){e.geogToGeog=function(e,t,r,n,i){E.ensureCache.prepare();var a=J(r),o=r===a,s=E.ensureFloat64(a),c=0;n&&(c=E.ensureFloat64(n));var u=E._pe_geog_to_geog(E.getPointer(e),t,s,c,i);return u&&$(r,t,s,o),u}}(L||(L={})),function(e){var t=function(e,t,r,n,i,a){var o,s;switch(E.ensureCache.prepare(),e){case"dd":o=E._pe_geog_to_dd,s=I.PE_DD_MAX;break;case"ddm":o=E._pe_geog_to_ddm,s=I.PE_DDM_MAX;break;case"dms":o=E._pe_geog_to_dms,s=I.PE_DMS_MAX}var c=0;t&&(c=E.getPointer(t));var u=J(n),l=E.ensureFloat64(u),f=W(r,s),p=o(c,r,l,i,E.ensureInt32(f));if(p)for(var d=0;d<r;d++)a[d]=E.UTF8ToString(f[d]);return p},r=function(e,t,r,n,i){var a;switch(E.ensureCache.prepare(),e){case"dd":a=E._pe_dd_to_geog;break;case"ddm":a=E._pe_ddm_to_geog;break;case"dms":a=E._pe_dms_to_geog}var o=0;t&&(o=E.getPointer(t));var s=n.map((function(e){return E.ensureString(e)})),c=E.ensureInt32(s),u=E.ensureFloat64(new Array(2*r)),l=a(o,r,c,u);return l&&$(i,r,u),l};e.geog_to_dms=function(e,r,n,i,a){return t("dms",e,r,n,i,a)},e.dms_to_geog=function(e,t,n,i){return r("dms",e,t,n,i)},e.geog_to_ddm=function(e,r,n,i,a){return t("ddm",e,r,n,i,a)},e.ddm_to_geog=function(e,t,n,i){return r("ddm",e,t,n,i)},e.geog_to_dd=function(e,r,n,i,a){return t("dd",e,r,n,i,a)},e.dd_to_geog=function(e,t,n,i){return r("dd",e,t,n,i)}}(F||(F={})),function(e){e.init=function(){e.PE_MGRS_STYLE_NEW=E.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=E.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=E.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=E.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=E.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},e.geog_to_mgrs_extended=function(e,t,r,n,i,a,o){E.ensureCache.prepare();var s=0;e&&(s=E.getPointer(e));var c=J(r),u=E.ensureFloat64(c),l=W(t,I.PE_MGRS_MAX),f=E.ensureInt32(l),p=E._pe_geog_to_mgrs_extended(s,t,u,n,i,a,f);if(p)for(var d=0;d<t;d++)o[d]=E.UTF8ToString(l[d]);return p},e.mgrs_to_geog_extended=function(e,t,r,n,i){E.ensureCache.prepare();var a=0;e&&(a=E.getPointer(e));var o=r.map((function(e){return E.ensureString(e)})),s=E.ensureInt32(o),c=E.ensureFloat64(new Array(2*t)),u=E._pe_mgrs_to_geog_extended(a,t,s,n,c);return u&&$(i,t,c),u}}(N||(N={})),function(e){e.geog_to_usng=function(e,t,r,n,i,a,o){E.ensureCache.prepare();var s=0;e&&(s=E.getPointer(e));var c=J(r),u=E.ensureFloat64(c),l=W(t,I.PE_MGRS_MAX),f=E.ensureInt32(l),p=E._pe_geog_to_usng(s,t,u,n,i,a,f);if(p)for(var d=0;d<t;d++)o[d]=E.UTF8ToString(l[d]);return p},e.usng_to_geog=function(e,t,r,n){E.ensureCache.prepare();var i=0;e&&(i=E.getPointer(e));var a=r.map((function(e){return E.ensureString(e)})),o=E.ensureInt32(a),s=E.ensureFloat64(new Array(2*t)),c=E._pe_usng_to_geog(i,t,o,s);return c&&$(n,t,s),c}}(B||(B={})),function(e){e.init=function(){e.PE_UTM_OPTS_NONE=E.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=E.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=E.PeNotationUtm.prototype.PE_UTM_OPTS_NS},e.geog_to_utm=function(e,t,r,n,i){E.ensureCache.prepare();var a=0;e&&(a=E.getPointer(e));var o=J(r),s=E.ensureFloat64(o),c=W(t,I.PE_UTM_MAX),u=E.ensureInt32(c),l=E._pe_geog_to_utm(a,t,s,n,u);if(l)for(var f=0;f<t;f++)i[f]=E.UTF8ToString(c[f]);return l},e.utm_to_geog=function(e,t,r,n,i){E.ensureCache.prepare();var a=0;e&&(a=E.getPointer(e));var o=r.map((function(e){return E.ensureString(e)})),s=E.ensureInt32(o),c=E.ensureFloat64(new Array(2*t)),u=E._pe_utm_to_geog(a,t,s,n,c);return u&&$(i,t,c),u}}(V||(V={})),function(e){var t=new Map;e.init=function(){e.PE_PCSINFO_OPTION_NONE=E.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=E.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=E.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=E.PePCSInfo.prototype.PE_POLE_POINT},e.generate=function(r){var n,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.PE_PCSINFO_OPTION_DOMAIN;return t.has(r)&&((i=t.get(r))[a]&&(n=i[a])),n||(n=E.PePCSInfo.prototype.generate(r,a),i||(i=[],t.set(r,i)),i[a]=n),n}}(U||(U={})),function(e){e.version_string=function(){return E.PeVersion.prototype.version_string()}}(z||(z={}));var Z=Object.freeze({__proto__:null,get _pe(){return E},isLoaded:T,isSupported:function(){return!!Object(w.a)("esri-wasm")},load:A,get PeCSTransformations(){return P},get PeDefs(){return I},get PeFactory(){return R},get PeGCSExtent(){return q},get PeGTlistExtended(){return C},get PeGTlistExtendedEntry(){return D},get PeGTTransformations(){return L},get PeNotationDms(){return F},get PeNotationMgrs(){return N},get PeNotationUsng(){return B},get PeNotationUtm(){return V},get PePCSInfo(){return U},get PeVersion(){return z},_init:H}),Q=r("OTJA"),X=r("cFtQ"),K=r("AQ8/"),Y=r("mHKk"),ee=(r("+MdM"),r("1xKk")),te=(Math.PI,ee.a.radius),re=ee.a.eccentricitySquared,ne={a1:te*re,a2:te*re*te*re,a3:te*re*re/2,a4:te*re*te*re*2.5,a5:te*re+te*re*re/2,a6:1-re},ie=(ee.a.radius,ee.a.flattening,ee.c.radius,ee.c.flattening,ee.b.radius,ee.b.flattening,ee.b.radius,0),ae=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(i.a)(this,e),this.uid=ie++,t?(this._wkt=void 0!==t.wkt?t.wkt:null,this._wkid=void 0!==t.wkid?t.wkid:-1,this._isInverse=void 0!==t.isInverse&&!0===t.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}return Object(O.a)(e,[{key:"wkt",get:function(){return this._wkt},set:function(e){this._wkt=e,this.uid=ie++}},{key:"wkid",get:function(){return this._wkid},set:function(e){this._wkid=e,this.uid=ie++}},{key:"isInverse",get:function(){return this._isInverse},set:function(e){this._isInverse=e,this.uid=ie++}},{key:"getInverse",value:function(){var t=new e;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}],[{key:"fromGE",value:function(t){var r=new e;return r._wkt=t.wkt,r._wkid=t.wkid,r._isInverse=t.isInverse,r}}]),e}();function oe(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return se(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ce=function(){function e(t){if(Object(i.a)(this,e),this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,t&&t.steps){var r,n=oe(t.steps);try{for(n.s();!(r=n.n()).done;){var a=r.value;a instanceof ae?this.steps.push(a):this.steps.push(new ae({wkid:a.wkid,wkt:a.wkt,isInverse:a.isInverse}))}}catch(o){n.e(o)}finally{n.f()}}}return Object(O.a)(e,[{key:"getInverse",value:function(){var t=new e;t.steps=[];for(var r=this.steps.length-1;r>=0;r--){var n=this.steps[r];t.steps.push(n.getInverse())}return t}},{key:"getGTListEntry",value:function(){var e,t="",r=oe(this.steps);try{for(r.s();!(e=r.n()).done;){t+=e.value.uid.toString()+","}}catch(n){r.e(n)}finally{r.f()}return t!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=t),this._gtlistentry}},{key:"assignCachedGe",value:function(t,r,n){this._cached_projection[e.cacheKey(t,r)]=n}},{key:"getCachedGeTransformation",value:function(t,r){var n,i="",a=oe(this.steps);try{for(a.s();!(n=a.n()).done;){i+=n.value.uid.toString()+","}}catch(s){a.e(s)}finally{a.f()}i!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=i);var o=this._cached_projection[e.cacheKey(t,r)];return void 0===o?null:o}}],[{key:"cacheKey",value:function(e,t){return[void 0!==e.wkid&&null!==e.wkid?e.wkid.toString():"-1",void 0!==e.wkt&&null!==e.wkt?e.wkt.toString():"",void 0!==t.wkid&&null!==t.wkid?t.wkid.toString():"-1",void 0!==t.wkt&&null!==t.wkt?t.wkt.toString():""].join(",")}},{key:"fromGE",value:function(t){var r,n=new e,i="",a=oe(t.steps);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=ae.fromGE(o);n.steps.push(s),i+=s.uid.toString()+","}}catch(c){a.e(c)}finally{a.f()}return n._cached_projection={},n._gtlistentry=null,n._chain=i,n}}]),e}(),ue=r("12QT");function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(M){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}function fe(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pe(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var de=null,he=null,be=null,ye={};function ve(){return!!de&&T()}function me(){return!0}function ge(e){return Object(d.h)(be)&&(be=Promise.all([A(),r.e(7).then(r.bind(null,"MJAk")).then((function(e){return e.g})),r.e(1).then(r.bind(null,"cW/n"))])),be.then((function(t){var r=Object(c.a)(t,3),n=r[1],i=r[2].hydratedAdapter;Object(h.v)(e),he=i,(de=n.default)._enableProjection(Z)}))}function Oe(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Array.isArray(e)?0===e.length?[]:je(he,e,e[0].spatialReference,t,r):je(he,[e],e.spatialReference,t,r)[0]}function je(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(Object(d.h)(r)||Object(d.h)(n))return t;if(ke(r,n,i))return t.map((function(e){return Pe(e,r,n)}));if(Object(d.h)(i)){var a=ce.cacheKey(r,n);void 0!==ye[a]?i=ye[a]:(i=we(r,n,null),Object(d.h)(i)&&(i=new ce),ye[a]=i)}if(Object(d.h)(de))throw new _e;return de._project(e,t,r,n,i)}function we(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Object(d.h)(de))throw new _e;if(Object(d.h)(e)||Object(d.h)(t))return null;var n=de._getTransformation(he,e,t,r,null==r?void 0:r.spatialReference);return null!==n?ce.fromGE(n):null}var _e=function(e){Object(a.a)(r,e);var t=le(r);function r(){return Object(i.a)(this,r),t.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")}return r}(f.a);function ke(e,t,r){return!r&&(!!Object(ue.c)(e,t)||Object(ue.j)(e)&&Object(ue.j)(t)&&!!ct(e,t,dt))}function xe(e,t,r,n){return Se.apply(this,arguments)}function Se(){return(Se=Object(n.a)(l.a.mark((function e(t,r,n,i){var a,o,s,c,u,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ve()){e.next=23;break}if(!Array.isArray(t)){e.next=21;break}a=fe(t),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=11;break}if(s=o.value,c=s.source,u=s.dest,f=s.geographicTransformation,ke(c,u,f)){e.next=9;break}return e.abrupt("return",ge(i));case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),a.e(e.t0);case 16:return e.prev=16,a.f(),e.finish(16);case 19:e.next=23;break;case 21:if(ke(t,r,n)){e.next=23;break}return e.abrupt("return",ge(i));case 23:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})))).apply(this,arguments)}function Pe(e,t,r){if(!e)return e;if("x"in e){var n=new Q.a;return Ie(e,t,n,r)?n:null}if("xmin"in e){var i=new m.a;return Ae(e,t,i,r)?i:null}if("rings"in e){var a=new X.a;return Te(e,t,a,r)?a:null}if("paths"in e){var o=new K.a;return Me(e,t,o,r)?o:null}if("points"in e){var s=new g.a;return Re(e,t,s,r)?s:null}return null}function Ie(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;gt[0]=e.x,gt[1]=e.y;var a=e.z;return gt[2]=void 0!==a?a:i,!!Le(gt,t,0,gt,n,0,1)&&(r.x=gt[0],r.y=gt[1],r.spatialReference=n,void 0===a?(r.z=void 0,r.hasZ=!1):(r.z=gt[2],r.hasZ=!0),void 0===e.m?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),!0)}function Re(e,t,r,n){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=e.points,s=e.hasZ,c=e.hasM,u=[],l=o.length,f=[],p=fe(o);try{for(p.s();!(i=p.n()).done;){var d=i.value;f.push(d[0],d[1],s?d[2]:a)}}catch(m){p.e(m)}finally{p.f()}if(!Le(f,t,0,f,n,0,l))return!1;for(var h=0;h<l;++h){var b=3*h,y=f[b],v=f[b+1];s&&c?u.push([y,v,f[b+2],o[h][3]]):s?u.push([y,v,f[b+2]]):c?u.push([y,v,o[h][2]]):u.push([y,v])}return r.points=u,r.spatialReference=n,r.hasZ=s,r.hasM=c,!0}function Me(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=e.paths,o=e.hasZ,s=e.hasM,c=[];return!!Fe(a,o,s,t,c,n,i)&&(r.paths=c,r.spatialReference=n,r.hasZ=o,r.hasM=s,!0)}function Ee(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.spatialReference,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return!Object(d.h)(r)&&Te(e,e.spatialReference,t,r,n)}function Te(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=e.rings,o=e.hasZ,s=e.hasM,c=[];return!!Fe(a,o,s,t,c,n,i)&&(r.rings=c,r.spatialReference=n,r.hasZ=o,r.hasM=s,!0)}function Ae(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=e.xmin,o=e.ymin,s=e.xmax,c=e.ymax,u=e.hasZ,l=e.hasM;return!!De(a,o,u?e.zmin:i,t,gt,n)&&(r.xmin=gt[0],r.ymin=gt[1],u&&(r.zmin=gt[2]),!!De(s,c,u?e.zmax:i,t,gt,n)&&(r.xmax=gt[0],r.ymax=gt[1],u&&(r.zmax=gt[2]),l&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=n,!0))}function Ce(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;gt[0]=e.x,gt[1]=e.y;var i=e.z;return gt[2]=void 0!==i?i:n,Le(gt,e.spatialReference,0,t,r,0,1)}function De(e,t,r,n,i,a){return yt[0]=e,yt[1]=t,yt[2]=r,Le(yt,n,0,i,a,0,1)}function Le(e,t,r,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=ct(t,i,dt);if(Object(d.h)(s))return!1;if(s===Ue){if(e===n&&r===a)return!0;for(var c=r+3*o,u=r,l=a;u<c;u++,l++)n[l]=e[u];return!0}for(var f=r+3*o,p=r,h=a;p<f;p+=3,h+=3)s(e,p,n,h);return!0}function Fe(e,t,r,n,i,a){var o,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=new Array,u=fe(e);try{for(u.s();!(o=u.n()).done;){var l,f=o.value,p=fe(f);try{for(p.s();!(l=p.n()).done;){var d=l.value;c.push(d[0],d[1],t?d[2]:s)}}catch(w){p.e(w)}finally{p.f()}}}catch(w){u.e(w)}finally{u.f()}if(!Le(c,n,0,c,a,0,c.length/3))return!1;var h=0;i.length=0;var b,y=fe(e);try{for(y.s();!(b=y.n()).done;){var v,m=b.value,g=new Array,O=fe(m);try{for(O.s();!(v=O.n()).done;){var j=v.value;t&&r?g.push([c[h++],c[h++],c[h++],j[3]]):t?g.push([c[h++],c[h++],c[h++]]):r?(g.push([c[h++],c[h++],j[2]]),h++):(g.push([c[h++],c[h++]]),h++)}}catch(w){O.e(w)}finally{O.f()}i.push(g)}}catch(w){y.e(w)}finally{y.f()}return!0}function Ne(e,t,r,n){if(Object(d.h)(e)||Object(d.h)(n))return!1;var i=Ve(e,ft),a=Ve(n,pt);if(i===a&&!Be(a)&&(0!==i||Object(ue.c)(e,n)))return Object(y.h)(r),Object(y.m)(r,r,t),!0;if(Be(a)){var o=0,s=st[i][11],c=st[11][a];return!Object(d.h)(s)&&!Object(d.h)(c)&&(s(t,0,vt,0),c(vt,0,mt,0),o=ht*vt[0],function(e,t,r){var n=Math.sin(t),i=Math.cos(t),a=Math.sin(e),o=Math.cos(e),s=r;s[0]=-n,s[4]=-a*i,s[8]=o*i,s[12]=0,s[1]=i,s[5]=-a*n,s[9]=o*n,s[13]=0,s[2]=0,s[6]=o,s[10]=a,s[14]=0,s[3]=0,s[7]=0,s[11]=0,s[15]=1}(ht*vt[1],o,r),r[12]=mt[0],r[13]=mt[1],r[14]=mt[2],!0)}if(3===a&&(2===i||1===i)){var u=st[i][11];if(Object(d.h)(u))return!1;u(t,0,vt,0);var l=ht*vt[1];Ge(vt,0,mt,0),Object(y.h)(r),Object(y.m)(r,r,mt);var f=1/Math.cos(l);return Object(y.l)(r,r,[f,f,1]),!0}return!1}function Be(e){return 1===e||7===e||9===e}function Ve(e,t){return t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=Object(b.d)(e,1)),e.wkt===Y.a.wkt?t.spatialReferenceId=1:Object(ue.k)(e)?t.spatialReferenceId=2:Object(ue.n)(e)?t.spatialReferenceId=3:e.wkt===Y.d.wkt?t.spatialReferenceId=4:4490===e.wkid?t.spatialReferenceId=5:e.wkt===Y.b.wkt?t.spatialReferenceId=7:e.wkt===Y.c.wkt?t.spatialReferenceId=9:Object(ue.h)(e)?t.spatialReferenceId=8:Object(ue.i)(e)?t.spatialReferenceId=10:t.spatialReferenceId=0)}function Ue(e,t,r,n){e!==r&&(r[n++]=e[t++],r[n++]=e[t++],r[n]=e[t])}function ze(e,t,r,n){r[n++]=bt*(e[t++]/ee.a.radius),r[n++]=bt*(Math.PI/2-2*Math.atan(Math.exp(-1*e[t++]/ee.a.radius))),r[n]=e[t]}function qe(e,t,r,n){ze(e,t,r,n),Qe(r,n,r,n)}function He(e,t,r,n){ze(e,t,r,n),nt(r,n,r,n)}function Ge(e,t,r,n){!function(e,t,r,n,i){var a=.4999999*Math.PI,o=Object(p.e)(ht*e[t+1],-a,a),s=Math.sin(o);r[n++]=ht*e[t]*i.radius,r[n++]=i.halfSemiMajorAxis*Math.log((1+s)/(1-s)),r[n]=e[t+2]}(e,t,r,n,ee.a)}function We(e){if(Object(d.h)(e))return!1;var t=Ve(e,ft);return!!st[t][6]}function Je(e,t,r,n,i){var a=i+e[t+2],o=ht*e[t+1],s=ht*e[t],c=Math.cos(o);r[n++]=Math.cos(s)*c*a,r[n++]=Math.sin(s)*c*a,r[n]=Math.sin(o)*a}function $e(e,t,r,n){Je(e,t,r,n,ee.c.radius)}function Ze(e,t,r,n){Je(e,t,r,n,ee.b.radius)}function Qe(e,t,r,n){Je(e,t,r,n,ee.a.radius)}function Xe(e,t,r,n,i){var a=e[t],o=e[t+1],s=e[t+2],c=Math.sqrt(a*a+o*o+s*s),u=Object(p.c)(s/(0===c?1:c)),l=Math.atan2(o,a);r[n++]=bt*l,r[n++]=bt*u,r[n]=c-i}function Ke(e,t,r,n){Xe(e,t,r,n,ee.c.radius)}function Ye(e,t,r,n){Xe(e,t,r,n,ee.b.radius)}function et(e,t,r,n){Xe(e,t,r,n,ee.a.radius)}function tt(e,t,r,n){et(e,t,r,n),Ge(r,n,r,n)}function rt(e,t,r,n){et(e,t,r,n),nt(r,n,r,n)}function nt(e,t,r,n){!function(e,t,r,n,i){var a=ht*e[t],o=ht*e[t+1],s=e[t+2],c=Math.sin(o),u=Math.cos(o),l=i.radius/Math.sqrt(1-i.eccentricitySquared*c*c);r[n++]=(l+s)*u*Math.cos(a),r[n++]=(l+s)*u*Math.sin(a),r[n++]=(l*(1-i.eccentricitySquared)+s)*c}(e,t,r,n,ee.a)}function it(e,t,r,n){var i,a,o,s,c,u,l,f,p,d,h,b,y,v,m,g,O,j,w,_,k,x=ne,S=e[t],P=e[t+1],I=e[t+2];i=Math.abs(I),a=S*S+P*P,o=Math.sqrt(a),s=a+I*I,c=Math.sqrt(s),_=Math.atan2(P,S),u=I*I/s,v=x.a2/c,m=x.a3-x.a4/c,(l=a/s)>.3?(f=i/c*(1+l*(x.a1+v+u*m)/c),w=Math.asin(f),d=f*f,p=Math.sqrt(1-d)):(p=o/c*(1-u*(x.a5-v-l*m)/c),w=Math.acos(p),d=1-p*p,f=Math.sqrt(d)),h=1-ee.a.eccentricitySquared*d,b=ee.a.radius/Math.sqrt(h),w+=j=(g=p*(m=i-(y=x.a6*b)*f)-f*(v=o-b*p))/(y/h+(O=p*v+f*m)),k=O+g*j/2,I<0&&(w=-w),r[n++]=bt*_,r[n++]=bt*w,r[n]=k}function at(e,t,r,n){it(e,t,r,n),Qe(r,n,r,n)}function ot(e,t,r,n){it(e,t,r,n),Ge(r,n,r,n)}var st={2:{5:null,8:null,10:null,11:Ue,6:Ue,1:Qe,7:null,9:null,0:null,3:Ge,2:Ue,4:nt},5:{5:Ue,8:null,10:null,11:Ue,6:Ue,1:Qe,7:null,9:null,0:null,3:null,2:null,4:nt},8:{5:null,8:Ue,10:null,11:Ue,6:null,1:null,7:Ze,9:null,0:null,3:null,2:null,4:null},10:{5:null,8:null,10:Ue,11:Ue,6:null,1:null,7:null,9:$e,0:null,3:null,2:null,4:null},3:{5:null,8:null,10:null,11:ze,6:ze,1:qe,7:null,9:null,0:null,3:Ue,2:ze,4:He},4:{5:it,8:null,10:null,11:it,6:it,1:at,7:null,9:null,0:null,3:ot,2:it,4:Ue},1:{5:et,8:null,10:null,11:et,6:et,1:Ue,7:null,9:null,0:null,3:tt,2:et,4:rt},7:{5:null,8:Ye,10:null,11:Ye,6:null,1:null,7:Ue,9:null,0:null,3:null,2:null,4:null},9:{5:null,8:null,10:Ke,11:Ke,6:null,1:null,7:null,9:Ue,0:null,3:null,2:null,4:null},0:{5:null,8:null,10:null,11:null,6:null,1:null,7:null,9:null,0:Ue,3:null,2:null,4:null},11:{5:Ue,8:Ue,10:Ue,11:Ue,6:Ue,1:Qe,7:Ze,9:$e,0:null,3:Ge,2:Ue,4:nt},6:{5:null,8:null,10:null,11:Ue,6:Ue,1:Qe,7:null,9:null,0:null,3:null,2:Ue,4:nt}};function ct(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lt();return Object(d.h)(e)||Object(d.h)(t)?null:ut(e,t,r).projector}function ut(e,t,r){if(Object(d.h)(e)||Object(d.h)(t)||r.source.spatialReference===e&&r.dest.spatialReference===t)return r;var n=Ve(e,r.source),i=Ve(t,r.dest);return 0===n&&0===i?Object(ue.c)(e,t)?r.projector=Ue:r.projector=null:r.projector=st[n][i],r}function lt(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:Ue}}var ft={spatialReference:null,spatialReferenceId:0},pt={spatialReference:null,spatialReferenceId:0},dt=lt(),ht=(lt(),Object(p.g)(1)),bt=Object(p.q)(1),yt=Object(v.e)(),vt=Object(v.e)(),mt=Object(v.e)(),gt=Object(v.e)();Object(v.e)()},BAZ7:function(e,t){e.exports=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}},BAkW:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=new(r("7i+s").a)({0:"default-curve-extension",1:"relocate-ends",2:"keep-end-attributes",4:"no-end-attributes",8:"no-extend-at-from",16:"no-extend-at-to"});function i(e){var t=e.toJSON(),r=t.extendHow,i=t.polylines,a=t.trimExtendTo,o={};return o.extendHow=n.toJSON(r),i&&i.length&&(o.polylines=JSON.stringify(i),o.sr=JSON.stringify(i[0].spatialReference)),a&&(o.trimExtendTo=JSON.stringify(a)),o}},"BG/N":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("fb8N"),f=r("7i+s"),p=r("0n+b"),d=r("0fJP"),h=r("xAIp"),b=(r("wckI"),r("J4Pc"),r("TM+E"),r("mp5+")),y=r("iaHD"),v=r("jr4m"),m=r("i9OE");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var O=n=function(e){Object(o.a)(r,e);var t=g(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).expression=null,e.title=null,e.value=null,e}return Object(a.a)(r,[{key:"readExpression",value:function(e,t){return t.value?Object(m.a)(t.value):e}},{key:"writeExpression",value:function(e,t,r){null!=this.value&&(e=Object(m.a)(this.value)),t[r]=e}},{key:"clone",value:function(){return new n({expression:this.expression,title:this.title,value:this.value})}}]),r}(p.a);Object(u.a)([Object(h.b)({type:String,json:{write:{allowNull:!0}}})],O.prototype,"expression",void 0),Object(u.a)([Object(b.a)("expression",["expression","value"])],O.prototype,"readExpression",null),Object(u.a)([Object(v.a)("expression")],O.prototype,"writeExpression",null),Object(u.a)([Object(h.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],O.prototype,"title",void 0),Object(u.a)([Object(h.b)({json:{read:!1,write:!1}})],O.prototype,"value",void 0);var j,w=O=n=Object(u.a)([Object(y.a)("esri.layers.support.LabelExpressionInfo")],O),_=r("PtAs"),k=r("R0ka");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var S=new f.a({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function P(e){return!e||"service"!==e.origin&&!I(e.layer)}function I(e){return"map-image"===(null==e?void 0:e.type)}function R(e){var t,r;return!!I(e)&&!(null==(t=e.capabilities)||null==(r=t.exportMap)||!r.supportsArcadeExpressionForLabeling)}var M=j=function(e){Object(o.a)(r,e);var t=x(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="label",n.name=null,n.deconflictionStrategy="static",n.labelExpression=null,n.labelExpressionInfo=null,n.labelPlacement=null,n.maxScale=0,n.minScale=0,n.symbol=_.a,n.useCodedValues=void 0,n.where=null,n}return Object(a.a)(r,[{key:"readLabelExpression",value:function(e,t){var r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}},{key:"writeLabelExpression",value:function(e,t,r){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)e=Object(m.f)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){var n=Object(m.e)(this.labelExpressionInfo.expression);n&&(e="["+n+"]")}null!=e&&(t[r]=e)}},{key:"writeLabelExpressionInfo",value:function(e,t,r,n){if(null==e&&null!=this.labelExpression&&P(n))e=new w({expression:this.getLabelExpressionArcade()});else if(!e)return;var i=e.toJSON(n);i.expression&&(t[r]=i)}},{key:"writeMaxScale",value:function(e,t){(e||this.minScale)&&(t.maxScale=e)}},{key:"writeMinScale",value:function(e,t){(e||this.maxScale)&&(t.minScale=e)}},{key:"getLabelExpression",value:function(){return Object(m.b)(this)}},{key:"getLabelExpressionArcade",value:function(){return Object(m.c)(this)}},{key:"getLabelExpressionSingleField",value:function(){return Object(m.d)(this)}},{key:"hash",value:function(){return JSON.stringify(this)}},{key:"clone",value:function(){return new j({deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:Object(d.a)(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:Object(d.a)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}}],[{key:"evaluateWhere",value:function(e,t){var r=function(e,t,r){switch(t){case"=":return e==r;case"<>":return e!=r;case">":return e>r;case">=":return e>=r;case"<":return e<r;case"<=":return e<=r}return!1};try{if(null==e)return!0;var n=e.split(" ");if(3===n.length)return r(t[n[0]],n[1],n[2]);if(7===n.length){var i=r(t[n[0]],n[1],n[2]),a=n[3],o=r(t[n[4]],n[5],n[6]);switch(a){case"AND":return i&&o;case"OR":return i||o}}return!1}catch(s){console.log("Error.: can't parse = "+e)}}}]),r}(p.a);Object(u.a)([Object(h.b)({type:String,json:{write:!0}})],M.prototype,"name",void 0),Object(u.a)([Object(h.b)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],M.prototype,"deconflictionStrategy",void 0),Object(u.a)([Object(h.b)({type:String,json:{write:{overridePolicy:function(e,t,r){return this.labelExpressionInfo&&"service"===(null==r?void 0:r.origin)&&R(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],M.prototype,"labelExpression",void 0),Object(u.a)([Object(b.a)("labelExpression")],M.prototype,"readLabelExpression",null),Object(u.a)([Object(v.a)("labelExpression")],M.prototype,"writeLabelExpression",null),Object(u.a)([Object(h.b)({type:w,json:{write:{overridePolicy:function(e,t,r){return function(e){return P(e)||R(e.layer)}(r)?{allowNull:!0}:{enabled:!1}}}}})],M.prototype,"labelExpressionInfo",void 0),Object(u.a)([Object(v.a)("labelExpressionInfo")],M.prototype,"writeLabelExpressionInfo",null),Object(u.a)([Object(h.b)({type:S.apiValues,json:{type:S.jsonValues,read:S.read,write:S.write}})],M.prototype,"labelPlacement",void 0),Object(u.a)([Object(h.b)({type:Number})],M.prototype,"maxScale",void 0),Object(u.a)([Object(v.a)("maxScale")],M.prototype,"writeMaxScale",null),Object(u.a)([Object(h.b)({type:Number})],M.prototype,"minScale",void 0),Object(u.a)([Object(v.a)("minScale")],M.prototype,"writeMinScale",null),Object(u.a)([Object(h.b)({types:l.g,json:{origins:{"web-scene":{types:l.h,write:k.b,default:null}},write:k.b,default:null}})],M.prototype,"symbol",void 0),Object(u.a)([Object(h.b)({type:Boolean,json:{write:!0}})],M.prototype,"useCodedValues",void 0),Object(u.a)([Object(h.b)({type:String,json:{write:!0}})],M.prototype,"where",void 0);var E=M=j=Object(u.a)([Object(y.a)("esri.layers.support.LabelClass")],M);t.a=E},BKxz:function(e,t){var r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(r,"{\n/* [wrapped with "+t+"] */\n")}},BW49:function(e,t,r){var n=r("sWZd"),i=r("lYsT"),a=r("PqlX"),o=r("q+I6"),s=r("ckUF"),c=r("cTHi");e.exports=function(e,t,r){for(var u=-1,l=(t=n(t,e)).length,f=!1;++u<l;){var p=c(t[u]);if(!(f=null!=e&&r(e,p)))break;e=e[p]}return f||++u!=l?f:!!(l=null==e?0:e.length)&&s(l)&&o(p,l)&&(a(e)||i(e))}},BblY:function(e,t,r){"use strict";var n=r("NthX"),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("ERkP"),f=u(r("lZ6b"));t.default=function(e){var t=c(e,[]),i=f.default(),a=i.map,u=i.view;return l.useEffect((function(){return u&&u.ready&&s(void 0,void 0,void 0,n.mark((function e(){var i,s,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return o(r("KxcT"))}));case 2:i=e.sent,s=i.default,c=new s(t),null==a||a.layers.add(c);case 6:case"end":return e.stop()}}),e)}))),function(){!1,null==a||a.layers.remove(void 0)}}),[a,u]),null}},BlFe:function(e,t,r){"use strict";var n=r("NthX"),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r("ERkP"),l=c(r("lZ6b")),f=(r("sCFI").loadModules,r("pjU7")),p=c(r("wvjj"));t.default=function(e){var t=e.expander,i=void 0===t?p.default.expander:t,a=e.expanderDefaultOpen,c=void 0===a?p.default.expanderDefaultOpen:a,d=e.position,h=void 0===d?p.default.position:d,b=e.widgetArgs,y=void 0===b?p.default.widgetArgs:b,v=e.expandWidgetArgs,m=void 0===v?p.default.expandWidgetArgs:v,g=e.expandIconClass,O=void 0===g?"esri-icon-bookmark":g,j=l.default().view;return u.useEffect((function(){var e,t,a=!0;return(null==j?void 0:j.ready)&&s(void 0,void 0,void 0,n.mark((function s(){var u,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return o(r("VFJJ"))}));case 2:if(u=n.sent,l=u.default,e=new l(Object.assign({view:j},y)),!i){n.next=11;break}return n.next=8,f.addExpander({view:j,widgetContent:e,expandIconClass:O,position:h,defaultOpen:c,expandWidgetArgs:m});case 8:t=n.sent,n.next=12;break;case 11:a&&(null==j||j.ui.add(e,h));case 12:case"end":return n.stop()}}),s)}))),function(){a=!1,null==e||e.destroy(),null==t||t.destroy()}}),[j,i,h]),null}},Bpme:function(e,t,r){var n=r("CIUO"),i=r("TsNJ"),a=r("DhoL"),o=a&&a.isMap,s=o?i(o):n;e.exports=s},Bq5F:function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},BwbT:function(e,t,r){var n=r("PqlX"),i=r("zXe4"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},CHlC:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("sQvh");function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(n.a)(e,t)}},CIBY:function(e,t,r){var n=r("V2ZB"),i=r("B4/L");e.exports=function(e,t){return n(e,i(e),t)}},CIUO:function(e,t,r){var n=r("s3t7"),i=r("T9Ud");e.exports=function(e){return i(e)&&"[object Map]"==n(e)}},CNVc:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("yBJb"),i=r("hisu"),a=r("7im+"),o=r("IH5m"),s=r("wPzt"),c=r("+JF/"),u=function e(t,r){Object(i.a)(this,e),this.item=t,this.controller=r,this.promise=null},l=function(){function e(t){Object(i.a)(this,e),this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new s.a(t.peeker),this.process=t.process;var r=t.scheduler;t.priority&&Object(a.i)(r)&&(this._task=r.registerTask(t.priority,this))}return Object(n.a)(e,[{key:"destroy",value:function(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}},{key:"length",get:function(){return this._processingItems.size+this._queue.length}},{key:"abort",value:function(e){var t=this._controllers.get(e);t&&t.abort()}},{key:"clear",value:function(){this._queue.clear();var e=[];this._controllers.forEach((function(t){return e.push(t)})),this._controllers.clear(),e.forEach((function(e){return e.abort()})),this._processingItems.clear(),this._cancelNext()}},{key:"forEach",value:function(e){this._deferreds.forEach((function(t,r){return e(r)}))}},{key:"get",value:function(e){var t=this._deferreds.get(e);return t?t.promise:void 0}},{key:"isOngoing",value:function(e){return this._processingItems.has(e)}},{key:"has",value:function(e){return this._deferreds.has(e)}},{key:"pause",value:function(){this._isPaused||(this._isPaused=!0,this._cancelNext())}},{key:"push",value:function(e,t){var r=this,n=this.get(e);if(n)return n;var i=Object(o.d)(),s=null;t&&(s=Object(o.q)(t,(function(){return i.abort()})));var c=function(){u.remove(),Object(a.i)(s)&&s.remove(),r._deferreds.delete(e),r._controllers.delete(e),r._queue.remove(e),r._processingItems.delete(e),r._scheduleNext()},u=Object(o.r)(i.signal,(function(){var t=r._processingItems.get(e);t&&t.controller.abort(),c(),l.reject(Object(o.e)())})),l=Object(o.f)();return this._deferreds.set(e,l),this._controllers.set(e,i),l.promise.then(c,c),this._queue.push(e),this._scheduleNext(),l.promise}},{key:"last",value:function(){return this._queue.last()}},{key:"peek",value:function(){return this._queue.peek()}},{key:"popLast",value:function(){return this._queue.popLast()}},{key:"reset",value:function(){var e=[];this._processingItems.forEach((function(t){return e.push(t)})),this._processingItems.clear();for(var t=0,r=e;t<r.length;t++){var n=r[t];this._queue.push(n.item),n.controller.abort()}this._scheduleNext()}},{key:"resume",value:function(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}},{key:"takeAll",value:function(){for(var e=[];this._queue.length;)e.push(this._queue.pop());return this.clear(),e}},{key:"running",get:function(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}},{key:"runTask",value:function(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}},{key:"_scheduleNext",value:function(){var e=this;this._task||this._isPaused||this._schedule||(this._schedule=Object(c.b)((function(){e._schedule=null,e._next()})))}},{key:"_next",value:function(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}},{key:"_cancelNext",value:function(){this._schedule&&(this._schedule.remove(),this._schedule=null)}},{key:"_processResult",value:function(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(t))}},{key:"_processError",value:function(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(t))}},{key:"_canProcessFulfillment",value:function(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}},{key:"_process",value:function(e){var t=this;if(!Object(a.h)(e)){var r,n=Object(o.d)(),i=new u(e,n);this._processingItems.set(e,i);try{r=this.process(e,n.signal)}catch(s){this._processError(i,s)}Object(o.p)(r)?(i.promise=r,r.then((function(e){return t._processResult(i,e)}),(function(e){return t._processError(i,e)}))):this._processResult(i,r)}}},{key:"test",get:function(){var e=this;return{update:function(t){return e.runTask(t)}}}}]),e}()},COrk:function(e,t,r){var n=r("E1Sn"),i=r("T9Ud");e.exports=function e(t,r,a,o,s){return t===r||(null==t||null==r||!i(t)&&!i(r)?t!=t&&r!=r:n(t,r,a,o,e,s))}},CPLO:function(e,t,r){var n=r("zlak"),i=r("TsNJ"),a=r("DhoL"),o=a&&a.isSet,s=o?i(o):n;e.exports=s},CSkC:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("WYis"),f=r("0n+b"),p=r("xAIp"),d=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var b=n=function(e){Object(o.a)(r,e);var t=h(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).color=null,n.ratio=null,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({color:this.color,ratio:this.ratio})}}]),r}(f.a);Object(u.a)([Object(p.b)({type:l.a,json:{write:!0}})],b.prototype,"color",void 0),Object(u.a)([Object(p.b)({type:Number,json:{write:!0}})],b.prototype,"ratio",void 0);var y=b=n=Object(u.a)([Object(d.a)("esri.renderers.support.HeatmapColorStop")],b);t.a=y},Chmn:function(e,t){e.exports=function(e){return this.__data__.get(e)}},Cpn1:function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,"a",(function(){return n}))},CrpU:function(e,t,r){"use strict";var n=r("NthX"),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(r("ERkP")),l=c(r("lZ6b")),f=r("sCFI").loadModules;t.default=function(e){var t=e.image,r=e.center,i=e.spatialReference,a=l.default().map;return u.useEffect((function(){var e;return a&&s(void 0,void 0,void 0,n.mark((function o(){var s,c,u,l,p,d;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f(["esri/layers/GraphicsLayer","esri/geometry/Point","esri/Graphic","esri/symbols/PictureMarkerSymbol"]);case 2:s=n.sent,c=s[0],u=s[1],l=s[2],p=s[3],d=new l({geometry:new u({x:r[0],y:r[1],spatialReference:{wkid:i}}),symbol:new p({url:t,width:"64px",height:"64px"})}),e=new c({graphics:[d]}),null==a||a.layers.add(e,0),null==a||a.allLayers.on("change",(function(t){null==a||a.reorder(e,1e3)}));case 11:case"end":return n.stop()}}),o)}))),function(){null==a||a.layers.remove(e)}}),[a,r,i]),u.default.createElement(u.default.Fragment,null)}},CzB4:function(e,t,r){var n=r("w5ta"),i=r("RW/s"),a=r("0KRy");e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||i),string:new n}}},CzOP:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0n+b"),f=r("frPA"),p=r("xAIp"),d=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var b=n=function(e){Object(o.a)(r,e);var t=h(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).label=null,n.size=null,n.value=null,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({label:this.label,size:this.size,value:this.value})}}]),r}(l.a);Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],b.prototype,"label",void 0),Object(u.a)([Object(p.b)({type:Number,cast:f.e,json:{write:!0}})],b.prototype,"size",void 0),Object(u.a)([Object(p.b)({type:Number,json:{write:!0}})],b.prototype,"value",void 0);var y=b=n=Object(u.a)([Object(d.a)("esri.renderers.visualVariables.support.SizeStop")],b);t.a=y},"D/n4":function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return d}));var n=r("g+AA"),i=r("DGz/"),a=r("jaCC"),o=r("Mp7X"),s=r("J4Pc"),c=(r("MrgE"),r("vbdg")),u=r("DUO2"),l=Object(c.a)();function f(e,t,r){var n=Math.ceil(t[0]),i=Math.ceil(t[1]);if(!e.some((function(e){return!!e.length})))return null;var a=r&&r.node||document.createElement("div");return null!=r.opacity&&(a.style.opacity=r.opacity.toString()),l.append(a,u.g.bind(null,e,n,i,r)),a}function p(e,t,r,n,i){switch(i){case"multiply":e[t+0]*=r[0],e[t+1]*=r[1],e[t+2]*=r[2],e[t+3]*=r[3];break;default:var o=Object(a.a)({r:e[t+0],g:e[t+1],b:e[t+2]});o.h=n.h,o.s=n.s,o.v=o.v/100*n.v;var s=Object(a.d)(o);e[t+0]=s.r,e[t+1]=s.g,e[t+2]=s.b,e[t+3]*=r[3]}}function d(e,t,r,c,u){return function(e,t,r){return e?Object(i.default)(e,{responseType:"image"}).then((function(e){var n=e.data,i=n.width,a=n.height,o=i/a,s=t;if(r){var c=Math.max(i,a);s=Math.min(s,c)}return{image:n,width:o<=1?Math.ceil(s*o):s,height:o<=1?s:Math.ceil(s/o)}})):Promise.reject(new o.a("renderUtils: imageDataSize","href not provided."))}(e,t,u).then((function(i){var o=i.width?i.width:t,u=i.height?i.height:t;if(i.image&&function(e,t){return!(!e||"ignore"===t||"multiply"===t&&255===e.r&&255===e.g&&255===e.b&&1===e.a)}(r,c)){var l=i.image.width,f=i.image.height;Object(s.a)("edge")&&/\.svg$/i.test(e)&&(l-=1,f-=1);var d=function(e,t){e=Math.ceil(e),t=Math.ceil(t);var r=document.createElement("canvas");r.width=e,r.height=t,r.style.width=e+"px",r.style.height=t+"px";var n=r.getContext("2d");return n.clearRect(0,0,e,t),n}(o,u);d.drawImage(i.image,0,0,l,f,0,0,o,u);for(var h=d.getImageData(0,0,o,u),b=[r.r/255,r.g/255,r.b/255,r.a],y=Object(a.a)(r),v=0;v<h.data.length;v+=4)p(h.data,v,b,y,c);d.putImageData(h,0,0),e=d.canvas.toDataURL("image/png")}else{var m=n.b&&n.b.findCredential(e);if(m&&m.token){var g=-1===e.indexOf("?")?"?":"&";e="".concat(e).concat(g,"token=").concat(m.token)}}return{url:e,width:o,height:u}})).catch((function(){return{url:e,width:t,height:t}}))}},D2wv:function(e,t,r){"use strict";var n=r("YO7g");e.exports=function(e,t,r){if(null!=r&&"string"!==n(r))throw new TypeError('expected "prop" to be undefined or a string');var i=n(e),a=n(t);return r&&("object"===i&&(e=e[r],i=n(e)),"object"===a&&(t=t[r],a=n(t))),"null"===i?"null"===a?0:"undefined"===a?-1:1:"undefined"===i?"null"===a?1:"undefined"===a?0:1:"null"===a||"undefined"===a||e<t?-1:e>t?1:0}},DE4D:function(e,t,r){"use strict";r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return y})),r.d(t,"d",(function(){return v})),r.d(t,"e",(function(){return h}));var n,i=r("mK0O"),a=r("hisu"),o=r("yBJb"),s=r("eijD"),c=r("NthX"),u=r.n(c),l=(r("ZTBZ"),r("7im+")),f=r("YHXj");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(n||(n=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(0),r.e(1),r.e(16)]).then(r.bind(null,"498p"));case 2:return t=e.sent,e.next=5,t.arcade.load();case 5:return e.abrupt("return",{arcade:t.arcade,arcadeUtils:t,Dictionary:t.Dictionary,Feature:t.arcadeFeature});case 6:case"end":return e.stop()}}),e)})))()),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(e,t,r){return g.create(e,t,r,null,["$feature"])},v=function(e,t,r){return g.create(e,t,r,null,["$feature","$view"])},m=function(e,t,r,n){return g.create(e,t,r,n,["$feature","$view"])},g=function(){function e(t,r,n,i,o,s,c,u){Object(a.a)(this,e),this.script=t,this.evaluate=o;var l=Array.isArray(c)?c:c.fields;this.fields=l,this._syntaxTree=i,this._arcade=r,this._arcadeDictionary=n,this._arcadeFeature=s,this._spatialReference=u,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}var t;return Object(o.a)(e,[{key:"repurposeFeature",value:function(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}},{key:"repurposeAdapter",value:function(e){return this._arcadeFeature.repurposeFromAdapter(e,{fields:this.fields}),this._arcadeFeature}},{key:"createDictionary",value:function(){return new this._arcadeDictionary}},{key:"referencesMember",value:function(e){return this._arcade.referencesMember(this._syntaxTree,e)}},{key:"referencesFunction",value:function(e){return this._arcade.referencesFunction(this._syntaxTree,e)}},{key:"referencesGeometry",value:function(){return this._referencesGeometry}},{key:"referencesScale",value:function(){return this._referencesScale}},{key:"extractFieldLiterals",value:function(e){return this._arcade.extractFieldLiterals(this._syntaxTree,e)}}],[{key:"create",value:(t=Object(s.a)(u.a.mark((function t(r,n,a,o,s,c){var p,b,y,v,m,g,O,j,w,_,k,x,S,P,I;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:return p=t.sent,b=p.arcade,y=p.Feature,v=p.Dictionary,m=f.a.fromJSON(n),g=b.parseScript(r,c),O=s.reduce((function(e,t){return d(d({},e),{},Object(i.a)({},t,null))}),{}),j=null,Object(l.i)(o)&&((j=new v(o)).immutable=!0,O.$config=null),w=b.scriptUsesGeometryEngine(g)&&b.enableGeometrySupport(),_=b.scriptUsesFeatureSet(g)&&b.enableFeatureSetSupport(),k=b.scriptIsAsync(g)&&b.enableAsyncSupport(),x={vars:O,spatialReference:m,useAsync:!!k},(S=new v).immutable=!1,S.setField("scale",0),P=b.compileScript(g,x),I=function(e){return"$view"in e&&e.$view&&(S.setField("scale",e.$view.scale),e.$view=S),j&&(e.$config=j),P({vars:e,spatialReference:m})},t.next=16,Promise.all([w,_,k]);case 16:return t.abrupt("return",new e(r,b,v,g,I,new y,a,m));case 17:case"end":return t.stop()}}),t)}))),function(e,r,n,i,a,o){return t.apply(this,arguments)})}]),e}()},DFlR:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("67w/");var o=function(){function e(t,r,i){Object(n.a)(this,e),this.name=t,this.details=i,this.message=void 0,this instanceof e&&(this.message=r&&function(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(e,r){if(""===r)return"$";var n=Object(a.b)(r,t),i=null==n?"":n;if(void 0===i)throw new Error('could not find key "'.concat(r,'" in template'));return i.toString()}))}(r,i)||"")}return Object(i.a)(e,[{key:"toString",value:function(){return"["+this.name+"]: "+this.message}}]),e}();t.a=o},DGBo:function(e,t){},"DGz/":function(e,t,r){"use strict";r.r(t);var n,i=r("aNYv"),a=r("mK0O"),o=r("eijD"),s=r("NthX"),c=r.n(s),u=r("sc0P"),l=r("g+AA"),f=r("Mp7X"),p=r("8jRW"),d=r("J4Pc"),h=r("0fJP"),b=r("7im+"),y=r("IH5m"),v=r("z9dv"),m=r("YrWv"),g=r("3hu9");function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(c.a.mark((function e(t,r){var i,a,o,s,u,l,f,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Object(v.u)(t),(a=Object(v.t)(t))||i||(t=Object(v.D)(t)),o={url:t,requestOptions:j({},Object(b.p)(r))},!(s=Object(v.l)(t))){e.next=11;break}return e.next=7,G(s,o);case 7:if(null==(u=e.sent)){e.next=10;break}return e.abrupt("return",{data:u,getHeader:E,requestOptions:o.requestOptions,url:o.url});case 10:s.after||s.error||(s=null);case 11:if(t=o.url,"image"!==(r=o.requestOptions).responseType){e.next=16;break}if(!Object(d.a)("host-webworker")&&!Object(d.a)("host-node")){e.next=14;break}throw D("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),o);case 14:e.next=18;break;case 16:if(!i){e.next=18;break}throw D("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+r.responseType),o);case 18:if("head"!==r.method){e.next=23;break}if(!r.body){e.next=21;break}throw D("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),o);case 21:if(!i&&!a){e.next=23;break}throw D("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),o);case 23:return e.next=25,L();case 25:if(!n){e.next=27;break}return e.abrupt("return",n.execute(t,r));case 27:return l=Object(y.d)(),Object(y.q)(r,(function(){return l.abort()})),f={controller:l,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:s,params:o,redoRequest:!1,useIdentity:S.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},e.next=32,Z(f);case 32:return p=e.sent,e.abrupt("return",(s&&s.after&&s.after(p),p));case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=u.a.request,P="FormData"in p.a,I=[499,498,403,401],R=["COM_0056","COM_0057","SB_0008"],M=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],E=function(){return null},T=Symbol();function A(e){var t=Object(v.m)(e);t&&!k._corsServers.includes(t)&&k._corsServers.push(t)}function C(e){var t=Object(v.m)(e);return!t||t.endsWith(".arcgis.com")||k._corsServers.includes(t)||Object(v.y)(t)}function D(e,t,r,n){var i="Error",a={url:r.url,requestOptions:r.requestOptions,getHeader:E,ssl:!1};if(t instanceof f.a)return t.details?(t.details=Object(h.a)(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=a,t;if(t){var o=n&&function(e){return n.headers.get(e)},s=n&&n.status,c=t.message;c&&(i=c),o&&(a.getHeader=o),a.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||s||0,a.subCode=t.subcode,a.messageCode=t.messageCode,"string"==typeof t.details?a.messages=[t.details]:a.messages=t.details,a.raw=T in t?t[T]:t}return Object(y.m)(t)?Object(y.e)():new f.a(e,i,a)}function L(){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(d.a)("host-webworker")){e.next=8;break}if(e.t0=n,e.t0){e.next=6;break}return e.next=5,r.e(114).then(r.bind(null,"daRE"));case 5:n=e.sent;case 6:e.next=9;break;case 8:k._abortableFetch||(k._abortableFetch=p.a.fetch.bind(p.a));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return B.apply(this,arguments)}function B(){return(B=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=l.b,e.t0){e.next=4;break}return e.next=4,r.e(119).then(r.bind(null,"gNrv"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return U.apply(this,arguments)}function U(){return(U=Object(o.a)(c.a.mark((function e(t){var r,n,i,a,o,s,f,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.params.url,n=t.params.requestOptions,i=t.controller.signal,a=n.body,o=null,s=null,f=null,P&&"HTMLFormElement"in p.a&&(a instanceof FormData?o=a:a instanceof HTMLFormElement&&(s=a,o=new FormData(s))),"string"==typeof a&&(f=a),t.fetchOptions={cache:n.cacheBust&&!k._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},method:"head"===n.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:i},(o||f)&&(t.fetchOptions.body=o||f),"anonymous"===n.authMode&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(r)||n.query&&n.query.token||o&&o.get&&o.get("token")||s&&s.elements.token),!t.hasToken&&u.a.apiKey&&Object(m.a)(r)&&(n.query||(n.query={}),n.query.token=u.a.apiKey,t.hasToken=!0),!t.useIdentity||t.hasToken||t.credentialToken||z(r)||Object(y.n)(i)){e.next=23;break}if("immediate"!==n.authMode){e.next=12;break}return e.next=6,N();case 6:return e.next=8,l.b.getCredential(r,{signal:i});case 8:d=e.sent,t.credential=d,e.next=22;break;case 12:if("no-prompt"!==n.authMode){e.next=21;break}return e.next=15,N();case 15:return e.next=17,l.b.getCredential(r,{prompt:!1,signal:i}).catch((function(){}));case 17:d=e.sent,t.credential=d,e.next=22;break;case 21:l.b&&(d=l.b.findCredential(r));case 22:d&&(t.credentialToken=d.token,t.useSSL=!!d.ssl);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return M.some((function(t){return t.test(e)}))}function q(e){return H.apply(this,arguments)}function H(){return(H=Object(o.a)(c.a.mark((function e(t){var r,n,i,a,o,s,u,f,p,h,b,m,g,O,w,_,x,I,R,M,E;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.params.url,n=t.params.requestOptions,i=t.fetchOptions,a=Object(v.t)(r)||Object(v.u)(r),o=n.responseType||"json",s=a?0:null!=n.timeout?n.timeout:S.timeout,u=!1,a){e.next=23;break}if(t.useSSL&&(r=Object(v.J)(r)),n.cacheBust&&"default"===i.cache&&(r=Object(v.d)(r,"request.preventCache",Date.now())),f=j({},n.query),t.credentialToken&&(f.token=t.credentialToken),p=Object(v.E)(f),Object(d.a)("esri-url-encodes-apostrophe")&&(p=p.replace(/'/g,"%27")),h=r.length+1+p.length,u="delete"===n.method||"post"===n.method||"put"===n.method||!!n.body||h>S.maxUrlLength,(m=n.useProxy||!!Object(v.o)(r))&&(g=Object(v.p)(r),b=g.path,!u&&b.length+1+h>S.maxUrlLength&&(u=!0),g.query&&(f=j(j({},g.query),f))),"HEAD"!==i.method||!u&&!m){e.next=20;break}if(!u){e.next=18;break}if(!(h>S.maxUrlLength)){e.next=17;break}throw D("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params);case 17:throw D("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);case 18:if(!m){e.next=20;break}throw D("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params);case 20:u?(i.method="delete"===n.method?"DELETE":"put"===n.method?"PUT":"POST",n.body?r=Object(v.e)(r,f):(i.body=Object(v.E)(f),i.headers["Content-Type"]="application/x-www-form-urlencoded")):r=Object(v.e)(r,f),m&&(t.useProxy=!0,r="".concat(b,"?").concat(r)),f.token&&P&&i.body instanceof FormData&&((O=i.body).set?O.set("token",f.token):O.append("token",f.token)),n.hasOwnProperty("withCredentials")?t.withCredentials=n.withCredentials:Object(v.q)(r,v.g)||(Object(v.y)(r)||l.b&&(w=l.b.findServerInfo(r))&&w.webTierAuth)&&(t.withCredentials=!0),t.withCredentials&&(i.credentials="include");case 23:if(I=0,R=!1,s>0&&(I=setTimeout((function(){R=!0,t.controller.abort()}),s)),e.prev=25,"native-request-init"!==n.responseType){e.next=30;break}(x=i).url=r,e.next=96;break;case 30:if("image"===n.responseType&&"default"===i.cache&&"GET"===i.method&&!u&&!J(n.headers)&&(a||t.useProxy||!S.proxyUrl||C(r))){e.next=93;break}return e.next=33,k._abortableFetch(r,i);case 33:if(_=e.sent,t.useProxy||A(r),"native"!==n.responseType){e.next=39;break}x=_,e.next=91;break;case 39:if("HEAD"===i.method){e.next=91;break}if(!_.ok){e.next=88;break}e.t0=o,e.next="array-buffer"===e.t0?44:"blob"===e.t0||"image"===e.t0?48:52;break;case 44:return e.next=46,_.arrayBuffer();case 46:return x=e.sent,e.abrupt("break",55);case 48:return e.next=50,_.blob();case 50:return x=e.sent,e.abrupt("break",55);case 52:return e.next=54,_.text();case 54:x=e.sent;case 55:if(I&&(clearTimeout(I),I=0),"json"!==o&&"xml"!==o&&"document"!==o){e.next=68;break}if(!x){e.next=67;break}e.t1=o,e.next="json"===e.t1?60:"xml"===e.t1?62:"document"===e.t1?64:65;break;case 60:return x=JSON.parse(x),e.abrupt("break",65);case 62:return x=$(x,"application/xml"),e.abrupt("break",65);case 64:x=$(x,"text/html");case 65:e.next=68;break;case 67:x=null;case 68:if(!x){e.next=86;break}if("array-buffer"!==o&&"blob"!==o){e.next=81;break}if(M=_.headers.get("Content-Type"),!(/application\/json|text\/plain/i.test(M)&&x["blob"===o?"size":"byteLength"]<=750)){e.next=81;break}return e.prev=72,e.next=75,new Response(x).json();case 75:(E=e.sent).error&&(x=E),e.next=81;break;case 79:e.prev=79,e.t2=e.catch(72);case 81:if(e.t3="image"===o&&x instanceof Blob,!e.t3){e.next=86;break}return e.next=85,Y(URL.createObjectURL(x),t,!0);case 85:x=e.sent;case 86:e.next=91;break;case 88:return e.next=90,_.text();case 90:x=e.sent;case 91:e.next=96;break;case 93:return e.next=95,Y(r,t);case 95:x=e.sent;case 96:e.next=107;break;case 98:if(e.prev=98,e.t4=e.catch(25),"AbortError"!==e.t4.name){e.next=104;break}if(!R){e.next=103;break}throw new Error("Timeout exceeded");case 103:throw Object(y.e)("Request canceled");case 104:if(!_&&e.t4 instanceof TypeError&&S.proxyUrl&&!n.body&&"delete"!==n.method&&"head"!==n.method&&"post"!==n.method&&"put"!==n.method&&!t.useProxy&&!C(r)){e.next=106;break}throw e.t4;case 106:t.redoRequest=!0,Object(v.c)({proxyUrl:S.proxyUrl,urlPrefix:Object(v.m)(r)});case 107:return e.prev=107,I&&clearTimeout(I),e.finish(107);case 110:return e.abrupt("return",[_,x]);case 111:case"end":return e.stop()}}),e,null,[[25,98,107,110],[72,79]])})))).apply(this,arguments)}function G(e,t){return W.apply(this,arguments)}function W(){return(W=Object(o.a)(c.a.mark((function e(t,r){var n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t.responseData){e.next=2;break}return e.abrupt("return",t.responseData);case 2:if(t.headers&&(r.requestOptions.headers=j(j({},r.requestOptions.headers),t.headers)),t.query&&(r.requestOptions.query=j(j({},r.requestOptions.query),t.query)),!t.before){e.next=15;break}return e.prev=3,e.next=6,t.before(r);case 6:i=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),n=D("request:interceptor",e.t0,r);case 12:if((i instanceof Error||i instanceof f.a)&&(n=D("request:interceptor",i,r)),!n){e.next=14;break}throw t.error&&t.error(n),n;case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function J(e){if(e){var t,r=w(Object.getOwnPropertyNames(e));try{for(r.s();!(t=r.n()).done;){if(e[t.value])return!0}}catch(n){r.e(n)}finally{r.f()}}return!1}function $(e,t){var r;try{r=(new DOMParser).parseFromString(e,t)}catch(n){}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}function Z(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(o.a)(c.a.mark((function e(t){var r,n,a,o,s,u,f,p,d,h,b,y,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t);case 2:e.prev=2;case 3:return e.next=5,q(t);case 5:s=e.sent,u=Object(i.a)(s,2),a=u[0],o=u[1];case 9:return e.next=11,X(t,a,o);case 11:if(!e.sent){e.next=3;break}case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(2),(f=D("request:server",e.t0,t.params,a)).details.ssl=t.useSSL,t.interceptor&&t.interceptor.error&&t.interceptor.error(f),f;case 18:return p=t.params.url,!/\/sharing\/rest\/(accounts|portals)\/self/i.test(p)||t.hasToken||t.credentialToken||null==(r=o)||null==(n=r.user)||!n.username||Object(v.y)(p)||(d=Object(v.m)(p,!0))&&S.trustedServers.push(d),(h=t.credential)&&l.b&&(b=l.b.findServerInfo(h.server),(y=b&&b.owningSystemUrl)&&(y=y.replace(/\/?$/,"/sharing"),(m=l.b.findCredential(y,h.userId))&&-1===l.b._getIdenticalSvcIdx(y,m)&&m.resources.unshift(y))),e.abrupt("return",{data:o,getHeader:a?function(e){return a.headers.get(e)}:E,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url});case 23:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function X(e,t,r){return K.apply(this,arguments)}function K(){return(K=Object(o.a)(c.a.mark((function e(t,r,n){var i,a,o,s,u,f,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.redoRequest){e.next=2;break}return e.abrupt("return",(t.redoRequest=!1,!1));case 2:if(i=t.params.requestOptions,r&&"native"!==i.responseType&&"native-request-init"!==i.responseType){e.next=5;break}return e.abrupt("return",!0);case 5:if(r.ok){e.next=7;break}throw(a=new Error("Unable to load ".concat(r.url," status: ").concat(r.status)))[T]=n,a;case 7:if(null!=n&&n.error&&(a=n.error),a&&(o=Number(a.code),s=a.hasOwnProperty("subcode")?Number(a.subcode):null,u=(u=a.messageCode)&&u.toUpperCase()),f=i.authMode,403!==o||!(4===s||a.message&&a.message.toLowerCase().indexOf("ssl")>-1&&-1===a.message.toLowerCase().indexOf("permission"))){e.next=14;break}if(t.useSSL){e.next=12;break}return e.abrupt("return",(t.useSSL=!0,!1));case 12:e.next=29;break;case 14:if(t.hasToken||!t.useIdentity||"no-prompt"===f&&498!==o||-1===I.indexOf(o)||z(t.params.url)||!(403!==o||-1===R.indexOf(u)&&(null==s||2===s&&t.credentialToken))){e.next=29;break}return e.next=17,N();case 17:return e.prev=17,e.next=20,l.b.getCredential(t.params.url,{error:D("request:server",a,t.params),prompt:"no-prompt"!==f,signal:t.controller.signal,token:t.credentialToken});case 20:return p=e.sent,e.abrupt("return",(t.credential=p,t.credentialToken=p.token,t.useSSL=t.useSSL||p.ssl,!1));case 24:if(e.prev=24,e.t0=e.catch(17),"no-prompt"!==f){e.next=28;break}return e.abrupt("return",(t.credential=null,t.credentialToken=null,!1));case 28:a=e.t0;case 29:if(!a){e.next=31;break}throw a;case 31:return e.abrupt("return",!0);case 32:case"end":return e.stop()}}),e,null,[[17,24]])})))).apply(this,arguments)}function Y(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.src=e,Object(g.a)(i,e,r,n)}k._abortableFetch=null,k._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],t.default=k},DJGK:function(e,t,r){var n=r("+iL7"),i=r("fSIz"),a="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},DKLv:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o}));r("J4Pc");var n={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},i={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function a(e,t,r){var n=new Date(e.getTime());if(t&&r){var a=i[r],o=a.getter,s=a.setter,c=a.multiplier;n[s](n[o]()+t*c)}return n}function o(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function s(e,t,r){return 0===e?0:e*n[t]/n[r]}},DKWO:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("4Mpa"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("7i+s"),f=r("0fJP"),p=r("frPA"),d=r("xAIp"),h=(r("wckI"),r("J4Pc"),r("TM+E"),r("vo12")),b=r("iaHD");function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var v=function(e){Object(o.a)(r,e);var t=y(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).type="simple-line",i.width=.75,i}return Object(i.a)(r,[{key:"hash",value:function(){return"".concat(this.type,".").concat(this.width)}}]),r}(r("ursF").a);Object(u.a)([Object(h.a)({esriSLS:"simple-line"},{readOnly:!0})],v.prototype,"type",void 0),Object(u.a)([Object(d.b)({type:Number,cast:p.e,json:{write:!0}})],v.prototype,"width",void 0);var m,g=v=Object(u.a)([Object(b.a)("esri.symbols.LineSymbol")],v),O=r("WYis"),j=r("0n+b"),w=r("mp5+"),_=r("jr4m");function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var x=m=function(e){Object(o.a)(r,e);var t=k(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).placement="begin-end",i.type="line-marker",i.style="arrow",i}return Object(i.a)(r,[{key:"writeStyle",value:function(e,t,r,n){"web-map"===(null==n?void 0:n.origin)?t[r]="arrow":t[r]=e}},{key:"color",set:function(e){this._set("color",e)}},{key:"readColor",value:function(e){return e&&null!=e[0]?[e[0],e[1],e[2],e[3]/255]:e}},{key:"writeColor",value:function(e,t,r,n){"web-map"===(null==n?void 0:n.origin)||(t[r]=e)}},{key:"clone",value:function(){return new m({color:Object(f.a)(this.color),placement:this.placement,style:this.style})}},{key:"hash",value:function(){var e;return"".concat(this.placement,".").concat(null==(e=this.color)?void 0:e.hash(),".").concat(this.style)}}]),r}(j.a);Object(u.a)([Object(d.b)({type:["begin","end","begin-end"],json:{write:!0}})],x.prototype,"placement",void 0),Object(u.a)([Object(h.a)({"line-marker":"line-marker"},{readOnly:!0}),Object(d.b)({json:{origins:{"web-map":{write:!1}}}})],x.prototype,"type",void 0),Object(u.a)([Object(d.b)({type:["arrow","circle","square","diamond","cross","x"]})],x.prototype,"style",void 0),Object(u.a)([Object(_.a)("style")],x.prototype,"writeStyle",null),Object(u.a)([Object(d.b)({type:O.a,value:null,json:{write:{allowNull:!0}}})],x.prototype,"color",null),Object(u.a)([Object(w.a)("color")],x.prototype,"readColor",null),Object(u.a)([Object(_.a)("color")],x.prototype,"writeColor",null);var S,P=x=m=Object(u.a)([Object(b.a)("esri.symbols.LineSymbolMarker")],x);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var R=new l.a({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"}),M=S=function(e){Object(o.a)(r,e);var t=I(r);function r(){var e;Object(n.a)(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).type="simple-line",e.style="solid",e.cap="round",e.join="round",e.marker=null,e.miterLimit=2,e}return Object(i.a)(r,[{key:"normalizeCtorArgs",value:function(e,t,r,n,i,a){if(e&&"string"!=typeof e)return e;var o={};return null!=e&&(o.style=e),null!=t&&(o.color=t),null!=r&&(o.width=Object(p.e)(r)),null!=n&&(o.cap=n),null!=i&&(o.join=i),null!=a&&(o.miterLimit=Object(p.e)(a)),o}},{key:"clone",value:function(){var e;return new S({color:Object(f.a)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:null==(e=this.marker)?void 0:e.clone()})}},{key:"hash",value:function(){var e,t;return"".concat(Object(a.a)(Object(c.a)(r.prototype),"hash",this).call(this),".").concat(null==(e=this.color)?void 0:e.hash(),".").concat(this.style,".").concat(this.cap,".").concat(this.join,".").concat(this.miterLimit,".").concat(null==(t=this.marker)?void 0:t.hash())}}]),r}(g);Object(u.a)([Object(h.a)({esriSLS:"simple-line"},{readOnly:!0})],M.prototype,"type",void 0),Object(u.a)([Object(d.b)({type:R.apiValues,json:{read:R.read,write:R.write}})],M.prototype,"style",void 0),Object(u.a)([Object(d.b)({type:["butt","round","square"],json:{write:{overridePolicy:function(e,t,r){return{enabled:"round"!==e&&(null==r||null==r.origin)}}}}})],M.prototype,"cap",void 0),Object(u.a)([Object(d.b)({type:["miter","round","bevel"],json:{write:{overridePolicy:function(e,t,r){return{enabled:"round"!==e&&(null==r||null==r.origin)}}}}})],M.prototype,"join",void 0),Object(u.a)([Object(d.b)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":P}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],M.prototype,"marker",void 0),Object(u.a)([Object(d.b)({type:Number,json:{read:!1,write:!1}})],M.prototype,"miterLimit",void 0);var E=M=S=Object(u.a)([Object(b.a)("esri.symbols.SimpleLineSymbol")],M);t.a=E},DUO2:function(e,t,r){"use strict";r.d(t,"a",(function(){return A})),r.d(t,"b",(function(){return _})),r.d(t,"c",(function(){return k})),r.d(t,"d",(function(){return T})),r.d(t,"e",(function(){return C})),r.d(t,"f",(function(){return S})),r.d(t,"g",(function(){return D})),r.d(t,"h",(function(){return w}));var n=r("WYis"),i=r("J4Pc"),a=r("f3A3"),o=r("NO3b"),s=(r("c+HS"),r("TM+E"),r("mjOD"));function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=0,f=0,p=Object(i.a)("android"),d=Object(i.a)("chrome")||p&&p>=4?"auto":"optimizeLegibility",h={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},b=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,y={},v={},m={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},g=Math.PI;function O(e,t){var r=e*(g/180);return Math.abs(t*Math.sin(r))+Math.abs(t*Math.cos(r))}function j(e){return e.map((function(e){return"".concat(e.command," ").concat(e.values.join(" "))})).join(" ").trim()}function w(e,t,r,n){if(e){if("circle"===e.type)return Object(s.a)("circle",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,r:e.r});if("ellipse"===e.type)return Object(s.a)("ellipse",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,rx:e.rx,ry:e.ry});if("rect"===e.type)return Object(s.a)("rect",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",x:e.x,y:e.y,width:e.width,height:e.height});if("image"===e.type)return Object(s.a)("image",{href:e.src,x:e.x,y:e.y,width:e.width,height:e.height,preserveAspectRatio:"none"});if("path"===e.type){var i="string"!=typeof e.path?j(e.path):e.path;return Object(s.a)("path",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",d:i})}if("text"===e.type)return Object(s.a)("text",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4","text-anchor":n.align,"text-decoration":n.decoration,kerning:n.kerning,rotate:n.rotate,"text-rendering":d,"font-style":n.font.style,"font-variant":n.font.variant,"font-weight":n.font.weight,"font-size":n.font.size,"font-family":n.font.family,x:e.x,y:e.y},e.text)}return null}function _(e){var t={fill:"none",pattern:null,linearGradient:null};if(e)if("type"in e&&"pattern"===e.type){var r="patternId-"+ ++l;t.fill="url(#".concat(r,")"),t.pattern={id:r,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}}}else if("type"in e&&"linear"===e.type){var i="linearGradientId-"+ ++f;t.fill="url(#".concat(i,")"),t.linearGradient={id:i,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map((function(e){return{offset:e.offset,color:e.color&&new n.a(e.color).toString()}}))}}else if(e){var a=new n.a(e);t.fill=a.toString()}return t}function k(e){var t={color:"none",width:1,cap:"butt",join:"4",dashArray:"none"};if(e&&(null!=e.width&&(t.width=e.width),e.cap&&(t.cap=e.cap),e.join&&(t.join=e.join.toString()),e.color&&(t.color=new n.a(e.color).toString()),e.style)){var r=null;if(e.style in m&&(r=m[e.style]),Array.isArray(r)){r=r.slice(0);for(var i=0;i<r.length;++i)r[i]*=e.width;if("butt"!==e.cap){for(var a=0;a<r.length;a+=2)r[a]-=e.width,r[a]<1&&(r[a]=1);for(var o=1;o<r.length;o+=2)r[o]+=e.width}r=r.join(",")}t.dashArray=r}return t}function x(e,t){var r={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};return e&&(r.align=e.align,r.decoration=e.decoration,r.kerning=e.kerning?"auto":"0",r.rotate=e.rotated?"90":"0",r.font.style=t.style||"normal",r.font.variant=t.variant||"normal",r.font.weight=t.weight||"normal",r.font.size=t.size&&t.size.toString()||"10pt",r.font.family=t.family||"serif"),r}function S(e){var t=e.pattern,r=e.linearGradient;if(t)return Object(s.a)("pattern",{id:t.id,patternUnits:"userSpaceOnUse",x:t.x,y:t.y,width:t.width,height:t.height},Object(s.a)("image",{x:t.image.x,y:t.image.y,width:t.image.width,height:t.image.height,href:t.image.href}));if(r){var n=r.stops.map((function(e,t){return Object(s.a)("stop",{key:"".concat(t,"-stop"),offset:e.offset,"stop-color":e.color})}));return Object(s.a)("linearGradient",{id:r.id,gradientUnits:"userSpaceOnUse",x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},n)}return null}function P(e,t,r){return Object(o.h)(e,Object(o.d)(e),[t,r])}function I(e,t,r,n,i){return Object(o.g)(e,Object(o.d)(e),[t,r]),e[4]=e[4]*t-n*t+n,e[5]=e[5]*r-i*r+i,e}function R(e,t){y&&"left"in y?(y.left>e&&(y.left=e),y.right<e&&(y.right=e),y.top>t&&(y.top=t),y.bottom<t&&(y.bottom=t)):y={left:e,bottom:t,right:e,top:t}}function M(e){var t,r=e.args,n=r.length;switch(e.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(t=0;t<n;t+=2)R(r[t],r[t+1]);v.x=r[n-2],v.y=r[n-1];break;case"H":for(t=0;t<n;++t)R(r[t],v.y);v.x=r[n-1];break;case"V":for(t=0;t<n;++t)R(v.x,r[t]);v.y=r[n-1];break;case"m":var i=0;"x"in v||(R(v.x=r[0],v.y=r[1]),i=2);for(t=i;t<n;t+=2)R(v.x+=r[t],v.y+=r[t+1]);break;case"l":case"t":for(t=0;t<n;t+=2)R(v.x+=r[t],v.y+=r[t+1]);break;case"h":for(t=0;t<n;++t)R(v.x+=r[t],v.y);break;case"v":for(t=0;t<n;++t)R(v.x,v.y+=r[t]);break;case"c":for(t=0;t<n;t+=6)R(v.x+r[t],v.y+r[t+1]),R(v.x+r[t+2],v.y+r[t+3]),R(v.x+=r[t+4],v.y+=r[t+5]);break;case"s":case"q":for(t=0;t<n;t+=4)R(v.x+r[t],v.y+r[t+1]),R(v.x+=r[t+2],v.y+=r[t+3]);break;case"A":for(t=0;t<n;t+=7)R(r[t+5],r[t+6]);v.x=r[n-2],v.y=r[n-1];break;case"a":for(t=0;t<n;t+=7)R(v.x+=r[t+5],v.y+=r[t+6])}}function E(e,t,r){var n,i=h[e.toLowerCase()];"number"==typeof i&&(i?t.length>=i&&(n={action:e,args:t.slice(0,t.length-t.length%i)},r.push(n),M(n)):(n={action:e,args:[]},r.push(n),M(n)))}function T(e){var t={x:0,y:0,width:0,height:0};if("circle"===e.type)t.x=e.cx-e.r,t.y=e.cy-e.r,t.width=2*e.r,t.height=2*e.r;else if("ellipse"===e.type)t.x=e.cx-e.rx,t.y=e.cy-e.ry,t.width=2*e.rx,t.height=2*e.ry;else if("image"===e.type||"rect"===e.type)t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height;else if("path"===e.type){var r=function(e){var t=("string"!=typeof e.path?j(e.path):e.path).match(b),r=[];if(y={},v={},!t)return null;for(var n="",i=[],a=t.length,o=0;o<a;++o){var s=t[o],c=parseFloat(s);isNaN(c)?(n&&E(n,i,r),i=[],n=s):i.push(c)}E(n,i,r);var u={x:0,y:0,width:0,height:0};return y&&"left"in y&&(u.x=y.left,u.y=y.top,u.width=y.right-y.left,u.height=y.bottom-y.top),u}(e);t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height}return t}function A(e){var t,r={x:0,y:0,width:0,height:0},n=null,i=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY,o=c(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;n?(n.x=Math.min(n.x,s.x),n.y=Math.min(n.y,s.y),i=Math.max(i,s.x+s.width),a=Math.max(a,s.y+s.height)):((n=r).x=s.x,n.y=s.y,i=s.x+s.width,a=s.y+s.height)}}catch(u){o.e(u)}finally{o.f()}return n&&(n.width=i-n.x,n.height=a-n.y),n}function C(e,t,r,n,i,s,c,u){var l=(c&&s?O(s,t):t)/2,f=(c&&s?O(s,r):r)/2,p=e.width+n,d=e.height+n,h=Object(a.a)(),b=Object(a.a)(),y=!1;if(i&&0!==p&&0!==d){var v=p/d,m=t>r?t:r,g=1,j=1;isNaN(m)||(v>1?(g=m/p,j=m/v/d):(j=m/d,g=m*v/p)),Object(o.e)(b,b,I(h,g,j,l,f)),y=!0}var w=e.x+(p-n)/2,_=e.y+(d-n)/2;if(Object(o.e)(b,b,P(h,l-w,f-_)),!y&&(p>t||d>r)){var k=p/t>d/r,x=(k?t:r)/(k?p:d);Object(o.e)(b,b,I(h,x,x,w,_))}return s&&Object(o.e)(b,b,function(e,t,r,n){var i=t%360*Math.PI/180;Object(o.f)(e,Object(o.d)(e),i);var a=Math.cos(i),s=Math.sin(i),c=e[4],u=e[5];return e[4]=c*a-u*s+n*s-r*a+r,e[5]=u*a+c*s-r*s-n*a+n,e}(h,s,w,_)),u&&Object(o.e)(b,b,P(h,u[0],u[1])),"matrix(".concat(b[0],",").concat(b[1],",").concat(b[2],",").concat(b[3],",").concat(b[4],",").concat(b[5],")")}function D(e,t,r,n){var i,a=[],o=[],u=c(e);try{for(u.s();!(i=u.n()).done;){var l,f=i.value,p=[],d=[],h=0,b=0,y=0,v=c(f);try{for(v.s();!(l=v.n()).done;){var m=l.value,g=m.shape,j=m.fill,P=m.stroke,I=m.font,R=m.offset;h+=P&&P.width||0;var M=_(j),E=k(P),D="text"===g.type?x(g,I):null;a.push(S(M)),p.push(w(g,M.fill,E,D)),d.push(T(g)),R&&(b+=R[0],y+=R[1])}}catch(F){v.e(F)}finally{v.f()}var L=C(A(d),t,r,h,null==n?void 0:n.scale,null==n?void 0:n.rotation,null==n?void 0:n.useRotationSize,[b,y]);o.push(Object(s.a)("g",{transform:L},p))}}catch(F){u.e(F)}finally{u.f()}return null!=n&&n.useRotationSize&&null!=n&&n.rotation&&(t=O(null==n?void 0:n.rotation,t),r=O(null==n?void 0:n.rotation,r)),Object(s.a)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r},Object(s.a)("defs",null,a),o)}},DVFM:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("X6u8"),s=r("NthX"),c=r.n(s);!function(e){var t=c.a.mark(i),r=function(e,t,r,n){for(var i=t,a=t,o=r>>>1,s=e[i-1];a<=o;){(a=i<<1)<r&&n(e[a-1],e[a])<0&&++a;var c=e[a-1];if(n(c,s)<=0)break;e[i-1]=c,i=a}e[i-1]=s},n=function(e,t){return e<t?-1:e>t?1:0};function i(e,i,a,o){var s,u,l,f;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===i&&(i=0),void 0===a&&(a=e.length),void 0===o&&(o=n),s=a>>>1;case 2:if(!(s>i)){t.next=9;break}return r(e,s,a,o),void(t.next=6);case 6:s--,t.next=2;break;case 9:u=i+1,l=a-1;case 11:if(!(l>i)){t.next=21;break}return f=e[i],e[i]=e[l],e[l]=f,r(e,u,l,o),void(t.next=18);case 18:l--,t.next=11;break;case 21:case"end":return t.stop()}}),t)}e.sort=function(e,t,i,a){void 0===t&&(t=0),void 0===i&&(i=e.length),void 0===a&&(a=n);for(var o=i>>>1;o>t;o--)r(e,o,i,a);for(var s=t+1,c=i-1;c>t;c--){var u=e[t];e[t]=e[c],e[c]=u,r(e,s,c,a)}},e.iterableSort=i}(n||(n={}));var u=n,l=function(){function e(t){var r=this;Object(i.a)(this,e),this.data=[],this._length=0,this._allocator=void 0,this._deallocator=function(){return null},this._shrink=function(){},this._hint=new o.a,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),void 0!==t.deallocator&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=function(){return f(r)}))}return Object(a.a)(e,[{key:"toArray",value:function(){return this.data.slice(0,this.length)}},{key:"getItemAt",value:function(e){if(!(e<0||e>=this._length))return this.data[e]}},{key:"length",get:function(){return this._length},set:function(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(var t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}}},{key:"clear",value:function(){this.length=0}},{key:"prune",value:function(){this.clear(),this.data=[]}},{key:"push",value:function(e){this.data[this._length++]=e}},{key:"pushArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,r=0;r<t;r++)this.data[this._length++]=e[r]}},{key:"fill",value:function(e,t){for(var r=0;r<t;r++)this.data[this._length++]=e}},{key:"pushNew",value:function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));var e=this.data[this._length];return++this._length,e}},{key:"unshift",value:function(e){this.data.unshift(e),this._length++,f(this)}},{key:"pop",value:function(){if(0!==this.length){var e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}}},{key:"remove",value:function(e){var t=Object(o.e)(this.data,e,this.length,this._hint);if(-1!==t)return this.data.splice(t,1),this.length=this.length-1,e}},{key:"removeUnordered",value:function(e){var t=Object(o.j)(this.data,e,this.length,this._hint);return void 0!==t&&(this.length=this.length-1),this._shrink(),t}},{key:"removeUnorderedIndex",value:function(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}},{key:"removeUnorderedMany",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,r=arguments.length>2?arguments[2]:void 0;this.length=Object(o.k)(this.data,e,this.length,t,this._hint,r),this._shrink()}},{key:"front",value:function(){if(0!==this.length)return this.data[0]}},{key:"back",value:function(){if(0!==this.length)return this.data[this.length-1]}},{key:"swapElements",value:function(e,t){var r;e>=this.length||t>=this.length||e===t||(r=[this.data[t],this.data[e]],this.data[e]=r[0],this.data[t]=r[1])}},{key:"sort",value:function(e){u.sort(this.data,0,this.length,e)}},{key:"iterableSort",value:function(e){return u.iterableSort(this.data,0,this.length,e)}},{key:"some",value:function(e,t){for(var r=0;r<this.length;++r)if(e.call(t,this.data[r],r,this.data))return!0;return!1}},{key:"filterInPlace",value:function(e,t){for(var r=0,n=0;n<this._length;++n){var i=this.data[n];e.call(t,i,n,this.data)&&(this.data[n]=this.data[r],this.data[r]=i,r++)}if(this._deallocator)for(var a=r;a<this._length;a++)this.data[a]=this._deallocator(this.data[a]);return this._length=r,this._shrink(),this}},{key:"forAll",value:function(e,t){for(var r=this.length,n=this.data,i=0;i<r;++i)e.call(t,n[i],i,n)}},{key:"map",value:function(e,t){for(var r=new Array(this.length),n=0;n<this.length;++n)r[n]=e.call(t,this.data[n],n,this.data);return r}},{key:"reduce",value:function(e,t){for(var r=t,n=0;n<this.length;++n)r=e(r,this.data[n],n,this.data);return r}},{key:"has",value:function(e){for(var t=this.length,r=this.data,n=0;n<t;++n)if(r[n]===e)return!0;return!1}}]),e}();function f(e){e.data.length>1.5*e.length&&(e.data.length=Math.floor(1.1*e.length))}t.a=l},DZMJ:function(e,t,r){var n=r("FEiO"),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(t,e)?t[e]:void 0}},Dh2Y:function(e,t,r){var n=r("YaJL");e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},DhoL:function(e,t,r){(function(e){var n=r("FfeU"),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i&&n.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s}).call(this,r("RoC8")(e))},DjXQ:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("0n+b"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("mp5+")),p=r("iaHD"),d=r("YHXj");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var b=function(e){Object(a.a)(r,e);var t=h(r);function r(){var e;Object(n.a)(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).type=null,e.hasM=!1,e.hasZ=!1,e.spatialReference=d.a.WGS84,e}return Object(i.a)(r,[{key:"cache",get:function(){return this.commitProperty("spatialReference"),{}}},{key:"extent",get:function(){return null}},{key:"readSpatialReference",value:function(e,t){if(e instanceof d.a)return e;if(null!=e){var r=new d.a;return r.read(e,t),r}return e}},{key:"clone",value:function(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}},{key:"clearCache",value:function(){this.notifyChange("cache")}},{key:"getCacheValue",value:function(e){return this.cache[e]}},{key:"setCacheValue",value:function(e,t){this.cache[e]=t}}]),r}(u.a);Object(c.a)([Object(l.b)()],b.prototype,"type",void 0),Object(c.a)([Object(l.b)({readOnly:!0})],b.prototype,"cache",null),Object(c.a)([Object(l.b)({readOnly:!0})],b.prototype,"extent",null),Object(c.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],b.prototype,"hasM",void 0),Object(c.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],b.prototype,"hasZ",void 0),Object(c.a)([Object(l.b)({type:d.a,json:{write:!0}})],b.prototype,"spatialReference",void 0),Object(c.a)([Object(f.a)("spatialReference")],b.prototype,"readSpatialReference",null);var y=b=Object(c.a)([Object(p.a)("esri.geometry.Geometry")],b);t.a=y},DlYZ:function(e,t){e.exports=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}},DsdM:function(e,t,r){"use strict";r.r(t);var n,i=r("6CzD"),a=r("mK0O"),o=r("aNYv"),s=r("eijD"),c=r("hisu"),u=r("yBJb"),l=r("4Mpa"),f=r("CHlC"),p=r("kMo5"),d=r("P+uj"),h=r("NthX"),b=r.n(h),y=r("dQW7"),v=r("WYis"),m=r("DGz/"),g=r("Mp7X"),O=r("0fJP"),j=r("TM+E"),w=r("tajk"),_=r("7im+"),k=r("IH5m"),x=r("lZmO"),S=r("xAIp"),P=(r("wckI"),r("J4Pc"),r("iaHD")),I=r("jr4m"),R=r("DuP7"),M=r("6yFL"),E=r("ql4C"),T=r("DE4D"),A=r("oLNL");function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var i=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(p.a)(this,r)}}var B=j.a.getLogger("esri.renderers.DictionaryRenderer"),V={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}},U=n=function(e){Object(f.a)(j,e);var t,r,a,p,h,y=N(j);function j(e){var t;return Object(c.a)(this,j),(t=y.call(this,e))._ongoingRequests=new Map,t._symbolCache=new w.a(100),t.config=null,t.fieldMap=null,t.scaleExpression=null,t.scaleExpressionTitle=null,t.url=null,t.type="dictionary",t}return Object(u.a)(j,[{key:"writeData",value:function(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}},{key:"writeVisualVariables",value:function(e,t,r,n){null!=n&&n.origin||Object(l.a)(Object(d.a)(j.prototype),"writeVisualVariables",this).call(this,e,t,r,n)}},{key:"clone",value:function(){return new n({config:Object(O.a)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:Object(O.a)(this.fieldMap),url:Object(O.a)(this.url),visualVariables:Object(O.a)(this.visualVariables)})}},{key:"getSymbolAsync",value:(h=Object(s.a)(b.a.mark((function e(t,r){var n,i,a,o,s,c,u,l,f,p,d,h,y,m,g,O,j,w,S,P,I,R,M,E,T,A,C=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(r)),e.prev=1,e.next=4,this._dictionaryPromise;case 4:n=e.sent,e.next=11;break;case 7:if(e.prev=7,e.t0=e.catch(1),!Object(k.m)(e.t0)){e.next=11;break}return e.abrupt("return",(this._dictionaryPromise=null,null));case 11:if(i={},this.fieldMap){a=L(this._symbolFields);try{for(a.s();!(o=a.n()).done;)s=o.value,(c=this.fieldMap[s])&&null!==t.attributes[c]&&void 0!==t.attributes[c]?(u=""+t.attributes[c],i[s]=u):i[s]=""}catch(b){a.e(b)}finally{a.f()}}if((l=n(i,r))&&"string"==typeof l){e.next=16;break}return e.abrupt("return",null);case 16:if(f=Object(x.b)(l).toString(),!(p=this._symbolCache.get(f))){e.next=19;break}return e.abrupt("return",(p.catch((function(){C._symbolCache.pop(f)})),p));case 19:d=l.split(";"),h=[],y=[],m=L(d);try{for(m.s();!(g=m.n()).done;)if((O=g.value)&&0!==O.length)if(-1===O.indexOf("po:"))if(-1!==O.indexOf("|")){j=L(O.split("|"));try{for(j.s();!(w=j.n()).done;)S=w.value,this._itemNames.has(S)&&h.push(S)}catch(b){j.e(b)}finally{j.f()}}else this._itemNames.has(O)&&h.push(O);else 3===(P=O.substr(3).split("|")).length&&(I=P[0],R=P[1],M=P[2],"DashTemplate"===R?M=M.split(" ").map((function(e){return Number(e)})):"Color"===R?(E=new v.a(M).toRgba(),M=[E[0],E[1],E[2],255*E[3]]):M=Number(M),y.push({primitiveName:I,propertyName:R,value:M}))}catch(b){m.e(b)}finally{m.f()}return T=!Object(_.i)(t.geometry)||!t.geometry.hasZ&&"point"===t.geometry.type,A=this._cimPartsToCIMSymbol(h,y,T,r),e.abrupt("return",(this._symbolCache.put(f,A,1),A));case 24:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e,t){return h.apply(this,arguments)})},{key:"collectRequiredFields",value:(p=Object(s.a)(b.a.mark((function e(t,r){var n,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collectVVRequiredFields(t,r);case 2:if(e.t0=this.scaleExpression,!e.t0){e.next=6;break}return e.next=6,Object(R.a)(t,r,this.scaleExpression);case 6:for(n in this.fieldMap)i=this.fieldMap[n],r.has(i)&&t.add(i);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"arcadeRequired",get:function(){return!0}},{key:"fetchResources",value:(a=Object(s.a)(b.a.mark((function e(t){var r,n,i,a,s,c,u,l,f,p,d,h,y,v,O,j,w,k=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._dictionaryPromise){e.next=2;break}return e.abrupt("return",this._dictionaryPromise);case 2:if(this.url){e.next=4;break}return e.abrupt("return",void B.error("no valid URL!"));case 4:return r=Object(_.i)(t)?t.abortOptions:null,n=Object(m.default)(this.url+"/resources/styles/dictionary-info.json",D({responseType:"json",query:{f:"json"}},r)),e.next=8,Promise.all([n,Object(T.e)()]);case 8:if(i=e.sent,a=Object(o.a)(i,1),s=a[0].data){e.next=13;break}throw this._dictionaryPromise=null,new g.a("esri.renderers.DictionaryRenderer","Bad dictionary data!");case 13:if(c=s.expression,u=s.authoringInfo,this._refSymbolUrlTemplate=this.url+"/"+s.cimRefTemplateUrl,this._itemNames=new Set(s.itemsNames),this._symbolFields=u.symbol,l={},this.config)for(p in f=this.config)l[p]=f[p];if(u.configuration){d=L(u.configuration);try{for(d.s();!(h=d.n()).done;)y=h.value,l.hasOwnProperty(y.name)||(l[y.name]=y.value)}catch(b){d.e(b)}finally{d.f()}}if(v=[],Object(_.i)(t)&&t.fields&&this.fieldMap){O=L(this._symbolFields);try{for(w=function(){var e=j.value,r=k.fieldMap[e],n=t.fields.filter((function(e){return e.name===r}));n.length>0&&v.push(D(D({},n[0]),{},{name:e}))},O.s();!(j=O.n()).done;)w()}catch(b){O.e(b)}finally{O.f()}}return e.abrupt("return",(this._dictionaryPromise=Object(T.b)(c,Object(_.i)(t)?t.spatialReference:null,v,l).then((function(e){var t={scale:0};return function(r,n){var i=e.repurposeFeature({geometry:null,attributes:r});return t.scale=Object(_.i)(n)?n.scale:void 0,e.evaluate({$feature:i,$view:t})}})).catch((function(e){return B.error("Creating dictinoary expression failed:",e),null})),this._dictionaryPromise));case 21:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"getSymbol",value:function(){return null}},{key:"getSymbols",value:function(){return[]}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return"".concat(this.url,"-").concat(JSON.stringify(this.fieldMap))}},{key:"getSymbolFields",value:function(){return this._symbolFields}},{key:"_getSymbolPart",value:(r=Object(s.a)(b.a.mark((function e(t,r){var n,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ongoingRequests.has(t)){e.next=2;break}return e.abrupt("return",this._ongoingRequests.get(t).then((function(e){return e.data})));case 2:return n=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,t),i=Object(m.default)(n,D({responseType:"json",query:{f:"json"}},r)),this._ongoingRequests.set(t,i),e.prev=4,e.next=7,i;case 7:return e.abrupt("return",e.sent.data);case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",(this._ongoingRequests.delete(t),Promise.reject(e.t0)));case 13:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e,t){return r.apply(this,arguments)})},{key:"_combineSymbolParts",value:function(e,t,r){if(!e||0===e.length)return null;var n=D({},e[0]);if(e.length>1){n.symbolLayers=[];var a,o=L(e);try{for(o.s();!(a=o.n()).done;){var s,c=a.value;(s=n.symbolLayers).unshift.apply(s,Object(i.a)(c.symbolLayers))}}catch(u){o.e(u)}finally{o.f()}}return r&&(n.callout=V),{type:"CIMSymbolReference",symbol:n,primitiveOverrides:t}}},{key:"_cimPartsToCIMSymbol",value:(t=Object(s.a)(b.a.mark((function e(t,r,n,i){var a,o,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=new Array(t.length),o=0;o<t.length;o++)a[o]=this._getSymbolPart(t[o],i);return e.next=4,Promise.all(a);case 4:return s=e.sent,e.abrupt("return",new A.a({data:this._combineSymbolParts(s,r,n)}));case 6:case"end":return e.stop()}}),e,this)}))),function(e,r,n,i){return t.apply(this,arguments)})}]),j}(Object(E.a)(M.a));Object(y.a)([Object(S.b)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],U.prototype,"config",void 0),Object(y.a)([Object(S.b)({type:Object,json:{write:!0}})],U.prototype,"fieldMap",void 0),Object(y.a)([Object(S.b)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],U.prototype,"scaleExpression",void 0),Object(y.a)([Object(I.a)("scaleExpression")],U.prototype,"writeData",null),Object(y.a)([Object(S.b)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy:function(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],U.prototype,"scaleExpressionTitle",void 0),Object(y.a)([Object(S.b)({type:String,json:{write:!0}})],U.prototype,"url",void 0),Object(y.a)([Object(I.a)("visualVariables")],U.prototype,"writeVisualVariables",null);var z=U=n=Object(y.a)([Object(P.a)("esri.renderers.DictionaryRenderer")],U);t.default=z},DuP7:function(e,t,r){"use strict";r.d(t,"a",(function(){return _})),r.d(t,"b",(function(){return R})),r.d(t,"c",(function(){return A})),r.d(t,"d",(function(){return j})),r.d(t,"e",(function(){return O})),r.d(t,"f",(function(){return D})),r.d(t,"g",(function(){return N})),r.d(t,"h",(function(){return pe})),r.d(t,"i",(function(){return g})),r.d(t,"j",(function(){return b})),r.d(t,"k",(function(){return v})),r.d(t,"l",(function(){return P})),r.d(t,"m",(function(){return F})),r.d(t,"n",(function(){return z})),r.d(t,"o",(function(){return ne})),r.d(t,"p",(function(){return te})),r.d(t,"q",(function(){return re})),r.d(t,"r",(function(){return Y})),r.d(t,"s",(function(){return ie})),r.d(t,"t",(function(){return w})),r.d(t,"u",(function(){return ae})),r.d(t,"v",(function(){return fe}));var n=r("eijD"),i=r("NthX"),a=r.n(i),o=r("Mp7X"),s=r("7im+"),c=r("67w/"),u=r("mm4W"),l=r("DE4D");function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],h=["field","normalizationField"];function b(e,t){if(null!=e&&null!=t){var r,n=f(Array.isArray(e)?e:[e]);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(y(d,i,t),"visualVariables"in i&&i.visualVariables){var a,o=f(i.visualVariables);try{for(o.s();!(a=o.n()).done;){var s=a.value;y(h,s,t)}}catch(c){o.e(c)}finally{o.f()}}}}catch(c){n.e(c)}finally{n.f()}}}function y(e,t,r){if(e){var n,i=f(e);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=Object(c.b)(a,t),s=o&&"function"!=typeof o&&r.get(o);s&&Object(c.c)(a,s.name,t)}}catch(u){i.e(u)}finally{i.f()}}}function v(e,t){if(null!=e&&null!=t&&t.fields.length)if("startField"in e){var r=t.get(e.startField),n=t.get(e.endField);e.startField=r&&r.name||null,e.endField=n&&n.name||null}else{var i=t.get(e.startTimeField),a=t.get(e.endTimeField);e.startTimeField=i&&i.name||null,e.endTimeField=a&&a.name||null}}var m=new Set;function g(e,t){return e&&t?(m.clear(),O(m,e,t),Array.from(m).sort()):[]}function O(e,t,r){var n;if(r)if(null!=t&&null!=(n=t.fields)&&n.length)if(r.includes("*")){var i,a=f(t.fields);try{for(a.s();!(i=a.n()).done;){var o=i.value.name;e.add(o)}}catch(d){a.e(d)}finally{a.f()}}else{var s,c=f(r);try{for(c.s();!(s=c.n()).done;){j(e,t,s.value)}}catch(d){c.e(d)}finally{c.f()}}else{if(r.includes("*"))return e.clear(),void e.add("*");var u,l=f(r);try{for(l.s();!(u=l.n()).done;){var p=u.value;e.add(p)}}catch(d){l.e(d)}finally{l.f()}}}function j(e,t,r){if("string"==typeof r)if(t){var n=t.get(r);n&&e.add(n.name)}else e.add(r)}function w(e,t){return Object(s.h)(t)||Object(s.h)(e)?[]:t.includes("*")?e.fields.map((function(e){return e.name})):t}function _(e,t,r){return k.apply(this,arguments)}function k(){return(k=Object(n.a)(a.a.mark((function e(t,r,n){var i,o,s,c,u,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(l.e)();case 4:i=e.sent,o=i.arcadeUtils,s=o.extractFieldNames(n),c=f(s);try{for(c.s();!(u=c.n()).done;)p=u.value,j(t,r,p)}catch(a){c.e(a)}finally{c.f()}case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,r){return S.apply(this,arguments)}function S(){return(S=Object(n.a)(a.a.mark((function e(t,n,i){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||"1=1"===i){e.next=7;break}return e.next=3,Promise.all([r.e(0),r.e(113)]).then(r.bind(null,"xnqp"));case 3:if((s=e.sent.WhereClause.create(i,n)).isStandardized){e.next=6;break}throw new o.a("fieldUtils:collectFilterFields","Where clause is not standardized");case 6:O(t,n,s.fieldNames);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){var t=e.displayField,r=e.fields;return t||(r&&r.length?I(r,"name-or-title")||I(r,"unique-identifier")||I(r,"type-or-category")||function(e){var t,r=f(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n&&n.name){var i=n.name.toLowerCase();if(i.indexOf("name")>-1||i.indexOf("title")>-1)return n.name}}}catch(a){r.e(a)}finally{r.f()}return null}(r):null)}function I(e,t){var r,n=f(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i&&i.valueType&&i.valueType===t)return i.name}}catch(a){n.e(a)}finally{n.f()}return null}function R(e,t){return M.apply(this,arguments)}function M(){return(M=Object(n.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return n=Object(c.b)("elevationInfo.featureExpressionInfo",r),e.abrupt("return",n?n.collectRequiredFields(t,r.fieldsIndex):void 0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t,r){return T.apply(this,arguments)}function T(){return(T=Object(n.a)(a.a.mark((function e(t,r,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.outStatistic.onStatisticValueExpression?_(t,r,n.outStatistic.onStatisticValueExpression):t.add(n.outStatistic.onStatisticField);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,r){return C.apply(this,arguments)}function C(){return(C=Object(n.a)(a.a.mark((function e(t,r,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r&&n&&"cluster"===n.type&&n.fields,!e.t0){e.next=4;break}return e.next=4,Promise.all(n.fields.map((function(e){return E(t,r.fieldsIndex,e)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,r){return L.apply(this,arguments)}function L(){return(L=Object(n.a)(a.a.mark((function e(t,r,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r,!e.t0){e.next=8;break}if(r.timeInfo&&Object(s.i)(n)&&n.timeExtent&&O(t,r.fieldsIndex,[r.timeInfo.startField,r.timeInfo.endField]),r.floorInfo&&O(t,r.fieldsIndex,[r.floorInfo.floorField]),e.t1=Object(s.i)(n)&&Object(s.i)(n.where),!e.t1){e.next=8;break}return e.next=8,x(t,r.fieldsIndex,n.where);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){if(!e)return[];var t="editFieldsInfo"in e&&e.editFieldsInfo;return t?g(e.fieldsIndex,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}function N(e,t){return B.apply(this,arguments)}function B(){return(B=Object(n.a)(a.a.mark((function e(t,r){var n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.labelingInfo,i=r.fieldsIndex,e.t0=n&&n.length,!e.t0){e.next=5;break}return e.next=5,Promise.all(n.map((function(e){return V(t,i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t,r){return U.apply(this,arguments)}function U(){return(U=Object(n.a)(a.a.mark((function e(t,r,n){var i,o,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=n.getLabelExpression(),o=n.where,"arcade"!==i.type){e.next=8;break}return e.next=6,_(t,r,i.expression);case 6:e.next=10;break;case 8:(s=i.expression.match(/{[^}]*}/g))&&s.forEach((function(e){j(t,r,e.slice(1,-1))}));case 10:return e.next=12,x(t,r,o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){var t=e.defaultValue;return void 0!==t&&Q(e,t)?t:e.nullable?null:void 0}function q(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function H(e){return null===e||q(e)}var G="isInteger"in Number?Number.isInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function W(e){return null===e||G(e)}function J(e){return null!=e&&"string"==typeof e}function $(e){return null===e||J(e)}function Z(){return!0}function Q(e,t){var r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=e.nullable?W:G;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?H:q;break;case"string":case"esriFieldTypeString":r=e.nullable?$:J;break;default:r=Z}return 1===arguments.length?r:r(t)}var X,K,Y=["integer","small-integer","single","double"],ee=new Set([].concat(Y,["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));function te(e){return null!=e&&ee.has(e.type)}function re(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function ne(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}function ie(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function ae(e,t){return e.nullable&&null===t?null:te(e)&&!function(e,t){var r="string"==typeof e?oe(e):e;return!!r&&(r.isInteger?G(t)&&t>=r.min&&t<=r.max:t>=r.min&&t<=r.max)}(e.type,Number(t))?X.OUT_OF_RANGE:Q(e,t)?e.domain?Object(u.e)(e.domain,t):null:K.INVALID_TYPE}function oe(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return se;case"esriFieldTypeInteger":case"integer":return ce;case"esriFieldTypeSingle":case"single":return ue;case"esriFieldTypeDouble":case"double":return le}}(X||(X={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(K||(K={}));var se={min:-32768,max:32767,isInteger:!0},ce={min:-2147483648,max:2147483647,isInteger:!0},ue={min:-34e37,max:12e37,isInteger:!1},le={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function fe(e,t,r){switch(e){case u.a.INVALID_CODED_VALUE:return"Value ".concat(r," is not in the coded domain - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case u.a.VALUE_OUT_OF_RANGE:return"Value ".concat(r," is out of the range of valid values - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case K.INVALID_TYPE:return"Value ".concat(r," is not a valid value for the field type - field: ").concat(t.name,", type: ").concat(t.type,", nullable: ").concat(t.nullable);case X.OUT_OF_RANGE:var n=oe(t.type),i=n.min,a=n.max;return"Value ".concat(r," is out of range for the number type - field: ").concat(t.name,", type: ").concat(t.type,", value range is ").concat(i," to ").concat(a)}}function pe(e,t){return!function(e,t,r){if(!t||!t.attributes||!e){if(Object(s.i)(r)){var n,i=f(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.add(a)}}catch(d){i.e(d)}finally{i.f()}}return!0}var o,c=t.attributes,u=!1,l=f(e);try{for(l.s();!(o=l.n()).done;){var p=o.value;if(!(p in c)){if(u=!0,!Object(s.i)(r))break;r.add(p)}}}catch(d){l.e(d)}finally{l.f()}return u}(e,t,null)}},E1Sn:function(e,t,r){var n=r("WRuO"),i=r("MBdc"),a=r("LdZC"),o=r("ji6j"),s=r("s3t7"),c=r("PqlX"),u=r("tfj2"),l=r("3kU/"),f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,d,h,b){var y=c(e),v=c(t),m=y?"[object Array]":s(e),g=v?"[object Array]":s(t),O=(m="[object Arguments]"==m?f:m)==f,j=(g="[object Arguments]"==g?f:g)==f,w=m==g;if(w&&u(e)){if(!u(t))return!1;y=!0,O=!1}if(w&&!O)return b||(b=new n),y||l(e)?i(e,t,r,d,h,b):a(e,t,m,r,d,h,b);if(!(1&r)){var _=O&&p.call(e,"__wrapped__"),k=j&&p.call(t,"__wrapped__");if(_||k){var x=_?e.value():e,S=k?t.value():t;return b||(b=new n),h(x,S,r,d,b)}}return!!w&&(b||(b=new n),o(e,t,r,d,h,b))}},E7Xw:function(e,t){e.exports=function(){return[]}},EGWc:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("60cM");function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=function(){function e(){Object(n.a)(this,e),this.spans=[]}return Object(i.a)(e,[{key:"acquire",value:function(e){this.lodInfo=e}},{key:"release",value:function(){this.lodInfo=null,this.spans.length=0}},{key:"forEach",value:function(e,t){var r=this.spans,n=this.lodInfo,i=n.level;if(0!==r.length){var a,s=o(r);try{for(s.s();!(a=s.n()).done;)for(var c=a.value,u=c.row,l=c.colFrom,f=c.colTo,p=l;p<=f;p++)e.call(t,i,u,n.normalizeCol(p),n.getWorldForColumn(p))}catch(d){s.e(d)}finally{s.f()}}}}]),e}();c.pool=new a.a(c),t.a=c},EKEt:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return c}));var n=r("7im+"),i=r("IH5m");function a(e,t,r){return Object(i.j)(e.map((function(e,n){return t.apply(r,[e,n])})))}function o(e,t,r){return Object(i.j)(e.map((function(e,n){return t.apply(r,[e,n])}))).then((function(e){return e.map((function(e){return e.value}))}))}function s(e){return Object(n.h)(e)?Object(i.t)():e.then((function(e){return{ok:!0,value:e}})).catch((function(e){return{ok:!1,error:e}}))}function c(e){return e.then((function(e){return{ok:!0,value:e}})).catch((function(e){return Object(i.u)(e),{ok:!1,error:e}}))}},EKeD:function(e,t,r){var n=r("fxeQ"),i=n&&new n;e.exports=i},ELdr:function(e,t,r){"use strict";r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return u})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(e){var t=e.location,r=t.search,n=t.hash,i=t.href,a=t.origin,o=t.protocol,c=t.host,u=t.hostname,l=t.port,f=e.location.pathname;!f&&i&&s&&(f=new URL(i).pathname);return{pathname:encodeURI(decodeURI(f)),search:r,hash:n,href:i,origin:a,protocol:o,host:c,hostname:u,port:l,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}},a=function(e,t){var r=[],a=i(e),o=!1,s=function(){};return{get location(){return a},get transitioning(){return o},_onTransitionComplete:function(){o=!1,s()},listen:function(t){r.push(t);var n=function(){a=i(e),t({location:a,action:"POP"})};return e.addEventListener("popstate",n),function(){e.removeEventListener("popstate",n),r=r.filter((function(e){return e!==t}))}},navigate:function(t){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=c.state,l=c.replace,f=void 0!==l&&l;if("number"==typeof t)e.history.go(t);else{u=n({},u,{key:Date.now()+""});try{o||f?e.history.replaceState(u,null,t):e.history.pushState(u,null,t)}catch(d){e.location[f?"replace":"assign"](t)}}a=i(e),o=!0;var p=new Promise((function(e){return s=e}));return r.forEach((function(e){return e({location:a,action:"PUSH"})})),p}}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=e.indexOf("?"),r={pathname:t>-1?e.substr(0,t):e,search:t>-1?e.substr(t):""},n=0,i=[r],a=[null];return{get location(){return i[n]},addEventListener:function(e,t){},removeEventListener:function(e,t){},history:{get entries(){return i},get index(){return n},get state(){return a[n]},pushState:function(e,t,r){var o=r.split("?"),s=o[0],c=o[1],u=void 0===c?"":c;n++,i.push({pathname:s,search:u.length?"?"+u:u}),a.push(e)},replaceState:function(e,t,r){var o=r.split("?"),s=o[0],c=o[1],u=void 0===c?"":c;i[n]={pathname:s,search:u},a[n]=e},go:function(e){var t=n+e;t<0||t>a.length-1||(n=t)}}}},s=!("undefined"==typeof window||!window.document||!window.document.createElement),c=a(s?window:o()),u=c.navigate},EN0E:function(e,t,r){var n=r("/5e1")();e.exports=n},EOOn:function(e,t,r){"use strict";r.r(t);var n,i=r("eijD"),a=r("mK0O"),o=r("hisu"),s=r("yBJb"),c=r("4Mpa"),u=r("CHlC"),l=r("kMo5"),f=r("P+uj"),p=r("NthX"),d=r.n(p),h=r("dQW7"),b=r("hKEQ"),y=(r("YRYL"),r("DsdM"),r("c6bU"),r("IvZe"),r("6yFL"),r("vU4c")),v=r("h+Bk"),m=r("qCZy"),g=r("8QvB"),O=r("DGz/"),j=r("fb8N"),w=r("kDog"),_=r("Mp7X"),k=r("UfAV"),x=r("J4Pc"),S=r("7i+s"),P=r("TM+E"),I=r("7im+"),R=r("d4jZ"),M=r("67w/"),E=r("IH5m"),T=r("z9dv"),A=r("xAIp"),C=r("gljZ"),D=r("mp5+"),L=r("iaHD"),F=r("jr4m"),N=r("s9cN"),B=r("0n+b"),V=r("0fJP"),U=r("wckI");function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var q=n=function(e){Object(u.a)(r,e);var t=z(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).expression=null,n.name=null,n.returnType="boolean",n.title=null,n}return Object(s.a)(r,[{key:"clone",value:function(){return new n({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}}]),r}(B.a);Object(h.a)([Object(A.b)({type:String,json:{write:!0}})],q.prototype,"expression",void 0),Object(h.a)([Object(A.b)({type:String,json:{write:!0}})],q.prototype,"name",void 0),Object(h.a)([Object(A.b)({type:["boolean"],json:{write:!0}})],q.prototype,"returnType",void 0),Object(h.a)([Object(A.b)({type:String,json:{write:!0}})],q.prototype,"title",void 0);var H=q=n=Object(h.a)([Object(L.a)("esri.form.ExpressionInfo")],q);function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var W=function(e){Object(u.a)(r,e);var t=G(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).description=null,n.label=null,n.type=null,n.visibilityExpression=null,n}return r}(B.a);Object(h.a)([Object(A.b)({type:String,json:{write:!0}})],W.prototype,"description",void 0),Object(h.a)([Object(A.b)({type:String,json:{write:!0}})],W.prototype,"label",void 0),Object(h.a)([Object(A.b)()],W.prototype,"type",void 0),Object(h.a)([Object(A.b)({type:String,json:{write:!0}})],W.prototype,"visibilityExpression",void 0);var J,$=W=Object(h.a)([Object(L.a)("esri.form.elements.Element")],W);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var Q=J=function(e){Object(u.a)(r,e);var t=Z(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).type=null,n}return Object(s.a)(r,[{key:"clone",value:function(){return new J({type:this.type})}}]),r}(B.a);Object(h.a)([Object(A.b)({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],Q.prototype,"type",void 0);var X,K=Q=J=Object(h.a)([Object(L.a)("esri.form.elements.inputs.AttachmentInput")],Q);function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var ee=X=function(e){Object(u.a)(r,e);var t=Y(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).attachmentKeyword=null,n.editable=!0,n.input=null,n.type="attachment",n}return Object(s.a)(r,[{key:"clone",value:function(){return new X({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}}]),r}($);Object(h.a)([Object(A.b)({type:String,json:{write:!0}})],ee.prototype,"attachmentKeyword",void 0),Object(h.a)([Object(A.b)({type:Boolean,json:{write:!0}})],ee.prototype,"editable",void 0),Object(h.a)([Object(A.b)({type:K,json:{read:{source:"inputType"},write:{target:"inputType"}}})],ee.prototype,"input",void 0),Object(h.a)([Object(A.b)({type:["attachment"],json:{read:!1,write:!0}})],ee.prototype,"type",void 0);var te=ee=X=Object(h.a)([Object(L.a)("esri.form.elements.AttachmentElement")],ee);function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var ne=function(e){Object(u.a)(r,e);var t=re(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).type=null,n}return r}(B.a);Object(h.a)([Object(A.b)()],ne.prototype,"type",void 0);var ie=ne=Object(h.a)([Object(L.a)("esri.form.elements.inputs.Input")],ne);function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var oe=function(e){Object(u.a)(r,e);var t=ae(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).maxLength=null,n.minLength=0,n}return r}(ie);Object(h.a)([Object(A.b)({type:Number,json:{write:!0}})],oe.prototype,"maxLength",void 0),Object(h.a)([Object(A.b)({type:Number,json:{write:!0}})],oe.prototype,"minLength",void 0);var se,ce=oe=Object(h.a)([Object(L.a)("esri.form.elements.inputs.TextInput")],oe);function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var le=se=function(e){Object(u.a)(r,e);var t=ue(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).type="barcode-scanner",n}return Object(s.a)(r,[{key:"clone",value:function(){return new se({maxLength:this.maxLength,minLength:this.minLength})}}]),r}(ce);Object(h.a)([Object(A.b)({type:["barcode-scanner"],json:{read:!1,write:!0}})],le.prototype,"type",void 0);var fe,pe=le=se=Object(h.a)([Object(L.a)("esri.form.elements.inputs.BarcodeScannerInput")],le);function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var he=fe=function(e){Object(u.a)(r,e);var t=de(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).noValueOptionLabel=null,n.showNoValueOption=!1,n.type="combo-box",n}return Object(s.a)(r,[{key:"clone",value:function(){return new fe({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}}]),r}(ie);Object(h.a)([Object(A.b)({type:String,json:{write:!0}})],he.prototype,"noValueOptionLabel",void 0),Object(h.a)([Object(A.b)({type:Boolean,json:{write:!0}})],he.prototype,"showNoValueOption",void 0),Object(h.a)([Object(A.b)({type:["combo-box"],json:{read:!1,write:!0}})],he.prototype,"type",void 0);var be,ye=he=fe=Object(h.a)([Object(L.a)("esri.form.elements.inputs.ComboBoxInput")],he);function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}function me(e){return null!=e?new Date(e):null}function ge(e){return e?e.getTime():null}var Oe=be=function(e){Object(u.a)(r,e);var t=ve(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).includeTime=!1,n.max=null,n.min=null,n.type="datetime-picker",n}return Object(s.a)(r,[{key:"readMax",value:function(e,t){return me(t.max)}},{key:"writeMax",value:function(e,t){t.max=ge(e)}},{key:"readMin",value:function(e,t){return me(t.min)}},{key:"writeMin",value:function(e,t){t.min=ge(e)}},{key:"clone",value:function(){return new be({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})}}]),r}(ie);Object(h.a)([Object(A.b)({type:Boolean,json:{write:!0}})],Oe.prototype,"includeTime",void 0),Object(h.a)([Object(A.b)({type:Date,json:{type:Number,write:!0}})],Oe.prototype,"max",void 0),Object(h.a)([Object(D.a)("max")],Oe.prototype,"readMax",null),Object(h.a)([Object(F.a)("max")],Oe.prototype,"writeMax",null),Object(h.a)([Object(A.b)({type:Date,json:{type:Number,write:!0}})],Oe.prototype,"min",void 0),Object(h.a)([Object(D.a)("min")],Oe.prototype,"readMin",null),Object(h.a)([Object(F.a)("min")],Oe.prototype,"writeMin",null),Object(h.a)([Object(A.b)({type:["datetime-picker"],json:{read:!1,write:!0}})],Oe.prototype,"type",void 0);var je,we=Oe=be=Object(h.a)([Object(L.a)("esri.form.elements.inputs.DateTimePickerInput")],Oe);function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var ke=je=function(e){Object(u.a)(r,e);var t=_e(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).noValueOptionLabel=null,n.showNoValueOption=!1,n.type="radio-buttons",n}return Object(s.a)(r,[{key:"clone",value:function(){return new je({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}}]),r}(ie);Object(h.a)([Object(A.b)({type:String,json:{write:!0}})],ke.prototype,"noValueOptionLabel",void 0),Object(h.a)([Object(A.b)({type:Boolean,json:{write:!0}})],ke.prototype,"showNoValueOption",void 0),Object(h.a)([Object(A.b)({type:["radio-buttons"],json:{read:!1,write:!0}})],ke.prototype,"type",void 0);var xe,Se=ke=je=Object(h.a)([Object(L.a)("esri.form.elements.inputs.RadioButtonsInput")],ke);function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var Ie=xe=function(e){Object(u.a)(r,e);var t=Pe(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).offValue=null,n.onValue=null,n.type="switch",n}return Object(s.a)(r,[{key:"clone",value:function(){return new xe({offValue:this.offValue,onValue:this.onValue})}}]),r}(ie);Object(h.a)([Object(A.b)({type:[String,Number],json:{write:!0}})],Ie.prototype,"offValue",void 0),Object(h.a)([Object(A.b)({type:[String,Number],json:{write:!0}})],Ie.prototype,"onValue",void 0),Object(h.a)([Object(A.b)({type:["switch"],json:{read:!1,write:!0}})],Ie.prototype,"type",void 0);var Re,Me=Ie=xe=Object(h.a)([Object(L.a)("esri.form.elements.inputs.SwitchInput")],Ie);function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var Te=Re=function(e){Object(u.a)(r,e);var t=Ee(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).type="text-area",n}return Object(s.a)(r,[{key:"clone",value:function(){return new Re({maxLength:this.maxLength,minLength:this.minLength})}}]),r}(ce);Object(h.a)([Object(A.b)({type:["text-area"],json:{read:!1,write:!0}})],Te.prototype,"type",void 0);var Ae,Ce=Te=Re=Object(h.a)([Object(L.a)("esri.form.elements.inputs.TextAreaInput")],Te);function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var Le=Ae=function(e){Object(u.a)(r,e);var t=De(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).type="text-box",n}return Object(s.a)(r,[{key:"clone",value:function(){return new Ae({maxLength:this.maxLength,minLength:this.minLength})}}]),r}(ce);Object(h.a)([Object(A.b)({type:["text-box"],json:{read:!1,write:!0}})],Le.prototype,"type",void 0);var Fe,Ne={base:ie,key:"type",typeMap:{"barcode-scanner":pe,"combo-box":ye,"datetime-picker":we,"radio-buttons":Se,switch:Me,"text-area":Ce,"text-box":Le=Ae=Object(h.a)([Object(L.a)("esri.form.elements.inputs.TextBoxInput")],Le)}},Be=r("mm4W");function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var Ue=Fe=function(e){Object(u.a)(r,e);var t=Ve(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).domain=null,n.editable=!0,n.fieldName=null,n.hint=null,n.input=null,n.requiredExpression=null,n.type="field",n}return Object(s.a)(r,[{key:"clone",value:function(){return new Fe({description:this.description,domain:this.domain,editable:this.editable,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,visibilityExpression:this.visibilityExpression})}}]),r}($);Object(h.a)([Object(A.b)({types:Be.d,json:{read:{reader:Be.b},write:!0}})],Ue.prototype,"domain",void 0),Object(h.a)([Object(A.b)({type:Boolean,json:{write:!0}})],Ue.prototype,"editable",void 0),Object(h.a)([Object(A.b)({type:String,json:{write:!0}})],Ue.prototype,"fieldName",void 0),Object(h.a)([Object(A.b)({type:String,json:{write:!0}})],Ue.prototype,"hint",void 0),Object(h.a)([Object(A.b)({types:Ne,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Ue.prototype,"input",void 0),Object(h.a)([Object(A.b)({type:String,json:{write:!0}})],Ue.prototype,"requiredExpression",void 0),Object(h.a)([Object(A.b)({type:String,json:{read:!1,write:!0}})],Ue.prototype,"type",void 0);var ze,qe=Ue=Fe=Object(h.a)([Object(L.a)("esri.form.elements.FieldElement")],Ue),He=r("HF5h");function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var We=ze=function(e){Object(u.a)(r,e);var t=Ge(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).displayCount=null,n.displayType="list",n.editable=!0,n.orderByFields=null,n.relationshipId=null,n.type="relationship",n}return Object(s.a)(r,[{key:"clone",value:function(){return new ze({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:Object(V.a)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}}]),r}($);Object(h.a)([Object(A.b)({type:Number,json:{write:!0}})],We.prototype,"displayCount",void 0),Object(h.a)([Object(A.b)({type:["list"],json:{write:!0}})],We.prototype,"displayType",void 0),Object(h.a)([Object(A.b)({type:Boolean,json:{write:!0}})],We.prototype,"editable",void 0),Object(h.a)([Object(A.b)({type:[He.a],json:{write:!0}})],We.prototype,"orderByFields",void 0),Object(h.a)([Object(A.b)({type:Number,json:{write:!0}})],We.prototype,"relationshipId",void 0),Object(h.a)([Object(A.b)({type:["relationship"],json:{read:!1,write:!0}})],We.prototype,"type",void 0);var Je,$e=We=ze=Object(h.a)([Object(L.a)("esri.form.elements.RelationshipElement")],We);function Ze(e){return{typesWithGroup:{base:$,key:"type",typeMap:{attachment:te,field:qe,group:e,relationship:$e}},typesWithoutGroup:{base:$,key:"type",typeMap:{attachment:te,field:qe,relationship:$e}}}}function Qe(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return null;var n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((function(e){return n[e.type]})).map((function(e){return n[e.type].fromJSON(e)}))}function Xe(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return null;var n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((function(e){return n[e.type]})).map((function(e){return e.toJSON()}))}function Ke(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e?e.map((function(e){return Object(U.k)(r?t.typesWithGroup:t.typesWithoutGroup,e)})):null}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var et=Je=function(e){Object(u.a)(r,e);var t=Ye(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).elements=null,n.initialState="expanded",n.type="group",n}return Object(s.a)(r,[{key:"castElements",value:function(e){return Ke(e,rt,!1)}},{key:"readElements",value:function(e,t){return Qe(t.formElements,rt,!1)}},{key:"writeElements",value:function(e,t){t.formElements=Xe(e,rt,!1)}},{key:"clone",value:function(){return new Je({description:this.description,elements:Object(V.a)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}}]),r}($);Object(h.a)([Object(A.b)({json:{write:!0}})],et.prototype,"elements",void 0),Object(h.a)([Object(C.a)("elements")],et.prototype,"castElements",null),Object(h.a)([Object(D.a)("elements",["formElements"])],et.prototype,"readElements",null),Object(h.a)([Object(F.a)("elements")],et.prototype,"writeElements",null),Object(h.a)([Object(A.b)({type:["collapsed","expanded"],json:{write:!0}})],et.prototype,"initialState",void 0),Object(h.a)([Object(A.b)({type:String,json:{read:!1,write:!0}})],et.prototype,"type",void 0);var tt,rt=Ze(et=Je=Object(h.a)([Object(L.a)("esri.form.elements.GroupElement")],et));function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var it=Ze(et),at=tt=function(e){Object(u.a)(r,e);var t=nt(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).description=null,n.elements=null,n.expressionInfos=null,n.title=null,n}return Object(s.a)(r,[{key:"castElements",value:function(e){return Ke(e,it)}},{key:"readElements",value:function(e,t){return Qe(t.formElements,it)}},{key:"writeElements",value:function(e,t){t.formElements=Xe(e,it)}},{key:"clone",value:function(){return new tt({description:this.description,expressionInfos:Object(V.a)(this.expressionInfos),elements:Object(V.a)(this.elements),title:this.title})}}]),r}(B.a);Object(h.a)([Object(A.b)({type:String,json:{write:!0}})],at.prototype,"description",void 0),Object(h.a)([Object(A.b)({json:{write:!0}})],at.prototype,"elements",void 0),Object(h.a)([Object(C.a)("elements")],at.prototype,"castElements",null),Object(h.a)([Object(D.a)("elements",["formElements"])],at.prototype,"readElements",null),Object(h.a)([Object(F.a)("elements")],at.prototype,"writeElements",null),Object(h.a)([Object(A.b)({type:[H],json:{write:!0}})],at.prototype,"expressionInfos",void 0),Object(h.a)([Object(A.b)({type:String,json:{write:!0}})],at.prototype,"title",void 0);var ot=at=tt=Object(h.a)([Object(L.a)("esri.form.FormTemplate")],at),st=r("nd5+"),ct=r("ARTo"),ut=r("YHXj"),lt=r("QZQ7"),ft=(r("ZTBZ"),r("4VMI")),pt=r("eTmm"),dt=r("t4nU"),ht=r("Akvs");var bt=r("Ufrx"),yt=r("+b7D"),vt=r("kJId"),mt=r("cFtQ"),gt=r("lrNM");function Ot(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return jt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jt(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var _t,kt=0,xt=P.a.getLogger("esri.layers.graphics.sources.MemorySource"),St=function(e){Object(u.a)(f,e);var t,r,n,a,c,l=wt(f);function f(e){var t;return Object(o.a)(this,f),(t=l.call(this,e))._idToClientGraphic=null,t.type="memory",t}return Object(s.a)(f,[{key:"load",value:function(e){var t=Object(I.i)(e)?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}},{key:"destroy",value:function(){var e;null==(e=this._connection)||e.close(),this._connection=null}},{key:"workerGeometryType",get:function(){var e,t=null==(e=this.layer)?void 0:e.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}},{key:"applyEdits",value:function(e){var t=this;return this.load().then((function(){return t._applyEdits(e)}))}},{key:"openPorts",value:function(){var e=this;return this.load().then((function(){return e._connection.openPorts()}))}},{key:"queryFeatures",value:(c=Object(i.a)(d.a.mark((function e(t){var r,n,i,a,o,s,c,u,l,f=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:{},e.next=3,this.load(r);case 3:return e.next=5,this._connection.invoke("queryFeatures",t?t.toJSON():null,r);case 5:if(n=e.sent,Object(bt.a)(t,this.layer.spatialReference,n),i=vt.default.fromJSON(n),this._requiresClientGraphicMapping()){e.next=10;break}return e.abrupt("return",i);case 10:a=this.layer.objectIdField,o=Ot(i.features);try{for(o.s();!(s=o.n()).done;)c=s.value,u=c.attributes[a],(l=this._idToClientGraphic.get(u))&&(c.geometry=l.geometry)}catch(p){o.e(p)}finally{o.f()}return e.abrupt("return",(i.geometryType=this.layer.geometryType,i));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"queryFeaturesJSON",value:(a=Object(i.a)(d.a.mark((function e(t){var r,n,i=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:{},!this._requiresClientGraphicMapping()){e.next=3;break}throw new _.a("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");case 3:return e.next=5,this.load(r);case 5:return e.next=7,this._connection.invoke("queryFeatures",t?t.toJSON():null,r);case 7:return n=e.sent,e.abrupt("return",(Object(bt.a)(t,this.layer.spatialReference,n),n));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"queryFeatureCount",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.load(r).then((function(){return t._connection.invoke("queryFeatureCount",e?e.toJSON():null,r)}))}},{key:"queryObjectIds",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.load(r).then((function(){return t._connection.invoke("queryObjectIds",e?e.toJSON():null,r)}))}},{key:"queryExtent",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.load(r).then((function(){return t._connection.invoke("queryExtent",e?e.toJSON():null,r)})).then((function(e){return{count:e.count,extent:st.a.fromJSON(e.extent)}}))}},{key:"querySnapping",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.load(r).then((function(){return t._connection.invoke("querySnapping",e,r)}))}},{key:"_applyEdits",value:(n=Object(i.a)(d.a.mark((function e(t){var r,n,i,a,o,s,c,u,l,f,p,h,b,y,v,m,g;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._connection){e.next=2;break}throw new _.a("feature-layer-source:edit-failure","Memory source not loaded");case 2:return r=this.layer.objectIdField,n=null,i=[],a=[],e.next=7,Promise.all([this._prepareClientMapping(t.addFeatures,null),this._prepareClientMapping(t.updateFeatures,null)]);case 7:if(o=function(e){return"objectId"in e&&null!=e.objectId?e.objectId:"attributes"in e&&null!=e.attributes[r]?e.attributes[r]:null},t.addFeatures&&(n=this._prepareAddFeatures(t.addFeatures)),t.deleteFeatures){s=Ot(t.deleteFeatures);try{for(s.s();!(c=s.n()).done;)u=c.value,null!=(l=o(u))&&i.push(l)}catch(d){s.e(d)}finally{s.f()}}if(f=t.updateFeatures&&this._idToClientGraphic?new Map:null,t.updateFeatures){p=Ot(t.updateFeatures);try{for(p.s();!(h=p.n()).done;)b=h.value,a.push(this._serializeFeature(b)),f&&null!=(y=o(b))&&f.set(y,b)}catch(d){p.e(d)}finally{p.f()}}return Object(yt.b)(n?n.features:null,a,this.layer.spatialReference),e.next=14,this._connection.invoke("applyEdits",{adds:n?n.features:[],updates:a,deletes:i});case 14:return v=e.sent,m=v.fullExtent,g=v.featureEditResults,e.abrupt("return",(this.fullExtent=m,n&&n.finish(g.uidToObjectId),this._updateClientGraphicIds(f,g),this._createEditsResult(g)));case 18:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_prepareClientMapping",value:(r=Object(i.a)(d.a.mark((function e(t,r){var n,i,a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("mesh"===this.layerOrSourceGeometryType&&!Object(I.h)(t)){e.next=2;break}return e.abrupt("return");case 2:n=[],i=Ot(t);try{for(i.s();!(a=i.n()).done;)o=a.value.geometry,!Object(I.i)(o)||"mesh"!==o.type||o.hasExtent||o.loaded||n.push(o.load({signal:r}))}catch(s){i.e(s)}finally{i.f()}if(e.t0=n.length,!e.t0){e.next=9;break}return e.next=9,Promise.all(n);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"_updateClientGraphicIds",value:function(e,t){if(this._idToClientGraphic){if(e){var r,n=Ot(t.updateResults);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.success){var a=e.get(i.objectId);null!=a&&this._addIdToClientGraphic(a)}}}catch(u){n.e(u)}finally{n.f()}}var o,s=Ot(t.deleteResults);try{for(s.s();!(o=s.n()).done;){var c=o.value;c.success&&this._idToClientGraphic.delete(c.objectId)}}catch(u){s.e(u)}finally{s.f()}}}},{key:"_createEditsResult",value:function(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}},{key:"_createFeatureEditResult",value:function(e){var t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new _.a("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}},{key:"_prepareAddFeatures",value:function(e){for(var t=new Map,r=new Array(e.length),n=null,i=0;i<e.length;i++){var a=e[i],o=this._serializeFeature(a);!n&&Object(I.i)(a.geometry)&&(n=a.geometry.type),r[i]=o,t.set("".concat(o.uid),a)}var s=this;return{features:r,inferredGeometryType:n,finish:function(e){var r=s.sourceJSON.objectIdField;for(var n in e){var i=e[n],a=t.get(n);a&&(a.attributes||(a.attributes={}),-1===i?delete a.attributes[r]:a.attributes[r]=i,s._addIdToClientGraphic(a))}}}}},{key:"_addIdToClientGraphic",value:function(e){if(this._idToClientGraphic){var t=this.sourceJSON.objectIdField,r=e.attributes&&e.attributes[t];null!=r&&this._idToClientGraphic.set(r,e)}}},{key:"layerOrSourceGeometryType",get:function(){var e,t,r;return null!=(e=null==(t=this.layer)?void 0:t.geometryType)?e:null==(r=this.sourceJSON)?void 0:r.geometryType}},{key:"_requiresClientGraphicMapping",value:function(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)}},{key:"_geometryRequiresClientGraphicMapping",value:function(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}},{key:"_geometryTypeRequiresClientGraphicMapping",value:function(e){return"mesh"===e||"multipatch"===e||"extent"===e}},{key:"_serializeFeature",value:function(e){var t=e.attributes,r=this._geometryForSerialization(e),n=(kt++).toString();return r?{uid:n,geometry:r.toJSON(),attributes:t}:{uid:n,attributes:t}}},{key:"_geometryForSerialization",value:function(e){var t=e.geometry;return Object(I.h)(t)?null:this._geometryRequiresClientGraphicMapping(t)?t.extent?mt.a.fromExtent(t.extent):null:t}},{key:"_startWorker",value:(t=Object(i.a)(d.a.mark((function e(t){var r,n,i,a,o,s,c,u,l,f,p,h,b,y,v;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ht.b)("MemorySourceWorker",{strategy:Object(x.a)("feature-layers-workers")?"dedicated":"local",signal:t});case 2:return this._connection=e.sent,r=this.layer,n=r.fields,i=r.spatialReference,a=r.objectIdField,o=r.hasM,s=r.hasZ,c=r.timeInfo,u="defaults"===this.layer.originOf("spatialReference"),e.next=6,this._prepareClientMapping(this.items,t);case 6:return l=this._prepareAddFeatures(this.items),this.on("before-changes",(function(e){xt.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),e.preventDefault()})),f={features:l.features,fields:n&&n.map((function(e){return e.toJSON()})),geometryType:gt.c.toJSON(this.workerGeometryType),hasM:"mesh"!==this.layerOrSourceGeometryType&&o,hasZ:"mesh"===this.layerOrSourceGeometryType||s,objectIdField:a,spatialReference:u?null:i&&i.toJSON(),timeInfo:c?c.toJSON():null},e.next=11,this._connection.invoke("load",f,{signal:t});case 11:p=e.sent,h=Ot(p.warnings);try{for(h.s();!(b=h.n()).done;)y=b.value,xt.warn(y.message,{layer:this.layer,warning:y})}catch(d){h.e(d)}finally{h.f()}p.featureErrors.length&&xt.warn("Encountered ".concat(p.featureErrors.length," validation errors while loading features"),p.featureErrors),v=p.layerDefinition,this._geometryTypeRequiresClientGraphicMapping(l.inferredGeometryType)&&(v.geometryType=gt.c.toJSON(l.inferredGeometryType)),this.sourceJSON=v,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),l.finish(p.assignedObjectIds);case 17:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),f}(pt.a.LoadableMixin(Object(dt.b)(w.a)));Object(h.a)([(_t={Type:ft.a,ensureType:Object(U.m)(ft.a)},function(e,t){e[t]=_t})],St.prototype,"itemType",void 0),Object(h.a)([Object(A.b)()],St.prototype,"type",void 0),Object(h.a)([Object(A.b)({constructOnly:!0})],St.prototype,"layer",void 0),Object(h.a)([Object(A.b)({readOnly:!0})],St.prototype,"workerGeometryType",null),Object(h.a)([Object(A.b)()],St.prototype,"sourceJSON",void 0);var Pt,It=St=Object(h.a)([Object(L.a)("esri.layers.graphics.sources.MemorySource")],St),Rt=r("jZIy"),Mt=r("1eRv"),Et=r("9P7x"),Tt=r("xuB6"),At=r("oTsO"),Ct=r("44so"),Dt=r("2eXi"),Lt=r("wJzb"),Ft=r("SU3d"),Nt=r("/BCw"),Bt=r("NRoO");function Vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var Ut=Pt=function(e){Object(u.a)(r,e);var t=Vt(r);function r(e){return Object(o.a)(this,r),t.call(this,e)}return Object(s.a)(r,[{key:"clone",value:function(){var e=this.name,t=this.fields,r=this.isAscending,n=this.isUnique,i=this.description;return new Pt({name:e,fields:t,isAscending:r,isUnique:n,description:i})}}]),r}(B.a);Object(h.a)([Object(A.b)({constructOnly:!0})],Ut.prototype,"name",void 0),Object(h.a)([Object(A.b)({constructOnly:!0})],Ut.prototype,"fields",void 0),Object(h.a)([Object(A.b)({constructOnly:!0})],Ut.prototype,"isAscending",void 0),Object(h.a)([Object(A.b)({constructOnly:!0})],Ut.prototype,"isUnique",void 0),Object(h.a)([Object(A.b)({constructOnly:!0})],Ut.prototype,"description",void 0);Ut=Pt=Object(h.a)([Object(L.a)("esri.layers.support.FeatureIndex")],Ut);var zt=r("1ZHs"),qt=r("j8m6"),Ht=r("OiVb"),Gt=r("hokI"),Wt=r("eUOF"),Jt=r("Rby8"),$t=r("OhIr"),Zt=r("DuP7"),Qt=r("a1Tm");function Xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var Kt=function(e){Object(u.a)(r,e);var t=Xt(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).shapeAreaField=null,n.shapeLengthField=null,n.units=null,n}return r}(B.a);Object(h.a)([Object(A.b)({type:String,json:{read:{source:"shapeAreaFieldName"}}})],Kt.prototype,"shapeAreaField",void 0),Object(h.a)([Object(A.b)({type:String,json:{read:{source:"shapeLengthFieldName"}}})],Kt.prototype,"shapeLengthField",void 0),Object(h.a)([Object(A.b)({type:String,json:{read:function(e){return Qt.a.read(e)||Qt.j.read(e)}}})],Kt.prototype,"units",void 0);var Yt=Kt=Object(h.a)([Object(L.a)("esri.layers.support.GeometryFieldsInfo")],Kt),er=r("BG/N"),tr=r("/3M5"),rr=r("/v4n");function nr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var ir=new S.a({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),ar=new S.a({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"}),or=function(e){Object(u.a)(r,e);var t=nr(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).cardinality=null,n.composite=null,n.id=null,n.keyField=null,n.keyFieldInRelationshipTable=null,n.name=null,n.relatedTableId=null,n.relationshipTableId=null,n.role=null,n}return r}(B.a);Object(h.a)([Object(A.b)({json:{read:ir.read,write:ir.write}})],or.prototype,"cardinality",void 0),Object(h.a)([Object(A.b)({json:{read:!0,write:!0}})],or.prototype,"composite",void 0),Object(h.a)([Object(A.b)({json:{read:!0,write:!0}})],or.prototype,"id",void 0),Object(h.a)([Object(A.b)({json:{read:!0,write:!0}})],or.prototype,"keyField",void 0),Object(h.a)([Object(A.b)({json:{read:!0,write:!0}})],or.prototype,"keyFieldInRelationshipTable",void 0),Object(h.a)([Object(A.b)({json:{read:!0,write:!0}})],or.prototype,"name",void 0),Object(h.a)([Object(A.b)({json:{read:!0,write:!0}})],or.prototype,"relatedTableId",void 0),Object(h.a)([Object(A.b)({json:{read:!0,write:!0}})],or.prototype,"relationshipTableId",void 0),Object(h.a)([Object(A.b)({json:{read:ar.read,write:ar.write}})],or.prototype,"role",void 0);var sr=or=Object(h.a)([Object(L.a)("esri.layers.support.Relationship")],or),cr=r("vW4k"),ur=r("ZWAC"),lr=r("okYM"),fr=r("wK6d"),pr=r("hdDo"),dr=r("ax7y"),hr=r("30Qs"),br=r("lMmC");function yr(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return vr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vr(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var jr=new S.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),wr={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},_r=P.a.getLogger("esri.layers.FeatureLayer");function kr(e){return e&&e instanceof w.a}function xr(e,t,r){return!!(e&&e.hasOwnProperty(t)?e[t]:r)}function Sr(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}var Pr=Object($t.a)();function Ir(e,t,r){var n=!(null==r||!r.writeLayerSchema);return{enabled:n,ignoreOrigin:n}}var Rr=function(e){Object(u.a)(p,e);var t,n,a,l=Or(p);function p(){var e;Object(o.a)(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=l.call.apply(l,[this].concat(r)))._handles=new k.a,e.capabilities=null,e.charts=null,e.copyright=null,e.displayField=null,e.definitionExpression=null,e.dynamicDataSource=null,e.editFieldsInfo=null,e.editingInfo=null,e.elevationInfo=null,e.featureReduction=null,e.fields=null,e.fieldsIndex=null,e.floorInfo=null,e.formTemplate=null,e.fullExtent=null,e.gdbVersion=null,e.geometryFieldsInfo=null,e.geometryType=null,e.hasM=void 0,e.hasZ=void 0,e.heightModelInfo=null,e.historicMoment=null,e.infoFor3D=null,e.isTable=!1,e.labelsVisible=!0,e.labelingInfo=null,e.layerId=void 0,e.legendEnabled=!0,e.minScale=0,e.maxScale=0,e.globalIdField=null,e.objectIdField=null,e.outFields=null,e.path=null,e.popupEnabled=!0,e.popupTemplate=null,e.relationships=null,e.sourceJSON=null,e.returnM=void 0,e.returnZ=void 0,e.screenSizePerspectiveEnabled=!0,e.serviceDefinitionExpression=null,e.spatialReference=ut.a.WGS84,e.subtypeCode=null,e.templates=null,e.timeInfo=null,e.title=null,e.sublayerTitleMode="item-title",e.trackIdField=null,e.type="feature",e.typeIdField=null,e.types=null,e.indexes=new(w.a.ofType(Ut)),e.userIsAdmin=!1,e.version=void 0,e.visible=!0,e}return Object(s.a)(p,[{key:"destroy",value:function(){var e;null==(e=this.source)||e.destroy(),this._handles=Object(I.d)(this._handles)}},{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?gr({url:e},t):e}},{key:"load",value:function(e){var t=this,r=Object(I.i)(e)?e.signal:null;if(!(this.portalItem&&this.portalItem.loaded&&this.source)){var n=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},e).catch(E.u).then(Object(i.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.url||null!=t.layerId||!/FeatureServer|MapServer\/*$/i.test(t.url)){e.next=5;break}return e.next=3,t._fetchFirstLayerId(r);case 3:null!=(n=e.sent)&&(t.layerId=n);case 5:if(t.url||t._hasMemorySource()){e.next=7;break}throw new _.a("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");case 7:return e.t0=t,e.next=10,t.createGraphicsSource(r);case 10:return e.t1=e.sent,e.abrupt("return",e.t0._initLayerProperties.call(e.t0,e.t1));case 12:case"end":return e.stop()}}),e)})))).then((function(){return t.finishLoadEditablePortalLayer(e)}));return this.addResolvingPromise(n),Promise.resolve(this)}this.addResolvingPromise(this.createGraphicsSource(r).then((function(e){return t._initLayerProperties(e)})))}},{key:"readCapabilities",value:function(e,t){return t=t.layerDefinition||t,{attachment:this._readAttachmentCapabilities(t.attachmentProperties),data:this._readDataCapabilities(t),metadata:this._readMetadataCapabilities(t),operations:this._readOperationsCapabilities(t.capabilities||e,t),query:this._readQueryCapabilities(t),queryRelated:this._readQueryRelatedCapabilities(t),editing:this._readEditingCapabilities(t)}}},{key:"createQueryVersion",get:function(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")||0)+1}},{key:"editingEnabled",get:function(){return this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges},set:function(e){null!=e?this._override("editingEnabled",e):this._clearOverride("editingEnabled")}},{key:"readEditingEnabled",value:function(e,t){return this._readEditingEnabled(t,!1)}},{key:"readEditingEnabledFromWebMap",value:function(e,t,r){return this._readEditingEnabled(t,!0,r)}},{key:"writeEditingEnabled",value:function(e,t){this._writeEditingEnabled(e,t,!1)}},{key:"writeEditingEnabledToWebMap",value:function(e,t,r,n){this._writeEditingEnabled(e,t,!0,n)}},{key:"readEditingInfo",value:function(e,t){var r=t.editingInfo;return r?{lastEditDate:null!=r.lastEditDate?new Date(r.lastEditDate):null}:null}},{key:"readFeatureReduction",value:function(e,t){return Object(Gt.a)(e,t)}},{key:"writeWebSceneFeatureReduction",value:function(e,t,r,n){Object(Gt.c)(e,t,"layerDefinition.featureReduction",n)}},{key:"readIsTable",value:function(e,t){return"Table"===(t=t&&t.layerDefinition||t).type||!t.geometryType}},{key:"writeIsTable",value:function(e,t,r,n){null!=n&&n.writeLayerSchema&&Object(M.c)(r,e?"Table":"Feature Layer",t)}},{key:"readMinScale",value:function(e,t){return t.effectiveMinScale||e||0}},{key:"readMaxScale",value:function(e,t){return t.effectiveMaxScale||e||0}},{key:"readGlobalIdFieldFromService",value:function(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields){var r,n=yr(t.fields);try{for(n.s();!(r=n.n()).done;){var i=r.value;if("esriFieldTypeGlobalID"===i.type)return i.name}}catch(a){n.e(a)}finally{n.f()}}}},{key:"readObjectIdFieldFromService",value:function(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields){var r,n=yr(t.fields);try{for(n.s();!(r=n.n()).done;){var i=r.value;if("esriFieldTypeOID"===i.type)return i.name}}catch(a){n.e(a)}finally{n.f()}}}},{key:"parsedUrl",get:function(){var e=this.url?Object(T.K)(this.url):null;return null!=e&&(null!=this.dynamicDataSource?e.path=Object(T.z)(e.path,"dynamicLayer"):null!=this.layerId&&(e.path=Object(T.z)(e.path,this.layerId.toString()))),e}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"renderer",set:function(e){Object(Zt.j)(e,this.fieldsIndex),this._set("renderer",e)}},{key:"readRenderer",value:function(e,t,r){var n=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(n){var i=Object(m.b)(n,t,r)||void 0;return i||_r.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:r}),i}if(t.defaultSymbol)return t.types&&t.types.length?new v.a({defaultSymbol:Mr(t.defaultSymbol,t,r),field:t.typeIdField,uniqueValueInfos:t.types.map((function(e){return{id:e.id,symbol:Mr(e.symbol,e,r)}}))}):new y.a({symbol:Mr(t.defaultSymbol,t,r)})}},{key:"source",set:function(e){var t=this._get("source");t!==e&&(kr(t)&&this._resetMemorySource(t),kr(e)&&this._initMemorySource(e),this._set("source",e))}},{key:"castSource",value:function(e){return e?Array.isArray(e)||e instanceof w.a?new It({layer:this,items:e}):e:null}},{key:"readSource",value:function(e,t){var r=vt.default.fromJSON(t.featureSet);return new It({layer:this,items:r&&r.features||[]})}},{key:"readServiceDefinitionExpression",value:function(e,t){return t.definitionQuery||t.definitionExpression}},{key:"readTemplates",value:function(e,t){var r=t.editFieldsInfo,n=r&&r.creatorField,i=r&&r.editorField;return e=e&&e.map((function(e){return Wt.a.fromJSON(e)})),this._fixTemplates(e,n),this._fixTemplates(e,i),e}},{key:"readTitle",value:function(e,t){var r=t.layerDefinition&&t.layerDefinition.name||t.name,n=t.title||t.layerDefinition&&t.layerDefinition.title;if(r){var i=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?Object(Nt.j)(this.url,r):r;var a=r;if(!a&&this.url){var o=Object(Nt.f)(this.url);Object(I.i)(o)&&(a=o.title)}if(!a)return;return"item-title-and-service-name"===this.sublayerTitleMode&&i&&i!==a&&(a=i+" - "+a),Object(Nt.a)(a)}if("item-title"===this.sublayerTitleMode&&n)return n}},{key:"readTitleFromWebMap",value:function(e,t){return t.title||t.layerDefinition&&t.layerDefinition.name}},{key:"readTypeIdField",value:function(e,t){var r=(t=t.layerDefinition||t).typeIdField;if(r&&t.fields){r=r.toLowerCase();var n=t.fields.find((function(e){return e.name.toLowerCase()===r}));n&&(r=n.name)}return r}},{key:"readTypes",value:function(e,t){var r=this;e=(t=t.layerDefinition||t).types;var n=t.editFieldsInfo,i=n&&n.creatorField,a=n&&n.editorField;return e&&e.map((function(e){return e=Jt.a.fromJSON(e),r._fixTemplates(e.templates,i),r._fixTemplates(e.templates,a),e}))}},{key:"url",set:function(e){var t=Object(Nt.i)({layer:this,url:e,nonStandardUrlAllowed:!0,logger:_r});this._set("url",t.url),null!=t.layerId&&this._set("layerId",t.layerId)}},{key:"writeUrl",value:function(e,t,r,n){Object(Nt.k)(this,e,null,t,n)}},{key:"readVersion",value:function(e,t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}},{key:"readVisible",value:function(e,t){return t.layerDefinition&&null!=t.layerDefinition.defaultVisibility?!!t.layerDefinition.defaultVisibility:null!=t.visibility?!!t.visibility:void 0}},{key:"addAttachment",value:function(e,t){var r=this;return this.load().then((function(){return r._checkAttachmentSupport(e)})).then((function(){if(!("addAttachment"in r.source))throw new _.a("FeatureLayer","Layer source does not support addAttachment capability");return r.source.addAttachment(e,t)}))}},{key:"updateAttachment",value:function(e,t,r){var n=this;return this.load().then((function(){return n._checkAttachmentSupport(e)})).then((function(){if(!("updateAttachment"in n.source))throw new _.a("FeatureLayer","Layer source does not support updateAttachment capability");return n.source.updateAttachment(e,t,r)}))}},{key:"applyEdits",value:(a=Object(i.a)(d.a.mark((function e(t,n){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(11).then(r.bind(null,"CVpD"));case 2:return i=e.sent,e.next=5,this.load();case 5:return e.abrupt("return",i.applyEdits(this,this.source,t,n));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"on",value:function(e,t){return Object(c.a)(Object(f.a)(p.prototype),"on",this).call(this,e,t)}},{key:"createPopupTemplate",value:function(e){return Object(br.a)(this,e)}},{key:"createGraphicsSource",value:(n=Object(i.a)(d.a.mark((function e(t){var n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._hasMemorySource()){e.next=2;break}return e.abrupt("return",this.source.load({signal:t}));case 2:return e.next=4,Object(E.y)(r.e(141).then(r.bind(null,"DKWD")),t);case 4:return n=e.sent,i=n.default,e.abrupt("return",new i({layer:this}).load({signal:t}));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"createQuery",value:function(){var e=new pr.a,t=this.get("capabilities.data");e.dynamicDataSource=this.dynamicDataSource,e.gdbVersion=this.gdbVersion,e.historicMoment=this.historicMoment,e.returnGeometry=!0,t&&(t.supportsZ&&null!=this.returnZ&&(e.returnZ=this.returnZ),t.supportsM&&null!=this.returnM&&(e.returnM=this.returnM)),e.outFields=["*"],e.where=this.definitionExpression||"1=1";var r=this.timeOffset,n=this.timeExtent;return e.timeExtent=null!=r&&null!=n?n.offset(-r.value,r.unit):n||null,e.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null,e}},{key:"deleteAttachments",value:function(e,t){var r=this;return this.load().then((function(){return r._checkAttachmentSupport(e)})).then((function(){if(!("deleteAttachments"in r.source))throw new _.a("FeatureLayer","Layer source does not support deleteAttachments capability");return r.source.deleteAttachments(e,t)}))}},{key:"fetchRecomputedExtents",value:function(e){var t=this;return this.load({signal:null==e?void 0:e.signal}).then((function(){if(t.source.fetchRecomputedExtents)return t.source.fetchRecomputedExtents(e);throw new _.a("FeatureLayer","Layer source does not support fetchUpdates capability")}))}},{key:"getFeatureType",value:function(e){var t=this.typeIdField,r=this.types;if(!t||!e)return null;var n=e.attributes?e.attributes[t]:void 0;if(null==n)return null;var i=null;return r.some((function(e){var t=e.id;return null!=t&&(t.toString()===n.toString()&&(i=e),!!i)})),i}},{key:"getFieldDomain",value:function(e,t){var r=t&&t.feature,n=this.getFeatureType(r);if(n){var i=n.domains&&n.domains[e];if(i&&"inherited"!==i.type)return i}return this._getLayerDomain(e)}},{key:"getField",value:function(e){return this.fieldsIndex.get(e)}},{key:"queryAttachments",value:function(e,t){var r=this;return e=fr.a.from(e),this.load().then((function(){if(!r.get("capabilities.data.supportsAttachment"))throw new _.a("FeatureLayer","this layer doesn't support attachments");var t=e,n=t.attachmentTypes,i=t.objectIds,a=t.globalIds,o=t.num,s=t.size,c=t.start,u=t.where;if(!r.get("capabilities.operations.supportsQueryAttachments")){var l=i&&i.length>1,f=n&&n.length,p=a&&a.length,d=s&&s.length;if(l||f||p||d||o||c||u)throw new _.a("FeatureLayer","when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",e)}if(!(i&&i.length||u))throw new _.a("FeatureLayer","'objectIds' or 'where' are required to perform attachment query",e);if(!("queryAttachments"in r.source))throw new _.a("FeatureLayer","Layer source does not support queryAttachments capability",e);return r.source.queryAttachments(e)}))}},{key:"queryFeatures",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryFeatures(pr.a.from(e)||r.createQuery(),t)})).then((function(e){if(null!=e&&e.features){var t,n=yr(e.features);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.layer=i.sourceLayer=r}}catch(a){n.e(a)}finally{n.f()}}return e}))}},{key:"queryObjectIds",value:function(e,t){var r=this;return this.load().then((function(){if(r.source.queryObjectIds)return r.source.queryObjectIds(pr.a.from(e)||r.createQuery(),t);throw new _.a("FeatureLayer","Layer source does not support queryObjectIds capability")}))}},{key:"queryFeatureCount",value:function(e,t){var r=this;return this.load().then((function(){if(r.source.queryFeatureCount)return r.source.queryFeatureCount(pr.a.from(e)||r.createQuery(),t);throw new _.a("FeatureLayer","Layer source does not support queryFeatureCount capability")}))}},{key:"queryExtent",value:function(e,t){var r=this;return this.load().then((function(){if(r.source.queryExtent)return r.source.queryExtent(pr.a.from(e)||r.createQuery(),t);throw new _.a("FeatureLayer","Layer source does not support queryExtent capability")}))}},{key:"queryRelatedFeatures",value:function(e,t){var r=this;return this.load().then((function(){if("queryRelatedFeatures"in r.source)return r.source.queryRelatedFeatures(dr.a.from(e),t);throw new _.a("FeatureLayer","Layer source does not support queryRelatedFeatures capability")}))}},{key:"queryRelatedFeaturesCount",value:function(e,t){var r=this;return this.load().then((function(){if("queryRelatedFeaturesCount"in r.source)return r.source.queryRelatedFeaturesCount(dr.a.from(e),t);throw new _.a("FeatureLayer","Layer source does not support queryRelatedFeaturesCount capability")}))}},{key:"queryTopFeatures",value:function(e,t){var r=this;return this.load().then((function(){if("queryTopFeatures"in r.source&&r.get("capabilities.query.supportsTopFeaturesQuery"))return r.source.queryTopFeatures(hr.a.from(e),t).then((function(e){if(null!=e&&e.features){var t,n=yr(e.features);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.layer=i.sourceLayer=r}}catch(a){n.e(a)}finally{n.f()}}return e}));throw new _.a("FeatureLayer","Layer source does not support queryTopFeatures capability")}))}},{key:"queryTopObjectIds",value:function(e,t){var r=this;return this.load().then((function(){if("queryTopObjectIds"in r.source&&r.get("capabilities.query.supportsTopFeaturesQuery"))return r.source.queryTopObjectIds(hr.a.from(e),t);throw new _.a("FeatureLayer","Layer source does not support queryTopObjectIds capability")}))}},{key:"queryTopFeaturesExtent",value:function(e,t){var r=this;return this.load().then((function(){if("queryTopExtents"in r.source&&r.get("capabilities.query.supportsTopFeaturesQuery"))return r.source.queryTopExtents(hr.a.from(e),t);throw new _.a("FeatureLayer","Layer source does not support queryTopExtents capability")}))}},{key:"queryTopFeatureCount",value:function(e,t){var r=this;return this.load().then((function(){if("queryTopCount"in r.source&&r.get("capabilities.query.supportsTopFeaturesQuery"))return r.source.queryTopCount(hr.a.from(e),t);throw new _.a("FeatureLayer","Layer source does not support queryFeatureCount capability")}))}},{key:"read",value:function(e,t){var r=e.featureCollection;if(r){var n=r.layers;n&&1===n.length&&(Object(c.a)(Object(f.a)(p.prototype),"read",this).call(this,n[0],t),null!=r.showLegend&&Object(c.a)(Object(f.a)(p.prototype),"read",this).call(this,{showLegend:r.showLegend},t))}Object(c.a)(Object(f.a)(p.prototype),"read",this).call(this,e,t),t&&"service"===t.origin&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}},{key:"write",value:function(e,t){var r,n,i=(t=gr(gr({},t),{},{writeLayerSchema:null!=(r=null==(n=t)?void 0:n.writeLayerSchema)?r:this._hasMemorySource()})).origin,a=t.layerContainerType,o=t.messages;if(this.isTable){if("web-scene"===i||"web-map"===i&&"tables"!==a)return o&&o.push(new _.a("layer:unsupported","Layer (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' using a Table source cannot be written to web scenes and web maps"),{layer:this})),null;if(this._hasMemorySource())return o&&o.push(new _.a("layer:unsupported","Layer (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' using an in-memory Table source cannot be written to web scenes and web maps"),{layer:this})),null}else if(this.loaded&&"web-map"===i&&"tables"===a)return o&&o.push(new _.a("layer:unsupported","Layer (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' using a non-table source cannot be written to tables in web maps"),{layer:this})),null;return Object(c.a)(Object(f.a)(p.prototype),"write",this).call(this,e,t)}},{key:"_readEditingEnabled",value:function(e,t,r){var n,i=null==(n=e.layerDefinition)?void 0:n.capabilities;return i?this._hasEditingCapability(i):(i=e.capabilities,t&&"web-map"===(null==r?void 0:r.origin)&&!this._hasMemorySource()&&i?this._hasEditingCapability(i):void 0)}},{key:"_hasEditingCapability",value:function(e){return e.toLowerCase().split(",").map((function(e){return e.trim()})).includes("editing")}},{key:"_writeEditingEnabled",value:function(e,t,r,n){if(!e){var i,a,o=null!=(i=this.capabilities)&&null!=(a=i.operations)&&a.supportsSync?"Query,Sync":"Query";Object(M.c)("layerDefinition.capabilities",o,t),!r||null!=n&&n.writeLayerSchema||(t.capabilities=o)}}},{key:"_checkAttachmentSupport",value:function(e){var t=e.attributes,r=this.objectIdField;return this.get("capabilities.data.supportsAttachment")?e?t?t[r]?void 0:Promise.reject(new _.a("FeatureLayer","feature is missing the identifying attribute ".concat(r))):Promise.reject(new _.a("FeatureLayer","'attributes' are required on a feature to query attachments")):Promise.reject(new _.a("FeatureLayer","A feature is required to add/delete/update attachments")):Promise.reject(new _.a("FeatureLayer","this layer doesn't support attachments"))}},{key:"_getLayerDomain",value:function(e){var t=this.fieldsIndex.get(e);return t?t.domain:null}},{key:"_fetchFirstLayerId",value:function(e){return Object(O.default)(this.url,{query:gr(gr({f:"json"},this.customParameters),{},{token:this.apiKey}),responseType:"json",signal:e}).then((function(e){var t=e.data;if(t)return Array.isArray(t.layers)&&t.layers.length>0?t.layers[0].id:Array.isArray(t.tables)&&t.tables.length>0?t.tables[0].id:void 0}))}},{key:"_initLayerProperties",value:(t=Object(i.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this._set("source",t),t.sourceJSON&&(this.sourceJSON=t.sourceJSON,this.read(t.sourceJSON,{origin:"service",url:this.parsedUrl})),this._verifySource(),this._verifyFields(),Object(Zt.j)(this.renderer,this.fieldsIndex),Object(Zt.k)(this.timeInfo,this.fieldsIndex),Object(lr.a)(this,{origin:"service"})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_verifyFields",value:function(){var e=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||-1!==e.search(/\/FeatureServer\//i)||this.fields&&this.fields.some((function(e){return"geometry"===e.type}))||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}},{key:"_fixTemplates",value:function(e,t){e&&e.forEach((function(e){var r=e.prototype&&e.prototype.attributes;r&&t&&delete r[t]}))}},{key:"_verifySource",value:function(){if(this._hasMemorySource()){if(this.url)throw new _.a("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new _.a("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}},{key:"_initMemorySource",value:function(e){var t=this;e.forEach((function(e){e.layer=t,e.sourceLayer=t})),this._handles.add([e.on("after-add",(function(e){e.item.layer=t,e.item.sourceLayer=t})),e.on("after-remove",(function(e){e.item.layer=null,e.item.sourceLayer=null}))],"fl-source")}},{key:"_resetMemorySource",value:function(e){e.forEach((function(e){e.layer=null,e.sourceLayer=null})),this._handles.remove("fl-source")}},{key:"_hasMemorySource",value:function(){return!(this.url||!this.source)}},{key:"_readAttachmentCapabilities",value:function(e){var t={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};return e&&Array.isArray(e)&&e.forEach((function(e){var r=wr[e.name];r&&(t[r]=!!e.isEnabled)})),t}},{key:"_readDataCapabilities",value:function(e){return{isVersioned:xr(e,"isDataVersioned",!1),supportsAttachment:xr(e,"hasAttachments",!1),supportsM:xr(e,"hasM",!1),supportsZ:xr(e,"hasZ",!1)}}},{key:"_readMetadataCapabilities",value:function(e){return{supportsAdvancedFieldProperties:xr(e,"supportsFieldDescriptionProperty",!1)}}},{key:"_readOperationsCapabilities",value:function(e,t){var r=e?e.toLowerCase().split(",").map((function(e){return e.trim()})):[],n=-1!==r.indexOf("editing"),i=n&&-1!==r.indexOf("create"),a=n&&-1!==r.indexOf("delete"),o=n&&-1!==r.indexOf("update"),s=-1!==r.indexOf("changetracking");return n&&!(i||a||o)&&(i=a=o=!0),{supportsCalculate:xr(t,"supportsCalculate",!1),supportsTruncate:xr(t,"supportsTruncate",!1),supportsValidateSql:xr(t,"supportsValidateSql",!1),supportsAdd:i,supportsDelete:a,supportsEditing:n,supportsChangeTracking:s,supportsQuery:-1!==r.indexOf("query"),supportsQueryAttachments:xr(t.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:xr(t,"supportsAttachmentsResizing",!1),supportsSync:-1!==r.indexOf("sync"),supportsUpdate:o,supportsExceedsLimitStatistics:xr(t,"supportsExceedsLimitStatistics",!1)}}},{key:"_readQueryCapabilities",value:function(e){var t,r=e.advancedQueryCapabilities,n=e.ownershipBasedAccessControlForFeatures,i=e.archivingInfo,a=null==(t=this.url)?void 0:t.includes("MapServer"),o=!Object(x.a)("mapserver-pbf-enabled")&&a&&this.version<10.81,s=(e.supportedQueryFormats||"").split(",").reduce((function(e,t){var r=t.toLowerCase().trim();return r&&e.add(r),e}),new Set);return{supportsStatistics:xr(r,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:xr(r,"supportsPercentileStatistics",!1),supportsCentroid:xr(r,"supportsReturningGeometryCentroid",!1),supportsDistance:xr(r,"supportsQueryWithDistance",!1),supportsDistinct:xr(r,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:xr(r,"supportsReturningQueryExtent",!1),supportsGeometryProperties:xr(r,"supportsReturningGeometryProperties",!1),supportsHavingClause:xr(r,"supportsHavingClause",!1),supportsOrderBy:xr(r,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:xr(r,"supportsPagination",!1),supportsQuantization:xr(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:xr(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:xr(e,"supportsReturningQueryGeometry",!1),supportsResultType:xr(r,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:xr(r,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:xr(r,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:xr(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:xr(r,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:xr(n,"allowOthersToQuery",!0),supportsHistoricMoment:xr(i,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!o&&s.has("pbf"),supportsDisjointSpatialRelationship:xr(r,"supportsDisjointSpatialRel",!1),supportsCacheHint:xr(r,"supportsQueryWithCacheHint",!1),maxRecordCountFactor:Sr(e,"maxRecordCountFactor",void 0),maxRecordCount:Sr(e,"maxRecordCount",void 0),standardMaxRecordCount:Sr(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:Sr(e,"tileMaxRecordCount",void 0)}}},{key:"_readQueryRelatedCapabilities",value:function(e){var t=e.advancedQueryCapabilities,r=xr(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:xr(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r}}},{key:"_readEditingCapabilities",value:function(e){var t=e.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:xr(e,"allowGeometryUpdates",!0),supportsGlobalId:xr(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:xr(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:xr(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:xr(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:xr(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:xr(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:xr(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:xr(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:xr(t,"allowOthersToUpdate",!0)}}}]),p}(Object(Et.a)(Object(Ft.a)(Object(Lt.a)(Object(Dt.a)(Object(Mt.a)(Object(At.a)(Object(Ct.a)(Object(R.a)(Object(Tt.a)(Object(Rt.a)(lt.a)))))))))));Object(h.a)([Object(A.b)({readOnly:!0,json:{read:!1}})],Rr.prototype,"capabilities",void 0),Object(h.a)([Object(D.a)("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],Rr.prototype,"readCapabilities",null),Object(h.a)([Object(A.b)({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Rr.prototype,"charts",void 0),Object(h.a)([Object(A.b)({readOnly:!0})],Rr.prototype,"createQueryVersion",null),Object(h.a)([Object(A.b)({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],Rr.prototype,"copyright",void 0),Object(h.a)([Object(A.b)({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],Rr.prototype,"displayField",void 0),Object(h.a)([Object(A.b)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],Rr.prototype,"definitionExpression",void 0),Object(h.a)([Object(A.b)({types:j.e,readOnly:!0})],Rr.prototype,"defaultSymbol",void 0),Object(h.a)([Object(A.b)({type:ur.a})],Rr.prototype,"dynamicDataSource",void 0),Object(h.a)([Object(A.b)({readOnly:!0})],Rr.prototype,"editFieldsInfo",void 0),Object(h.a)([Object(A.b)({type:Boolean})],Rr.prototype,"editingEnabled",null),Object(h.a)([Object(D.a)(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],Rr.prototype,"readEditingEnabled",null),Object(h.a)([Object(D.a)("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],Rr.prototype,"readEditingEnabledFromWebMap",null),Object(h.a)([Object(F.a)(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],Rr.prototype,"writeEditingEnabled",null),Object(h.a)([Object(F.a)("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],Rr.prototype,"writeEditingEnabledToWebMap",null),Object(h.a)([Object(A.b)({readOnly:!0})],Rr.prototype,"editingInfo",void 0),Object(h.a)([Object(D.a)("editingInfo")],Rr.prototype,"readEditingInfo",null),Object(h.a)([Object(A.b)(Bt.b)],Rr.prototype,"elevationInfo",void 0),Object(h.a)([Object(A.b)({types:{key:"type",base:zt.a,typeMap:{selection:Ht.a,cluster:qt.a}},json:{write:{target:"layerDefinition.featureReduction"}}})],Rr.prototype,"featureReduction",void 0),Object(h.a)([Object(D.a)("featureReduction",["layerDefinition.featureReduction"])],Rr.prototype,"readFeatureReduction",null),Object(h.a)([Object(F.a)("web-scene","featureReduction",{"layerDefinition.featureReduction":{types:Gt.b}})],Rr.prototype,"writeWebSceneFeatureReduction",null),Object(h.a)([Object(A.b)(gr(gr({},Pr.fields),{},{json:{read:{source:"layerDefinition.fields"},origins:{service:{read:!0},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Ir}}}}}))],Rr.prototype,"fields",void 0),Object(h.a)([Object(A.b)(Pr.fieldsIndex)],Rr.prototype,"fieldsIndex",void 0),Object(h.a)([Object(A.b)({type:rr.a,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],Rr.prototype,"floorInfo",void 0),Object(h.a)([Object(A.b)({type:ot,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Rr.prototype,"formTemplate",void 0),Object(h.a)([Object(A.b)({type:st.a,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],Rr.prototype,"fullExtent",void 0),Object(h.a)([Object(A.b)()],Rr.prototype,"gdbVersion",void 0),Object(h.a)([Object(A.b)({readOnly:!0,type:Yt,json:{read:{source:"geometryProperties"}}})],Rr.prototype,"geometryFieldsInfo",void 0),Object(h.a)([Object(A.b)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:jr.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Ir,writer:function(e,t,r){var n=e?jr.toJSON(e):null;n&&Object(M.c)(r,n,t)}}}},read:{source:"layerDefinition.geometryType",reader:jr.read}}})],Rr.prototype,"geometryType",void 0),Object(h.a)([Object(A.b)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],Rr.prototype,"hasM",void 0),Object(h.a)([Object(A.b)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],Rr.prototype,"hasZ",void 0),Object(h.a)([Object(A.b)({readOnly:!0,type:ct.a})],Rr.prototype,"heightModelInfo",void 0),Object(h.a)([Object(A.b)({type:Date})],Rr.prototype,"historicMoment",void 0),Object(h.a)([Object(A.b)(Bt.c)],Rr.prototype,"id",void 0),Object(h.a)([Object(A.b)({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],Rr.prototype,"infoFor3D",void 0),Object(h.a)([Object(A.b)({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],Rr.prototype,"isTable",void 0),Object(h.a)([Object(D.a)("service","isTable",["type","geometryType"]),Object(D.a)("isTable",["layerDefinition.type","layerDefinition.geometryType"])],Rr.prototype,"readIsTable",null),Object(h.a)([Object(F.a)("web-map","isTable")],Rr.prototype,"writeIsTable",null),Object(h.a)([Object(A.b)(Bt.d)],Rr.prototype,"labelsVisible",void 0),Object(h.a)([Object(A.b)({type:[er.a],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:tr.a},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:tr.a},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],Rr.prototype,"labelingInfo",void 0),Object(h.a)([Object(A.b)(Bt.i)],Rr.prototype,"opacity",void 0),Object(h.a)([Object(A.b)({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],Rr.prototype,"layerId",void 0),Object(h.a)([Object(A.b)(Bt.e)],Rr.prototype,"legendEnabled",void 0),Object(h.a)([Object(A.b)({type:["show","hide"]})],Rr.prototype,"listMode",void 0),Object(h.a)([Object(A.b)(Bt.g)],Rr.prototype,"minScale",void 0),Object(h.a)([Object(D.a)("service","minScale",["minScale","effectiveMinScale"])],Rr.prototype,"readMinScale",null),Object(h.a)([Object(A.b)(Bt.f)],Rr.prototype,"maxScale",void 0),Object(h.a)([Object(D.a)("service","maxScale",["maxScale","effectiveMaxScale"])],Rr.prototype,"readMaxScale",null),Object(h.a)([Object(A.b)({type:String})],Rr.prototype,"globalIdField",void 0),Object(h.a)([Object(D.a)("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),Object(D.a)("service","globalIdField",["globalIdField","fields"])],Rr.prototype,"readGlobalIdFieldFromService",null),Object(h.a)([Object(A.b)({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Ir}}}}})],Rr.prototype,"objectIdField",void 0),Object(h.a)([Object(D.a)("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),Object(D.a)("service","objectIdField",["objectIdField","fields"])],Rr.prototype,"readObjectIdFieldFromService",null),Object(h.a)([Object(A.b)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],Rr.prototype,"operationalLayerType",void 0),Object(h.a)([Object(A.b)(Pr.outFields)],Rr.prototype,"outFields",void 0),Object(h.a)([Object(A.b)({readOnly:!0})],Rr.prototype,"parsedUrl",null),Object(h.a)([Object(A.b)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],Rr.prototype,"path",void 0),Object(h.a)([Object(A.b)(Bt.j)],Rr.prototype,"popupEnabled",void 0),Object(h.a)([Object(A.b)({type:b.a,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],Rr.prototype,"popupTemplate",void 0),Object(h.a)([Object(A.b)({readOnly:!0})],Rr.prototype,"defaultPopupTemplate",null),Object(h.a)([Object(A.b)({type:[sr],readOnly:!0})],Rr.prototype,"relationships",void 0),Object(h.a)([Object(A.b)({types:g.a,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:g.b,write:{target:"layerDefinition.drawingInfo.renderer",writer:m.c}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:function(e,t,r){return{ignoreOrigin:null==r?void 0:r.writeLayerSchema}},writer:m.c}}})],Rr.prototype,"renderer",null),Object(h.a)([Object(D.a)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),Object(D.a)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],Rr.prototype,"readRenderer",null),Object(h.a)([Object(A.b)()],Rr.prototype,"sourceJSON",void 0),Object(h.a)([Object(A.b)({type:Boolean})],Rr.prototype,"returnM",void 0),Object(h.a)([Object(A.b)({type:Boolean})],Rr.prototype,"returnZ",void 0),Object(h.a)([Object(A.b)(Bt.m)],Rr.prototype,"screenSizePerspectiveEnabled",void 0),Object(h.a)([Object(A.b)()],Rr.prototype,"source",null),Object(h.a)([Object(C.a)("source")],Rr.prototype,"castSource",null),Object(h.a)([Object(D.a)("portal-item","source",["featureSet"]),Object(D.a)("web-map","source",["featureSet"])],Rr.prototype,"readSource",null),Object(h.a)([Object(A.b)({readOnly:!0})],Rr.prototype,"serviceDefinitionExpression",void 0),Object(h.a)([Object(D.a)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],Rr.prototype,"readServiceDefinitionExpression",null),Object(h.a)([Object(A.b)({type:ut.a,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],Rr.prototype,"spatialReference",void 0),Object(h.a)([Object(A.b)({type:Number})],Rr.prototype,"subtypeCode",void 0),Object(h.a)([Object(A.b)({type:[Wt.a]})],Rr.prototype,"templates",void 0),Object(h.a)([Object(D.a)("templates",["editFieldsInfo","creatorField","editorField","templates"])],Rr.prototype,"readTemplates",null),Object(h.a)([Object(A.b)({type:cr.a})],Rr.prototype,"timeInfo",void 0),Object(h.a)([Object(A.b)()],Rr.prototype,"title",void 0),Object(h.a)([Object(D.a)("service","title",["name"]),Object(D.a)("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],Rr.prototype,"readTitle",null),Object(h.a)([Object(D.a)("web-map","title",["layerDefinition.name","title"])],Rr.prototype,"readTitleFromWebMap",null),Object(h.a)([Object(A.b)({type:String})],Rr.prototype,"sublayerTitleMode",void 0),Object(h.a)([Object(A.b)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],Rr.prototype,"trackIdField",void 0),Object(h.a)([Object(A.b)({json:{read:!1}})],Rr.prototype,"type",void 0),Object(h.a)([Object(A.b)({type:String})],Rr.prototype,"typeIdField",void 0),Object(h.a)([Object(D.a)("service","typeIdField"),Object(D.a)("typeIdField",["layerDefinition.typeIdField"])],Rr.prototype,"readTypeIdField",null),Object(h.a)([Object(A.b)({type:[Jt.a]})],Rr.prototype,"types",void 0),Object(h.a)([Object(D.a)("service","types",["types"]),Object(D.a)("types",["layerDefinition.types"])],Rr.prototype,"readTypes",null),Object(h.a)([Object(A.b)({readOnly:!0,json:{write:!1}})],Rr.prototype,"serverGens",void 0),Object(h.a)([Object(A.b)({type:w.a.ofType(Ut),readOnly:!0})],Rr.prototype,"indexes",void 0),Object(h.a)([Object(A.b)(Bt.n)],Rr.prototype,"url",null),Object(h.a)([Object(F.a)("url")],Rr.prototype,"writeUrl",null),Object(h.a)([Object(A.b)({readOnly:!0})],Rr.prototype,"userIsAdmin",void 0),Object(h.a)([Object(A.b)({json:{origins:{service:{read:!0}},read:!1}})],Rr.prototype,"version",void 0),Object(h.a)([Object(D.a)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],Rr.prototype,"readVersion",null),Object(h.a)([Object(A.b)({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],Rr.prototype,"visible",void 0),Object(h.a)([Object(D.a)("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],Rr.prototype,"readVisible",null),Rr=Object(h.a)([Object(L.a)("esri.layers.FeatureLayer")],Rr);var Mr=Object(N.b)({types:j.i}),Er=Rr;t.default=Er},EOw0:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return j})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return m})),r.d(t,"h",(function(){return v})),r.d(t,"i",(function(){return o})),r.d(t,"j",(function(){return p})),r.d(t,"k",(function(){return d})),r.d(t,"l",(function(){return b})),r.d(t,"m",(function(){return a})),r.d(t,"n",(function(){return g}));var n=r("p0eS");function i(e,t){return e[0]=t[0],e[1]=t[1],e}function a(e,t,r){return e[0]=t,e[1]=r,e}function o(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function s(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function c(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function u(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function l(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function f(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}function p(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function d(e){var t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function h(e){var t=e[0],r=e[1];return t*t+r*r}function b(e,t){return e[0]=-t[0],e[1]=-t[1],e}function y(e,t){var r=t[0],n=t[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function v(e,t){return e[0]*t[0]+e[1]*t[1]}function m(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function g(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}var O=d,j=s,w=c,_=u,k=f,x=p,S=h;Object.freeze({__proto__:null,copy:i,set:a,add:o,subtract:s,multiply:c,divide:u,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},scale:l,scaleAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e},distance:f,squaredDistance:p,length:d,squaredLength:h,negate:b,inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},normalize:y,dot:v,cross:m,lerp:function(e,t,r,n){var i=t[0],a=t[1];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e},random:function(e,t){t=t||1;var r=2*Object(n.b)()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e},transformMat2:function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e},transformMat2d:g,transformMat3:function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e},transformMat4:function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e},rotate:function(e,t,r,n){var i=t[0]-r[0],a=t[1]-r[1],o=Math.sin(n),s=Math.cos(n);return e[0]=i*s-a*o+r[0],e[1]=i*o+a*s+r[1],e},angle:function(e,t){var r=e[0],n=e[1],i=t[0],a=t[1],o=r*r+n*n;o>0&&(o=1/Math.sqrt(o));var s=i*i+a*a;s>0&&(s=1/Math.sqrt(s));var c=(r*i+n*a)*o*s;return c>1?0:c<-1?Math.PI:Math.acos(c)},str:function(e){return"vec2("+e[0]+", "+e[1]+")"},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]},equals:function(e,t){var r=e[0],i=e[1],a=t[0],o=t[1];return Math.abs(r-a)<=n.a*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-o)<=n.a*Math.max(1,Math.abs(i),Math.abs(o))},len:O,sub:j,mul:w,div:_,dist:k,sqrDist:x,sqrLen:S})},EeA9:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("WYis"),f=r("0n+b"),p=r("0fJP"),d=r("xAIp"),h=(r("wckI"),r("J4Pc"),r("TM+E"),r("iaHD")),b=r("I2xc");function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var v=n=function(e){Object(o.a)(r,e);var t=y(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).color=new l.a("white"),e}return Object(a.a)(r,[{key:"clone",value:function(){return new n({color:Object(p.a)(this.color)})}}]),r}(f.a);Object(u.a)([Object(d.b)(b.a)],v.prototype,"color",void 0);var m=v=n=Object(u.a)([Object(h.a)("esri.symbols.callouts.LineCallout3DBorder")],v);Object.freeze({__proto__:null,get LineCallout3DBorder(){return v},default:m})},"Egi+":function(e,t,r){var n=r("+dZb")("throttle",r("T5cu"));n.placeholder=r("IOY3"),e.exports=n},EqhP:function(e,t,r){e.exports=r("exBb")},ErXN:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("8jRW");function i(){var e=a.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var t=function(t){return e[t].toString(16)};return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}var a=n.a.crypto||n.a.msCrypto},EwUX:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("WYis"),f=r("0n+b"),p=r("xAIp"),d=(r("J4Pc"),r("wckI")),h=(r("TM+E"),r("iaHD")),b=r("jr4m");function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var v=n=function(e){Object(o.a)(r,e);var t=y(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).color=null,n.label=null,n.value=null,n}return Object(a.a)(r,[{key:"writeValue",value:function(e,t,r){t[r]=null==e?0:e}},{key:"clone",value:function(){return new n({color:this.color&&this.color.clone(),label:this.label,value:this.value})}}]),r}(f.a);Object(u.a)([Object(p.b)({type:l.a,json:{type:[d.a],write:!0}})],v.prototype,"color",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],v.prototype,"label",void 0),Object(u.a)([Object(p.b)({type:Number,json:{write:{allowNull:!0}}})],v.prototype,"value",void 0),Object(u.a)([Object(b.a)("value")],v.prototype,"writeValue",null);var m=v=n=Object(u.a)([Object(h.a)("esri.renderers.visualVariables.support.ColorStop")],v);t.a=m},Exs5:function(e,t,r){var n=r("sWZd"),i=r("cTHi");e.exports=function(e,t){for(var r=0,a=(t=n(t,e)).length;null!=e&&r<a;)e=e[i(t[r++])];return r&&r==a?e:void 0}},F1Bx:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return v})),r.d(t,"e",(function(){return y})),r.d(t,"f",(function(){return h})),r.d(t,"g",(function(){return d}));var n=r("6CzD"),i=r("46c3"),a=r("0fJP"),o=r("7im+");function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function l(e,t){return null!=e&&e.metadatas&&null!=e.metadatas[t]}function f(e,t,r){return p(e,t,r?{policy:r,path:""}:null)}function p(e,t,r){return t?Object.keys(t).reduce((function(e,n){var i=null,s="merge";if(r&&(i=r.path?"".concat(r.path,".").concat(n):n,s=r.policy(i)),"replace"===s)return e[n]=t[n],e;if(void 0===e[n])return e[n]=Object(a.a)(t[n]),e;var c=e[n],u=t[n];if(c===u)return e;if(Array.isArray(u)||Array.isArray(e))c=c?Array.isArray(c)?e[n]=c.concat():e[n]=[c]:e[n]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach((function(e){-1===c.indexOf(e)&&c.push(e)})));else if(u&&"object"==typeof u)if(r){var l=r.path;r.path=Object(o.c)(i),e[n]=p(c,u,r),r.path=l}else e[n]=p(c,u,null);else e.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(e[n]=u);return e}),e||{}):e}function d(e){return e?"string"==typeof e&&-1===e.indexOf(".")?e:h(e):e}function h(e){return Array.isArray(e)?e:e.split(".")}function b(e){return e.indexOf(",")>-1?e.split(",").map((function(e){return e.trim()})):[e.trim()]}function y(e,t,r,a){var o=function(e){if(Array.isArray(e)){var t,r=[],i=s(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;r.push.apply(r,Object(n.a)(b(a)))}}catch(o){i.e(o)}finally{i.f()}return r}return b(e)}(t);if(1!==o.length){var c=o.map((function(t){return a(e,t,r)}));return Object(i.a)(c)}return a(e,o[0],r)}function v(e){var t=!1;return function(){t||(t=!0,e())}}},F28z:function(e,t,r){"use strict";var n=r("JRM0"),i=r("H0Ge").end,a=r("UkaN")("trimEnd"),o=a?function(){return i(this)}:"".trimEnd;n({target:"String",proto:!0,forced:a},{trimEnd:o,trimRight:o})},F3Ab:function(e,t,r){var n=r("Dh2Y"),i=r("dIZa"),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var o=e[t];a.call(e,t)&&i(o,r)&&(void 0!==r||t in e)||n(e,t,r)}},F56x:function(e,t){e.exports=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<a.length;c++){var u=a[c];if(!s(u))return!1;var l=e[u],f=t[u];if(!1===(i=r?r.call(n,l,f,u):void 0)||void 0===i&&l!==f)return!1}return!0}},F7E1:function(e,t,r){"use strict";r.r(t),r.d(t,"getPatternDescriptor",(function(){return M})),r.d(t,"getSymbolLayerFill",(function(){return R})),r.d(t,"previewSymbol3D",(function(){return N}));var n=r("mK0O"),i=r("eijD"),a=r("NthX"),o=r.n(a),s=r("e6DO"),c=r("jaCC"),u=(r("J4Pc"),r("Mp7X")),l=r("TM+E"),f=r("7im+"),p=r("IH5m"),d=r("frPA"),h=r("fVET"),b=r("AyDw"),y=r("cKN8"),v=r("j5Xy"),m=r("D/n4"),g=r("g4tb"),O=r("QXZs");function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=22,k=120,x=l.a.getLogger("esri.symbols.support.previewSymbol3D");function S(e){var t=e.outline,r=Object(f.i)(e.material)?e.material.color:null,n=Object(f.i)(r)?r.toHex():null;if(Object(f.h)(t))return"fill"===e.type&&"#ffffff"===n?{color:"#bdc3c7",width:.75}:null;var i=Object(d.c)(t.size)||0;return{color:"rgba("+(Object(f.i)(t.color)?t.color.toRgba():"255,255,255,1")+")",width:Math.min(i,80)}}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e.a,n=Object(c.a)(e),i=n.h,a=n.s/t,o=100-(100-n.v)/t,s=Object(c.d)({h:i,s:a,v:o}),u=s.r,l=s.g,f=s.b;return[u,l,f,r]}function I(e){return"water"===e.type?Object(f.h)(e.color)?null:e.color:Object(f.h)(e.material)||Object(f.h)(e.material.color)?null:e.material.color}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=I(e);if(!r){if("fill"===e.type)return null;var n=h.a.r,i=Object(v.b)(n,t);return[i,i,i,100]}for(var a=r.toRgba(),o=0;o<3;o++)a[o]=Object(v.b)(a[o],t);return a}function M(e,t){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(o.a.mark((function e(t,r){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("none"!==(n=t.style)){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,Object(h.c)(Object(s.a)("esri/symbols/patterns/".concat(n,".png")),r.toCss(!0));case 5:return e.t0=e.sent,e.abrupt("return",{type:"pattern",x:0,y:0,src:e.t0,width:5,height:5});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return e.outline?S(e):{color:"rgba(0, 0, 0, 1)",width:1.5}}function A(e,t){var r=I(e);if(!r)return null;var n="rgba(";return n+=Object(v.b)(r.r,t)+",",n+=Object(v.b)(r.g,t)+",",(n+=Object(v.b)(r.b,t)+",")+r.a+");"}function C(e,t){var r=A(e,t);return r?{color:r,width:Math.min(e.size?Object(d.c)(e.size):.75,80)}:{}}function D(e,t,r){var n=.75*r;return{type:"linear",x1:n?.25*n:0,y1:n?.5*n:0,x2:n||4,y2:n?.5*n:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function L(e,t){var r,n=t&&t.size?Object(d.c)(t.size):null,i=t&&t.maxSize?Object(d.c)(t.maxSize):null,a=t&&t.disableUpsampling,o=e.symbolLayers,c=[],u=0,l=0,f=o.getItemAt(o.length-1);return f&&"icon"===f.type&&(r=f.size&&Object(d.c)(f.size)),o.forEach((function(o){if("icon"===o.type||"object"===o.type){var f="icon"===o.type?o.size&&Object(d.c)(o.size):0,p=n||f?Math.ceil(Math.min(n||f,i||k)):_;if(o&&o.resource&&o.resource.href){var h=function(e,t){var r=t&&t.resource,n=r&&r.href;if(e.thumbnail&&e.thumbnail.url)return Promise.resolve(e.thumbnail.url);if(n&&"object"!==t.type)return Promise.resolve(Object(O.f)(e,t));var i=Object(s.a)("esri/images/Legend/legend3dsymboldefault.png");return e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)?Object(g.resolveWebStyleSymbol)(e.styleOrigin,{portal:e.styleOrigin.portal},"webRef").catch((function(e){return e})).then((function(e){var t;return(null==e||null==(t=e.thumbnail)?void 0:t.url)||i})):Promise.resolve(i)}(e,o).then((function(e){var t=o.get("material.color"),r=function(e){return"icon"===e.type?"multiply":"tint"}(o);return Object(m.b)(e,p,t,r,a)})).then((function(e){var t=e.width,r=e.height;return u=Math.max(u,t),l=Math.max(l,r),[{shape:{type:"image",x:0,y:0,width:t,height:r,src:e.url},fill:null,stroke:null}]}));c.push(h)}else{var j,w=p;"icon"===o.type&&r&&n&&(w=p*(f/r));var x="tall"===(null==t?void 0:t.symbolConfig)||(null==t||null==(j=t.symbolConfig)?void 0:j.isTall)||"object"===o.type&&function(e){var t=e.depth,r=e.height,n=e.width;return n&&t&&r&&n===t&&n<r}(o);u=Math.max(u,x?20:w),l=Math.max(l,w),c.push(Promise.resolve(function(e,t,r){var n=[];if(!e)return n;switch(e.type){case"icon":var i=t,a=t;switch(e.resource&&e.resource.primitive||b.b){case"circle":n.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:R(e,0),stroke:S(e)});break;case"square":n.push({shape:{type:"path",path:[{command:"M",values:[0,a]},{command:"L",values:[0,0]},{command:"L",values:[i,0]},{command:"L",values:[i,a]},{command:"Z",values:[]}]},fill:R(e,0),stroke:S(e)});break;case"triangle":n.push({shape:{type:"path",path:[{command:"M",values:[0,a]},{command:"L",values:[.5*i,0]},{command:"L",values:[i,a]},{command:"Z",values:[]}]},fill:R(e,0),stroke:S(e)});break;case"cross":n.push({shape:{type:"path",path:[{command:"M",values:[.5*i,0]},{command:"L",values:[.5*i,a]},{command:"M",values:[0,.5*a]},{command:"L",values:[i,.5*a]}]},stroke:T(e)});break;case"x":n.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[i,a]},{command:"M",values:[i,0]},{command:"L",values:[0,a]}]},stroke:T(e)});break;case"kite":n.push({shape:{type:"path",path:[{command:"M",values:[0,.5*a]},{command:"L",values:[.5*i,0]},{command:"L",values:[i,.5*a]},{command:"L",values:[.5*i,a]},{command:"Z",values:[]}]},fill:R(e,0),stroke:S(e)})}break;case"object":switch(e.resource&&e.resource.primitive||y.b){case"cone":var o=D(R(e,0),R(e,-.6),r?20:t),s=Object(v.c)(t,r);n.push({shape:s[0],fill:o}),n.push({shape:s[1],fill:o});break;case"inverted-cone":var c=R(e,0),u=D(c,R(e,-.6),t),l=Object(v.h)(t);n.push({shape:l[0],fill:u}),n.push({shape:l[1],fill:c});break;case"cube":var f=Object(v.d)(t,r);n.push({shape:f[0],fill:R(e,0)}),n.push({shape:f[1],fill:R(e,-.3)}),n.push({shape:f[2],fill:R(e,-.5)});break;case"cylinder":var p=D(R(e,0),R(e,-.6),r?20:t),d=Object(v.e)(t,r);n.push({shape:d[0],fill:p}),n.push({shape:d[1],fill:p}),n.push({shape:d[2],fill:R(e,0)});break;case"diamond":var h=Object(v.f)(t);n.push({shape:h[0],fill:R(e,-.3)}),n.push({shape:h[1],fill:R(e,0)}),n.push({shape:h[2],fill:R(e,-.3)}),n.push({shape:h[3],fill:R(e,-.7)});break;case"sphere":var m=D(R(e,0),R(e,-.6));m.x1=0,m.y1=0,m.x2=.25*t,m.y2=.25*t,n.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:m});break;case"tetrahedron":var g=Object(v.j)(t);n.push({shape:g[0],fill:R(e,-.3)}),n.push({shape:g[1],fill:R(e,0)}),n.push({shape:g[2],fill:R(e,-.6)})}}return n}(o,w,x)))}}})),Object(p.j)(c).then((function(e){var r=[];return e.forEach((function(e){e.value?r.push(e.value):e.error&&x.warn("error while building swatchInfo!",e.error)})),Object(m.a)(r,[u,l],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})}))}function F(){return(F=Object(i.a)(o.a.mark((function e(t,r){var n,i,a,s,c,u,l,p,h,b,y,g,O,j,x,E,T,A,D,L,F,N,B,V,U,z,q,H,G,W,J;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="mesh-3d"===t.type,i=t.symbolLayers,a=r&&r.size?Object(d.c)(r.size):null,s=r&&r.maxSize?Object(d.c)(r.maxSize):null,c=a||_,u=[],l=0,p=0,h=!1,b=0;case 3:if(!(b<i.length)){e.next=39;break}if(y=i.getItemAt(b),g=[],!n||"fill"===y.type){e.next=7;break}return e.abrupt("continue",36);case 7:O=v.l.fill[0],e.t0=y.type,e.next="fill"===e.t0?11:"line"===e.t0?22:"extrude"===e.t0?25:"water"===e.t0?30:35;break;case 11:if(j=S(y),x=Math.min(c,s||k),l=Math.max(l,x),p=Math.max(p,x),h=!0,E=R(y,0),T="pattern"in y&&y.pattern,A=I(y),e.t1=!n&&Object(f.i)(T)&&"style"===T.type&&"solid"!==T.style&&A,!e.t1){e.next=20;break}return e.next=19,M(T,A);case 19:E=e.sent;case 20:return g.push({shape:O,fill:E,stroke:j}),e.abrupt("break",35);case 22:return D={stroke:C(y,0),shape:O},l=Math.max(l,_),p=Math.max(p,_),g.push(D),e.abrupt("break",35);case 25:return L=w({join:"round"},C(y,-.4)),F=R(y,0),N=R(y,-.2),B=Math.min(c,s||k),V=Object(v.g)(B),L.width=1,g.push({shape:V[0],fill:N,stroke:L}),g.push({shape:V[1],fill:N,stroke:L}),g.push({shape:V[2],fill:F,stroke:L}),_,U=.7*_+.5*B,l=Math.max(l,22),p=Math.max(p,U),e.abrupt("break",35);case 30:return z=I(y),q=P(z),H=P(z,2),G=P(z,3),W=Object(v.k)(),h=!0,g.push({shape:W[0],fill:q}),g.push({shape:W[1],fill:H}),g.push({shape:W[2],fill:G}),J=Math.min(c,s||k),l=Math.max(l,J),p=Math.max(p,J),e.abrupt("break",35);case 35:u.push(g);case 36:b++,e.next=3;break;case 39:return e.abrupt("return",Promise.resolve(Object(m.a)(u,[l,p],{node:r&&r.node,scale:h,opacity:r&&r.opacity})));case 40:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){if(0===e.symbolLayers.length)return Promise.reject(new u.a("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));var r=null;switch(e.type){case"point-3d":r=L(e,t);break;case"line-3d":r=function(e,t){var r,n=e.symbolLayers,i=[],a=Object(O.h)(e),o=t&&t.size?Object(d.c)(t.size):null,s=(t&&t.maxSize?Object(d.c)(t.maxSize):null)||80,c=0,u=0;return n.forEach((function(e,t){if(e&&("line"===e.type||"path"===e.type)){var n=[];switch(e.type){case"line":var a=C(e,0),l=a&&a.width||0;0===t&&(r=l);var f=Math.min(o||l,s),p=0===t?f:o?f*(l/r):f,d=p>20?2*p:40;u=Math.max(u,p),c=Math.max(c,d),a.width=p,n.push({shape:{type:"path",path:[{command:"M",values:[0,.5*u]},{command:"L",values:[c,.5*u]}]},stroke:a});break;case"path":var h=Math.min(o||_,s),b=R(e,0),y=R(e,-.2),m=A(e,-.4),g=m?{color:m,width:1}:{};if("quad"===e.profile){var O,j,k=null!=(O=e.width)?O:e.size,x=null!=(j=e.height)?j:e.size,S=Object(v.i)(k&&x?k/x:1,0===x,0===k),P=w(w({},g),{},{join:"bevel"});n.push({shape:S[0],fill:y,stroke:P}),n.push({shape:S[1],fill:y,stroke:P}),n.push({shape:S[2],fill:b,stroke:P})}else n.push({shape:v.l.pathSymbol3DLayer[0],fill:y,stroke:g}),n.push({shape:v.l.pathSymbol3DLayer[1],fill:b,stroke:g});u=Math.max(u,h),c=u}i.push(n)}})),Promise.resolve(Object(m.a)(i,[c,u],{node:t&&t.node,scale:a,opacity:t&&t.opacity}))}(e,t);break;case"polygon-3d":case"mesh-3d":r=function(e,t){return F.apply(this,arguments)}(e,t)}return r||Promise.reject(new u.a("symbolPreview: swatchInfo3D","symbol not supported."))}},F7vZ:function(e,t){var r=/\s/;e.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},F8mY:function(e,t,r){"use strict";var n=r("mK0O"),i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("hZBP"),f=r("z9dv"),p=r("xAIp"),d=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var y=function(e){Object(o.a)(r,e);var t=b(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).requestOptions=null,e.url=null,e}return Object(a.a)(r,[{key:"normalizeCtorArgs",value:function(e,t){return"string"!=typeof e?e:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({url:e},t)}},{key:"parsedUrl",get:function(){return this._parseUrl(this.url)}},{key:"_parseUrl",value:function(e){return e?Object(f.K)(e):null}},{key:"_encode",value:function(e,t,r){var n={};for(var i in e)if("declaredClass"!==i){var a=e[i];if(null!=a&&"function"!=typeof a)if(Array.isArray(a)){n[i]=[];for(var o=0;o<a.length;o++)n[i][o]=this._encode(a[o])}else if("object"==typeof a)if(a.toJSON){var s=a.toJSON(r&&r[i]);n[i]=t?s:JSON.stringify(s)}else n[i]=t?a:JSON.stringify(a);else n[i]=a}return n}}]),r}(l.a);Object(u.a)([Object(p.b)({readOnly:!0})],y.prototype,"parsedUrl",null),Object(u.a)([Object(p.b)()],y.prototype,"requestOptions",void 0),Object(u.a)([Object(p.b)({type:String})],y.prototype,"url",void 0);var v=y=Object(u.a)([Object(d.a)("esri.tasks.Task")],y);t.a=v},FBa4:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("0n+b"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var d=function(e){Object(a.a)(r,e);var t=p(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).visible=!0,i}return Object(i.a)(r,[{key:"clone",value:function(){}}]),r}(u.a);Object(c.a)([Object(l.b)({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],d.prototype,"type",void 0),Object(c.a)([Object(l.b)({readOnly:!0})],d.prototype,"visible",void 0);var h=d=Object(c.a)([Object(f.a)("esri.symbols.callouts.Callout3D")],d);t.a=h},FEiO:function(e,t,r){var n=r("LSEb")(Object,"create");e.exports=n},FFWV:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("kDog"),f=r("Mp7X"),p=r("0fJP"),d=r("xAIp"),h=(r("wckI"),r("J4Pc"),r("TM+E"),r("vo12")),b=r("iaHD"),y=r("jr4m"),v=r("RIHA"),m=r("gtOA"),g=r("ykrQ"),O=r("y2zH"),j=r("tqwG"),w=r("Gz0R");function _(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var S=l.a.ofType({base:null,key:"type",typeMap:{icon:v.a,object:m.a,text:O.a}}),P=l.a.ofType({base:null,key:"type",typeMap:{icon:v.a,object:m.a}}),I=n=function(e){Object(o.a)(r,e);var t=x(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).verticalOffset=null,n.callout=null,n.symbolLayers=new S,n.type="point-3d",n}return Object(a.a)(r,[{key:"writeSymbolLayers",value:function(e,t,r,n){var i=e.filter((function(e){return"text"!==e.type}));if(n&&n.messages&&i.length<e.length){var a=e.find((function(e){return"text"===e.type}));n.messages.push(new f.a("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:a}))}t[r]=i.map((function(e){return e.write({},n)})).toArray()}},{key:"supportsCallout",value:function(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;var e,t=_(this.symbolLayers.items);try{for(t.s();!(e=t.n()).done;){switch(e.value.type){case"icon":case"text":case"object":continue;default:return!1}}}catch(r){t.e(r)}finally{t.f()}return!0}},{key:"hasVisibleCallout",value:function(){return Object(j.b)(this)}},{key:"hasVisibleVerticalOffset",value:function(){return Object(j.c)(this)}},{key:"clone",value:function(){return new n({verticalOffset:Object(p.a)(this.verticalOffset),callout:Object(p.a)(this.callout),styleOrigin:Object(p.a)(this.styleOrigin),symbolLayers:Object(p.a)(this.symbolLayers),thumbnail:Object(p.a)(this.thumbnail)})}}],[{key:"fromSimpleMarkerSymbol",value:function(e){return new n({symbolLayers:[v.a.fromSimpleMarkerSymbol(e)]})}},{key:"fromPictureMarkerSymbol",value:function(e){return new n({symbolLayers:[v.a.fromPictureMarkerSymbol(e)]})}},{key:"fromCIMSymbol",value:function(e){if(e.data&&e.data.symbol){var t=e.data.symbol;if("CIMPointSymbol"===t.type&&t.callout)return new n({symbolLayers:[v.a.fromCIMSymbol(e)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}})}return new n({symbolLayers:[v.a.fromCIMSymbol(e)]})}},{key:"fromTextSymbol",value:function(e){return new n({symbolLayers:[O.a.fromTextSymbol(e)]})}}]),r}(g.a);Object(u.a)([Object(d.b)({type:w.a,json:{write:!0}})],I.prototype,"verticalOffset",void 0),Object(u.a)([Object(d.b)(j.a)],I.prototype,"callout",void 0),Object(u.a)([Object(d.b)({type:S,json:{type:P,origins:{"web-scene":{type:P}}}})],I.prototype,"symbolLayers",void 0),Object(u.a)([Object(y.a)("web-scene","symbolLayers")],I.prototype,"writeSymbolLayers",null),Object(u.a)([Object(h.a)({PointSymbol3D:"point-3d"},{readOnly:!0})],I.prototype,"type",void 0);var R=I=n=Object(u.a)([Object(b.a)("esri.symbols.PointSymbol3D")],I);t.a=R},FQMq:function(e,t,r){var n=r("QDPn"),i=r("LBQr"),a=r("jL4t");e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:n(i(e))}},FYmP:function(e,t,r){"use strict";r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return b}));var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("hZBP"),l=r("UfAV"),f=r("xAIp"),p=r("iaHD"),d=r("vR3I");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var b=function(e){var t=function(e){Object(a.a)(r,e);var t=h(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"destroy",value:function(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy())}},{key:"handles",get:function(){return this._get("handles")||new l.a}},{key:"updatingHandles",get:function(){return this._get("updatingHandles")||new d.a}}]),r}(e);return Object(c.a)([Object(f.b)({readOnly:!0})],t.prototype,"handles",null),Object(c.a)([Object(f.b)({readOnly:!0})],t.prototype,"updatingHandles",null),t=Object(c.a)([Object(p.a)("esri.core.HandleOwner")],t),t},y=function(e){Object(a.a)(r,e);var t=h(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return r}(b(u.a));y=Object(c.a)([Object(p.a)("esri.core.HandleOwner")],y)},Fcif:function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,"a",(function(){return n}))},FfeU:function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r("pCvA"))},Fldm:function(e,t,r){(function(e){var n=r("s3UK"),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}}).call(this,r("RoC8")(e))},Fup7:function(e,t,r){var n=r("Hvpk"),i=r("41Zj"),a=r("VSW8"),o=r("M/tt"),s=r("W9fh"),c=r("tF07"),u=r("xwiM"),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=o(e),t=s(t,!0),u)try{return l(e,t)}catch(r){}if(c(e,t))return a(!i.f.call(e,t),e[t])}},G1Nz:function(e,t,r){"use strict";var n=r("hisu"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("dQW7"),c=r("0n+b"),u=r("xAIp"),l=(r("J4Pc"),r("wckI")),f=(r("TM+E"),r("iaHD")),p=r("aic5");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var h=function(e){Object(i.a)(r,e);var t=d(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).bevelRatio=null,i.geometries=null,i.offsetDistance=null,i.offsetHow=null,i.offsetUnit=null,i}return r}(c.a);Object(s.a)([Object(u.b)({type:Number,json:{write:!0}})],h.prototype,"bevelRatio",void 0),Object(s.a)([Object(u.b)({json:{read:{reader:function(e){return e?e.map((function(e){return Object(p.a)(e)})):null}},write:{writer:function(e,t){t.geometries=e.map((function(e){return e.toJSON()}))}}}})],h.prototype,"geometries",void 0),Object(s.a)([Object(u.b)({type:Number,json:{write:!0}})],h.prototype,"offsetDistance",void 0),Object(s.a)([Object(u.b)({type:String,json:{write:!0}})],h.prototype,"offsetHow",void 0),Object(s.a)([Object(u.b)({type:String,json:{write:!0}})],h.prototype,"offsetUnit",void 0),(h=Object(s.a)([Object(f.a)("esri.rest.support.OffsetParameters")],h)).from=Object(l.m)(h);var b=h;t.a=b},G4dw:function(e,t,r){var n=r("+dZb")("omit",r("PWxN"));n.placeholder=r("IOY3"),e.exports=n},G5hJ:function(e,t,r){var n,i,a=r("nEaP"),o=r("rxbk"),s=a.process,c=s&&s.versions,u=c&&c.v8;u?i=(n=u.split("."))[0]<4?1:n[0]+n[1]:o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=n[1]),e.exports=i&&+i},G9gt:function(e,t,r){var n=r("jgJv"),i=n?n.prototype:void 0,a=i?i.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},GC0P:function(e,t,r){var n=r("+dZb")("flattenDepth",r("HGTD"));n.placeholder=r("IOY3"),e.exports=n},GE03:function(e,t,r){var n=r("xkFB"),i=r("4mhO"),a=r("4a20");function o(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},"GH+e":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return c}));var n=r("6CzD"),i={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,5,10]};function a(e){var t;return null!=(t=i[e.toLowerCase()])?t:null}function o(e){var t=a(e);return t?Object(n.a)(t):t}function s(e,t,r){r<0&&++r,r>1&&--r;var n=6*r;return n<1?e+(t-e)*n:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function c(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=(e%360+360)%360/360,a=r<=.5?r*(t+1):r+t-r*t,o=2*r-a;return[Math.round(256*s(o,a,i+1/3)),Math.round(256*s(o,a,i)),Math.round(256*s(o,a,i-1/3)),n]}function u(e){var t=e.length>5,r=t?8:4,n=(1<<r)-1,i=t?1:17,a=t?9===e.length:5===e.length,o=Number("0x"+e.substr(1));if(isNaN(o))return null;var s,c=[0,0,0,1];return a&&(s=o&n,o>>=r,c[3]=i*s/255),s=o&n,o>>=r,c[2]=i*s,s=o&n,o>>=r,c[1]=i*s,s=o&n,o>>=r,c[0]=i*s,c}},GHf2:function(e,t,r){var n=r("nEaP"),i=r("gIo2"),a=r("tF07"),o=r("nrda"),s=r("clxC"),c=r("B/3V"),u=i("wks"),l=n.Symbol,f=c?l:l&&l.withoutSetter||o;e.exports=function(e){return a(u,e)&&(s||"string"==typeof u[e])||(s&&a(l,e)?u[e]=l[e]:u[e]=f("Symbol."+e)),u[e]}},GI0s:function(e,t,r){var n=r("jgJv"),i=r("vMVM"),a=r("HLVI"),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},GPuA:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("o3y2"),f=r("eijD"),p=r("mK0O"),d=r("0942"),h=r("4Mpa"),b=r("NthX"),y=r.n(b),v=r("WYis"),m=r("kDog"),g=r("LuB+"),O=r("S9oG"),j=r("Mp7X"),w=r("0n+b"),_=r("0fJP"),k=r("eTmm"),x=r("v2Em"),S=r("TM+E"),P=r("IH5m"),I=r("xAIp"),R=r("wckI"),M=(r("J4Pc"),r("iaHD")),E=r("jr4m"),T=r("vo12");function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var C=n=function(e){Object(o.a)(r,e);var t=A(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="none",n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({type:this.type})}}]),r}(w.a);Object(u.a)([Object(T.a)({none:"none",stayAbove:"stay-above"})],C.prototype,"type",void 0),C=n=Object(u.a)([Object(M.a)("esri.ground.NavigationConstraint")],C);var D,L=r("UR7D");function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var z=S.a.getLogger("esri.Ground"),q=D=function(e){Object(o.a)(u,e);var t,n,s=U(u);function u(e){var t;Object(i.a)(this,u),(t=s.call(this,e)).opacity=1,t.surfaceColor=null,t.navigationConstraint=null,t.layers=new m.a;return t.layers.on("after-add",(function(e){return function(e){e.parent&&e.parent!==Object(d.a)(t)&&"remove"in e.parent&&e.parent.remove(e),e.parent=Object(d.a)(t),"elevation"!==e.type&&"base-elevation"!==e.type&&z.error("Layer '".concat(e.title,", id:").concat(e.id,"' of type '").concat(e.type,"' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported."))}(e.item)})),t.layers.on("after-remove",(function(e){return function(e){e.parent=null}(e.item)})),t}return Object(a.a)(u,[{key:"initialize",value:function(){this.when().catch((function(e){z.error("#load()","Failed to load ground",e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}},{key:"destroy",value:function(){var e,t=B(this.layers.removeAll());try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(r){t.e(r)}finally{t.f()}this.layers.destroy()}},{key:"normalizeCtorArgs",value:function(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e=N({},e)).resourceInfo),e}},{key:"layers",set:function(e){this._set("layers",Object(g.b)(e,this._get("layers")))}},{key:"writeLayers",value:function(e,t,r,n){var i=[];e?(n=N(N({},n),{},{layerContainerType:"ground"}),e.forEach((function(e){if("write"in e){var t={};Object(O.b)(e)().write(t,n)&&i.push(t)}else n&&n.messages&&n.messages.push(new j.a("layer:unsupported","Layers (".concat(e.title,", ").concat(e.id,") of type '").concat(e.declaredClass,"' cannot be persisted in the ground"),{layer:e}))})),t.layers=i):t.layers=i}},{key:"load",value:function(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}},{key:"loadAll",value:function(){var e=this;return Object(x.a)(this,(function(t){t(e.layers)}))}},{key:"queryElevation",value:(n=Object(f.a)(y.a.mark((function e(t,n){var i,a,o,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load({signal:null==n?void 0:n.signal});case 2:return e.next=4,r.e(9).then(r.bind(null,"FVtG"));case 4:return i=e.sent,a=i.ElevationQuery,Object(P.v)(n),o=new a,s=this.layers.filter(H).toArray(),e.abrupt("return",o.queryAll(s,t,n));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"createElevationSampler",value:(t=Object(f.a)(y.a.mark((function e(t,n){var i,a,o,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load({signal:null==n?void 0:n.signal});case 2:return e.next=4,r.e(9).then(r.bind(null,"FVtG"));case 4:return i=e.sent,a=i.ElevationQuery,Object(P.v)(n),o=new a,s=this.layers.filter(H).toArray(),e.abrupt("return",o.createSamplerAll(s,t,n));case 9:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"clone",value:function(){var e={opacity:this.opacity,surfaceColor:Object(_.a)(this.surfaceColor),navigationConstraint:Object(_.a)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new D({resourceInfo:this.resourceInfo}).set(e)}},{key:"read",value:function(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),Object(h.a)(Object(c.a)(u.prototype),"read",this).call(this,e,t)}},{key:"_loadFromSource",value:function(e){var t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve(null)}},{key:"_loadLayersFromJSON",value:function(e,t,n){var i=this,a=t&&t.origin||"web-scene",o=t&&t.portal||null,s=t&&t.url||null;return Promise.all([r.e(1),r.e(12)]).then(r.bind(null,"VDow")).then((function(t){var r=t.populateOperationalLayers;Object(P.v)(n);var c=[];if(e.layers&&Array.isArray(e.layers)){var u={context:{origin:a,url:s,portal:o,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};c.push(r(i.layers,e.layers,u))}return Object(P.j)(c)})).then((function(){}))}}]),u}(Object(w.b)(k.a));function H(e){return"elevation"===e.type||function(e){return e&&"createElevationSampler"in e}(e)}Object(u.a)([Object(I.b)({json:{read:!1}})],q.prototype,"layers",null),Object(u.a)([Object(E.a)("layers")],q.prototype,"writeLayers",null),Object(u.a)([Object(I.b)({readOnly:!0})],q.prototype,"resourceInfo",void 0),Object(u.a)([Object(I.b)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:R.a,read:{reader:L.b,source:"transparency"},write:{writer:function(e,t){t.transparency=Object(L.a)(e)},target:"transparency"}}})],q.prototype,"opacity",void 0),Object(u.a)([Object(I.b)({type:v.a,json:{type:[R.a],write:function(e,t){t.surfaceColor=e.toJSON().slice(0,3)}}})],q.prototype,"surfaceColor",void 0),Object(u.a)([Object(I.b)({type:C,json:{write:!0}})],q.prototype,"navigationConstraint",void 0);var G=q=D=Object(u.a)([Object(M.a)("esri.Ground")],q),W=r("hZBP"),J=r("233l"),$=r("v3KF"),Z=r("gljZ");function Q(e){var t;return!(!(e&&e.loaded&&"capabilities"in e&&null!=e&&null!=(t=e.capabilities)&&t.operations&&"supportsEditing"in e.capabilities.operations&&!0===e.capabilities.operations.supportsEditing)||"editingEnabled"in e&&!e.editingEnabled)}var X=r("zbeF"),K=S.a.getLogger("esri.support.groundUtils"),Y={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var ee=r("X9uN"),te=r("lRaU");function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var ne=S.a.getLogger("esri.Map"),ie=function(e){Object(o.a)(r,e);var t=re(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).allLayers=new J.a({getCollections:function(){var e,t,r;return[null==(e=n.basemap)?void 0:e.baseLayers,null==(t=n.ground)?void 0:t.layers,n.layers,null==(r=n.basemap)?void 0:r.referenceLayers]},getChildrenFunction:function(e){return"layers"in e?e.layers:null}}),n.allTables=new J.a({getCollections:function(){return[n.tables,n.layers]},getChildrenFunction:function(e){var t=[];return"tables"in e&&t.push(e.tables),"layers"in e&&t.push(e.layers),t},itemFilterFunction:function(e){var t=e.parent;return t&&"tables"in t&&t.tables.includes(e)}}),n.basemap=null,n.editableLayers=new J.a({getCollections:function(){return[n.allLayers]},itemFilterFunction:Q}),n.ground=new G,n._basemapCache=Object(X.b)(),n}return Object(a.a)(r,[{key:"destroy",value:function(){var e,t;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),null==(e=this.ground)||e.destroy(),null==(t=this.basemap)||t.destroy(),Object(X.c)(this._basemapCache),this._basemapCache=null}},{key:"castBasemap",value:function(e){return Object(X.d)(e,this._basemapCache)}},{key:"castGround",value:function(e){return function(e){var t;return"string"==typeof e?e in Y?t=new G({resourceInfo:{data:{layers:[Y[e]]}}}):K.warn("Unable to find ground definition for: ".concat(e,'. Try "world-elevation"')):t=Object(R.m)(G,e),t}(e)||(ne.error("Map.ground may not be set to null or undefined"),this._get("ground"))}},{key:"findLayerById",value:function(e){return this.allLayers.find((function(t){return t.id===e}))}},{key:"findTableById",value:function(e){return this.allTables.find((function(t){return t.id===e}))}}]),r}(Object(te.a)(Object(ee.a)($.a.EventedMixin(W.a))));Object(u.a)([Object(I.b)({readOnly:!0,dependsOn:[]})],ie.prototype,"allLayers",void 0),Object(u.a)([Object(I.b)({readOnly:!0})],ie.prototype,"allTables",void 0),Object(u.a)([Object(I.b)({type:l.default})],ie.prototype,"basemap",void 0),Object(u.a)([Object(Z.a)("basemap")],ie.prototype,"castBasemap",null),Object(u.a)([Object(I.b)({readOnly:!0})],ie.prototype,"editableLayers",void 0),Object(u.a)([Object(I.b)({type:G,nonNullable:!0})],ie.prototype,"ground",void 0),Object(u.a)([Object(Z.a)("ground")],ie.prototype,"castGround",null);var ae=ie=Object(u.a)([Object(M.a)("esri.Map")],ie);t.a=ae},GeRv:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return u}));var n=r("7i+s"),i=Object(n.b)()({esriCentimeters:"centimeters",esriDecimalDegrees:"decimal-degrees",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriPoints:"points",esriYards:"yards"}),a=Object(n.b)()({esriNAUCentimeters:"centimeters",esriNAUDecimalDegrees:"decimal-degrees",esriNAUDecimeters:"decimeters",esriNAUFeet:"feet",esriNAUInches:"inches",esriNAUKilometers:"kilometers",esriNAUMeters:"meters",esriNAUMiles:"miles",esriNAUMillimeters:"millimeters",esriNAUNauticalMiles:"nautical-miles",esriNAUPoints:"points",esriNAUYards:"yards"}),o=Object(n.b)()({esriDOTComplete:"complete",esriDOTCompleteNoEvents:"complete-no-events",esriDOTInstructionsOnly:"instructions-only",esriDOTStandard:"standard",esriDOTSummaryOnly:"summary-only"}),s=Object(n.b)()({esriNAOutputLineNone:"none",esriNAOutputLineStraight:"straight",esriNAOutputLineTrueShape:"true-shape",esriNAOutputLineTrueShapeWithMeasure:"true-shape-with-measure"}),c=(Object(n.b)()({esriNAOutputPolygonNone:"none",esriNAOutputPolygonSimplified:"simplified",esriNAOutputPolygonDetailed:"detailed"}),Object(n.b)()({esriNFSBAllowBacktrack:"allow-backtrack",esriNFSBAtDeadEndsOnly:"at-dead-ends-only",esriNFSBNoBacktrack:"no-backtrack",esriNFSBAtDeadEndsAndIntersections:"at-dead-ends-and-intersections"})),u=(Object(n.b)()({esriNATravelDirectionFromFacility:"from-facility",esriNATravelDirectionToFacility:"to-facility"}),Object(n.b)()({esriNATimeOfDayNotUsed:"not-used",esriNATimeOfDayUseAsStartTime:"start",esriNATimeOfDayUseAsEndTime:"end"}),Object(n.b)()({AUTOMOBILE:"automobile",TRUCK:"truck",WALK:"walk",OTHER:"other"}))},Gz0R:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0n+b"),f=r("xAIp"),p=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),d=r("I2xc");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var b=n=function(e){Object(o.a)(r,e);var t=h(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).screenLength=0,e.minWorldLength=0,e}return Object(a.a)(r,[{key:"clone",value:function(){return new n({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}}]),r}(l.a);Object(u.a)([Object(f.b)(d.b)],b.prototype,"screenLength",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:!0,default:0}})],b.prototype,"minWorldLength",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:!0}})],b.prototype,"maxWorldLength",void 0);var y=b=n=Object(u.a)([Object(p.a)("esri.symbols.support.Symbol3DVerticalOffset")],b);t.a=y},"H+3J":function(e,t,r){var n=r("X3Hh"),i=r("yF7r"),a=r("Q8UH"),o=r("ArCz"),s=r("PqlX"),c=r("6kFe");e.exports=function(e){return i((function(t){var r=t.length,i=r,u=n.prototype.thru;for(e&&t.reverse();i--;){var l=t[i];if("function"!=typeof l)throw new TypeError("Expected a function");if(u&&!f&&"wrapper"==o(l))var f=new n([],!0)}for(i=f?i:r;++i<r;){l=t[i];var p=o(l),d="wrapper"==p?a(l):void 0;f=d&&c(d[0])&&424==d[1]&&!d[4].length&&1==d[9]?f[o(d[0])].apply(f,d[3]):1==l.length&&c(l)?f[p]():f.thru(l)}return function(){var e=arguments,n=e[0];if(f&&1==e.length&&s(n))return f.plant(n).value();for(var i=0,a=r?t[i].apply(this,e):n;++i<r;)a=t[i].call(this,a);return a}}))}},H034:function(e,t,r){var n=r("OfXF");e.exports=function(e,t,r){return null==e?e:n(e,t,r)}},H0Ge:function(e,t,r){var n=r("Qean"),i="["+r("VcRG")+"]",a=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),s=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(a,"")),2&e&&(r=r.replace(o,"")),r}};e.exports={start:s(1),end:s(2),trim:s(3)}},H15p:function(e,t,r){"use strict";var n=r("NthX"),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r("ERkP"),l=c(r("lZ6b")),f=r("pjU7"),p=c(r("wvjj"));t.default=function(e){var t=e.expander,i=void 0===t?p.default.expander:t,a=e.expanderDefaultOpen,c=void 0===a?p.default.expanderDefaultOpen:a,d=e.position,h=void 0===d?p.default.position:d,b=e.widgetArgs,y=void 0===b?p.default.widgetArgs:b,v=e.expandWidgetArgs,m=void 0===v?p.default.expandWidgetArgs:v,g=e.expandIconClass,O=void 0===g?"esri-icon-zoom-in-fixed":g,j=l.default().view;return u.useEffect((function(){var e,t,a=!0;return(null==j?void 0:j.ready)&&s(void 0,void 0,void 0,n.mark((function s(){var u,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return o(r("k4UW"))}));case 2:if(u=n.sent,l=u.default,e=new l(Object.assign({view:j},y)),!i){n.next=11;break}return n.next=8,f.addExpander({view:j,widgetContent:e,expandIconClass:O,position:h,defaultOpen:c,expandWidgetArgs:m});case 8:t=n.sent,n.next=12;break;case 11:a&&(null==j||j.ui.add(e,h));case 12:case"end":return n.stop()}}),s)}))),function(){a=!1,null==e||e.destroy(),null==t||t.destroy()}}),[j,i,h]),null}},H8zE:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("TM+E"),o=r("7im+"),s=r("B2Uc"),c=r("ZFoF"),u=a.a.getLogger("esri.views.webgl.VertexArrayObject"),l=function(){function e(t,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(n.a)(this,e),this._context=t,this._locations=r,this._layout=i,this._buffers=a,this._indexBuffer=o,this._glName=null,this._initialized=!1,t.instanceCounter.increment(s.b.VAO,this)}return Object(i.a)(e,[{key:"glName",get:function(){return this._glName}},{key:"vertexBuffers",get:function(){return this._buffers}},{key:"indexBuffer",get:function(){return this._indexBuffer}},{key:"size",get:function(){var e=this;return Object.keys(this._buffers).reduce((function(t,r){return t+e._buffers[r].size}),Object(o.i)(this._indexBuffer)?this._indexBuffer.size:0)}},{key:"layout",get:function(){return this._layout}},{key:"locations",get:function(){return this._locations}},{key:"dispose",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this._context){if(this._glName){var t,r,n=null==(t=this._context)||null==(r=t.capabilities)?void 0:r.vao;n?(n.deleteVertexArray(this._glName),this._glName=null):u.warn("Leaked WebGL VAO")}if(this._context.getBoundVAO()===this&&this._context.bindVAO(null),e){for(var i in this._buffers)this._buffers[i].dispose(),delete this._buffers[i];this._indexBuffer=Object(o.e)(this._indexBuffer)}this._context.instanceCounter.decrement(s.b.VAO,this),this._context=null}else(this._glName||e&&Object.getOwnPropertyNames(this._buffers).length>0)&&u.warn("Leaked WebGL VAO")}},{key:"initialize",value:function(){if(!this._initialized){var e=this._context.capabilities.vao;if(e){var t=e.createVertexArray();e.bindVertexArray(t),this._bindLayout(),e.bindVertexArray(null),this._glName=t}this._initialized=!0}}},{key:"bind",value:function(){this.initialize();var e=this._context.capabilities.vao;e?e.bindVertexArray(this.glName):(this._context.bindVAO(null),this._bindLayout())}},{key:"_bindLayout",value:function(){var e=this._buffers,t=this._layout,r=this._indexBuffer;e||u.error("Vertex buffer dictionary is empty!");var n=this._context.gl;for(var i in e){var a=e[i];a||u.error("Vertex buffer is uninitialized!");var s=t[i];s||u.error("Vertex element descriptor is empty!"),Object(c.a)(this._context,this._locations,a,s)}Object(o.i)(r)&&(this._context.capabilities.vao?n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,r.glName):this._context.bindBuffer(r))}},{key:"unbind",value:function(){this.initialize();var e=this._context.capabilities.vao;e?e.bindVertexArray(null):this._unbindLayout()}},{key:"_unbindLayout",value:function(){var e=this._buffers,t=this._layout;for(var r in e||u.error("Vertex buffer dictionary is empty!"),e){var n=e[r];n||u.error("Vertex buffer is uninitialized!");var i=t[r];Object(c.d)(this._context,this._locations,n,i)}Object(o.i)(this._indexBuffer)&&this._context.unbindBuffer(this._indexBuffer.bufferType)}}]),e}();t.a=l},HE1N:function(e,t,r){var n=r("cm7J"),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},HF5h:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0n+b"),f=r("xAIp"),p=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var h=n=function(e){Object(o.a)(r,e);var t=d(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).field=null,n.order=null,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({field:this.field,order:this.order})}}]),r}(l.a);Object(u.a)([Object(f.b)({type:String,json:{write:!0}})],h.prototype,"field",void 0),Object(u.a)([Object(f.b)({type:["asc","desc"],json:{write:!0}})],h.prototype,"order",void 0);var b=h=n=Object(u.a)([Object(p.a)("esri.popup.support.RelatedRecordsInfoFieldOrder")],h);t.a=b},HGTD:function(e,t,r){var n=r("IqJI"),i=r("LF0y");e.exports=function(e,t){return(null==e?0:e.length)?(t=void 0===t?1:i(t),n(e,t)):[]}},HGlF:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return l}));var n=r("eijD"),i=r("NthX"),a=r.n(i),o=r("DE4D"),s=r("zbeF"),c={light:["streets","gray","topo","terrain","national-geographic","oceans","osm","gray-vector","streets-vector","topo-vector","streets-relief-vector","streets-navigation-vector"],dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector"]},u=null;function l(e){return f.apply(this,arguments)}function f(){return(f=Object(n.a)(a.a.mark((function e(t){var r,n,i,s,c,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.field,n=t.normalizationField,i=t.valueExpression,s=[],!i){e.next=10;break}if(u){e.next=9;break}return e.next=6,Object(o.e)();case 6:c=e.sent,l=c.arcadeUtils,u=l;case 9:s=u.extractFieldNames(i);case 10:return e.abrupt("return",(r&&s.push(r),n&&s.push(n),s));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;for(var r in t)if(t[r].indexOf(e)>-1)return r}function d(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=null;return e&&("string"==typeof e?t.includes(e)&&(n=e):n=Object(s.e)(e)),r?n||"gray":n}},HIoB:function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},HLVI:function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},HRgQ:function(e,t,r){var n=r("nEaP"),i=r("fT8P"),a=n.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},HVn3:function(e,t,r){var n=r("l7Do"),i=r("QlKF")((function(e,t,r){n(e,t,r)}));e.exports=i},HWYy:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("7im+"),f=r("xAIp"),p=(r("J4Pc"),r("wckI"),r("TM+E"),r("vo12")),d=r("iaHD"),h=r("1lXL"),b=r("ltNL"),y=r("y75+");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var m=n=function(e){Object(o.a)(r,e);var t=v(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="extrude",n.size=1,n.material=null,n.castShadows=!0,n.edges=null,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:Object(l.i)(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}}]),r}(h.a);Object(u.a)([Object(p.a)({Extrude:"extrude"},{readOnly:!0})],m.prototype,"type",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],m.prototype,"size",void 0),Object(u.a)([Object(f.b)({type:y.a,json:{write:!0}})],m.prototype,"material",void 0),Object(u.a)([Object(f.b)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],m.prototype,"castShadows",void 0),Object(u.a)([Object(f.b)(b.a)],m.prototype,"edges",void 0);var g=m=n=Object(u.a)([Object(d.a)("esri.symbols.ExtrudeSymbol3DLayer")],m);t.a=g},HcYh:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.marksy=l,t.default=function(e){return l(e)};var n,i=(n=r("Ax1p"))&&n.__esModule?n:{default:n},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r("2GMX"));function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e,t,r){return(s=o()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&c(i,r.prototype),i}).apply(null,arguments)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={tree:null,elements:null,nextElementId:null,toc:null,currentIdLevel:0,currentId:[]},r=(0,a.default)(t,e,{code:function(r,n){if("marksy"===n){try{var i=t.nextElementId++,o=Object.keys(e.components).map((function(t){return e.components[t]}));return t.elements[i]=s(Function,["h"].concat(u(Object.keys(e.components)),["return ".concat(r)])).apply(void 0,[function(r){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.indexOf(r)>=0?Object.assign(n||{},{key:t.nextElementId++,context:t.context}):n,a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];return e.createElement(r,i,s)}].concat(u(o)))||null,t.tree.push(t.elements[i]),"{{".concat(i,"}}")}catch(c){}return null}return(0,a.codeRenderer)(t,e)(r,n)}});return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.tree=[],t.elements={},t.toc=[],t.nextElementId=0,t.context=a,t.currentId=[],(0,i.default)(e,Object.assign({renderer:r,smartypants:!0},n)),{tree:t.tree,toc:t.toc}}}},HnKO:function(e,t,r){"use strict";r.r(t);var n=r("hisu"),i=r("yBJb"),a=r("4Mpa"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("QZQ7"),d=r("9P7x"),h=r("wJzb"),b=r("KmCB"),y=r("RMqu");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var m=function(e){Object(o.a)(r,e);var t=v(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).elevationInfo=null,i.graphics=new b.b,i.screenSizePerspectiveEnabled=!0,i.type="graphics",i.internal=!1,i}return Object(i.a)(r,[{key:"destroy",value:function(){this.removeAll(),this.graphics.destroy()}},{key:"add",value:function(e){return this.graphics.add(e),this}},{key:"addMany",value:function(e){return this.graphics.addMany(e),this}},{key:"removeAll",value:function(){return this.graphics.removeAll(),this}},{key:"remove",value:function(e){this.graphics.remove(e)}},{key:"removeMany",value:function(e){this.graphics.removeMany(e)}},{key:"on",value:function(e,t){return Object(a.a)(Object(c.a)(r.prototype),"on",this).call(this,e,t)}},{key:"graphicChanged",value:function(e){this.emit("graphic-update",e)}}]),r}(Object(d.a)(Object(h.a)(p.a)));Object(u.a)([Object(l.b)({type:y.a})],m.prototype,"elevationInfo",void 0),Object(u.a)([Object(l.b)(Object(b.c)())],m.prototype,"graphics",void 0),Object(u.a)([Object(l.b)({type:["show","hide"]})],m.prototype,"listMode",void 0),Object(u.a)([Object(l.b)()],m.prototype,"screenSizePerspectiveEnabled",void 0),Object(u.a)([Object(l.b)({readOnly:!0})],m.prototype,"type",void 0),Object(u.a)([Object(l.b)({constructOnly:!0})],m.prototype,"internal",void 0);var g=m=Object(u.a)([Object(f.a)("esri.layers.GraphicsLayer")],m);t.default=g},Hvpk:function(e,t,r){var n=r("+iL7");e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},HyFz:function(e,t,r){"use strict";var n=r("hisu"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("dQW7"),c=(r("ZTBZ"),r("0n+b")),u=r("xAIp"),l=(r("J4Pc"),r("wckI")),f=(r("TM+E"),r("iaHD")),p=r("aic5"),d=r("AQ8/");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var b=function(e){Object(i.a)(r,e);var t=h(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).extendHow="default-curve-extension",i.polylines=null,i.trimExtendTo=null,i}return r}(c.a);Object(s.a)([Object(u.b)({type:String,json:{write:!0}})],b.prototype,"extendHow",void 0),Object(s.a)([Object(u.b)({type:[d.a],json:{read:{reader:function(e){return e?e.map((function(e){return Object(p.a)(e)})):null}},write:{writer:function(e,t){t.polylines=e.map((function(e){return e.toJSON()}))}}}})],b.prototype,"polylines",void 0),Object(s.a)([Object(u.b)({json:{read:{reader:function(e){return e?Object(p.a)(e):null}},write:{writer:function(e,t){t.trimExtendTo=e.toJSON()}}}})],b.prototype,"trimExtendTo",void 0),(b=Object(s.a)([Object(f.a)("esri.rest.support.TrimExtendParameters")],b)).from=Object(l.m)(b);var y=b;t.a=y},I2xc:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u}));var n=r("WYis"),i=r("frPA"),a=r("wckI"),o=r("UR7D");var s={type:n.a,json:{type:[a.a],default:null,read:{source:["color","transparency"],reader:function(e,t){var r=null!=t.transparency?Object(o.b)(t.transparency):1,i=t.color;return i&&Array.isArray(i)?new n.a([i[0]||0,i[1]||0,i[2]||0,r]):null}},write:{target:{color:{type:[a.a]},transparency:{type:a.a}},writer:function(e,t){t.color=e.toJSON().slice(0,3);var r=Object(o.a)(e.a);0!==r&&(t.transparency=r)}}}},c={type:Number,cast:i.e,json:{write:!0}},u={type:[Number],cast:function(e){return null!=e?e:Array.isArray(e)?e.map(i.e):null},json:{read:!1,write:!1}}},I5De:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("4Mpa"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("dQW7"),f=r("WYis"),p=r("7i+s"),d=r("0fJP"),h=r("frPA"),b=r("xAIp"),y=(r("wckI"),r("J4Pc"),r("TM+E"),r("vo12")),v=r("iaHD"),m=r("jr4m"),g=r("5Xgy"),O=r("DKWO");function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var w=new p.a({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"}),_=n=function(e){Object(s.a)(r,e);var t=j(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).color=new f.a([255,255,255,.25]),e.type="simple-marker",e.size=12,e.style="circle",e.outline=new O.a,e}return Object(a.a)(r,[{key:"normalizeCtorArgs",value:function(e,t,r,n){if(e&&"string"!=typeof e)return e;var i={};return e&&(i.style=e),null!=t&&(i.size=Object(h.e)(t)),r&&(i.outline=r),n&&(i.color=n),i}},{key:"writeColor",value:function(e,t){e&&"x"!==this.style&&"cross"!==this.style&&(t.color=e.toJSON()),null===e&&(t.color=null)}},{key:"path",set:function(e){this.style="path",this._set("path",e)}},{key:"clone",value:function(){return new n({angle:this.angle,color:Object(d.a)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}},{key:"hash",value:function(){var e;return"".concat(Object(o.a)(Object(u.a)(r.prototype),"hash",this).call(this),".").concat(this.color&&this.color.hash(),".").concat(this.path,".").concat(this.style,".").concat(null==(e=this.outline)?void 0:e.hash())}}]),r}(g.a);Object(l.a)([Object(b.b)()],_.prototype,"color",void 0),Object(l.a)([Object(m.a)("color")],_.prototype,"writeColor",null),Object(l.a)([Object(y.a)({esriSMS:"simple-marker"},{readOnly:!0})],_.prototype,"type",void 0),Object(l.a)([Object(b.b)()],_.prototype,"size",void 0),Object(l.a)([Object(b.b)({type:w.apiValues,json:{read:w.read,write:w.write}})],_.prototype,"style",void 0),Object(l.a)([Object(b.b)({type:String,json:{write:!0}})],_.prototype,"path",null),Object(l.a)([Object(b.b)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":O.a}},json:{default:null,write:!0}})],_.prototype,"outline",void 0);var k=_=n=Object(l.a)([Object(v.a)("esri.symbols.SimpleMarkerSymbol")],_);t.a=k},IH5m:function(e,t,r){"use strict";r.d(t,"a",(function(){return P})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return w})),r.d(t,"g",(function(){return T})),r.d(t,"h",(function(){return A})),r.d(t,"i",(function(){return E})),r.d(t,"j",(function(){return _})),r.d(t,"k",(function(){return k})),r.d(t,"l",(function(){return j})),r.d(t,"m",(function(){return O})),r.d(t,"n",(function(){return h})),r.d(t,"o",(function(){return M})),r.d(t,"p",(function(){return I})),r.d(t,"q",(function(){return v})),r.d(t,"r",(function(){return m})),r.d(t,"s",(function(){return x})),r.d(t,"t",(function(){return S})),r.d(t,"u",(function(){return b})),r.d(t,"v",(function(){return p})),r.d(t,"w",(function(){return y})),r.d(t,"x",(function(){return R})),r.d(t,"y",(function(){return g}));var n=r("6CzD"),i=r("9NdK"),a=r("Mp7X"),o=r("A0wW"),s=(r("TM+E"),r("7im+"));function c(e){return Promise.all(e)}function u(e){return new Promise((function(t,r){try{e(t,r)}catch(n){Promise.resolve().then((function(){return r(n)}))}}))}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Aborted";return new a.a("AbortError",e)}function f(){return new AbortController}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Aborted";if(h(e))throw l(t)}function d(e){return Object(s.i)(e)?"aborted"in e?e:e.signal:e}function h(e){var t=d(e);return Object(s.i)(t)&&t.aborted}function b(e){if(O(e))throw e}function y(e){if(!O(e))throw e}function v(e,t){var r=d(e);if(!Object(s.h)(r)){if(!r.aborted)return Object(o.d)(r,"abort",(function(){return t()}));t()}}function m(e,t){var r=d(e);if(!Object(s.h)(r))return p(r),Object(o.d)(r,"abort",(function(){return t(l())}))}function g(e,t){var r=d(t);return Object(s.h)(r)?e:new Promise((function(r,n){var i=v(t,(function(){return n(l())})),a=function(){return i=Object(s.o)(i)};e.then(a,a),e.then(r,n)}))}function O(e){return e&&"AbortError"===e.name}function j(e){return e.catch((function(e){if(!O(e))throw e}))}function w(){var e=null,t=new Promise((function(t,r){e={promise:void 0,resolve:t,reject:r}}));return e.promise=t,e}function _(e){if(e){if("function"!=typeof e.forEach){var t=Object.keys(e);return _(t.map((function(t){return e[t]}))).then((function(e){var r={};return t.forEach((function(t,n){return r[t]=e[n]})),r}))}var r=e;return u((function(e){var t=[],n=r.length;0===n&&e(t),r.forEach((function(r){var i={promise:r||Promise.resolve(r)};t.push(i),i.promise.then((function(e){i.value=e})).catch((function(e){i.error=e})).then((function(){0===--n&&e(t)}))}))}))}}function k(e){return _(e).then((function(e){return e.filter((function(e){return!!e.value})).map((function(e){return e.value}))}))}function x(e){return Promise.reject(e)}function S(e){return Promise.resolve(e)}function P(e,t,r){var n=f();return v(r,(function(){return n.abort()})),new Promise((function(r,i){var a=setTimeout((function(){a=0,r(t)}),e);v(n,(function(){a&&(clearTimeout(a),i(l()))}))}))}function I(e){return e&&"function"==typeof e.then}function R(e){return M(e)?e:Promise.resolve(e)}function M(e){return e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}function E(e){var t,r,i,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,c=null,u=function u(){for(var p=arguments.length,d=new Array(p),h=0;h<p;h++)d[h]=arguments[h];if(t){r=d,a&&a.reject(l()),a=w();var b=Object(s.c)(a.promise);if(c){var y=c;c=null,y.abort()}return b}if(i=a||w(),a=null,o>0){var v=f(),m=t=R(e.apply(void 0,d.concat([v.signal])));P(o).then((function(){t===m&&(a?v.abort():c=v)}))}else t=1,t=R(e.apply(void 0,d));var g=function(){var e=r;r=i=t=c=null,null!=e&&u.apply(void 0,Object(n.a)(e))},O=t,j=i;return O.then(g,g),O.then(j.resolve,j.reject),Object(s.c)(j.promise)};return u}function T(){var e,t,r=new Promise((function(r,n){e=r,t=n})),n=function(t){e(t)};return n.resolve=function(t){return e(t)},n.reject=function(e){return t(e)},n.timeout=function(e,t){return i.a.setTimeout((function(){return n.reject(t)}),e)},n.promise=r,n}function A(e){var t=f(),r=e(t.signal),n={promise:r,finished:!1,abort:function(){t&&(t.abort(),t=null)}},i=function(){n&&(n.finished=!0,n=null),t=null};return r.then(i,i),n}},IOVJ:function(e,t,r){"use strict";var n=r("mK0O"),i=r("7L9N"),a=r("ERkP"),o=r.n(a),s=r("emEt"),c=r("xtsi"),u=r("30RF");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){var e=f(f({},this.props),{},{params:f(f({},Object(u.c)(this.props.location.pathname)),this.props.pageResources.json.pageContext.__params),pathContext:this.props.pageContext}),t=Object(c.apiRunner)("replaceComponentRenderer",{props:this.props,loader:s.publicLoader})[0]||Object(a.createElement)(this.props.pageResources.component,f(f({},e),{},{key:this.props.path||this.props.pageResources.page.path}));return Object(c.apiRunner)("wrapPageElement",{element:t,props:e},t,(function(t){return{element:t.result,props:e}})).pop()},t}(o.a.Component);t.a=p},IOY3:function(e,t){e.exports={}},IXSo:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("aic5");function i(e){return{geometryType:Object(n.c)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function a(e,t,r){var i=Object(n.b)(t);return e.map((function(e){var t=i.fromJSON(e);return t.spatialReference=r,t}))}},IXv3:function(e,t,r){"use strict";var n=r("mK0O"),i=r("eijD"),a=r("hisu"),o=r("yBJb"),s=r("0942"),c=r("CHlC"),u=r("kMo5"),l=r("P+uj"),f=r("NthX"),p=r.n(f),d=r("dQW7"),h=(r("U7uu"),r("vVXE")),b=r("8JNV"),y=r("v3KF"),v=r("UfAV"),m=(r("J4Pc"),r("0fJP")),g=r("TM+E"),O=r("t4nU"),j=r("IH5m"),w=r("ErXN"),_=r("j56I"),k=r("xAIp"),x=r("gljZ"),S=r("iaHD"),P=r("Qu15"),I=r("lk3E"),R=r("hz2j"),M=(r("vbdg"),{handleInterceptedEvent:function(e,t,r,n){return e.scheduleRender(),t.properties["on".concat(n.type)].apply(t.properties.bind||r,[n])}});function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A={namespace:void 0,performanceLogger:function(){},eventHandlerInterceptor:void 0,styleApplyer:function(e,t,r){e.style[t]=r}};function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=function(e,t){return e.find(t)},F=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e;return t.forEach((function(e,i){var a,o=null!=(a=n)&&a.children?L(n.children,(function(t){return t.domNode===e})):void 0;r&&!o&&i!==t.length-1||(n=o)})),n},N=r("Fyif");var B,V=r("e6DO"),U=r("z9dv");function z(){var e;e=Object(U.A)(Object(V.a)(B)),Object(N.a)(e)}B="components/assets";var q=r("tYqq"),H=r("c+HS"),G=r("Vs6/"),W=r("iW9l");function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var X="esri.widgets.Widget",K=g.a.getLogger(X),Y=0,ee="esri-icon-checkbox-unchecked";function te(e,t){for(var r in t)null!=e[r]&&("object"==typeof e[r]&&"object"==typeof t[r]?te(e[r],t[r]):e[r]=t[r]);return e}var re=function(e){var t,r,n,i=D(D({},M),e),a=(r=i,T(T({},A),r)),o=a.performanceLogger,s=!0,c=!1,u=[],l=[],f=function(e,r,n){var s;a.eventHandlerInterceptor=function(e,r,n,a){return function(e){var r;o("domEvent",e);var n,a=function(e,t){for(var r=[];e&&e!==t;)r.push(e),e=e.parentNode;return r}(e.currentTarget,s.domNode),c=a.some((function(e){var t;return customElements.get(null==e||null==(t=e.tagName)?void 0:t.toLowerCase())}));if(e.eventPhase!==Event.CAPTURING_PHASE&&c){var u=e.composedPath(),l=u.slice(u.indexOf(e.currentTarget),u.indexOf(s.domNode)).filter((function(e){return e.getRootNode()===e.ownerDocument})).reverse();r=F(s.getLastRender(),l,!0)}else a.reverse(),r=F(s.getLastRender(),a);return r&&(n=i.handleInterceptedEvent(t,r,this,e)),o("domEventProcessed",e),n}},null==i.postProcessProjectionOptions||i.postProcessProjectionOptions(a);var c=n();s=e(r,c,a),u.push(s),l.push(n),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(s,c)},p=function(){if(n=void 0,s){s=!1,o("renderStart",void 0);for(var e=0;e<u.length;e++){var t=l[e]();o("rendered",void 0),u[e].update(t),o("patched",void 0)}o("renderDone",void 0),s=!0}};return i.modifyDoRenderImplementation&&(p=i.modifyDoRenderImplementation(p,u,l)),t={renderNow:p,scheduleRender:function(){n||c||(n=requestAnimationFrame(p))},stop:function(){n&&(cancelAnimationFrame(n),n=void 0),c=!0},resume:function(){c=!1,s=!0,t.scheduleRender()},append:function(e,t){f(R.b.append,e,t)},insertBefore:function(e,t){f(R.b.insertBefore,e,t)},merge:function(e,t){f(R.b.merge,e,t)},replace:function(e,t){f(R.b.replace,e,t)},detach:function(e){for(var t=0;t<l.length;t++)if(l[t]===e)return l.splice(t,1),u.splice(t,1)[0];throw new Error("renderFunction was not found")}},t}({postProcessProjectionOptions:function(e){var t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=function(e,n,i,a){var o=t(e,n,i,a),s=r.test(e);if(!((e=e.replace(r,"")).toLowerCase()in i)||s){var c=e[2].toLowerCase()+e.slice(3),u=function(e){return o.call(i,e)};i.addEventListener(c,u,s);var l=a.afterRemoved;a.afterRemoved=function(e){null==l||l(e),i.removeEventListener(c,u,s)}}return o}},handleInterceptedEvent:function(e,t,r,n){var i=n.eventPhase,a=n.type,o=i===Event.CAPTURING_PHASE,s="on".concat(a).concat(o?"capture":""),c=t.properties;(s in c||(s="on".concat(a[0].toUpperCase()).concat(a.slice(1)).concat(o?"Capture":""))in c)&&(e.scheduleRender(),c[s].call(c.bind||r,n))}}),ne=!1,ie=function(e){Object(c.a)(u,e);var t,r=Q(u);function u(e,t){var n;Object(a.a)(this,u),(n=r.call(this,e,t))._attached=!1,n._internalHandles=new v.a,n._projector=re,n.domNode=null,n.iconClass=ee,n.label=n.declaredClass.split(".").pop(),n.visible=!0,n.key=Object(s.a)(n),n._loadLocale=Object(j.i)(Object(i.a)(p.a.mark((function e(){var t,r,a,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n._messageBundleProps||!n._messageBundleProps.length){e.next=6;break}return e.next=3,Object(j.j)(n._messageBundleProps.map(function(){var e=Object(i.a)(p.a.mark((function e(t){var r,i,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.bundlePath,i=t.propertyName,e.next=3,Object(W.a)(r);case 3:a=e.sent,n.localeStrings&&Object.keys(n.localeStrings)&&(a=te(Object(m.a)(a),n.localeStrings)),n[i]=a;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:t=e.sent,r=$(t);try{for(r.s();!(a=r.n()).done;)(o=a.value).error&&K.error("widget-intl:locale-error",n.declaredClass,o.error)}catch(s){r.e(s)}finally{r.f()}case 6:return e.next=8,n.loadLocale();case 8:case"end":return e.stop()}}),e)})))),z();var o=Object(H.e)()||"light";["light","dark"].includes(o)||Object(h.a)(K,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});var c="esri-widget-uid-"+Object(w.a)(),l=n.render.bind(Object(s.a)(n)),f=!1;n._trackingTarget=new I.a((function(){return n.scheduleRender()}));var d=function(){var e;if(!f||n.destroyed)return null;if(!n.visible)return{vnodeSelector:"div",properties:{key:c,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};var t=l(),r=t.properties;r||(t.properties=r={});var i=r,a=i.key,o=i.styles;a||(r.key=c),o||(r.styles=o={}),o.display||(o.display="");var u=0;return null==(e=t.children)||e.forEach((function(e){if(!Object(q.b)(e.vnodeSelector)){var t=e.properties;t||(e.properties=t={}),t.key||(t.key="".concat(n.id,"--").concat(u++))}})),Object(q.c)(Object(s.a)(n),t)};return n.render=function(){if(ne)return d();var e;n._trackingTarget.clear(),ne=!0;try{e=Object(P.b)(n._trackingTarget,d)}finally{ne=!1}return e},n.addResolvingPromise(n._resourcesFetch=n.beforeFirstRender().then((function(){f=!0,n._postInitialize()}))),n}return Object(o.a)(u,[{key:"normalizeCtorArgs",value:function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);return t&&(r.container=t),r}},{key:"postInitialize",value:function(){}},{key:"beforeFirstRender",value:function(){return this._loadLocale().catch(j.w)}},{key:"loadLocale",value:(t=Object(i.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"destroy",value:function(){this.destroyed||(this._trackingTarget.destroy(),this._trackingTarget=null,this.viewModel&&(this.viewModel.destroy(),this.viewModel=null),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=function(){return null},this._projector=null)}},{key:"container",set:function(e){this._get("container")||this._set("container",e)}},{key:"castContainer",value:function(e){return Object(b.a)(e)}},{key:"id",get:function(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+Y++},set:function(e){e&&this._set("id",e)}},{key:"renderable",get:function(){return this._resourcesFetch}},{key:"test",get:function(){return{projector:this._projector,handles:this._internalHandles}}},{key:"render",value:function(){throw new Error("not implemented")}},{key:"scheduleRender",value:function(){this.destroyed||this._projector.scheduleRender()}},{key:"classes",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return H.a.apply(this,t)}},{key:"own",value:function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments)),this._internalHandles.add(e)}},{key:"renderNow",value:function(){this._projector.renderNow()}},{key:"_postInitialize",value:function(){var e,t=this;if(!this.destroyed){this.scheduleRender(),null!=(e=this._delegatedEventNames)&&e.length&&this._internalHandles.add(Object(_.a)(this,"viewModel",(function(e,r){r&&t._internalHandles.remove("delegated-events"),e&&t._internalHandles.add(t._delegatedEventNames.map((function(r){return e.on(r,(function(e){t.emit(r,e)}))})),"delegated-events")}))),this.postInitialize();var r=function(){var e=Object(i.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._loadLocale().catch(j.w);case 2:t.scheduleRender();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();this._internalHandles.add([Object(G.c)(r),this.watch("localeStrings",r),Object(_.j)(this,"container",function(){var e=Object(i.a)(p.a.mark((function e(r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.destroyed||t._attach(r);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())])}}},{key:"_attach",value:function(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}},{key:"_detach",value:function(e){e&&this._attached&&(this._projector.detach(this.render),e.parentNode&&e.parentNode.removeChild(e),this._attached=!1)}}]),u}(Object(O.b)(y.a.EventedAccessor));ie[q.a]=!0,Object(d.a)([Object(k.b)({value:null})],ie.prototype,"container",null),Object(d.a)([Object(x.a)("container")],ie.prototype,"castContainer",null),Object(d.a)([Object(k.b)({aliasOf:"container"})],ie.prototype,"domNode",void 0),Object(d.a)([Object(k.b)()],ie.prototype,"iconClass",void 0),Object(d.a)([Object(k.b)()],ie.prototype,"id",null),Object(d.a)([Object(k.b)()],ie.prototype,"label",void 0),Object(d.a)([Object(k.b)()],ie.prototype,"localeStrings",void 0),Object(d.a)([Object(k.b)()],ie.prototype,"renderable",null),Object(d.a)([Object(k.b)()],ie.prototype,"viewModel",void 0),Object(d.a)([Object(k.b)()],ie.prototype,"visible",void 0),Object(d.a)([Object(k.b)()],ie.prototype,"key",void 0),Object(d.a)([Object(k.b)()],ie.prototype,"afterCreate",void 0),Object(d.a)([Object(k.b)()],ie.prototype,"afterUpdate",void 0),Object(d.a)([Object(k.b)()],ie.prototype,"afterRemoved",void 0);var ae=ie=Object(d.a)([Object(S.a)(X)],ie);t.a=ae},IZpe:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return s})),r.d(t,"f",(function(){return h})),r.d(t,"g",(function(){return d}));var n=r("aNYv");function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o=[0,0];function s(e,t){return p(e,t.x,t.y,t.z)}function c(e,t){if(!t.points||t.points.length)return!1;var r,n=i(t.points);try{for(n.s();!(r=n.n()).done;){if(!l(e,r.value))return!1}}catch(a){n.e(a)}finally{n.f()}return!0}function u(e,t){var r=t.xmin,n=t.ymin,i=t.zmin,a=t.xmax,o=t.ymax,s=t.zmax;return e.hasZ&&t.hasZ?p(e,r,n,i)&&p(e,r,o,i)&&p(e,a,o,i)&&p(e,a,n,i)&&p(e,r,n,s)&&p(e,r,o,s)&&p(e,a,o,s)&&p(e,a,n,s):p(e,r,n)&&p(e,r,o)&&p(e,a,o)&&p(e,a,n)}function l(e,t){return p(e,t[0],t[1])}function f(e,t){return p(e,t[0],t[1],t[2])}function p(e,t,r,n){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(null==n||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function d(e,t){return o[1]=t.y,o[0]=t.x,h(e,o)}function h(e,t){return function(e,t){if(!e)return!1;if(function(e){return!Array.isArray(e[0][0])}(e))return b(!1,e,t);for(var r=!1,n=0,i=e.length;n<i;n++)r=b(r,e[n],t);return r}(e.rings,t)}function b(e,t,r){for(var i=Object(n.a)(r,2),a=i[0],o=i[1],s=e,c=0,u=0,l=t.length;u<l;u++){++c===l&&(c=0);var f=Object(n.a)(t[u],2),p=f[0],d=f[1],h=Object(n.a)(t[c],2),b=h[0],y=h[1];(d<o&&y>=o||y<o&&d>=o)&&p+(o-d)/(y-d)*(b-p)<a&&(s=!s)}return s}},IjXt:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("vo12")),p=r("iaHD"),d=r("x/Hb");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var b=n=function(e){Object(o.a)(r,e);var t=h(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).maxValue=null,n.minValue=null,n.type="range",n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}}]),r}(d.a);Object(u.a)([Object(l.b)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(e,t,r){t[r]=[this.minValue||0,e]}}}})],b.prototype,"maxValue",void 0),Object(u.a)([Object(l.b)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[0]}},write:{target:"range",writer:function(e,t,r){t[r]=[e,this.maxValue||0]}}}})],b.prototype,"minValue",void 0),Object(u.a)([Object(f.a)({range:"range"})],b.prototype,"type",void 0);var y=b=n=Object(u.a)([Object(p.a)("esri.layers.support.RangeDomain")],b);t.a=y},IoK0:function(e,t,r){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,"a",(function(){return n}))},IqJI:function(e,t,r){var n=r("gwRl"),i=r("+Vbj");e.exports=function e(t,r,a,o,s){var c=-1,u=t.length;for(a||(a=i),s||(s=[]);++c<u;){var l=t[c];r>0&&a(l)?r>1?e(l,r-1,a,o,s):n(s,l):o||(s[s.length]=l)}return s}},IrTi:function(e,t){e.exports={}},IvZe:function(e,t,r){"use strict";var n,i=r("eijD"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("NthX"),f=r.n(l),p=r("dQW7"),d=r("WYis"),h=r("0fJP"),b=r("xAIp"),y=(r("wckI"),r("J4Pc"),r("TM+E"),r("vo12")),v=r("iaHD"),m=r("DuP7"),g=r("6yFL"),O=r("CSkC");function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var w=n=function(e){Object(s.a)(c,e);var t,r=j(c);function c(e){var t;return Object(a.a)(this,c),(t=r.call(this,e)).blurRadius=10,t.colorStops=[new O.a({ratio:0,color:new d.a("rgba(255, 140, 0, 0)")}),new O.a({ratio:.75,color:new d.a("rgba(255, 140, 0, 1)")}),new O.a({ratio:.9,color:new d.a("rgba(255, 0,   0, 1)")})],t.field=null,t.fieldOffset=0,t.maxPixelIntensity=100,t.minPixelIntensity=0,t.type="heatmap",t}return Object(o.a)(c,[{key:"collectRequiredFields",value:(t=Object(i.a)(f.a.mark((function e(t,r){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=this.field)&&"string"==typeof n&&Object(m.d)(t,r,n);case 2:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"getAttributeHash",value:function(){return null}},{key:"getMeshHash",value:function(){return"".concat(JSON.stringify(this.colorStops),".").concat(this.blurRadius,".").concat(this.field)}},{key:"clone",value:function(){return new n({blurRadius:this.blurRadius,colorStops:Object(h.a)(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}}]),c}(g.a);Object(p.a)([Object(b.b)({type:Number,json:{write:!0}})],w.prototype,"blurRadius",void 0),Object(p.a)([Object(b.b)({type:[O.a],json:{write:!0}})],w.prototype,"colorStops",void 0),Object(p.a)([Object(b.b)({type:String,json:{write:!0}})],w.prototype,"field",void 0),Object(p.a)([Object(b.b)({type:Number,json:{write:{overridePolicy:function(e,t,r){return{enabled:null==r}}}}})],w.prototype,"fieldOffset",void 0),Object(p.a)([Object(b.b)({type:Number,json:{write:!0}})],w.prototype,"maxPixelIntensity",void 0),Object(p.a)([Object(b.b)({type:Number,json:{write:!0}})],w.prototype,"minPixelIntensity",void 0),Object(p.a)([Object(y.a)({heatmap:"heatmap"})],w.prototype,"type",void 0);var _=w=n=Object(p.a)([Object(v.a)("esri.renderers.HeatmapRenderer")],w);t.a=_},IxxH:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return c}));var n,i={exports:{}};void 0!==(n=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"])&&(i.exports=n);var a,o=i.exports,s={exports:{}};a=s,function(e){var t=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"];void 0!==t&&(a.exports=t)}();var c=s.exports,u={exports:{}};!function(e){!function(t){var r=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"];void 0!==r&&(e.exports=r)}()}(u);var l=u.exports},Iyey:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("TM+E"),i=r("67w/"),a=r("lZmO"),o=r("TO7i"),s=r("jOdF"),c=n.a.getLogger("esri.intl");function u(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.format,i=void 0===n?{}:n;return Object(a.c)(e,(function(e){return l(e,t,i)}))}function l(e,t,r){var n,a,o=e.indexOf(":");if(-1===o?n=e.trim():(n=e.slice(0,o).trim(),a=e.slice(o+1).trim()),!n)return"";var s=Object(i.b)(n,t);if(null==s)return"";var c=r[a]||r[n];return c?f(s,c):a?p(s,a):d(s)}function f(e,t){switch(t.type){case"date":return Object(o.b)(e,t.intlOptions);case"number":return Object(s.b)(e,t.intlOptions);default:return c.warn("missing format descriptor for key {key}"),d(e)}}function p(e,t){switch(t.toLowerCase()){case"dateformat":return Object(o.b)(e);case"numberformat":return Object(s.b)(e);default:return c.warn("inline format is unsupported since 4.12: ".concat(t)),/^(dateformat|datestring)/i.test(t)?Object(o.b)(e):/^numberformat/i.test(t)?Object(s.b)(e):d(e)}}function d(e){switch(typeof e){case"string":return e;case"number":return Object(s.b)(e);case"boolean":return""+e;default:return e instanceof Date?Object(o.b)(e):""}}},"J+m1":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0fJP"),f=r("xAIp"),p=(r("wckI"),r("J4Pc"),r("TM+E"),r("iaHD")),d=r("U95q");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var b=n=function(e){Object(o.a)(r,e);var t=h(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).creator=null,n.destroyer=null,n.outFields=null,n.type="custom",n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?Object(l.a)(this.outFields):null})}}]),r}(d.a);Object(u.a)([Object(f.b)()],b.prototype,"creator",void 0),Object(u.a)([Object(f.b)()],b.prototype,"destroyer",void 0),Object(u.a)([Object(f.b)()],b.prototype,"outFields",void 0),Object(u.a)([Object(f.b)({type:["custom"],readOnly:!0})],b.prototype,"type",void 0);var y=b=n=Object(u.a)([Object(p.a)("esri.popup.content.CustomContent")],b);t.a=y},J4Ic:function(e,t,r){"use strict";var n=r("NthX"),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r("ERkP"),l=c(r("lZ6b")),f=r("pjU7"),p=c(r("wvjj"));t.default=function(e){var t=e.expander,i=void 0===t?p.default.expander:t,a=e.expanderDefaultOpen,c=void 0===a?p.default.expanderDefaultOpen:a,d=e.position,h=void 0===d?p.default.position:d,b=e.widgetArgs,y=void 0===b?p.default.widgetArgs:b,v=e.expandWidgetArgs,m=void 0===v?p.default.expandWidgetArgs:v,g=e.expandIconClass,O=void 0===g?"esri-icon-directions":g,j=l.default().view;return u.useEffect((function(){var e,t,a=!0;return(null==j?void 0:j.ready)&&s(void 0,void 0,void 0,n.mark((function s(){var u,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return o(r("MGvN"))}));case 2:if(u=n.sent,l=u.default,e=new l(Object.assign({view:j},y)),!i){n.next=11;break}return n.next=8,f.addExpander({view:j,widgetContent:e,expandIconClass:O,position:h,defaultOpen:c,expandWidgetArgs:m});case 8:t=n.sent,n.next=12;break;case 11:a&&(null==j||j.ui.add(e,h));case 12:case"end":return n.stop()}}),s)}))),function(){a=!1,null==e||e.destroy(),null==t||t.destroy()}}),[j,i,h]),null}},J4Pc:function(e,t,r){"use strict";var n,i,a,o,s,c=r("mK0O"),u=r("8jRW");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(c.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e){return"function"==typeof a[e]?a[e]=a[e](u.a):a[e]}a=null!=(n=u.a.dojoConfig)&&n.has||null!=(i=u.a.esriConfig)&&i.has?f(f({},null==(o=u.a.dojoConfig)?void 0:o.has),null==(s=u.a.esriConfig)?void 0:s.has):{},p.add=function(e,t,r,n){return(n||void 0===a[e])&&(a[e]=t),r&&p(e)},p.cache=a,p.add("esri-deprecation-warnings",!0),function(){p.add("host-webworker",void 0!==u.a.WorkerGlobalScope&&self instanceof u.a.WorkerGlobalScope);var e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(p.add("host-browser",e),p.add("host-node","object"==typeof u.a.process&&u.a.process.versions&&u.a.process.versions.node&&u.a.process.versions.v8),p.add("dom",e),p("host-browser")){var t=navigator,r=t.userAgent,n=t.appVersion,i=parseFloat(n);if(p.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),p.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),p.add("khtml",n.includes("Konqueror")?i:void 0),p.add("edge",parseFloat(r.split("Edge/")[1])||void 0),p.add("opr",parseFloat(r.split("OPR/")[1])||void 0),p.add("webkit",!p("wp")&&!p("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),p.add("chrome",!p("edge")&&!p("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),p.add("android",!p("wp")&&parseFloat(r.split("Android ")[1])||void 0),p.add("safari",!n.includes("Safari")||p("wp")||p("chrome")||p("android")||p("edge")||p("opr")?void 0:parseFloat(n.split("Version/")[1])),p.add("mac",n.includes("Macintosh")),!p("wp")&&r.match(/(iPhone|iPod|iPad)/)){var a=RegExp.$1.replace(/P/,"p"),o=r.match(/OS ([\d_]+)/)?RegExp.$1:"1",s=parseFloat(o.replace(/_/,".").replace(/_/g,""));p.add(a,s),p.add("ios",s)}p.add("trident",parseFloat(n.split("Trident/")[1])||void 0),p("webkit")||(!r.includes("Gecko")||p("wp")||p("khtml")||p("trident")||p("edge")||p.add("mozilla",i),p("mozilla")&&p.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}}(),function(){if(u.a.navigator){var e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&p.add("esri-mobile",t),r&&p.add("esri-iPhone",r),p.add("esri-geolocation",!!navigator.geolocation)}p.add("esri-canvas-svg-support",!p("trident")),p.add("esri-wasm","WebAssembly"in u.a),p.add("esri-shared-array-buffer",(function(){var e="SharedArrayBuffer"in u.a,t=!1===u.a.crossOriginIsolated;return e&&!t})),p.add("esri-atomics","Atomics"in u.a),p.add("esri-workers","Worker"in u.a),p.add("esri-text-decoder","TextDecoder"in u.a),p.add("esri-text-encoder","TextEncoder"in u.a),p.add("web-feat:cache","caches"in u.a),p.add("esri-workers-arraybuffer-transfer",!p("safari")||Number(p("safari"))>=12),p.add("featurelayer-snapshot-enabled",!0),p.add("featurelayer-snapshot-point-min-threshold",8e4),p.add("featurelayer-snapshot-point-max-threshold",4e5),p.add("featurelayer-snapshot-point-coverage",.1),p.add("featurelayer-advanced-symbols",!1),p.add("featurelayer-pbf",!0),p.add("featurelayer-pbf-statistics",!1),p.add("feature-layers-workers",!0),p.add("mapview-transitions-duration",200),p.add("mapserver-pbf-enabled",!1),p("host-webworker")||p("host-browser")&&(p.add("csp-restrictions",(function(){try{new Function}catch(e){return!0}return!1})),p.add("esri-image-decode",(function(){if("decode"in new Image){var e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((function(){p.add("esri-image-decode",!0,!0,!0)})).catch((function(){p.add("esri-image-decode",!1,!0,!0)}))}return!1})),p.add("esri-url-encodes-apostrophe",(function(){var e=u.a.document.createElement("a");return e.href="?'",e.href.includes("?%27")})),p.add("vectortilelayer-max-buffers",p("ff")?160:Number.POSITIVE_INFINITY))}(),t.a=p},J9xP:function(e,t,r){var n=r("cm7J");e.exports=function(e){return n(this.__data__,e)>-1}},JBec:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;Object(n.a)(this,e),this.displayId=0,this.geohashX=0,this.geohashY=0,this.geometry=t,r&&(this.attributes=r),i&&(this.centroid=i),null!=a&&(this.objectId=a)}return Object(i.a)(e,[{key:"hasGeometry",get:function(){return!(!this.geometry||!this.geometry.coords||!this.geometry.coords.length)}},{key:"weakClone",value:function(){var t=new e(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}]),e}();t.a=a},"JF+v":function(e,t,r){"use strict";r.r(t),r.d(t,"Link",(function(){return T})),r.d(t,"Location",(function(){return g})),r.d(t,"LocationProvider",(function(){return O})),r.d(t,"Match",(function(){return N})),r.d(t,"Redirect",(function(){return F})),r.d(t,"Router",(function(){return _})),r.d(t,"ServerLocation",(function(){return j})),r.d(t,"isRedirect",(function(){return C})),r.d(t,"redirectTo",(function(){return D})),r.d(t,"useLocation",(function(){return B})),r.d(t,"useNavigate",(function(){return V})),r.d(t,"useParams",(function(){return U})),r.d(t,"useMatch",(function(){return z})),r.d(t,"BaseContext",(function(){return w}));var n=r("ERkP"),i=r.n(n),a=(r("W0B4"),r("+Ltg")),o=r.n(a),s=r("nqlD"),c=r.n(s),u=r("94VI"),l=r("ZkUl");r.d(t,"matchPath",(function(){return l.match}));var f=r("ELdr");r.d(t,"createHistory",(function(){return f.a})),r.d(t,"createMemorySource",(function(){return f.b})),r.d(t,"navigate",(function(){return f.d})),r.d(t,"globalHistory",(function(){return f.c}));var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function d(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e,t){var r=c()(t);return r.displayName=e,r},m=v("Location"),g=function(e){var t=e.children;return i.a.createElement(m.Consumer,null,(function(e){return e?t(e):i.a.createElement(O,null,t)}))},O=function(e){function t(){var r,n;h(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=n=b(this,e.call.apply(e,[this].concat(a))),n.state={context:n.getContext(),refs:{unlisten:null}},b(n,r)}return y(t,e),t.prototype.getContext=function(){var e=this.props.history;return{navigate:e.navigate,location:e.location}},t.prototype.componentDidCatch=function(e,t){if(!C(e))throw e;(0,this.props.history.navigate)(e.uri,{replace:!0})},t.prototype.componentDidUpdate=function(e,t){t.context.location!==this.state.context.location&&this.props.history._onTransitionComplete()},t.prototype.componentDidMount=function(){var e=this,t=this.state.refs,r=this.props.history;r._onTransitionComplete(),t.unlisten=r.listen((function(){Promise.resolve().then((function(){requestAnimationFrame((function(){e.unmounted||e.setState((function(){return{context:e.getContext()}}))}))}))}))},t.prototype.componentWillUnmount=function(){var e=this.state.refs;this.unmounted=!0,e.unlisten()},t.prototype.render=function(){var e=this.state.context,t=this.props.children;return i.a.createElement(m.Provider,{value:e},"function"==typeof t?t(e):t||null)},t}(i.a.Component);O.defaultProps={history:f.c};var j=function(e){var t=e.url,r=e.children,n=t.indexOf("?"),a=void 0,o="";return n>-1?(a=t.substring(0,n),o=t.substring(n)):a=t,i.a.createElement(m.Provider,{value:{location:{pathname:a,search:o,hash:""},navigate:function(){throw new Error("You can't call navigate on the server.")}}},r)},w=v("Base",{baseuri:"/",basepath:"/"}),_=function(e){return i.a.createElement(w.Consumer,null,(function(t){return i.a.createElement(g,null,(function(r){return i.a.createElement(k,p({},t,r,e))}))}))},k=function(e){function t(){return h(this,t),b(this,e.apply(this,arguments))}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.location,r=e.navigate,n=e.basepath,a=e.primary,o=e.children,s=(e.baseuri,e.component),c=void 0===s?"div":s,u=d(e,["location","navigate","basepath","primary","children","baseuri","component"]),f=i.a.Children.toArray(o).reduce((function(e,t){var r=H(n)(t);return e.concat(r)}),[]),h=t.pathname,b=Object(l.pick)(f,h);if(b){var y=b.params,v=b.uri,m=b.route,g=b.route.value;n=m.default?n:m.path.replace(/\*$/,"");var O=p({},y,{uri:v,location:t,navigate:function(e,t){return r(Object(l.resolve)(e,v),t)}}),j=i.a.cloneElement(g,O,g.props.children?i.a.createElement(_,{location:t,primary:a},g.props.children):void 0),k=a?S:c,x=a?p({uri:v,location:t,component:c},u):u;return i.a.createElement(w.Provider,{value:{baseuri:v,basepath:n}},i.a.createElement(k,x,j))}return null},t}(i.a.PureComponent);k.defaultProps={primary:!0};var x=v("Focus"),S=function(e){var t=e.uri,r=e.location,n=e.component,a=d(e,["uri","location","component"]);return i.a.createElement(x.Consumer,null,(function(e){return i.a.createElement(R,p({},a,{component:n,requestFocus:e,uri:t,location:r}))}))},P=!0,I=0,R=function(e){function t(){var r,n;h(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=n=b(this,e.call.apply(e,[this].concat(a))),n.state={},n.requestFocus=function(e){!n.state.shouldFocus&&e&&e.focus()},b(n,r)}return y(t,e),t.getDerivedStateFromProps=function(e,t){if(null==t.uri)return p({shouldFocus:!0},e);var r=e.uri!==t.uri,n=t.location.pathname!==e.location.pathname&&e.location.pathname===e.uri;return p({shouldFocus:r||n},e)},t.prototype.componentDidMount=function(){I++,this.focus()},t.prototype.componentWillUnmount=function(){0===--I&&(P=!0)},t.prototype.componentDidUpdate=function(e,t){e.location!==this.props.location&&this.state.shouldFocus&&this.focus()},t.prototype.focus=function(){var e=this.props.requestFocus;e?e(this.node):P?P=!1:this.node&&(this.node.contains(document.activeElement)||this.node.focus())},t.prototype.render=function(){var e=this,t=this.props,r=(t.children,t.style),n=(t.requestFocus,t.component),a=void 0===n?"div":n,o=(t.uri,t.location,d(t,["children","style","requestFocus","component","uri","location"]));return i.a.createElement(a,p({style:p({outline:"none"},r),tabIndex:"-1",ref:function(t){return e.node=t}},o),i.a.createElement(x.Provider,{value:this.requestFocus},this.props.children))},t}(i.a.Component);Object(u.polyfill)(R);var M=function(){},E=i.a.forwardRef;void 0===E&&(E=function(e){return e});var T=E((function(e,t){var r=e.innerRef,n=d(e,["innerRef"]);return i.a.createElement(w.Consumer,null,(function(e){e.basepath;var a=e.baseuri;return i.a.createElement(g,null,(function(e){var o=e.location,s=e.navigate,c=n.to,u=n.state,f=n.replace,h=n.getProps,b=void 0===h?M:h,y=d(n,["to","state","replace","getProps"]),v=Object(l.resolve)(c,a),m=encodeURI(v),g=o.pathname===m,O=Object(l.startsWith)(o.pathname,m);return i.a.createElement("a",p({ref:t||r,"aria-current":g?"page":void 0},y,b({isCurrent:g,isPartiallyCurrent:O,href:v,location:o}),{href:v,onClick:function(e){if(y.onClick&&y.onClick(e),G(e)){e.preventDefault();var t=f;if("boolean"!=typeof f&&g){var r=p({},o.state),n=(r.key,d(r,["key"]));t=Object(l.shallowCompare)(p({},u),n)}s(v,{state:u,replace:t})}}}))}))}))}));function A(e){this.uri=e}T.displayName="Link";var C=function(e){return e instanceof A},D=function(e){throw new A(e)},L=function(e){function t(){return h(this,t),b(this,e.apply(this,arguments))}return y(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.navigate,r=e.to,n=(e.from,e.replace),i=void 0===n||n,a=e.state,o=(e.noThrow,e.baseuri),s=d(e,["navigate","to","from","replace","state","noThrow","baseuri"]);Promise.resolve().then((function(){var e=Object(l.resolve)(r,o);t(Object(l.insertParams)(e,s),{replace:i,state:a})}))},t.prototype.render=function(){var e=this.props,t=(e.navigate,e.to),r=(e.from,e.replace,e.state,e.noThrow),n=e.baseuri,i=d(e,["navigate","to","from","replace","state","noThrow","baseuri"]),a=Object(l.resolve)(t,n);return r||D(Object(l.insertParams)(a,i)),null},t}(i.a.Component),F=function(e){return i.a.createElement(w.Consumer,null,(function(t){var r=t.baseuri;return i.a.createElement(g,null,(function(t){return i.a.createElement(L,p({},t,{baseuri:r},e))}))}))},N=function(e){var t=e.path,r=e.children;return i.a.createElement(w.Consumer,null,(function(e){var n=e.baseuri;return i.a.createElement(g,null,(function(e){var i=e.navigate,a=e.location,o=Object(l.resolve)(t,n),s=Object(l.match)(o,a.pathname);return r({navigate:i,location:a,match:s?p({},s.params,{uri:s.uri,path:t}):null})}))}))},B=function(){var e=Object(n.useContext)(m);if(!e)throw new Error("useLocation hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router");return e.location},V=function(){var e=Object(n.useContext)(m);if(!e)throw new Error("useNavigate hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router");return e.navigate},U=function(){var e=Object(n.useContext)(w);if(!e)throw new Error("useParams hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router");var t=B(),r=Object(l.match)(e.basepath,t.pathname);return r?r.params:null},z=function(e){if(!e)throw new Error("useMatch(path: string) requires an argument of a string to match against");var t=Object(n.useContext)(w);if(!t)throw new Error("useMatch hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router");var r=B(),i=Object(l.resolve)(e,t.baseuri),a=Object(l.match)(i,r.pathname);return a?p({},a.params,{uri:a.uri,path:e}):null},q=function(e){return e.replace(/(^\/+|\/+$)/g,"")},H=function e(t){return function(r){if(!r)return null;if(r.type===i.a.Fragment&&r.props.children)return i.a.Children.map(r.props.children,e(t));if(r.props.path||r.props.default||r.type===F||o()(!1),r.type!==F||r.props.from&&r.props.to||o()(!1),r.type!==F||Object(l.validateRedirect)(r.props.from,r.props.to)||o()(!1),r.props.default)return{value:r,default:!0};var n=r.type===F?r.props.from:r.props.path,a="/"===n?t:q(t)+"/"+q(n);return{value:r,default:r.props.default,path:r.props.children?q(a)+"/*":a}}},G=function(e){return!e.defaultPrevented&&0===e.button&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},JIOt:function(e,t,r){"use strict";r.r(t);var n=r("eijD"),i=r("mK0O"),a=r("aNYv"),o=r("hisu"),s=r("yBJb"),c=r("4Mpa"),u=r("CHlC"),l=r("kMo5"),f=r("P+uj"),p=r("NthX"),d=r.n(p),h=r("dQW7"),b=r("g+AA"),y=r("GPuA"),v=r("VZ8p"),m=r("X6u8"),g=r("kDog"),O=r("Mp7X"),j=r("eTmm"),w=r("v2Em"),_=r("TM+E"),k=r("7im+"),x=r("d4jZ"),S=r("t4nU"),P=r("IH5m"),I=r("z9dv"),R=r("j56I"),M=r("xAIp"),E=(r("J4Pc"),r("wckI")),T=r("mp5+"),A=r("iaHD"),C=r("jr4m"),D=r("zHpc"),L=r("AZZI"),F=r("YHXj"),N=r("3p7a"),B=r("/BCw"),V=r("DGz/"),U=r("nd5+");function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var J=_.a.getLogger("esri.networks.Network"),$=function(e){Object(u.a)(c,e);var t,r,i,a=W(c);function c(e){var t;return Object(o.a)(this,c),(t=a.call(this,e)).id=null,t.title=null,t.layerUrl=null,t.dataElement=null,t.fullExtent=null,t.spatialReference=null,t.type=null,t}return Object(s.a)(c,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){var r,n;Object(P.m)(t)||J.error("#load()","Failed to load layer (title: '".concat(null!=(r=e.title)?r:"no title","', id: '").concat(null!=(n=e.id)?n:"no id","')"),{error:t})}))}},{key:"datasetName",get:function(){var e;return null==(e=this.dataElement)?void 0:e.name}},{key:"owner",get:function(){var e;return null==(e=this.dataElement)?void 0:e.userIdentity}},{key:"schemaGeneration",get:function(){var e;return null==(e=this.dataElement)?void 0:e.schemaGeneration}},{key:"parsedUrl",get:function(){var e=this.layerUrl;return e?Object(I.K)(e):null}},{key:"featureServiceUrl",get:function(){var e=this.parsedUrl&&Object(B.f)(this.parsedUrl.path);return Object(k.i)(e)?e.url.path:null}},{key:"networkServiceUrl",get:function(){return this.featureServiceUrl?this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer"):null}},{key:"layerId",get:function(){var e=this.parsedUrl&&Object(B.f)(this.parsedUrl.path);return Object(k.i)(e)?e.sublayer:null}},{key:"load",value:(i=Object(n.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.addResolvingPromise(this._fetchDataElement(this.featureServiceUrl,this.layerId.toString(),t)),this.addResolvingPromise(this._fetchLayerMetaData(this.layerUrl,t)),this));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getLayerIdBySourceId",value:function(e){if(this.dataElement){var t,r=H(this.dataElement.domainNetworks);try{for(r.s();!(t=r.n()).done;){var n,i=t.value,a=H(i.edgeSources?i.edgeSources:[]);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.sourceId===e)return o.layerId}}catch(l){a.e(l)}finally{a.f()}var s,c=H(i.junctionSources?i.junctionSources:[]);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(u.sourceId===e)return u.layerId}}catch(l){c.e(l)}finally{c.f()}}}catch(l){r.e(l)}finally{r.f()}return null}return null}},{key:"_fetchLayerMetaData",value:(r=Object(n.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.default)(t,q({responseType:"json",query:{f:"json"}},r));case 2:n=e.sent,this.read(n.data,{origin:"service"});case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"_fetchDataElement",value:(t=Object(n.a)(d.a.mark((function e(t,r,n){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.dataElement){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(V.default)("".concat(t,"/queryDataElements"),q({responseType:"json",query:{layers:JSON.stringify([r]),f:"json"}},n)).then((function(e){var t;return null==(t=e.data.layerDataElements)?void 0:t[0]}));case 4:(i=e.sent)&&this.read(i,{origin:"service"});case 6:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})}]),c}(Object(x.a)(j.a));Object(h.a)([Object(M.b)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}}},read:!1}})],$.prototype,"id",void 0),Object(h.a)([Object(M.b)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}}},read:!1}})],$.prototype,"title",void 0),Object(h.a)([Object(M.b)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],$.prototype,"layerUrl",void 0),Object(h.a)([Object(M.b)({type:Object,json:{origins:{service:{read:!0}},read:!1}})],$.prototype,"dataElement",void 0),Object(h.a)([Object(M.b)({type:U.a,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],$.prototype,"fullExtent",void 0),Object(h.a)([Object(M.b)({type:F.a,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],$.prototype,"spatialReference",void 0),Object(h.a)([Object(M.b)({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],$.prototype,"type",void 0),Object(h.a)([Object(M.b)({readOnly:!0})],$.prototype,"datasetName",null),Object(h.a)([Object(M.b)({readOnly:!0})],$.prototype,"owner",null),Object(h.a)([Object(M.b)({readOnly:!0})],$.prototype,"schemaGeneration",null),Object(h.a)([Object(M.b)({readOnly:!0})],$.prototype,"parsedUrl",null),Object(h.a)([Object(M.b)({readOnly:!0})],$.prototype,"featureServiceUrl",null),Object(h.a)([Object(M.b)({readOnly:!0})],$.prototype,"networkServiceUrl",null),Object(h.a)([Object(M.b)({readOnly:!0})],$.prototype,"layerId",null);var Z=$=Object(h.a)([Object(A.a)("esri.networks.Network")],$),Q=r("7i+s");function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var K=new Q.a({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork","subnetwork controllers":"subnetwork-controllers",loops:"loops",isolation:"isolation"}),Y=function(e){Object(u.a)(r,e);var t=X(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).globalId=null,n.title=null,n.traceConfiguration=null,n.creationDate=null,n.creator=null,n.description=null,n.minStartingPoints=null,n.resultTypes=[],n.tags=[],n.traceType=null,n}return r}(x.b);Object(h.a)([Object(M.b)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"}}},read:!1}})],Y.prototype,"globalId",void 0),Object(h.a)([Object(M.b)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],Y.prototype,"title",void 0),Object(h.a)([Object(M.b)({type:Object,json:{origins:{service:{read:!0}},read:!1}})],Y.prototype,"traceConfiguration",void 0),Object(h.a)([Object(M.b)({type:Date,json:{origins:{service:{read:!0}},read:!1}})],Y.prototype,"creationDate",void 0),Object(h.a)([Object(M.b)({type:String,json:{origins:{service:{read:!0}},read:!1}})],Y.prototype,"creator",void 0),Object(h.a)([Object(M.b)({type:String,json:{origins:{service:{read:!0}},read:!1}})],Y.prototype,"description",void 0),Object(h.a)([Object(M.b)({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"}}},read:!1}})],Y.prototype,"minStartingPoints",void 0),Object(h.a)([Object(M.b)({type:[Object],json:{origins:{service:{read:!0}},read:!1}})],Y.prototype,"resultTypes",void 0),Object(h.a)([Object(M.b)({type:[String],json:{origins:{service:{read:!0}},read:!1}})],Y.prototype,"tags",void 0),Object(h.a)([Object(M.b)({type:K.apiValues,json:{type:K.jsonValues,origins:{service:{read:K.read}},read:!1}})],Y.prototype,"traceType",void 0);var ee=Y=Object(h.a)([Object(A.a)("esri.networks.support.NamedTraceConfiguration")],Y),te=r("0n+b");function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var ne=function(e){Object(u.a)(r,e);var t=re(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).id=null,n.name=null,n}return r}(te.a);Object(h.a)([Object(M.b)({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],ne.prototype,"id",void 0),Object(h.a)([Object(M.b)({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],ne.prototype,"name",void 0),Object(h.a)([Object(M.b)({type:Boolean,json:{write:!0}})],ne.prototype,"isUpstreamTerminal",void 0);var ie=ne=Object(h.a)([Object(A.a)("esri.networks.support.Terminal")],ne);function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var oe=new Q.a({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"}),se=function(e){Object(u.a)(r,e);var t=ae(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).defaultConfiguration=null,n.id=null,n.name=null,n.terminals=[],n.traversabilityModel=null,n}return r}(te.a);Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],se.prototype,"defaultConfiguration",void 0),Object(h.a)([Object(M.b)({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],se.prototype,"id",void 0),Object(h.a)([Object(M.b)({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],se.prototype,"name",void 0),Object(h.a)([Object(M.b)({type:[ie],json:{write:!0}})],se.prototype,"terminals",void 0),Object(h.a)([Object(M.b)({type:oe.apiValues,json:{type:oe.jsonValues,read:oe.read,write:oe.write}})],se.prototype,"traversabilityModel",void 0);var ce=se=Object(h.a)([Object(A.a)("esri.networks.support.TerminalConfiguration")],se);function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fe(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var de=function(e){Object(u.a)(l,e);var t,r,a=pe(l);function l(e){var t;return Object(o.a)(this,l),(t=a.call(this,e)).sharedNamedTraceConfigurations=[],t.type="utility",t}return Object(s.a)(l,[{key:"serviceTerritoryFeatureLayerId",get:function(){var e;return null==(e=this.dataElement)?void 0:e.serviceTerritoryFeatureLayerId}},{key:"terminalConfigurations",get:function(){var e;return null==(e=this.dataElement)?void 0:e.terminalConfigurations.map((function(e){return ce.fromJSON(e)}))}},{key:"load",value:(r=Object(n.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.addResolvingPromise(Object(c.a)(Object(f.a)(l.prototype),"load",this).call(this,t)),this.addResolvingPromise(this._loadNamedTraceConfigurationsFromNetwork(t)),this));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getTerminalConfiguration",value:function(e){var t,r=null,n=null,i=e.layer;if("feature"!==(null==i?void 0:i.type))return null;if(null===(t=i.layerId))return null;var a=e.attributes;if(null==a)return null;for(var o=0,s=Object.keys(a);o<s.length;o++){var c=s[o];"ASSETGROUP"===c.toUpperCase()&&(r=e.getAttribute(c)),"ASSETTYPE"===c.toUpperCase()&&(n=e.getAttribute(c))}if(!this.dataElement)return null;var u,l=null,f=le(this.dataElement.domainNetworks);try{for(f.s();!(u=f.n()).done;){var p,d=null==(p=u.value.junctionSources)?void 0:p.find((function(e){return e.layerId===t}));if(d){var h,b=null==(h=d.assetGroups)?void 0:h.find((function(e){return e.assetGroupCode===r}));if(b){var y,v=null==(y=b.assetTypes)?void 0:y.find((function(e){return e.assetTypeCode===n}));if(v){l=v.terminalConfigurationId;break}}}}}catch(O){f.e(O)}finally{f.f()}if(null!=l){var m=this.dataElement.terminalConfigurations,g=null==m?void 0:m.find((function(e){return e.terminalConfigurationId===l}));return g?ce.fromJSON(g):null}return null}},{key:"_loadNamedTraceConfigurationsFromNetwork",value:(t=Object(n.a)(d.a.mark((function e(t){var r,n,i,a,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(null==(r=this.sharedNamedTraceConfigurations)?void 0:r.length)){e.next=2;break}return e.abrupt("return");case 2:return n=this.sharedNamedTraceConfigurations.map((function(e){return e.globalId})),e.next=5,this._fetchTraceConfigData(this.networkServiceUrl,n,t);case 5:i=e.sent,a=le(this.sharedNamedTraceConfigurations);try{for(s=function(){var e=o.value,t=null==i?void 0:i.find((function(t){return t.globalId===e.globalId}));t&&e.read(t,{origin:"service"})},a.s();!(o=a.n()).done;)s()}catch(c){a.e(c)}finally{a.f()}case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_fetchTraceConfigData",value:function(e,t,r){return Object(V.default)("".concat(e,"/traceConfigurations/query"),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({responseType:"json",query:{globalIds:JSON.stringify(t),f:"json"}},r)).then((function(e){return e.data.traceConfigurations}))}}]),l}(Z);Object(h.a)([Object(M.b)({type:[ee],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],de.prototype,"sharedNamedTraceConfigurations",void 0),Object(h.a)([Object(M.b)({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],de.prototype,"type",void 0),Object(h.a)([Object(M.b)({readOnly:!0})],de.prototype,"serviceTerritoryFeatureLayerId",null),Object(h.a)([Object(M.b)({readOnly:!0})],de.prototype,"terminalConfigurations",null);var he=de=Object(h.a)([Object(A.a)("esri.networks.UtilityNetwork")],de),be=r("eoZi"),ye=r("OYdn"),ve=r("fDX0"),me=r("lh74"),ge=r("zbeF");function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var je=function(e){Object(u.a)(r,e);var t=Oe(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).layerId=null,n.facilityIdField=null,n.siteIdField=null,n.nameField=null,n}return r}(te.a);Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],je.prototype,"layerId",void 0),Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],je.prototype,"facilityIdField",void 0),Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],je.prototype,"siteIdField",void 0),Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],je.prototype,"nameField",void 0);var we=je=Object(h.a)([Object(A.a)("esri.layers.support.FacilityLayerInfo")],je);function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var ke=function(e){Object(u.a)(r,e);var t=_e(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).layerId=null,n.levelIdField=null,n.facilityIdField=null,n.longNameField=null,n.shortNameField=null,n.levelNumberField=null,n.verticalOrderField=null,n}return r}(te.a);Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],ke.prototype,"layerId",void 0),Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],ke.prototype,"levelIdField",void 0),Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],ke.prototype,"facilityIdField",void 0),Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],ke.prototype,"longNameField",void 0),Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],ke.prototype,"shortNameField",void 0),Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],ke.prototype,"levelNumberField",void 0),Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],ke.prototype,"verticalOrderField",void 0);var xe=ke=Object(h.a)([Object(A.a)("esri.layers.support.LevelLayerInfo")],ke);function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var Pe=function(e){Object(u.a)(r,e);var t=Se(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).layerId=null,n.siteIdField=null,n.nameField=null,n}return r}(te.a);Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],Pe.prototype,"layerId",void 0),Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],Pe.prototype,"siteIdField",void 0),Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],Pe.prototype,"nameField",void 0);var Ie=Pe=Object(h.a)([Object(A.a)("esri.layers.support.SiteLayerInfo")],Pe);function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var Me=function(e){Object(u.a)(r,e);var t=Re(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).levelLayer=null,n.facilityLayer=null,n.siteLayer=null,n}return r}(te.a);Object(h.a)([Object(M.b)({type:xe,json:{write:!0}})],Me.prototype,"levelLayer",void 0),Object(h.a)([Object(M.b)({type:we,json:{write:!0}})],Me.prototype,"facilityLayer",void 0),Object(h.a)([Object(M.b)({type:Ie,json:{write:!0}})],Me.prototype,"siteLayer",void 0);var Ee,Te=Me=Object(h.a)([Object(A.a)("esri.support.MapFloorInfo")],Me),Ae=r("0fJP");function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var De=Ee=function(e){Object(u.a)(r,e);var t=Ce(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).activeRange=null,n.currentRangeExtent=null,n.fullRangeExtent=null,n}return Object(s.a)(r,[{key:"clone",value:function(){return new Ee(Object(Ae.a)({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}}]),r}(te.a);Object(h.a)([Object(M.b)({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],De.prototype,"activeRange",void 0),Object(h.a)([Object(M.b)({type:[Number],json:{write:!0}})],De.prototype,"currentRangeExtent",void 0),Object(h.a)([Object(M.b)({type:[Number],json:{write:!0}})],De.prototype,"fullRangeExtent",void 0);var Le,Fe=De=Ee=Object(h.a)([Object(A.a)("esri.webdoc.RangeInfo")],De);function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var Be=Le=function(e){Object(u.a)(r,e);var t=Ne(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).enabled=!1,n.longNames=!1,n.minimized=!1,n.pinnedLevels=!1,n.site=null,n.facility=null,n.level=null,n}return Object(s.a)(r,[{key:"clone",value:function(){return new Le(Object(Ae.a)({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}}]),r}(te.a);Object(h.a)([Object(M.b)({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],Be.prototype,"enabled",void 0),Object(h.a)([Object(M.b)({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],Be.prototype,"longNames",void 0),Object(h.a)([Object(M.b)({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],Be.prototype,"minimized",void 0),Object(h.a)([Object(M.b)({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],Be.prototype,"pinnedLevels",void 0),Object(h.a)([Object(M.b)({type:String,json:{read:{source:"site"},write:{target:"site"}}})],Be.prototype,"site",void 0),Object(h.a)([Object(M.b)({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],Be.prototype,"facility",void 0),Object(h.a)([Object(M.b)({type:String,json:{read:{source:"level"},write:{target:"level"}}})],Be.prototype,"level",void 0);var Ve,Ue=Be=Le=Object(h.a)([Object(A.a)("esri.webdoc.widgets.FloorFilter")],Be);function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var qe=new Q.a({slider:"slider",picker:"picker"}),He=Ve=function(e){Object(u.a)(r,e);var t=ze(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).interactionMode=null,n.numStops=null,n.stopInterval=null,n}return Object(s.a)(r,[{key:"clone",value:function(){return new Ve({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}}]),r}(te.a);Object(h.a)([Object(M.b)({type:qe.apiValues,nonNullable:!0,json:{type:qe.jsonValues,default:null,read:{reader:qe.read},write:{isRequired:!0,writer:qe.write}}})],He.prototype,"interactionMode",void 0),Object(h.a)([Object(M.b)({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy:function(){var e=null!=this.stopInterval;return{enabled:!e,isRequired:!e}}}}})],He.prototype,"numStops",void 0),Object(h.a)([Object(M.b)({type:Number,json:{write:{overridePolicy:function(){return{isRequired:null==this.numStops}}}}})],He.prototype,"stopInterval",void 0);var Ge,We=He=Ve=Object(h.a)([Object(A.a)("esri.webdoc.widgets.Range")],He),Je=r("NY4G"),$e=r("2slW"),Ze=r("67w/");function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var Xe=Ge=function(e){Object(u.a)(r,e);var t=Qe(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).currentTimeExtent=null,n.fullTimeExtent=null,n.loop=!1,n.numStops=null,n.numThumbs=null,n.stopDelay=null,n.stopInterval=null,n.stops=null,n}return Object(s.a)(r,[{key:"readCurrentTimeExtent",value:function(e){if(e){var t=null!=e[0]?new Date(e[0]):null,r=null!=e[1]?new Date(e[1]):null;return new Je.a({start:t,end:r})}}},{key:"writeCurrentTimeExtent",value:function(e,t,r){e&&Object(Ze.c)(r,[Object(k.i)(e.start)?e.start.getTime():null,Object(k.i)(e.end)?e.end.getTime():null],t)}},{key:"readFullTimeExtent",value:function(e,t){var r=t.properties;if(r){var n=null!=r.endTime?new Date(r.endTime):null,i=null!=r.startTime?new Date(r.startTime):null;return new Je.a({start:i,end:n})}}},{key:"writeFullTimeExtent",value:function(e,t){if(e){var r=t.properties=t.properties||{},n=e.end,i=e.start;n&&(r.endTime=Object(k.i)(n)?n.getTime():null),i&&(r.startTime=Object(k.i)(i)?i.getTime():null)}}},{key:"readStopInterval",value:function(e,t,r){return e?$e.a.fromJSON({value:e.interval,unit:e.units},r):null}},{key:"writeStopInterval",value:function(e,t,r,n){if(e){var i=e.toJSON(n);Object(Ze.c)(r,{interval:i.value,units:i.unit},t)}}},{key:"readStops",value:function(e){return e&&e.length?e.map((function(e){return new Date(e)})):null}},{key:"writeStops",value:function(e,t,r){e&&e.length&&Object(Ze.c)(r,e.map((function(e){return e.getTime()})),t)}},{key:"clone",value:function(){return new Ge(Object(Ae.a)({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}}]),r}(te.a);Object(h.a)([Object(M.b)({type:Je.a,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],Xe.prototype,"currentTimeExtent",void 0),Object(h.a)([Object(T.a)("currentTimeExtent")],Xe.prototype,"readCurrentTimeExtent",null),Object(h.a)([Object(C.a)("currentTimeExtent")],Xe.prototype,"writeCurrentTimeExtent",null),Object(h.a)([Object(M.b)({type:Je.a,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],Xe.prototype,"fullTimeExtent",void 0),Object(h.a)([Object(T.a)("fullTimeExtent")],Xe.prototype,"readFullTimeExtent",null),Object(h.a)([Object(C.a)("fullTimeExtent")],Xe.prototype,"writeFullTimeExtent",null),Object(h.a)([Object(M.b)({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],Xe.prototype,"loop",void 0),Object(h.a)([Object(M.b)({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy:function(){var e,t=!!this.stopInterval,r=!(null==(e=this.stops)||!e.length),n=!(t||r);return{enabled:n,isRequired:n}}}}})],Xe.prototype,"numStops",void 0),Object(h.a)([Object(M.b)({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],Xe.prototype,"numThumbs",void 0),Object(h.a)([Object(M.b)({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],Xe.prototype,"stopDelay",void 0),Object(h.a)([Object(M.b)({type:$e.a,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy:function(){var e,t=null!=this.numStops,r=!(null==(e=this.stops)||!e.length);return{enabled:!r,isRequired:!(t||r)}}}}})],Xe.prototype,"stopInterval",void 0),Object(h.a)([Object(T.a)("stopInterval")],Xe.prototype,"readStopInterval",null),Object(h.a)([Object(C.a)("stopInterval")],Xe.prototype,"writeStopInterval",null),Object(h.a)([Object(M.b)({type:[Date],json:{read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy:function(){return{isRequired:null==this.numStops&&!this.stopInterval}}}}})],Xe.prototype,"stops",void 0),Object(h.a)([Object(T.a)("stops")],Xe.prototype,"readStops",null),Object(h.a)([Object(C.a)("stops")],Xe.prototype,"writeStops",null);var Ke,Ye=Xe=Ge=Object(h.a)([Object(A.a)("esri.webdoc.widgets.TimeSlider")],Xe);function et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var tt=Ke=function(e){Object(u.a)(r,e);var t=et(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).range=null,n.timeSlider=null,n.floorFilter=null,n}return Object(s.a)(r,[{key:"clone",value:function(){return new Ke(Object(Ae.a)({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}}]),r}(te.a);Object(h.a)([Object(M.b)({type:We,json:{write:!0}})],tt.prototype,"range",void 0),Object(h.a)([Object(M.b)({type:Ye,json:{write:!0}})],tt.prototype,"timeSlider",void 0),Object(h.a)([Object(M.b)({type:Ue,json:{write:!0}})],tt.prototype,"floorFilter",void 0);var rt=tt=Ke=Object(h.a)([Object(A.a)("esri.webdoc.Widgets")],tt),nt={width:600,height:400};function it(e,t){var r=t=t||nt,n=r.width,i=r.height,a=n/i;return a<1.5?i=n/1.5:a>1.5&&(n=1.5*i),n>e.width&&(i*=e.width/n,n=e.width),i>e.height&&(n*=e.height/i,i=e.height),{width:Math.round(n),height:Math.round(i)}}var at=r("adv5");function ot(e){return{enabled:!(null==e||!e.length)}}var st,ct=r("vo12"),ut=r("uYTh");function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var ft=st=function(e){Object(u.a)(r,e);var t=lt(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).exactMatch=!1,n.name=null,n.type=null,n}return Object(s.a)(r,[{key:"clone",value:function(){return new st({exactMatch:this.exactMatch,type:this.type,name:this.name})}}]),r}(te.a);Object(h.a)([Object(M.b)({type:Boolean,json:{write:!0}})],ft.prototype,"exactMatch",void 0),Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],ft.prototype,"name",void 0),Object(h.a)([Object(ct.a)(ut.a)],ft.prototype,"type",void 0);var pt,dt=ft=st=Object(h.a)([Object(A.a)("esri.webdoc.applicationProperties.SearchLayerField")],ft);function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var bt=pt=function(e){Object(u.a)(r,e);var t=ht(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).field=null,n.id=null,n.subLayer=null,n}return Object(s.a)(r,[{key:"clone",value:function(){return new pt(Object(Ae.a)({field:this.field,id:this.id,subLayer:this.subLayer}))}}]),r}(te.a);Object(h.a)([Object(M.b)({type:dt,json:{write:{isRequired:!0}}})],bt.prototype,"field",void 0),Object(h.a)([Object(M.b)({type:String,json:{write:{isRequired:!0}}})],bt.prototype,"id",void 0),Object(h.a)([Object(M.b)({type:E.a,json:{write:!0}})],bt.prototype,"subLayer",void 0);var yt,vt=bt=pt=Object(h.a)([Object(A.a)("esri.webdoc.applicationProperties.SearchLayer")],bt);function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var gt=yt=function(e){Object(u.a)(r,e);var t=mt(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).exactMatch=!1,n.name=null,n.type=null,n}return Object(s.a)(r,[{key:"clone",value:function(){return new yt({exactMatch:this.exactMatch,type:this.type,name:this.name})}}]),r}(te.a);Object(h.a)([Object(M.b)({type:Boolean,json:{write:!0}})],gt.prototype,"exactMatch",void 0),Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],gt.prototype,"name",void 0),Object(h.a)([Object(ct.a)(ut.a)],gt.prototype,"type",void 0);var Ot,jt=gt=yt=Object(h.a)([Object(A.a)("esri.webdoc.applicationProperties.SearchTableField")],gt);function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var _t=Ot=function(e){Object(u.a)(r,e);var t=wt(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).field=null,n.id=null,n}return Object(s.a)(r,[{key:"clone",value:function(){return new Ot(Object(Ae.a)({field:this.field,id:this.id}))}}]),r}(te.a);Object(h.a)([Object(M.b)({type:jt,json:{write:{isRequired:!0}}})],_t.prototype,"field",void 0),Object(h.a)([Object(M.b)({type:String,json:{write:{isRequired:!0}}})],_t.prototype,"id",void 0);var kt,xt=_t=Ot=Object(h.a)([Object(A.a)("esri.webdoc.applicationProperties.SearchTable")],_t);function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var Pt=g.a.ofType(vt),It=g.a.ofType(xt),Rt=kt=function(e){Object(u.a)(r,e);var t=St(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).addressSearchEnabled=!0,n.enabled=!0,n.hintText=null,n.layers=new Pt,n.tables=new It,n}return Object(s.a)(r,[{key:"readAddressSearchEnabled",value:function(e){return!e}},{key:"writeAddressSearchEnabled",value:function(e,t,r){t[r]=!e}},{key:"clone",value:function(){return new kt(Object(Ae.a)({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}}]),r}(te.a);Object(h.a)([Object(M.b)({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],Rt.prototype,"addressSearchEnabled",void 0),Object(h.a)([Object(T.a)("addressSearchEnabled")],Rt.prototype,"readAddressSearchEnabled",null),Object(h.a)([Object(C.a)("addressSearchEnabled")],Rt.prototype,"writeAddressSearchEnabled",null),Object(h.a)([Object(M.b)({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],Rt.prototype,"enabled",void 0),Object(h.a)([Object(M.b)({type:String,json:{write:!0}})],Rt.prototype,"hintText",void 0),Object(h.a)([Object(M.b)({type:Pt,json:{write:{overridePolicy:ot},origins:{"web-scene":{write:{isRequired:!0}}}}})],Rt.prototype,"layers",void 0),Object(h.a)([Object(M.b)({type:It,json:{read:!0,write:{overridePolicy:ot},origins:{"web-scene":{read:!1,write:!1}}}})],Rt.prototype,"tables",void 0);var Mt,Et=Rt=kt=Object(h.a)([Object(A.a)("esri.webdoc.applicationProperties.Search")],Rt);function Tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var At=Mt=function(e){Object(u.a)(r,e);var t=Tt(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).search=null,n}return Object(s.a)(r,[{key:"clone",value:function(){return new Mt(Object(Ae.a)({search:this.search}))}}]),r}(te.a);Object(h.a)([Object(M.b)({type:Et,json:{write:!0}})],At.prototype,"search",void 0);var Ct,Dt=At=Mt=Object(h.a)([Object(A.a)("esri.webdoc.applicationProperties.Viewing")],At);function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var Ft=Ct=function(e){Object(u.a)(r,e);var t=Lt(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).editing=null,n.offline=null,n.viewing=null,n}return Object(s.a)(r,[{key:"clone",value:function(){return new Ct(Object(Ae.a)({editing:this.editing,offline:this.offline,viewing:this.viewing}))}}]),r}(te.a);Object(h.a)([Object(M.b)({json:{write:!0}})],Ft.prototype,"editing",void 0),Object(h.a)([Object(M.b)({json:{write:!0}})],Ft.prototype,"offline",void 0),Object(h.a)([Object(M.b)({type:Dt,json:{write:!0}})],Ft.prototype,"viewing",void 0);var Nt,Bt=Ft=Ct=Object(h.a)([Object(A.a)("esri.webmap.ApplicationProperties")],Ft),Vt=r("987k"),Ut=r("hZBP"),zt=r("ZV4S");function qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var Ht=Nt=function(e){Object(u.a)(r,e);var t=qt(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).background=null,n.rangeInfo=null,n.spatialReference=null,n.viewpoint=null,n}return Object(s.a)(r,[{key:"clone",value:function(){return new Nt(Object(Ae.a)({background:this.background,rangeInfo:this.rangeInfo,spatialReference:this.spatialReference,viewpoint:this.viewpoint}))}}]),r}(Ut.a);Object(h.a)([Object(M.b)({type:zt.a})],Ht.prototype,"background",void 0),Object(h.a)([Object(M.b)({type:Fe})],Ht.prototype,"rangeInfo",void 0),Object(h.a)([Object(M.b)({type:F.a})],Ht.prototype,"spatialReference",void 0),Object(h.a)([Object(M.b)({type:v.a})],Ht.prototype,"viewpoint",void 0);var Gt=Ht=Nt=Object(h.a)([Object(A.a)("esri.webmap.InitialViewProperties")],Ht);function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var Jt=function(e){Object(u.a)(r,e);var t=Wt(r);function r(e,n){return Object(o.a)(this,r),t.call(this,e,n,"webmap")}return r}(r("TwND").a);function $t(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Zt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zt(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var Yt=new Jt(2,20),er="Web Map",tr=g.a.ofType(Vt.a),rr=g.a.ofType(he),nr=_.a.getLogger("esri.WebMap"),ir=new Map;ir.set("image/jpeg","jpeg"),ir.set("image/jpg","jpg"),ir.set("image/png","png"),ir.set("image/gif","gif");var ar="ArcGIS API for JavaScript",or="CollectorDisabled",sr="Collector",cr="Data Editing",ur="OfflineDisabled",lr="Offline",fr="Workforce Project",pr="Workforce Worker",dr="Workforce Dispatcher",hr="DeveloperBasemap",br=["NatGeo_World_Map","Ocean_Basemap","USA_Topo_Maps","World_Imagery","World_Street_Map","World_Terrain_Base","World_Topo_Map","World_Hillshade","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Reference/World_Boundaries_and_Places","Reference/World_Reference_Overlay","Reference/World_Transportation"].map((function(e){return e.toLowerCase()})),yr=function(e){Object(u.a)(q,e);var t,i,l,p,h,y,g,j,_,S,M,E,T,A,C,V,U,z=Kt(q);function q(e){var t;return Object(o.a)(this,q),(t=z.call(this,e)).applicationProperties=null,t.bookmarks=new tr,t.floorInfo=null,t.initialViewProperties=new Gt,t.portalItem=null,t.presentation=null,t.sourceVersion=null,t.widgets=null,t.utilityNetworks=null,t.authoringApp=t.authoringAppVersion=null,t._isAuthoringAppSetByUser=t._isAuthoringAppVersionSetByUser=!1,t}return Object(s.a)(q,[{key:"destroy",value:function(){var e=this.portalItem;this.portalItem=null,null==e||e.destroy()}},{key:"initialize",value:function(){if(this.when().catch((function(e){nr.error("#load()","Failed to load web map",e)})),this.resourceInfo){var e;try{e=this._validateJSON(this.resourceInfo)}catch(t){return void this.addResolvingPromise(Promise.reject(t))}this.read(e)}}},{key:"authoringApp",set:function(e){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",e)}},{key:"writeAuthoringApp",value:function(e,t){e&&this._isAuthoringAppSetByUser?t.authoringApp=e:t.authoringApp=ar}},{key:"authoringAppVersion",set:function(e){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",e)}},{key:"writeAuthoringAppVersion",value:function(e,t){e&&this._isAuthoringAppVersionSetByUser?t.authoringAppVersion=e:t.authoringAppVersion=b.d}},{key:"readInitialViewProperties",value:function(e,t){var r,n=new Gt;t.background&&(n.background=zt.a.fromJSON(t.background));var i=null==(r=t.initialState)?void 0:r.viewpoint;return i&&(i.rotation&&Jt.parse(t.version||"","webmap").lessThan(2,20)&&"ArcGIS Pro"===t.authoringApp&&(i.rotation*=-1),n.viewpoint=v.a.fromJSON(i)),t.mapRangeInfo&&(n.rangeInfo=Fe.fromJSON(t.mapRangeInfo)),t.spatialReference&&(n.spatialReference=F.a.fromJSON(t.spatialReference)),n}},{key:"writeInitialViewProperties",value:function(e,t,r,n){if(e){var i=e.background;i&&i.color&&(t.background=i.write(null,n)),e.viewpoint&&(t.initialState={viewpoint:e.viewpoint.write(null,n)}),e.rangeInfo&&(t.mapRangeInfo=e.rangeInfo.toJSON(n)),e.spatialReference&&(t.spatialReference=e.spatialReference.write(null,n))}}},{key:"writeLayers",value:function(e,t,r,n){t[r]=this._writeLayers(e,n,"operational-layers")}},{key:"readSourceVersion",value:function(e,t){var r=t.version.split("."),n=Object(a.a)(r,2),i=n[0],o=n[1];return new Jt(parseInt(i,10),parseInt(o,10))}},{key:"writeSourceVersion",value:function(e,t,r){t[r]="".concat(Yt.major,".").concat(Yt.minor)}},{key:"writeTables",value:function(e,t,r,n){var i=this._writeLayers(e,n,"tables");i.length&&(t[r]=i)}},{key:"thumbnailUrl",get:function(){return this.portalItem&&this.portalItem.thumbnailUrl||null},set:function(e){e?(this._override("thumbnailUrl",e),this._thumbnailFilename=this._generateCustomThumbnailFilename(e)):this._clearThumbnailOverride()}},{key:"load",value:function(e){return this.addResolvingPromise(this._loadFromSource()),Promise.resolve(this)}},{key:"loadAll",value:function(){var e=this;return Object(w.a)(this,(function(t){t(e.ground,e.basemap,e.layers,e.tables)}))}},{key:"read",value:function(e,t){var r=this;t=Xt(Xt({},t),{},{origin:"web-map"});var n=this._getAuthoringPropsState();Object(L.b)(this,e,(function(t){return Object(c.a)(Object(f.a)(q.prototype),"read",r).call(r,e,t)}),t),this._restoreAuthoringPropsFromState(n)}},{key:"write",value:function(e,t){if("loaded"!==this.loadStatus){var r=new O.a("webmap:not-loaded","Web map must be loaded before it can be serialized");throw nr.error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),r}return this._removeDanglingLayerRefs(),t=Xt(Xt({},t),{},{origin:"web-map",restrictedWebMapWriting:!0,webmap:this}),Object(c.a)(Object(f.a)(q.prototype),"write",this).call(this,e,t)}},{key:"save",value:(U=Object(n.a)(d.a.mark((function e(t){var r,n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},this._validateItem(),e.next=4,this._updateFromPromise;case 4:return e.next=6,this.load();case 6:return e.next=8,this._loadLayerContainers();case 8:return e.next=10,this._beforeSave();case 10:return this._validateMap(),r=this.portalItem,n={origin:"web-map",messages:[],writtenProperties:[],url:r.itemUrl&&Object(I.K)(r.itemUrl),portal:r.portal||be.a.getDefault()},i=this.write(null,n),this._validateJSONForWriting(n,t),e.next=15,this._updateItemProperties(r);case 15:return e.next=17,this._updateItem(r,i,n);case 17:return e.next=19,this._updateItemThumbnail();case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,this)}))),function(e){return U.apply(this,arguments)})},{key:"saveAs",value:(V=Object(n.a)(d.a.mark((function e(t,r){var n,i,a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=r||{},n=this._getPortalItem(t),e.next=4,this._updateFromPromise;case 4:return e.next=6,this.load();case 6:return e.next=8,this._loadLayerContainers();case 8:return e.next=10,this._beforeSave();case 10:return this._validateMap(),i={origin:"web-map",messages:[],writtenProperties:[],url:null,portal:n.portal},a=this.write(null,i),this._validateJSONForWriting(i,r),e.next=15,this._updateItemPropertiesForSaveAs(n);case 15:return o=this._getThumbnailState(),e.next=18,this._createItem(n,a,i,r);case 18:return this._restoreThumbnailFromState(o),e.next=21,this._updateItemThumbnail();case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,this)}))),function(e,t){return V.apply(this,arguments)})},{key:"updateFrom",value:(C=Object(n.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._updateFromInternal(t,r),this._updateFromPromise=n,e.next=4,n;case 4:n===this._updateFromPromise&&(this._updateFromPromise=null);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return C.apply(this,arguments)})},{key:"getLayerJSONFromResourceInfo",value:function(e){var t,r,n,i,a=this.resourceInfo;return this._collectAllLayersJSON(Object(m.d)([null==a||null==(t=a.baseMap)?void 0:t.baseMapLayers,null==a?void 0:a.operationalLayers,null==(r=this.basemap)||null==(n=r.resourceInfo)||null==(i=n.data)?void 0:i.baseMapLayers])).find((function(t){return t.id===e.id}))}},{key:"_collectAllLayersJSON",value:function(e){var t=this;return e.reduce((function(e,r){return e.push(r),"GroupLayer"===r.layerType&&(e=e.concat(t._collectAllLayersJSON(r.layers||[]))),e}),[])}},{key:"_writeLayers",value:function(e,t,r){var n=this;return t=Xt(Xt({},t),{},{layerContainerType:r}),e.map((function(e){return Object(k.p)(Object(at.a)(e,"tables"===r?null:n.getLayerJSONFromResourceInfo(e),t))})).filter(Boolean).toArray()}},{key:"_loadFromSource",value:function(){return this.resourceInfo?this._loadFromJSON(this.resourceInfo,{origin:"web-map"}):this.portalItem&&this.portalItem.id?this._loadFromItem(this.portalItem):Promise.resolve(null)}},{key:"_loadFromItem",value:function(e){var t=this;return e.load().catch((function(e){throw new O.a("webmap:load-portal-item","Failed to load portal item",{error:e})})).then((function(){if("Web Map"!==e.type)throw new O.a("webmap:invalid-portal-item","Invalid portal item type '${type}', expected 'Web Map'",{type:e.type})})).then((function(){return e.fetchData()})).then((function(r){return t.resourceInfo=r,t._readAndLoadFromJSON(r,{origin:"web-map",portal:e.portal||be.a.getDefault()})})).then((function(){return t._computeInitialViewpoint()}))}},{key:"_readAndLoadFromJSON",value:function(e,t){var r=this._validateJSON(e);return this.read(r,t),this._loadFromJSON(r,t)}},{key:"_validateJSON",value:function(e){var t=Jt.parse(e.version||"","webmap");return Yt.validate(t),e.version="".concat(t.major,".").concat(t.minor),e}},{key:"_loadFromJSON",value:function(e,t){var n=this,i={context:Xt(Xt({},t),{},{layerContainerType:"operational-layers"})};return this.portalItem&&(i.context.portal=this.portalItem.portal||be.a.getDefault()),Promise.all([r.e(1),r.e(12)]).then(r.bind(null,"VDow")).then((function(t){var r=t.populateOperationalLayers,a=[],o=e.operationalLayers;o&&o.length&&a.push(r(n.layers,o,i));var s=Xt(Xt({},i),{},{context:Xt(Xt({},i.context),{},{layerContainerType:"tables"}),defaultLayerType:"ArcGISFeatureLayer"}),c=e.tables;return c&&c.length&&a.push(r(n.tables,c,s)),Object(P.j)(a).then((function(){}))}))}},{key:"_computeInitialViewpoint",value:(A=Object(n.a)(d.a.mark((function e(){var t,r,n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.initialViewProperties,!(null==(t=n)||null==(r=t.viewpoint)?void 0:r.targetGeometry)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this._getExtentFromItem();case 5:(i=e.sent)&&((n=n?n.clone():new Gt).viewpoint=new v.a,n.viewpoint.targetGeometry=i,this.initialViewProperties=n);case 7:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"_getExtentFromItem",value:(T=Object(n.a)(d.a.mark((function e(){var t,n,i,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null==(t=this.initialViewProperties)?void 0:t.spatialReference,a=null==(n=this.portalItem)?void 0:n.extent,!i||!a){e.next=9;break}if(!i.isWGS84){e.next=4;break}return e.abrupt("return",a.clone());case 4:if(!i.isWebMercator){e.next=6;break}return e.abrupt("return",Object(N.b)(a));case 6:return e.next=8,r.e(13).then(r.bind(null,"HKs9"));case 8:return e.abrupt("return",e.sent.create(this.portalItem).then((function(e){var t=new me.a;return t.geometries=[a],t.outSpatialReference=i,e.project(t)})).then((function(e){return e[0]})).catch((function(e){return nr.error("Error projecting item's extent:",e),null})));case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)}))),function(){return T.apply(this,arguments)})},{key:"_removeDanglingLayerRefs",value:function(){var e=this,t=this.applicationProperties,r=t&&t.viewing&&t.viewing.search,n=function(t){return!!e.allLayers.find((function(e){return e.id===t}))};r&&r.layers&&(r.layers=r.layers.filter((function(e){return n(e.id)}))),r&&r.tables&&(r.tables=r.tables.filter((function(t){return!!e.tables.find((function(e){return e.id===t.id}))})));var i=t&&t.editing&&t.editing.locationTracking;i&&i.info&&!n(i.info.layerId)&&(t.editing=null);var a=this.presentation&&this.presentation.slides;a&&a.forEach((function(e){e.visibleLayers&&(e.visibleLayers=e.visibleLayers.filter((function(e){return n(e.id)})))}))}},{key:"_validateMap",value:function(){if(!this.basemap||!this.basemap.baseLayers.length)throw new O.a("webmap:save","Map does not have a valid basemap with a base layer.")}},{key:"_validateItem",value:function(){if(!this.portalItem)throw nr.error("save: requires the portalItem property to be set"),new O.a("webmap:portal-item-not-set","Portal item to save to has not been set on the WebMap");this._validateItemType(this.portalItem)}},{key:"_validateItemType",value:function(e){if(e.type!==er)throw new O.a("webmap:portal-item-wrong-type",'Portal item needs to have type "'.concat(er,'"'))}},{key:"_loadLayerContainers",value:function(){var e=[];return this.basemap&&e.push(this.basemap.load()),this.ground&&e.push(this.ground.load()),Object(P.j)(e).then((function(){}))}},{key:"_beforeSave",value:(E=Object(n.a)(d.a.mark((function e(){var t,r,n,i,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=$t(this.allLayers);try{for(r.s();!(n=r.n()).done;)"beforeSave"in(i=n.value)&&"function"==typeof i.beforeSave&&(a=i.beforeSave())&&t.push(a)}catch(o){r.e(o)}finally{r.f()}return e.next=5,Object(P.j)(t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return E.apply(this,arguments)})},{key:"_loadAllLayers",value:function(){var e=this._getAllLayersAndTables().map((function(e){return e.load()}));return Object(P.j)(e).then((function(){}))}},{key:"_getAllLayersAndTables",value:function(){return this.allLayers.concat(this.allTables)}},{key:"_validateJSONForWriting",value:function(e,t){var r=e.messages.filter((function(e){return"error"===e.type})).map((function(e){return new O.a(e.name,e.message,e.details)}));if(t.ignoreUnsupported&&(r=r.filter((function(e){return"layer:unsupported"!==e.name&&"symbol:unsupported"!==e.name&&"symbol-layer:unsupported"!==e.name&&"property:unsupported"!==e.name&&"url:unsupported"!==e.name}))),r.length>0)throw new O.a("webmap:save","Failed to save webmap due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:r})}},{key:"_updateItemProperties",value:(M=Object(n.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getWGS84Extent(this.initialViewProperties.viewpoint.targetGeometry);case 2:return t.extent=e.sent,e.next=5,this._updateTypeKeywords(t);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return M.apply(this,arguments)})},{key:"_updateItemPropertiesForSaveAs",value:(S=Object(n.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(ve.c)(t,or),Object(ve.c)(t,ur),Object(ve.c)(t,fr),Object(ve.c)(t,pr),Object(ve.c)(t,dr),Object(ve.c)(t,"Offline Map Areas"),Object(ve.c)(t,"FieldMapsDisabled"),e.next=9,this._updateItemProperties(t);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return S.apply(this,arguments)})},{key:"_getWGS84Extent",value:(_=Object(n.a)(d.a.mark((function e(t){var r,n,i,a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.clone().normalize()).length>1){i=$t(r);try{for(i.s();!(a=i.n()).done;)o=a.value,n?o.width>n.width&&(n=o):n=o}catch(s){i.e(s)}finally{i.f()}}else n=r[0];return e.abrupt("return",this._projectToWGS84(n));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"_projectToWGS84",value:(j=Object(n.a)(d.a.mark((function e(t){var n,i,a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.spatialReference).isWGS84){e.next=3;break}return e.abrupt("return",t.clone());case 3:if(!n.isWebMercator){e.next=5;break}return e.abrupt("return",Object(N.e)(t));case 5:return e.next=7,r.e(13).then(r.bind(null,"HKs9"));case 7:return i=e.sent,e.next=10,i.create(this.portalItem);case 10:return a=e.sent,(o=new me.a).geometries=[t],o.outSpatialReference=F.a.WGS84,e.next=15,a.project(o);case 15:return e.abrupt("return",e.sent[0]);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return j.apply(this,arguments)})},{key:"_updateTypeKeywords",value:(g=Object(n.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(ve.a)(t,ar),e.next=3,this._loadAllLayers();case 3:this._evalCollectorKeyword(t),this._evalDataEditingKeyword(t),this._evalOfflineKeyword(t),this._evalDeveloperBasemapKeyword(t),t.typeKeywords&&(t.typeKeywords=t.typeKeywords.filter((function(e,t,r){return r.indexOf(e)===t})));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"_evalCollectorKeyword",value:function(e){Object(ve.b)(e,or)||Object(ve.b)(e,fr)||Object(ve.b)(e,pr)||Object(ve.b)(e,dr)||!this._hasEditableFeatureLayer()?Object(ve.c)(e,sr):Object(ve.a)(e,sr)}},{key:"_evalDataEditingKeyword",value:function(e){this._hasEditableFeatureLayer()?Object(ve.a)(e,cr):Object(ve.c)(e,cr)}},{key:"_evalOfflineKeyword",value:function(e){!Object(ve.b)(e,ur)&&this._isOfflineCapableMap()?Object(ve.a)(e,lr):Object(ve.c)(e,lr)}},{key:"_evalDeveloperBasemapKeyword",value:function(e){Object(ge.f)(this.basemap)?Object(ve.a)(e,hr):Object(ve.c)(e,hr)}},{key:"_hasEditableFeatureLayer",value:function(){var e=this;return this._getAllLayersAndTables().some((function(t){return t.loaded&&e._isFeatureServiceLayer(t)&&t.capabilities.operations.supportsEditing&&t.editingEnabled}))}},{key:"_isFeatureServiceLayer",value:function(e){return!("feature"!==e.type||!e.source||"feature-layer"!==e.source.type)}},{key:"_isOfflineCapableMap",value:function(){var e=this;return this._getAllLayersAndTables().filter((function(e){return"group"!==e.type})).every((function(t){return t.loaded&&e._isOfflineCapableLayer(t)}))}},{key:"_isOfflineCapableLayer",value:function(e){return this._isFeatureServiceLayer(e)&&e.capabilities.operations.supportsSync||("tile"===e.type||"vector-tile"===e.type)&&(e.capabilities.operations.supportsExportTiles||this._isExportableAGOLTileLayer(e)||Object(ge.g)(e))&&e.spatialReference.equals(this.initialViewProperties.spatialReference)}},{key:"_isExportableAGOLTileLayer",value:function(e){return"tile"===e.type&&Object(B.d)(e.url)&&br.some((function(t){return e.url.toLowerCase().indexOf("/"+t+"/")>-1}))}},{key:"_updateItem",value:(y=Object(n.a)(d.a.mark((function e(t,r,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.update({data:r});case 2:this._syncUpInstanceWithItem(t,r,n);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return y.apply(this,arguments)})},{key:"_createItem",value:(h=Object(n.a)(d.a.mark((function e(t,r,n,i){var a,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.portalItem,o=!!(a&&a.id&&a.portal.user),s=t.portal,e.next=3,s._signIn();case 3:return e.next=5,this._canCopyItem(a,o,s);case 5:if(e.sent){e.next=7;break}throw new O.a("webmap:save-as-copy-not-allowed","Owner of this map does not allow others to save a copy");case 7:return e.next=9,s.user.addItem({item:t,folder:i.folder,data:r});case 9:this.portalItem=t,this._syncUpInstanceWithItem(t,r,n);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return h.apply(this,arguments)})},{key:"_canCopyItem",value:(p=Object(n.a)(d.a.mark((function e(t,r,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!(Object(k.i)(t)&&t.id&&t.typeKeywords&&t.typeKeywords.indexOf("useOnly")>-1),e.t0){e.next=10;break}if(e.t1=t.portal.portalHostname===n.portalHostname,!e.t1){e.next=9;break}if(e.t2=r,e.t2){e.next=8;break}return e.next=8,t.reload();case 8:e.t1="admin"===t.itemControl||"update"===t.itemControl;case 9:e.t0=e.t1;case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)}))),function(e,t,r){return p.apply(this,arguments)})},{key:"_syncUpInstanceWithItem",value:function(e,t,r){x.b.prototype.read.call(this,{version:t.version,authoringApp:t.authoringApp,authoringAppVersion:t.authoringAppVersion},{origin:"web-map",ignoreDefaults:!0,url:e.itemUrl&&Object(I.K)(e.itemUrl)}),Object(D.a)(r),this.resourceInfo=t}},{key:"_updateItemThumbnail",value:(l=Object(n.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.thumbnailUrl&&this._isOverridden("thumbnailUrl"),!e.t0){e.next=5;break}return e.next=4,this.portalItem.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename});case 4:this._clearThumbnailOverride();case 5:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"_getPortalItem",value:function(e){var t=ye.default.from(e);return t.id&&((t=t.clone()).id=null),t.type||(t.type=er),t.portal||(t.portal=be.a.getDefault()),this._validateItemType(t),t}},{key:"_updateFromInternal",value:(i=Object(n.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=r||{},e.next=3,Object(R.l)(t,"ready");case 3:return this._updateInitialViewProperties(t,r),e.next=6,this._updateThumbnailUrl(t,r);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"_updateInitialViewProperties",value:function(e,t){var r;if(t.backgroundExcluded||(this.initialViewProperties.background=null==(r=e.background)?void 0:r.clone()),this.initialViewProperties.spatialReference=e.spatialReference.clone(),t.viewpointExcluded||(this.initialViewProperties.viewpoint=new v.a({rotation:e.rotation,scale:t.scalePreserved?e.scale:null,targetGeometry:this._getViewExtent(e)})),!t.widgetsExcluded){var n,i=$t(e.persistableViewModels);try{for(i.s();!(n=i.n()).done;){n.value.updateWebDocument(this)}}catch(a){i.e(a)}finally{i.f()}}}},{key:"_getViewExtent",value:function(e){var t=e.center.clone().normalize(),r=e.extent.clone(),n=r.width/2;return r.xmin=t.x-n,r.xmax=t.x+n,r}},{key:"_updateThumbnailUrl",value:(t=Object(n.a)(d.a.mark((function e(t,r){var n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.thumbnailExcluded){e.next=2;break}return e.abrupt("return");case 2:return n=it(t,r.thumbnailSize),e.next=5,t.takeScreenshot({format:"png",width:n.width,height:n.height});case 5:i=e.sent,this._setAutoGeneratedThumbnail(i.dataUrl);case 7:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"_setAutoGeneratedThumbnail",value:function(e){this.thumbnailUrl=e,this._thumbnailFilename=null}},{key:"_clearThumbnailOverride",value:function(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}},{key:"_generateCustomThumbnailFilename",value:function(e){if(Object(I.u)(e)){var t=Object(I.i)(e),r=t&&t.mediaType,n=r&&ir.get(r.toLowerCase())||null,i="thumbnail".concat(Date.now());return n?"".concat(i,".").concat(n):i}return null}},{key:"_getThumbnailState",value:function(){var e=this.thumbnailUrl;return e&&(e=this._isOverridden("thumbnailUrl")?e:Object(I.d)(e,"w","8192")),{thumbnailUrl:e,filename:this._thumbnailFilename}}},{key:"_restoreThumbnailFromState",value:function(e){this.thumbnailUrl=e.thumbnailUrl,this._thumbnailFilename=e.filename}},{key:"_getAuthoringPropsState",value:function(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}},{key:"_restoreAuthoringPropsFromState",value:function(e){e.isAuthoringAppSetByUser?this.authoringApp=e.authoringApp:this._isAuthoringAppSetByUser=!1,e.isAuthoringAppVersionSetByUser?this.authoringAppVersion=e.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}}],[{key:"fromJSON",value:function(e){var t=e;if(!t)throw new O.a("webmap:empty-resource","Expected a JSON resource but got nothing");return new this({resourceInfo:t})}}]),q}(Object(x.a)(j.a.LoadableMixin(Object(S.b)(y.a))));yr.VERSION=Yt,Object(h.a)([Object(M.b)({type:Bt,json:{write:!0}})],yr.prototype,"applicationProperties",void 0),Object(h.a)([Object(M.b)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],yr.prototype,"authoringApp",null),Object(h.a)([Object(C.a)("authoringApp")],yr.prototype,"writeAuthoringApp",null),Object(h.a)([Object(M.b)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],yr.prototype,"authoringAppVersion",null),Object(h.a)([Object(C.a)("authoringAppVersion")],yr.prototype,"writeAuthoringAppVersion",null),Object(h.a)([Object(M.b)({json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],yr.prototype,"basemap",void 0),Object(h.a)([Object(M.b)({type:tr,json:{write:{overridePolicy:function(e){return{enabled:!!(e&&e.length>0),ignoreOrigin:!0}}}}})],yr.prototype,"bookmarks",void 0),Object(h.a)([Object(M.b)({type:Te,json:{read:{source:"mapFloorInfo"},write:{target:"mapFloorInfo"}}})],yr.prototype,"floorInfo",void 0),Object(h.a)([Object(M.b)({type:Gt,nonNullable:!0,json:{read:{source:["background","initialState.viewpoint","mapRangeInfo","spatialReference"]},write:{ignoreOrigin:!0,target:{background:{type:zt.a},"initialState.viewpoint":{type:v.a},mapRangeInfo:{type:Fe},spatialReference:{type:F.a}}}}})],yr.prototype,"initialViewProperties",void 0),Object(h.a)([Object(T.a)("initialViewProperties")],yr.prototype,"readInitialViewProperties",null),Object(h.a)([Object(C.a)("initialViewProperties")],yr.prototype,"writeInitialViewProperties",null),Object(h.a)([Object(M.b)({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],yr.prototype,"layers",void 0),Object(h.a)([Object(C.a)("layers")],yr.prototype,"writeLayers",null),Object(h.a)([Object(M.b)({type:ye.default})],yr.prototype,"portalItem",void 0),Object(h.a)([Object(M.b)({json:{write:!0}})],yr.prototype,"presentation",void 0),Object(h.a)([Object(M.b)()],yr.prototype,"resourceInfo",void 0),Object(h.a)([Object(M.b)({readOnly:!0,type:Jt,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],yr.prototype,"sourceVersion",void 0),Object(h.a)([Object(T.a)("sourceVersion")],yr.prototype,"readSourceVersion",null),Object(h.a)([Object(C.a)("sourceVersion")],yr.prototype,"writeSourceVersion",null),Object(h.a)([Object(M.b)({json:{read:!1,write:{ignoreOrigin:!0}}})],yr.prototype,"tables",void 0),Object(h.a)([Object(C.a)("tables")],yr.prototype,"writeTables",null),Object(h.a)([Object(M.b)()],yr.prototype,"thumbnailUrl",null),Object(h.a)([Object(M.b)({type:rt,json:{write:!0}})],yr.prototype,"widgets",void 0),Object(h.a)([Object(M.b)({type:rr,json:{read:!0,write:!0}})],yr.prototype,"utilityNetworks",void 0);var vr=yr=Object(h.a)([Object(A.a)("esri.WebMap")],yr);t.default=vr},JIgs:function(e,t,r){var n=r("EN0E"),i=r("h0av");e.exports=function(e,t){return e&&n(e,t,i)}},JRM0:function(e,t,r){var n=r("nEaP"),i=r("Fup7").f,a=r("nHIk"),o=r("0K2p"),s=r("Ya6V"),c=r("v0JE"),u=r("9nX2");e.exports=function(e,t){var r,l,f,p,d,h=e.target,b=e.global,y=e.stat;if(r=b?n:y?n[h]||s(h,{}):(n[h]||{}).prototype)for(l in t){if(p=t[l],f=e.noTargetGet?(d=i(r,l))&&d.value:r[l],!u(b?l:h+(y?".":"#")+l,e.forced)&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(e.sham||f&&f.sham)&&a(p,"sham",!0),o(r,l,p,e)}}},JTKy:function(e,t,r){"use strict";r.r(t);var n=r("ERkP");t.default={React:n}},JZQH:function(e,t,r){var n=r("sWZd"),i=r("mH3y"),a=r("A277"),o=r("cTHi");e.exports=function(e,t){return t=n(t,e),null==(e=a(e,t))||delete e[o(i(t))]}},JeVI:function(e){e.exports=JSON.parse("[]")},Jf7A:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("7i+s"),l=Object(u.b)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});l.toJSON.bind(l),l.fromJSON.bind(l);var f,p=r("0n+b"),d=r("xAIp"),h=(r("J4Pc"),r("wckI")),b=(r("TM+E"),r("vo12")),y=r("iaHD"),v=r("TO7i"),m=r("jOdF");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var O=f=function(e){Object(a.a)(r,e);var t=g(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).dateFormat=null,i.digitSeparator=!1,i.places=null,i}return Object(i.a)(r,[{key:"clone",value:function(){return new f({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}},{key:"format",value:function(e){return this.dateFormat?Object(v.b)(e,Object(v.a)(this.dateFormat)):Object(m.b)(e,Object(m.a)(this))}}]),r}(p.a);Object(c.a)([Object(b.a)(l)],O.prototype,"dateFormat",void 0),Object(c.a)([Object(d.b)({type:Boolean,json:{write:!0}})],O.prototype,"digitSeparator",void 0),Object(c.a)([Object(d.b)({type:h.a,json:{write:!0}})],O.prototype,"places",void 0);var j=O=f=Object(c.a)([Object(y.a)("esri.popup.support.FieldInfoFormat")],O);t.a=j},JhAV:function(e,t,r){"use strict";var n=r("hisu"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("dQW7"),c=r("0n+b"),u=r("xAIp"),l=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var p=function(e){Object(i.a)(r,e);var t=f(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).altText=null,i.caption="",i.title="",i.type=null,i}return r}(c.a);Object(s.a)([Object(u.b)({type:String,json:{write:!0}})],p.prototype,"altText",void 0),Object(s.a)([Object(u.b)({type:String,json:{write:!0}})],p.prototype,"caption",void 0),Object(s.a)([Object(u.b)({type:String,json:{write:!0}})],p.prototype,"title",void 0),Object(s.a)([Object(u.b)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],p.prototype,"type",void 0);var d=p=Object(s.a)([Object(l.a)("esri.popup.content.mixins.MediaInfo")],p);t.a=d},JpX9:function(e,t,r){var n=r("eEf8"),i=r("n7Nx"),a=r("ZPhZ"),o=r("ySkN"),s=r("VveD"),c=r("Q8UH"),u=r("i3Pe"),l=r("AN5y"),f=r("c2OK"),p=r("LF0y"),d=Math.max;e.exports=function(e,t,r,h,b,y,v,m){var g=2&t;if(!g&&"function"!=typeof e)throw new TypeError("Expected a function");var O=h?h.length:0;if(O||(t&=-97,h=b=void 0),v=void 0===v?v:d(p(v),0),m=void 0===m?m:p(m),O-=b?b.length:0,64&t){var j=h,w=b;h=b=void 0}var _=g?void 0:c(e),k=[e,t,r,h,b,j,w,y,v,m];if(_&&u(k,_),e=k[0],t=k[1],r=k[2],h=k[3],b=k[4],!(m=k[9]=void 0===k[9]?g?0:e.length:d(k[9]-O,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||16==t?a(e,t,m):32!=t&&33!=t||b.length?o.apply(void 0,k):s(e,t,r,h);else var x=i(e,t,r);return f((_?n:l)(x,k),e,t)}},K2z9:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return o}));var n=r("F1Bx");function i(e,t){var r="?"===e[e.length-1]?e.slice(0,-1):e;if(null!=t.getItemAt||Array.isArray(t)){var i=parseInt(r,10);if(!isNaN(i))return Array.isArray(t)?t[i]:t.getItemAt(i)}var a=Object(n.a)(t);return Object(n.b)(a,r)?a.get(r):t[r]}function a(e,t,r){if(null==e)return e;var n=i(t[r],e);return!n&&r<t.length-1?void 0:r===t.length-1?n:a(n,t,r+1)}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"string"==typeof t&&-1===t.indexOf(".")?i(t,e):a(e,Object(n.f)(t),r)}function s(e,t){return o(e,t)}function c(e,t){return void 0!==o(t,e)}},"KAl/":function(e,t,r){var n=r("WMT/"),i=r("l3+0"),a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return n(a,(function(r){var n="_."+r[0];t&r[1]&&!i(e,n)&&e.push(n)})),e.sort()}},KWbM:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("f6f6");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var h=n=function(e){Object(o.a)(r,e);var t=d(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).image=null,n.type="toggle",n.value=!1,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}}]),r}(p.a);Object(u.a)([Object(l.b)()],h.prototype,"image",void 0),Object(u.a)([Object(l.b)()],h.prototype,"value",void 0);var b=h=n=Object(u.a)([Object(f.a)("esri.support.Action.ActionToggle")],h);t.a=b},KbHJ:function(e,t,r){"use strict";r.r(t),r.d(t,"executeQuery",(function(){return g})),r.d(t,"executeQueryForCount",(function(){return x})),r.d(t,"executeQueryForExtent",(function(){return S})),r.d(t,"executeQueryForIds",(function(){return k})),r.d(t,"executeQueryPBF",(function(){return j})),r.d(t,"executeQueryPBFBuffer",(function(){return _})),r.d(t,"queryToQueryStringParameters",(function(){return m})),r.d(t,"runQuery",(function(){return P}));var n=r("mK0O"),i=r("eijD"),a=r("NthX"),o=r.n(a),s=r("DGz/"),c=r("7im+"),u=r("z9dv"),l=r("aic5"),f=r("pkWm"),p=r("2uCU"),d=r("Ufrx"),h=r("gjvr");function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v="Layer does not support extent calculation.";function m(e,t){var r=e.geometry,n=e.toJSON(),i=n;if(Object(c.i)(r)&&(i.geometry=JSON.stringify(r),i.geometryType=Object(l.c)(r),i.inSR=r.spatialReference.wkid||JSON.stringify(r.spatialReference)),n.groupByFieldsForStatistics&&(i.groupByFieldsForStatistics=n.groupByFieldsForStatistics.join(",")),n.objectIds&&(i.objectIds=n.objectIds.join(",")),n.orderByFields&&(i.orderByFields=n.orderByFields.join(",")),!n.outFields||!n.returnDistinctValues&&(null!=t&&t.returnCountOnly||null!=t&&t.returnExtentOnly||null!=t&&t.returnIdsOnly)?delete i.outFields:-1!==n.outFields.indexOf("*")?i.outFields="*":i.outFields=n.outFields.join(","),n.outSR?i.outSR=n.outSR.wkid||JSON.stringify(n.outSR):r&&(n.returnGeometry||n.returnCentroid)&&(i.outSR=i.inSR),n.returnGeometry&&delete n.returnGeometry,n.outStatistics&&(i.outStatistics=JSON.stringify(n.outStatistics)),n.pixelSize&&(i.pixelSize=JSON.stringify(n.pixelSize)),n.quantizationParameters&&(i.quantizationParameters=JSON.stringify(n.quantizationParameters)),n.parameterValues&&(i.parameterValues=JSON.stringify(n.parameterValues)),n.rangeValues&&(i.rangeValues=JSON.stringify(n.rangeValues)),n.dynamicDataSource&&(i.layer=JSON.stringify({source:n.dynamicDataSource}),delete n.dynamicDataSource),n.timeExtent){var a=n.timeExtent,o=a.start,s=a.end;null==o&&null==s||(i.time=o===s?o:"".concat(null==o?"null":o,",").concat(null==s?"null":s)),delete n.timeExtent}return i}function g(e,t,r,n){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(o.a.mark((function e(t,r,n,i){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(c.i)(r.timeExtent)||!r.timeExtent.isEmpty){e.next=4;break}e.t0={data:{features:[]}},e.next=7;break;case 4:return e.next=6,P(t,r,"json",i);case 6:e.t0=e.sent;case 7:return a=e.t0,e.abrupt("return",(Object(d.a)(r,n,a.data),a));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,r,n){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(o.a.mark((function e(t,r,n,i){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(c.i)(r.timeExtent)||!r.timeExtent.isEmpty){e.next=2;break}return e.abrupt("return",Promise.resolve({data:n.createFeatureResult()}));case 2:return e.next=4,_(t,r,i);case 4:return a=e.sent,s=a,e.abrupt("return",(s.data=Object(p.a)(a.data,n),s));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t,r){return P(e,t,"pbf",r)}function k(e,t,r){return Object(c.i)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):P(e,t,"json",r,{returnIdsOnly:!0})}function x(e,t,r){return Object(c.i)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):P(e,t,"json",r,{returnIdsOnly:!0,returnCountOnly:!0})}function S(e,t,r){return Object(c.i)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):P(e,t,"json",r,{returnExtentOnly:!0,returnCountOnly:!0}).then((function(e){var t=e.data;if(t.hasOwnProperty("extent"))return e;if(t.features)throw new Error(v);if(t.hasOwnProperty("count"))throw new Error(v);return e}))}function P(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a="string"==typeof e?Object(u.K)(e):e,o=t.geometry?[t.geometry]:[];return n.responseType="pbf"===r?"array-buffer":"json",Object(f.a)(o,null,n).then((function(e){var o=e&&e[0];Object(c.i)(o)&&((t=t.clone()).geometry=o);var l=Object(h.a)(y(y(y({},a.query),{},{f:r},i),m(t,i)));return Object(s.default)(Object(u.z)(a.path,"query"),y(y({},n),{},{query:y(y({},l),n.query)}))}))}},KcHx:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return m})),r.d(t,"e",(function(){return v})),r.d(t,"f",(function(){return g})),r.d(t,"g",(function(){return u})),r.d(t,"h",(function(){return o})),r.d(t,"i",(function(){return h})),r.d(t,"j",(function(){return d})),r.d(t,"k",(function(){return E})),r.d(t,"l",(function(){return S})),r.d(t,"m",(function(){return a})),r.d(t,"n",(function(){return O})),r.d(t,"o",(function(){return y})),r.d(t,"p",(function(){return b})),r.d(t,"q",(function(){return w})),r.d(t,"r",(function(){return P})),r.d(t,"s",(function(){return s})),r.d(t,"t",(function(){return j})),r.d(t,"u",(function(){return A})),r.d(t,"v",(function(){return _}));var n=r("4vgF"),i=r("p0eS");function a(e){var t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function s(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function c(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function u(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function l(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function f(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function p(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function d(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)}function h(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function b(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function y(e,t){var r=t[0],n=t[1],i=t[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e}function v(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function m(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],s=r[1],c=r[2];return e[0]=i*c-a*s,e[1]=a*o-n*c,e[2]=n*s-i*o,e}function g(e,t,r,n){var i=t[0],a=t[1],o=t[2];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e[2]=o+n*(r[2]-o),e}function O(e,t,r){var n=t[0],i=t[1],a=t[2];return e[0]=r[0]*n+r[4]*i+r[8]*a+r[12],e[1]=r[1]*n+r[5]*i+r[9]*a+r[13],e[2]=r[2]*n+r[6]*i+r[10]*a+r[14],e}function j(e,t,r){var n=t[0],i=t[1],a=t[2];return e[0]=n*r[0]+i*r[3]+a*r[6],e[1]=n*r[1]+i*r[4]+a*r[7],e[2]=n*r[2]+i*r[5]+a*r[8],e}function w(e,t,r){var n=r[0],i=r[1],a=r[2],o=r[3],s=t[0],c=t[1],u=t[2],l=i*u-a*c,f=a*s-n*u,p=n*c-i*s,d=i*p-a*f,h=a*l-n*p,b=n*f-i*l,y=2*o;return l*=y,f*=y,p*=y,d*=2,h*=2,b*=2,e[0]=s+l+d,e[1]=c+f+h,e[2]=u+p+b,e}function _(e,t){o(k,e),o(x,t),y(k,k),y(x,x);var r=v(k,x);return r>1?0:r<-1?Math.PI:Math.acos(r)}var k=Object(n.e)(),x=Object(n.e)();function S(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function P(e,t,r){var n=r[0]-t[0],i=r[1]-t[1],a=r[2]-t[2],o=n*n+i*i+a*a;return o>0?(o=1/Math.sqrt(o),e[0]=n*o,e[1]=i*o,e[2]=a*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}var I=u,R=l,M=f,E=d,T=h,A=a,C=b;Object.freeze({__proto__:null,length:a,copy:o,set:s,add:c,subtract:u,multiply:l,divide:f,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},scale:p,scaleAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e},distance:d,squaredDistance:h,squaredLength:b,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},normalize:y,dot:v,cross:m,lerp:g,hermite:function(e,t,r,n,i,a){var o=a*a,s=o*(2*a-3)+1,c=o*(a-2)+a,u=o*(a-1),l=o*(3-2*a);return e[0]=t[0]*s+r[0]*c+n[0]*u+i[0]*l,e[1]=t[1]*s+r[1]*c+n[1]*u+i[1]*l,e[2]=t[2]*s+r[2]*c+n[2]*u+i[2]*l,e},bezier:function(e,t,r,n,i,a){var o=1-a,s=o*o,c=a*a,u=s*o,l=3*a*s,f=3*c*o,p=c*a;return e[0]=t[0]*u+r[0]*l+n[0]*f+i[0]*p,e[1]=t[1]*u+r[1]*l+n[1]*f+i[1]*p,e[2]=t[2]*u+r[2]*l+n[2]*f+i[2]*p,e},random:function(e,t){t=t||1;var r=2*Object(i.b)()*Math.PI,n=2*Object(i.b)()-1,a=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*a,e[1]=Math.sin(r)*a,e[2]=n*t,e},transformMat4:O,transformMat3:j,transformQuat:w,rotateX:function(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e},rotateY:function(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e},rotateZ:function(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e},angle:_,str:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},exactEquals:S,equals:function(e,t){var r=e[0],n=e[1],a=e[2],o=t[0],s=t[1],c=t[2];return Math.abs(r-o)<=i.a*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=i.a*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-c)<=i.a*Math.max(1,Math.abs(a),Math.abs(c))},direction:P,sub:I,mul:R,div:M,dist:E,sqrDist:T,len:A,sqrLen:C})},"KjZ+":function(e,t,r){var n=r("s3UK").Uint8Array;e.exports=n},KmCB:function(e,t,r){"use strict";r.d(t,"a",(function(){return v})),r.d(t,"c",(function(){return m}));var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("4VMI"),l=r("kDog"),f=r("LuB+"),p=(r("J4Pc"),r("TM+E")),d=r("xAIp"),h=(r("wckI"),r("iaHD"));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var y=l.a.ofType(u.a);p.a.getLogger("esri.support.GraphicsCollection");var v=function(e){Object(a.a)(r,e);var t=b(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).on("before-add",(function(e){e.item||e.preventDefault()})),i.on("after-add",(function(e){return i._own(e.item)})),i.on("after-remove",(function(e){e.item.layer=null})),i}return Object(i.a)(r,[{key:"destroy",value:function(){this._unownAll()}},{key:"owner",get:function(){return this._get("owner")},set:function(e){e!==this._get("owner")&&(this._unownAll(),this._set("owner",e),this._ownAll())}},{key:"_createNewInstance",value:function(e){return new y(e)}},{key:"_ownAll",value:function(){var e=this;this.items.forEach((function(t){return e._own(t)}))}},{key:"_own",value:function(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}},{key:"_unownAll",value:function(){var e=this;this.items.forEach((function(t){return e._unown(t)}))}},{key:"_unown",value:function(e){e.layer===this.owner&&(e.layer=null)}}]),r}(y);Object(c.a)([Object(d.b)()],v.prototype,"owner",null),v=Object(c.a)([Object(h.a)("esri.support.GraphicsCollection")],v);var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"graphics";return{type:v,cast:f.a,set:function(t){var r=Object(f.b)(t,this._get(e),v);r.owner=this,this._set(e,r)}}},g=v;t.b=g},"Kn+0":function(e,t,r){e.exports=function(){var e=!1;-1!==navigator.appVersion.indexOf("MSIE 10")&&(e=!0);var t,r=[],n="object"==typeof document&&document,i=e?n.documentElement.doScroll("left"):n.documentElement.doScroll,a=n&&(i?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return!a&&n&&n.addEventListener("DOMContentLoaded",t=function(){for(n.removeEventListener("DOMContentLoaded",t),a=1;t=r.shift();)t()}),function(e){a?setTimeout(e,0):r.push(e)}}()},KuIS:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GeoJSONLayer=t.MapImageLayer=t.GraphicsLayer=t.FeatureLayer=t.PointImageLayer=void 0;var i=r("CrpU");Object.defineProperty(t,"PointImageLayer",{enumerable:!0,get:function(){return n(i).default}});var a=r("xSTV");Object.defineProperty(t,"FeatureLayer",{enumerable:!0,get:function(){return n(a).default}});var o=r("fLrv");Object.defineProperty(t,"GraphicsLayer",{enumerable:!0,get:function(){return n(o).default}});var s=r("5Drr");Object.defineProperty(t,"MapImageLayer",{enumerable:!0,get:function(){return n(s).default}});var c=r("BblY");Object.defineProperty(t,"GeoJSONLayer",{enumerable:!0,get:function(){return n(c).default}})},KxEA:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("7im+");function n(e){return e&&"function"==typeof e.highlight}},KxcT:function(e,t,r){"use strict";r.r(t);var n=r("eijD"),i=r("hisu"),a=r("yBJb"),o=r("4Mpa"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("NthX"),f=r.n(l),p=r("dQW7"),d=(r("ZTBZ"),r("hKEQ")),h=(r("YRYL"),r("DsdM"),r("c6bU"),r("IvZe"),r("6yFL"),r("vU4c"),r("h+Bk"),r("qCZy"),r("8QvB")),b=r("78YZ"),y=r("z9dv"),v=r("xAIp"),m=r("J4Pc"),g=(r("wckI"),r("TM+E")),O=r("mp5+"),j=r("iaHD"),w=r("jr4m"),_=r("lrNM"),k=r("QZQ7"),x=r("Mp7X"),S=r("eTmm"),P=r("7im+"),I=r("Akvs"),R=r("YwDY"),M=r("vW4k"),E=r("kJId"),T=r("nd5+"),A=r("cFtQ");function C(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var F=g.a.getLogger("esri.layers.graphics.sources.GeoJSONSource"),N=function(e){Object(s.a)(o,e);var t,r=L(o);function o(){var e;return Object(i.a)(this,o),(e=r.apply(this,arguments)).type="geojson",e.fullExtent=null,e.timeInfo=null,e}return Object(a.a)(o,[{key:"load",value:function(e){var t=Object(P.i)(e)?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}},{key:"destroy",value:function(){var e;null==(e=this._connection)||e.close(),this._connection=null}},{key:"applyEdits",value:function(e){var t=this;return this.load().then((function(){return t._applyEdits(e)}))}},{key:"openPorts",value:function(){var e=this;return this.load().then((function(){return e._connection.openPorts()}))}},{key:"queryFeatures",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.load(r).then((function(){return t._connection.invoke("queryFeatures",e?e.toJSON():null,r)})).then((function(e){return E.default.fromJSON(e)}))}},{key:"queryFeaturesJSON",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.load(r).then((function(){return t._connection.invoke("queryFeatures",e?e.toJSON():null,r)}))}},{key:"queryFeatureCount",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.load(r).then((function(){return t._connection.invoke("queryFeatureCount",e?e.toJSON():null,r)}))}},{key:"queryObjectIds",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.load(r).then((function(){return t._connection.invoke("queryObjectIds",e?e.toJSON():null,r)}))}},{key:"queryExtent",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.load(r).then((function(){return t._connection.invoke("queryExtent",e?e.toJSON():null,r)})).then((function(e){return{count:e.count,extent:T.a.fromJSON(e.extent)}}))}},{key:"querySnapping",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.load(r).then((function(){return t._connection.invoke("querySnapping",e,r)}))}},{key:"_applyEdits",value:function(e){var t=this;if(!this._connection)throw new x.a("geojson-layer-source:edit-failure","Memory source not loaded");var r=this.layer.objectIdField,n=[],i=[],a=[];if(e.addFeatures){var o,s=C(e.addFeatures);try{for(s.s();!(o=s.n()).done;){var c=o.value;n.push(this._serializeFeature(c))}}catch(b){s.e(b)}finally{s.f()}}if(e.deleteFeatures){var u,l=C(e.deleteFeatures);try{for(l.s();!(u=l.n()).done;){var f=u.value;"objectId"in f&&null!=f.objectId?i.push(f.objectId):"attributes"in f&&null!=f.attributes[r]&&i.push(f.attributes[r])}}catch(b){l.e(b)}finally{l.f()}}if(e.updateFeatures){var p,d=C(e.updateFeatures);try{for(d.s();!(p=d.n()).done;){var h=p.value;a.push(this._serializeFeature(h))}}catch(b){d.e(b)}finally{d.f()}}return this._connection.invoke("applyEdits",{adds:n,updates:a,deletes:i}).then((function(e){var r=e.fullExtent,n=e.timeExtent,i=e.featureEditResults;if(t.fullExtent=r,t.timeInfo){var a=t.timeInfo.clone();a.read({timeExtent:n}),t.timeInfo=a}return t._createEditsResult(i)}))}},{key:"_createEditsResult",value:function(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}},{key:"_createFeatureEditResult",value:function(e){var t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new x.a("geojson-layer-source:edit-failure",t.description,{code:t.code}):null}}},{key:"_serializeFeature",value:function(e){var t=e.attributes,r=this._geometryForSerialization(e);return r?{geometry:r.toJSON(),attributes:t}:{attributes:t}}},{key:"_geometryForSerialization",value:function(e){var t=e.geometry;return Object(P.h)(t)?null:"mesh"===t.type||"extent"===t.type?A.a.fromExtent(t.extent):t}},{key:"_startWorker",value:(t=Object(n.a)(f.a.mark((function e(t){var r,n,i,a,o,s,c,u,l,p,d,h,b,y;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.b)("GeoJSONSourceWorker",{strategy:Object(m.a)("feature-layers-workers")?"dedicated":"local",signal:t});case 2:return this._connection=e.sent,r=this.layer,n=r.fields,i=r.spatialReference,a=r.hasZ,o=r.geometryType,s=r.objectIdField,c=r.url,u=r.timeInfo,l="defaults"===this.layer.originOf("spatialReference"),p={url:c,fields:n&&n.map((function(e){return e.toJSON()})),geometryType:_.c.toJSON(o),hasZ:a,objectIdField:s,timeInfo:u?u.toJSON():null,spatialReference:l?null:i&&i.toJSON()},e.next=15,this._connection.invoke("load",p,{signal:t});case 15:d=e.sent,h=C(d.warnings);try{for(h.s();!(b=h.n()).done;)y=b.value,F.warn(y.message,{layer:this.layer,warning:y})}catch(f){h.e(f)}finally{h.f()}d.featureErrors.length&&F.warn("Encountered ".concat(d.featureErrors.length," validation errors while loading features"),d.featureErrors),this.fullExtent=T.a.fromJSON(d.layerDefinition.extent),this.timeInfo=M.a.fromJSON(d.layerDefinition.timeInfo),this.sourceJSON=d.layerDefinition,this.capabilities=Object(R.a)(d.layerDefinition.hasZ,!0);case 19:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),o}(S.a);Object(p.a)([Object(v.b)()],N.prototype,"capabilities",void 0),Object(p.a)([Object(v.b)()],N.prototype,"type",void 0),Object(p.a)([Object(v.b)()],N.prototype,"fullExtent",void 0),Object(p.a)([Object(v.b)({constructOnly:!0})],N.prototype,"layer",void 0),Object(p.a)([Object(v.b)()],N.prototype,"sourceJSON",void 0),Object(p.a)([Object(v.b)()],N.prototype,"timeInfo",void 0);var B=N=Object(p.a)([Object(j.a)("esri.layers.graphics.sources.GeoJSONSource")],N),V=r("9P7x"),U=r("2eXi"),z=r("wJzb"),q=r("SU3d"),H=r("1ZHs"),G=r("j8m6"),W=r("OiVb"),J=r("hokI"),$=r("eUOF"),Z=r("Rby8"),Q=r("OhIr"),X=r("DuP7"),K=r("BG/N"),Y=r("hdDo"),ee=r("lMmC"),te=r("RMqu"),re=r("YHXj");function ne(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ie(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var oe=Object(Q.a)(),se=function(e){Object(s.a)(l,e);var t,c=ae(l);function l(e){var t;return Object(i.a)(this,l),(t=c.call(this,e)).copyright=null,t.definitionExpression=null,t.displayField=null,t.editingEnabled=!0,t.elevationInfo=null,t.featureReduction=null,t.fields=null,t.fieldsIndex=null,t.fullExtent=null,t.geometryType=null,t.hasZ=void 0,t.labelsVisible=!0,t.labelingInfo=null,t.legendEnabled=!0,t.objectIdField=null,t.popupEnabled=!0,t.popupTemplate=null,t.screenSizePerspectiveEnabled=!0,t.source=null,t.spatialReference=re.a.WGS84,t.templates=null,t.title="GeoJSON",t.type="geojson",t.typeIdField=null,t.types=null,t.url=null,t}return Object(a.a)(l,[{key:"destroy",value:function(){var e;null==(e=this.source)||e.destroy()}},{key:"load",value:function(e){var t=this,r=new B({layer:this});return this._set("source",r),this.addResolvingPromise(r.load(e).then((function(){t.read(r.sourceJSON,{origin:"service",url:t.parsedUrl}),t.revert(["objectIdField","fields","timeInfo"],"service"),Object(X.j)(t.renderer,t.fieldsIndex),Object(X.k)(t.timeInfo,t.fieldsIndex)}))),Promise.resolve(this)}},{key:"capabilities",get:function(){return this.source?this.source.capabilities:null}},{key:"createQueryVersion",get:function(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"readFeatureReduction",value:function(e,t){return Object(J.a)(e,t)}},{key:"writeWebSceneFeatureReduction",value:function(e,t,r,n){Object(J.c)(e,t,"layerDefinition.featureReduction",n)}},{key:"isTable",get:function(){return this.loaded&&null==this.geometryType}},{key:"parsedUrl",get:function(){return this.url?Object(y.K)(this.url):null}},{key:"renderer",set:function(e){Object(X.j)(e,this.fieldsIndex),this._set("renderer",e)}},{key:"applyEdits",value:(t=Object(n.a)(f.a.mark((function e(t,n){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(11).then(r.bind(null,"CVpD"));case 2:return i=e.sent,e.next=5,this.load();case 5:return e.abrupt("return",i.applyEdits(this,this.source,t,n));case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"on",value:function(e,t){return Object(o.a)(Object(u.a)(l.prototype),"on",this).call(this,e,t)}},{key:"createPopupTemplate",value:function(e){return Object(ee.a)(this,e)}},{key:"createQuery",value:function(){var e=new Y.a,t=this.get("capabilities.data");e.returnGeometry=!0,t&&t.supportsZ&&(e.returnZ=!0),e.outFields=["*"],e.where=this.definitionExpression||"1=1";var r=this.timeOffset,n=this.timeExtent;return e.timeExtent=null!=r&&null!=n?n.offset(-r.value,r.unit):n||null,e}},{key:"getFieldDomain",value:function(e,t){var r,n=this,i=!1,a=t&&t.feature,o=a&&a.attributes,s=this.typeIdField&&o&&o[this.typeIdField];return null!=s&&this.types&&(i=this.types.some((function(t){return t.id==s&&((r=t.domains&&t.domains[e])&&"inherited"===r.type&&(r=n._getLayerDomain(e)),!0)}))),i||r||(r=this._getLayerDomain(e)),r}},{key:"getField",value:function(e){return this.fieldsIndex.get(e)}},{key:"queryFeatures",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryFeatures(Y.a.from(e)||r.createQuery(),t)})).then((function(e){if(null!=e&&e.features){var t,n=ne(e.features);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.layer=i.sourceLayer=r}}catch(a){n.e(a)}finally{n.f()}}return e}))}},{key:"queryObjectIds",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryObjectIds(Y.a.from(e)||r.createQuery(),t)}))}},{key:"queryFeatureCount",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryFeatureCount(Y.a.from(e)||r.createQuery(),t)}))}},{key:"queryExtent",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryExtent(Y.a.from(e)||r.createQuery(),t)}))}},{key:"_getLayerDomain",value:function(e){if(!this.fields)return null;var t=null;return this.fields.some((function(r){return r.name===e&&(t=r.domain),!!t})),t}}]),l}(Object(V.a)(Object(q.a)(Object(z.a)(Object(U.a)(Object(b.a)(k.a))))));Object(p.a)([Object(v.b)({readOnly:!0,json:{read:!1,write:!1}})],se.prototype,"capabilities",null),Object(p.a)([Object(v.b)({type:String})],se.prototype,"copyright",void 0),Object(p.a)([Object(v.b)({readOnly:!0})],se.prototype,"createQueryVersion",null),Object(p.a)([Object(v.b)({readOnly:!0})],se.prototype,"defaultPopupTemplate",null),Object(p.a)([Object(v.b)({type:String})],se.prototype,"definitionExpression",void 0),Object(p.a)([Object(v.b)({type:String})],se.prototype,"displayField",void 0),Object(p.a)([Object(v.b)({type:Boolean})],se.prototype,"editingEnabled",void 0),Object(p.a)([Object(v.b)({type:te.a})],se.prototype,"elevationInfo",void 0),Object(p.a)([Object(v.b)({types:{key:"type",base:H.a,typeMap:{selection:W.a,cluster:G.a}},json:{write:{target:"layerDefinition.featureReduction"}}})],se.prototype,"featureReduction",void 0),Object(p.a)([Object(O.a)("featureReduction",["layerDefinition.featureReduction"])],se.prototype,"readFeatureReduction",null),Object(p.a)([Object(w.a)("web-scene","featureReduction",{"layerDefinition.featureReduction":{types:J.b}})],se.prototype,"writeWebSceneFeatureReduction",null),Object(p.a)([Object(v.b)(oe.fields)],se.prototype,"fields",void 0),Object(p.a)([Object(v.b)(oe.fieldsIndex)],se.prototype,"fieldsIndex",void 0),Object(p.a)([Object(v.b)({type:T.a,aliasOf:"source.fullExtent"})],se.prototype,"fullExtent",void 0),Object(p.a)([Object(v.b)({type:["point","polygon","polyline","multipoint"],json:{read:{reader:_.a.read}}})],se.prototype,"geometryType",void 0),Object(p.a)([Object(v.b)({type:Boolean})],se.prototype,"hasZ",void 0),Object(p.a)([Object(v.b)({type:String})],se.prototype,"id",void 0),Object(p.a)([Object(v.b)({type:Boolean,readOnly:!0})],se.prototype,"isTable",null),Object(p.a)([Object(v.b)({type:Boolean})],se.prototype,"labelsVisible",void 0),Object(p.a)([Object(v.b)({type:[K.a]})],se.prototype,"labelingInfo",void 0),Object(p.a)([Object(v.b)({type:Boolean})],se.prototype,"legendEnabled",void 0),Object(p.a)([Object(v.b)({type:["show","hide"]})],se.prototype,"listMode",void 0),Object(p.a)([Object(v.b)({type:String})],se.prototype,"objectIdField",void 0),Object(p.a)([Object(v.b)({readOnly:!0})],se.prototype,"parsedUrl",null),Object(p.a)([Object(v.b)({type:Boolean})],se.prototype,"popupEnabled",void 0),Object(p.a)([Object(v.b)({type:d.a})],se.prototype,"popupTemplate",void 0),Object(p.a)([Object(v.b)({types:h.a,json:{read:{source:"drawingInfo.renderer"}}})],se.prototype,"renderer",null),Object(p.a)([Object(v.b)({type:Boolean})],se.prototype,"screenSizePerspectiveEnabled",void 0),Object(p.a)([Object(v.b)({readOnly:!0})],se.prototype,"source",void 0),Object(p.a)([Object(v.b)({type:re.a})],se.prototype,"spatialReference",void 0),Object(p.a)([Object(v.b)({type:[$.a]})],se.prototype,"templates",void 0),Object(p.a)([Object(v.b)()],se.prototype,"title",void 0),Object(p.a)([Object(v.b)({json:{read:!1},readOnly:!0})],se.prototype,"type",void 0),Object(p.a)([Object(v.b)({type:String,readOnly:!0})],se.prototype,"typeIdField",void 0),Object(p.a)([Object(v.b)({type:[Z.a]})],se.prototype,"types",void 0),Object(p.a)([Object(v.b)({type:String})],se.prototype,"url",void 0);var ce=se=Object(p.a)([Object(j.a)("esri.layers.GeoJSONLayer")],se);t.default=ce},L4it:function(e,t,r){"use strict";r.r(t);var n=r("ZFoC"),i=r("tM9Q"),a=r("4ifT"),o=r("ERkP");t.default={Playground:n.c,Props:n.d,Map:i.Map,Zoom:a.a,React:o}},LBQr:function(e,t,r){var n=r("SHde")(Object.getPrototypeOf,Object);e.exports=n},LF0y:function(e,t,r){var n=r("UzdM");e.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},LMdw:function(e,t,r){var n=r("UVdV"),i=r("OVha"),a=r("rk7W"),o=r("gDYM");e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(o(e)),r=a.f;return r?t.concat(r(e)):t}},LSEb:function(e,t,r){var n=r("Yzgk"),i=r("X/0h");e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},Lalj:function(e,t,r){var n=r("jL4t"),i=r("MQuF"),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}},LcPu:function(e,t,r){"use strict";r.r(t),r.d(t,"Helmet",(function(){return z})),r.d(t,"HelmetProvider",(function(){return L}));var n=r("ERkP"),i=r.n(n),a=r("W0B4"),o=r.n(a),s=r("2Hgx"),c=r.n(s),u=r("+Ltg"),l=r.n(u),f=r("F56x"),p=r.n(f);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function b(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}var y={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},v=Object.keys(y).map((function(e){return y[e]})),m={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},g=Object.keys(m).reduce((function(e,t){return e[m[t]]=t,e}),{}),O=function(e,t){for(var r=e.length-1;r>=0;r-=1){var n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},j=function(e){var t=O(e,y.TITLE),r=O(e,"titleTemplate");if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,(function(){return t}));var n=O(e,"defaultTitle");return t||n||void 0},w=function(e){return O(e,"onChangeClientState")||function(){}},_=function(e,t){return t.filter((function(t){return void 0!==t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return d({},e,t)}),{})},k=function(e,t){return t.filter((function(e){return void 0!==e[y.BASE]})).map((function(e){return e[y.BASE]})).reverse().reduce((function(t,r){if(!t.length)for(var n=Object.keys(r),i=0;i<n.length;i+=1){var a=n[i].toLowerCase();if(-1!==e.indexOf(a)&&r[a])return t.concat(r)}return t}),[])},x=function(e,t,r){var n={};return r.filter((function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&console&&"function"==typeof console.warn&&console.warn("Helmet: "+e+' should be of type "Array". Instead found type "'+typeof t[e]+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,r){var i={};r.filter((function(e){for(var r,a=Object.keys(e),o=0;o<a.length;o+=1){var s=a[o],c=s.toLowerCase();-1===t.indexOf(c)||"rel"===r&&"canonical"===e[r].toLowerCase()||"rel"===c&&"stylesheet"===e[c].toLowerCase()||(r=c),-1===t.indexOf(s)||"innerHTML"!==s&&"cssText"!==s&&"itemprop"!==s||(r=s)}if(!r||!e[r])return!1;var u=e[r].toLowerCase();return n[r]||(n[r]={}),i[r]||(i[r]={}),!n[r][u]&&(i[r][u]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var a=Object.keys(i),o=0;o<a.length;o+=1){var s=a[o],c=d({},n[s],i[s]);n[s]=c}return e}),[]).reverse()},S=function(e){return Array.isArray(e)?e.join(""):e},P=[y.NOSCRIPT,y.SCRIPT,y.STYLE],I=function(e,t){return void 0===t&&(t=!0),!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},R=function(e){return Object.keys(e).reduce((function(t,r){var n=void 0!==e[r]?r+'="'+e[r]+'"':""+r;return t?t+" "+n:n}),"")},M=function(e,t){return void 0===t&&(t={}),Object.keys(e).reduce((function(t,r){return t[m[r]||r]=e[r],t}),t)},E=function(e,t,r){switch(e){case y.TITLE:return{toComponent:function(){return r=t.titleAttributes,(n={key:e=t.title})["data-rh"]=!0,a=M(r,n),[i.a.createElement(y.TITLE,a,e)];var e,r,n,a},toString:function(){return function(e,t,r,n){var i=R(r),a=S(t);return i?"<"+e+' data-rh="true" '+i+">"+I(a,n)+"</"+e+">":"<"+e+' data-rh="true">'+I(a,n)+"</"+e+">"}(e,t.title,t.titleAttributes,r)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return M(t)},toString:function(){return R(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,r){var n,a=((n={key:r})["data-rh"]=!0,n);return Object.keys(t).forEach((function(e){var r=m[e]||e;"innerHTML"===r||"cssText"===r?a.dangerouslySetInnerHTML={__html:t.innerHTML||t.cssText}:a[r]=t[e]})),i.a.createElement(e,a)}))}(e,t)},toString:function(){return function(e,t,r){return t.reduce((function(t,n){var i=Object.keys(n).filter((function(e){return!("innerHTML"===e||"cssText"===e)})).reduce((function(e,t){var i=void 0===n[t]?t:t+'="'+I(n[t],r)+'"';return e?e+" "+i:i}),""),a=n.innerHTML||n.cssText||"",o=-1===P.indexOf(e);return t+"<"+e+' data-rh="true" '+i+(o?"/>":">"+a+"</"+e+">")}),"")}(e,t,r)}}}},T=function(e){var t=e.bodyAttributes,r=e.encode,n=e.htmlAttributes,i=e.linkTags,a=e.metaTags,o=e.noscriptTags,s=e.scriptTags,c=e.styleTags,u=e.title,l=void 0===u?"":u,f=e.titleAttributes;return{base:E(y.BASE,e.baseTag,r),bodyAttributes:E("bodyAttributes",t,r),htmlAttributes:E("htmlAttributes",n,r),link:E(y.LINK,i,r),meta:E(y.META,a,r),noscript:E(y.NOSCRIPT,o,r),script:E(y.SCRIPT,s,r),style:E(y.STYLE,c,r),title:E(y.TITLE,{title:l,titleAttributes:f},r)}},A=i.a.createContext({}),C=o.a.shape({setHelmet:o.a.func,helmetInstances:o.a.shape({get:o.a.func,add:o.a.func,remove:o.a.func})}),D="undefined"!=typeof document,L=function(e){function t(r){var n;return(n=e.call(this,r)||this).instances=[],n.value={setHelmet:function(e){n.props.context.helmet=e},helmetInstances:{get:function(){return n.instances},add:function(e){n.instances.push(e)},remove:function(e){var t=n.instances.indexOf(e);n.instances.splice(t,1)}}},t.canUseDOM||(r.context.helmet=T({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),n}return h(t,e),t.prototype.render=function(){return i.a.createElement(A.Provider,{value:this.value},this.props.children)},t}(n.Component);L.canUseDOM=D,L.propTypes={context:o.a.shape({helmet:o.a.shape()}),children:o.a.node.isRequired},L.defaultProps={context:{}},L.displayName="HelmetProvider";var F=function(e,t){var r,n=document.head||document.querySelector(y.HEAD),i=n.querySelectorAll(e+"[data-rh]"),a=[].slice.call(i),o=[];return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&("innerHTML"===i?n.innerHTML=t.innerHTML:"cssText"===i?n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText)):n.setAttribute(i,void 0===t[i]?"":t[i]));n.setAttribute("data-rh","true"),a.some((function(e,t){return r=t,n.isEqualNode(e)}))?a.splice(r,1):o.push(n)})),a.forEach((function(e){return e.parentNode.removeChild(e)})),o.forEach((function(e){return n.appendChild(e)})),{oldTags:a,newTags:o}},N=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var n=r.getAttribute("data-rh"),i=n?n.split(","):[],a=[].concat(i),o=Object.keys(t),s=0;s<o.length;s+=1){var c=o[s],u=t[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),-1===i.indexOf(c)&&i.push(c);var l=a.indexOf(c);-1!==l&&a.splice(l,1)}for(var f=a.length-1;f>=0;f-=1)r.removeAttribute(a[f]);i.length===a.length?r.removeAttribute("data-rh"):r.getAttribute("data-rh")!==o.join(",")&&r.setAttribute("data-rh",o.join(","))}},B=function(e,t){var r=e.baseTag,n=e.htmlAttributes,i=e.linkTags,a=e.metaTags,o=e.noscriptTags,s=e.onChangeClientState,c=e.scriptTags,u=e.styleTags,l=e.title,f=e.titleAttributes;N(y.BODY,e.bodyAttributes),N(y.HTML,n),function(e,t){void 0!==e&&document.title!==e&&(document.title=S(e)),N(y.TITLE,t)}(l,f);var p={baseTag:F(y.BASE,r),linkTags:F(y.LINK,i),metaTags:F(y.META,a),noscriptTags:F(y.NOSCRIPT,o),scriptTags:F(y.SCRIPT,c),styleTags:F(y.STYLE,u)},d={},h={};Object.keys(p).forEach((function(e){var t=p[e],r=t.newTags,n=t.oldTags;r.length&&(d[e]=r),n.length&&(h[e]=p[e].oldTags)})),t&&t(),s(e,d,h)},V=null,U=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).rendered=!1,t}h(t,e);var r=t.prototype;return r.shouldComponentUpdate=function(e){return!p()(e,this.props)},r.componentDidUpdate=function(){this.emitChange()},r.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},r.emitChange=function(){var e,t,r=this.props.context,n=r.setHelmet,i=null,a=(e=r.helmetInstances.get().map((function(e){var t=d({},e.props);return delete t.context,t})),{baseTag:k(["href"],e),bodyAttributes:_("bodyAttributes",e),defer:O(e,"defer"),encode:O(e,"encodeSpecialCharacters"),htmlAttributes:_("htmlAttributes",e),linkTags:x(y.LINK,["rel","href"],e),metaTags:x(y.META,["name","charset","http-equiv","property","itemprop"],e),noscriptTags:x(y.NOSCRIPT,["innerHTML"],e),onChangeClientState:w(e),scriptTags:x(y.SCRIPT,["src","innerHTML"],e),styleTags:x(y.STYLE,["cssText"],e),title:j(e),titleAttributes:_("titleAttributes",e)});L.canUseDOM?(t=a,V&&cancelAnimationFrame(V),t.defer?V=requestAnimationFrame((function(){B(t,(function(){V=null}))})):(B(t),V=null)):T&&(i=T(a)),n(i)},r.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},r.render=function(){return this.init(),null},t}(n.Component);U.propTypes={context:C.isRequired},U.displayName="HelmetDispatcher";var z=function(e){function t(){return e.apply(this,arguments)||this}h(t,e);var r=t.prototype;return r.shouldComponentUpdate=function(e){return!c()(this.props,e)},r.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case y.SCRIPT:case y.NOSCRIPT:return{innerHTML:t};case y.STYLE:return{cssText:t};default:throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},r.flattenArrayTypeChildren=function(e){var t,r=e.child,n=e.arrayTypeChildren;return d({},n,((t={})[r.type]=[].concat(n[r.type]||[],[d({},e.newChildProps,this.mapNestedChildrenToProps(r,e.nestedChildren))]),t))},r.mapObjectTypeChildren=function(e){var t,r,n=e.child,i=e.newProps,a=e.newChildProps,o=e.nestedChildren;switch(n.type){case y.TITLE:return d({},i,((t={})[n.type]=o,t.titleAttributes=d({},a),t));case y.BODY:return d({},i,{bodyAttributes:d({},a)});case y.HTML:return d({},i,{htmlAttributes:d({},a)});default:return d({},i,((r={})[n.type]=d({},a),r))}},r.mapArrayTypeChildrenToProps=function(e,t){var r=d({},t);return Object.keys(e).forEach((function(t){var n;r=d({},r,((n={})[t]=e[t],n))})),r},r.warnOnInvalidChildren=function(e,t){return l()(v.some((function(t){return e.type===t})),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+v.join(", ")+" are allowed. Helmet does not support rendering <"+e.type+"> elements. Refer to our API for more information."),l()(!t||"string"==typeof t||Array.isArray(t)&&!t.some((function(e){return"string"!=typeof e})),"Helmet expects a string as a child of <"+e.type+">. Did you forget to wrap your children in braces? ( <"+e.type+">{``}</"+e.type+"> ) Refer to our API for more information."),!0},r.mapChildrenToProps=function(e,t){var r=this,n={};return i.a.Children.forEach(e,(function(e){if(e&&e.props){var i=e.props,a=i.children,o=b(i,["children"]),s=Object.keys(o).reduce((function(e,t){return e[g[t]||t]=o[t],e}),{}),c=e.type;switch("symbol"==typeof c?c=c.toString():r.warnOnInvalidChildren(e,a),c){case y.FRAGMENT:t=r.mapChildrenToProps(a,t);break;case y.LINK:case y.META:case y.NOSCRIPT:case y.SCRIPT:case y.STYLE:n=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:n,newChildProps:s,nestedChildren:a});break;default:t=r.mapObjectTypeChildren({child:e,newProps:t,newChildProps:s,nestedChildren:a})}}})),this.mapArrayTypeChildrenToProps(n,t)},r.render=function(){var e=this.props,t=e.children,r=d({},b(e,["children"]));return t&&(r=this.mapChildrenToProps(t,r)),i.a.createElement(A.Consumer,null,(function(e){return i.a.createElement(U,d({},r,{context:e}))}))},t}(n.Component);z.propTypes={base:o.a.object,bodyAttributes:o.a.object,children:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]),defaultTitle:o.a.string,defer:o.a.bool,encodeSpecialCharacters:o.a.bool,htmlAttributes:o.a.object,link:o.a.arrayOf(o.a.object),meta:o.a.arrayOf(o.a.object),noscript:o.a.arrayOf(o.a.object),onChangeClientState:o.a.func,script:o.a.arrayOf(o.a.object),style:o.a.arrayOf(o.a.object),title:o.a.string,titleAttributes:o.a.object,titleTemplate:o.a.string},z.defaultProps={defer:!0,encodeSpecialCharacters:!0},z.displayName="Helmet"},LdZC:function(e,t,r){var n=r("jgJv"),i=r("KjZ+"),a=r("dIZa"),o=r("MBdc"),s=r("rrk0"),c=r("OF9M"),u=n?n.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,r,n,u,f,p){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var h=1&n;if(d||(d=c),e.size!=t.size&&!h)return!1;var b=p.get(e);if(b)return b==t;n|=2,p.set(e,t);var y=o(d(e),d(t),n,u,f,p);return p.delete(e),y;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},LeKB:function(e,t,r){e.exports=[{plugin:r("AdG2"),options:{plugins:[],extensions:[".md",".mdx"],remarkPlugins:[[null,{type:"yaml",marker:"-"}],null],rehypePlugins:[null,null],gatsbyRemarkPlugins:[],defaultLayouts:{default:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\node_modules\\gatsby-theme-docz\\src\\base\\Layout.js"},lessBabel:!1,mediaTypes:["text/markdown","text/x-markdown"],root:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\.docz"}},{plugin:r("1dvN"),options:{plugins:[]}},{plugin:r("mEVR"),options:{plugins:[],themeConfig:{},src:"./",gatsbyRoot:null,themesDir:"src",mdxExtensions:[".md",".mdx"],docgenConfig:{},menu:[],mdPlugins:[],hastPlugins:[],ignore:[],typescript:!0,ts:!1,propsParser:!0,"props-parser":!0,debug:!1,native:!1,openBrowser:null,o:null,open:null,"open-browser":null,root:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\.docz",base:"/react-ags-maps",source:"./","gatsby-root":null,files:"**/*.{md,markdown,mdx}",public:"/public",dest:"../docs",d:".docz/dist",editBranch:"master",eb:"master","edit-branch":"master",config:"",title:"React Ags Maps Docs",description:"My awesome app using docz",host:"localhost",port:3e3,p:3e3,separator:"-",paths:{root:"C:\\Users\\chubs\\development\\react-ags-maps\\docz",templates:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\node_modules\\docz-core\\dist\\templates",docz:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\.docz",cache:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\.docz\\.cache",app:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\.docz\\app",appPackageJson:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\package.json",appTsConfig:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\tsconfig.json",gatsbyConfig:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\gatsby-config.js",gatsbyBrowser:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\gatsby-browser.js",gatsbyNode:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\gatsby-node.js",gatsbySSR:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\gatsby-ssr.js",importsJs:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\.docz\\app\\imports.js",rootJs:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\.docz\\app\\root.jsx",indexJs:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\.docz\\app\\index.jsx",indexHtml:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\.docz\\app\\index.html",db:"C:\\Users\\chubs\\development\\react-ags-maps\\docz\\.docz\\app\\db.json"}}}]},"LuB+":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("kDog");function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.a;return t||(t=new r),t===e||(t.removeAll(),o(e)?t.addMany(e):e&&t.add(e)),t}function a(e){return e}function o(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}},"M/tt":function(e,t,r){var n=r("DJGK"),i=r("Qean");e.exports=function(e){return n(i(e))}},M8e6:function(e,t,r){"use strict";t.a=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}},MBdc:function(e,t,r){var n=r("GE03"),i=r("5Avs"),a=r("+165");e.exports=function(e,t,r,o,s,c){var u=1&r,l=e.length,f=t.length;if(l!=f&&!(u&&f>l))return!1;var p=c.get(e),d=c.get(t);if(p&&d)return p==t&&d==e;var h=-1,b=!0,y=2&r?new n:void 0;for(c.set(e,t),c.set(t,e);++h<l;){var v=e[h],m=t[h];if(o)var g=u?o(m,v,h,t,e,c):o(v,m,h,e,t,c);if(void 0!==g){if(g)continue;b=!1;break}if(y){if(!i(t,(function(e,t){if(!a(y,t)&&(v===e||s(v,e,r,o,c)))return y.push(t)}))){b=!1;break}}else if(v!==m&&!s(v,m,r,o,c)){b=!1;break}}return c.delete(e),c.delete(t),b}},MEGb:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("7i+s"),l=r("0n+b"),f=r("TM+E"),p=r("xAIp"),d=(r("J4Pc"),r("gljZ")),h=r("iaHD"),b=r("wckI"),y=r("Z8Iu");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var m=f.a.getLogger("esri.renderers.visualVariables.VisualVariable"),g=new u.a({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),O=function(e){Object(a.a)(r,e);var t=v(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).index=null,i.type=null,i.field=null,i.valueExpression=null,i.valueExpressionTitle=null,i.legendOptions=null,i}return Object(i.a)(r,[{key:"castField",value:function(e){return null==e?e:"function"==typeof e?(m.error(".field: field must be a string value"),null):Object(b.l)(e)}},{key:"arcadeRequired",get:function(){return!!this.valueExpression}},{key:"clone",value:function(){}},{key:"getAttributeHash",value:function(){return"".concat(this.type,"-").concat(this.field,"-").concat(this.valueExpression)}}]),r}(l.a);Object(c.a)([Object(p.b)()],O.prototype,"index",void 0),Object(c.a)([Object(p.b)({type:g.apiValues,readOnly:!0,json:{read:g.read,write:g.write}})],O.prototype,"type",void 0),Object(c.a)([Object(p.b)({type:String,json:{write:!0}})],O.prototype,"field",void 0),Object(c.a)([Object(d.a)("field")],O.prototype,"castField",null),Object(c.a)([Object(p.b)({type:String,json:{write:!0}})],O.prototype,"valueExpression",void 0),Object(c.a)([Object(p.b)({type:String,json:{write:!0}})],O.prototype,"valueExpressionTitle",void 0),Object(c.a)([Object(p.b)({readOnly:!0})],O.prototype,"arcadeRequired",null),Object(c.a)([Object(p.b)({type:y.a,json:{write:!0}})],O.prototype,"legendOptions",void 0);var j=O=Object(c.a)([Object(h.a)("esri.renderers.visualVariables.VisualVariable")],O);t.a=j},MGvN:function(e,t,r){"use strict";r.r(t);var n=r("mK0O"),i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=(r("U7uu"),r("kDog")),f=r("A0wW"),p=r("UfAV"),d=r("j56I"),h=r("PVS0"),b=r("J4Pc"),y=r("wckI"),v=r("TM+E"),m=r("xAIp"),g=r("iaHD"),O=r("0942"),j=r("IH5m"),w=r("lZmO"),_=r("IXv3"),k=r("6CzD"),x=r("eijD"),S=r("NthX"),P=r.n(S),I=r("e6DO"),R=r("sc0P"),M=r("4VMI"),E=r("hKEQ"),T=r("hZBP"),A=r("Mp7X"),C=r("v3KF"),D=r("7im+"),L=r("OTJA"),F=r("YHXj"),N=r("Vs6/"),B=r("iW9l"),V=r("eoZi"),U=r("WYis"),z=r("0fJP"),q=r("HGlF");var H=function(){function e(t){Object(i.a)(this,e),this.name=null,this.label=null,this.description=null,this.supportedBasemaps=null,this.basemapGroups=null,this.schemes=null;var r=t.name,n=t.label,a=t.description,o=t.schemes;this.name=r,this.label=n,this.description=a,this.schemes=o;var s=t.basemapGroups||q.a,c=[];if(s)for(var u in s)c=c.concat(s[u]);this.supportedBasemaps=c,this.basemapGroups=s}return Object(a.a)(e,[{key:"isBasemapSupported",value:function(e){var t=Object(q.c)(e,this.supportedBasemaps);return!!(t&&this.supportedBasemaps.indexOf(t)>-1)}},{key:"getRawSchemes",value:function(e){var t=function(e,t,r){var n=null,i=null;if(t&&(n=Object(q.c)(t,e,!1))){var a=Object(q.b)(n);Object(D.i)(a)&&(i=a)}return!n&&r&&(n="dark"===r?"dark-gray":"gray",i=r),n||i||(n="gray",i="light"),{basemapId:n,basemapTheme:i}}(this.supportedBasemaps,e.basemap,e.basemapTheme),r=t.basemapId,n=t.basemapTheme,i=n;if(r){var a=Object(q.b)(r,this.basemapGroups);Object(D.i)(a)&&(i=a)}var o=e.geometryType;"multipoint"===o?o="point":"mesh"===o&&(o="polygon");var s=this.schemes[o]||this.schemes.default;return{schemesInfo:Object(z.a)(s[i]),basemapId:r,basemapTheme:n}}}]),e}();var G=r("frPA"),W=["streets","gray","topo","terrain","national-geographic","oceans","osm","gray-vector","streets-vector","topo-vector","streets-relief-vector","streets-navigation-vector"],J=["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector"];[].concat(W).concat(J);function $(e,t){return Math.ceil(function(e){var t=e.width,r=e.height,n=e.pixelSizeAt(e.toMap(Object(G.a)(.5*t,.5*r),{exclude:[]}));if(n<=0&&(n=e.pixelSizeAt(e.toMap(Object(G.a)(.5*t,.95*r),{exclude:[]})))<=0){var i=e.camera.position.clone();i.z=0,n=2*e.pixelSizeAt(i)}return n}(t)*Object(G.c)(Object(G.e)(e)))}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var X=function(e){var t=e.themeDictionary,r=new Map;for(var n in t){var i=t[n];r.set(n,new H(i))}return r}({themeDictionary:{default:{name:"default",label:"Default",description:"Default theme for basic visualization of features.",schemes:{point:{light:{primary:{color:[77,77,77,1],outline:{color:[255,255,255,.25],width:"1px"},size:"8px"},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:"1px"},size:"8px"},{color:[255,255,255,1],outline:{color:[51,51,51,.25],width:"1px"},size:"8px"}]},dark:{primary:{color:[255,255,255,1],outline:{color:[92,92,92,.25],width:"1px"},size:"8px"},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:"1px"},size:"8px"},{color:[26,26,26,1],outline:{color:[178,178,178,.25],width:"1px"},size:"8px"}]}},polyline:{light:{primary:{color:[77,77,77,1],width:"2px"},secondary:[{color:[226,119,40,1],width:"2px"},{color:[255,255,255,1],width:"2px"}]},dark:{primary:{color:[255,255,255,1],width:"2px"},secondary:[{color:[226,119,40,1],width:"2px"},{color:[26,26,26,1],width:"2px"}]}},polygon:{light:{primary:{size:"12px",color:[227,139,79,1],outline:{color:[255,255,255,.25],width:"1px"},opacity:.8},secondary:[{size:"12px",color:[128,128,128,1],outline:{color:[255,255,255,.25],width:"1px"},opacity:.8},{size:"12px",color:[255,255,255,1],outline:{color:[128,128,128,.25],width:"1px"},opacity:.8}]},dark:{primary:{size:"12px",color:[227,139,79,1],outline:{color:[92,92,92,.25],width:"1px"},opacity:.8},secondary:[{size:"12px",color:[178,178,178,1],outline:{color:[92,92,92,.25],width:"1px"},opacity:.8},{size:"12px",color:[26,26,26,1],outline:{color:[128,128,128,.25],width:"1px"},opacity:.8}]}}}}}});function K(e){var t=function(e){var t=e.theme;if(t)return t.getRawSchemes({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme})}({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme,theme:X.get("default")});if(t){var r=t.schemesInfo,n=t.basemapId,i=t.basemapTheme;return{primaryScheme:Y(e,r.primary),secondarySchemes:r.secondary.map((function(t){return Y(e,t)})).filter(Boolean),basemapId:n,basemapTheme:i}}}function Y(e,t){var r="mesh"!==e.geometryType&&e.worldScale?e.view:null;switch(e.geometryType){case"point":case"multipoint":var n=t;return function(e,t){return{color:new U.a(e.color),outline:{color:new U.a(e.outline.color),width:e.outline.width},size:t?$(e.size,t):e.size,opacity:1}}({color:n.color,outline:Q({},n.outline),size:n.size},r);case"polyline":var i=t;return function(e,t){return{color:new U.a(e.color),width:t?$(e.width,t):e.width,opacity:1}}({color:i.color,width:i.width},r);case"polygon":var a=t;return function(e,t){return{color:new U.a(e.color),outline:{color:new U.a(e.outline.color),width:e.outline.width},size:t?$(e.size,t):e.size,opacity:e.opacity}}({size:a.size,color:a.color,outline:Q({},a.outline),opacity:a.opacity},r);case"mesh":var o=t;return function(e){return{color:new U.a(e.color),opacity:e.opacity}}({color:o.color,opacity:o.opacity})}}Object.freeze({__proto__:null,getThemes:function(e){return t=e,r=[],X.forEach((function(e){e.isBasemapSupported(t)&&r.push({name:e.name,label:e.label,description:e.description,basemaps:Object(k.a)(e.supportedBasemaps)})})),r;var t,r},getSchemes:K,cloneScheme:function(e){if(e){var t=Q({},e);return t.color&&(t.color=new U.a(t.color)),"outline"in t&&t.outline&&(t.outline={color:t.outline.color&&new U.a(t.outline.color),width:t.outline.width}),t}}});var ee=r("rgdf"),te=r("2d0T"),re=r("DKWO"),ne=r("I5De"),ie=r("+yVN"),ae=r("KxEA"),oe=r("QSFP"),se=r("0n+b");function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var ue=function(e){Object(o.a)(r,e);var t=ce(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).autoNavigate=null,n.filter=null,n.getResults=null,n.getSuggestions=null,n.maxResults=null,n.maxSuggestions=null,n.minSuggestCharacters=null,n.outFields=null,n.placeholder="",n.popupEnabled=null,n.popupTemplate=null,n.prefix="",n.resultGraphicEnabled=null,n.resultSymbol=null,n.suggestionsEnabled=null,n.suffix="",n.withinViewEnabled=!1,n.zoomScale=null,n}return r}(Object(oe.a)(se.a));Object(u.a)([Object(m.b)()],ue.prototype,"autoNavigate",void 0),Object(u.a)([Object(m.b)()],ue.prototype,"filter",void 0),Object(u.a)([Object(m.b)()],ue.prototype,"getResults",void 0),Object(u.a)([Object(m.b)()],ue.prototype,"getSuggestions",void 0),Object(u.a)([Object(m.b)()],ue.prototype,"maxResults",void 0),Object(u.a)([Object(m.b)()],ue.prototype,"maxSuggestions",void 0),Object(u.a)([Object(m.b)()],ue.prototype,"minSuggestCharacters",void 0),Object(u.a)([Object(m.b)()],ue.prototype,"outFields",void 0),Object(u.a)([Object(m.b)()],ue.prototype,"placeholder",void 0),Object(u.a)([Object(m.b)()],ue.prototype,"popupEnabled",void 0),Object(u.a)([Object(m.b)()],ue.prototype,"popupTemplate",void 0),Object(u.a)([Object(m.b)()],ue.prototype,"prefix",void 0),Object(u.a)([Object(m.b)()],ue.prototype,"resultGraphicEnabled",void 0),Object(u.a)([Object(m.b)()],ue.prototype,"resultSymbol",void 0),Object(u.a)([Object(m.b)()],ue.prototype,"suggestionsEnabled",void 0),Object(u.a)([Object(m.b)()],ue.prototype,"suffix",void 0),Object(u.a)([Object(m.b)()],ue.prototype,"withinViewEnabled",void 0),Object(u.a)([Object(m.b)()],ue.prototype,"zoomScale",void 0);var le=ue=Object(u.a)([Object(g.a)("esri.widgets.Search.SearchSource")],ue),fe=r("a1Tm"),pe=r("cFtQ"),de=(r("ZTBZ"),r("+MV2")),he=r("nd5+"),be=v.a.getLogger("esri.widgets.Search.support.geometryUtils");function ye(e,t){var r,n;if(!t)return be.error("missing-parameter: view is missing."),Promise.reject(new A.a("searchgeometryutils:missing-parameter","view is missing."));if(!e)return be.error("missing-parameter: point is missing."),Promise.reject(new A.a("searchgeometryutils:missing-parameter","point is missing."));if(e.hasZ||"2d"===t.type)return Promise.resolve(e);var i=null==t||null==(r=t.map)?void 0:r.ground;return i&&i.layers.length?i.queryElevation(e,{cache:null==(n=t.basemapTerrain)?void 0:n.elevationQueryCache}).then((function(e){return e.geometry})):Promise.resolve(e)}function ve(e){if(Object(D.h)(e))return null;switch(e.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":return e.getPoint(0);case"polyline":return e.getPoint(0,0)}return null}function me(e,t,r){return Object(D.h)(e)?null:"extent"===e.type?e:"multipoint"===e.type||"polygon"===e.type||"polyline"===e.type?e.extent:"point"===e.type?Oe(e,t,r):void 0}function ge(e,t,r){return Object(D.h)(e)||Object(D.h)(t)?null:Oe(e.center,t,r)}function Oe(e,t,r){var n=e.hasZ?e.z:void 0;return t&&t.map?(r?Object(de.a)(t,r):t.extent).clone().centerAt(e).set({zmax:n,zmin:n}):new he.a({xmin:e.x-.25,ymin:e.y-.25,xmax:e.x+.25,ymax:e.y+.25,spatialReference:e.spatialReference,zmin:n,zmax:n})}var je,we=r("Iyey"),_e=r("TO7i"),ke=/https?:\/\/services.*\.arcgis\.com/i,xe=/(?:\{([^}]+)\})/g,Se=v.a.getLogger("esri.widgets.Search.support.layerSearchUtils");function Pe(e,t){var r=e.exactMatch,n=void 0!==r&&r,i=e.location,a=e.maxResults,o=e.spatialReference,s=e.source,c=e.sourceIndex,u=e.suggestResult,l=e.view,f=s.layer,p=s.filter,d=s.zoomScale,h=l&&l.scale,b=Re(s,l),y=t&&t.signal;return Ee(f).then((function(){var e=f.popupTemplate;return e?e.getRequiredFields(f.fieldsIndex):null})).then((function(e){var t,r,v=f.objectIdField,m=f.returnZ,g=Ce(s);if(!Le(f,g))throw Se.error("invalid-field: displayField is invalid."),new A.a("getResults():invalid-field","displayField is invalid.");var O=e&&e.length?e:[g],j=s.outFields||O,w=Me(j);if(-1!==j.indexOf(v)||w||j.push(v),!w&&!De(f,j))throw Se.error("invalid-field: outField is invalid."),new A.a("getResults():invalid-field","outField is invalid.");var _=f.createQuery(),k=s.orderByFields;if(k&&(_.orderByFields=k),o){_.outSpatialReference=o;var x=1/Object(fe.d)(o);x&&(_.maxAllowableOffset=x)}var S="mesh"===f.geometryType||"multipatch"===f.geometryType,P=(null==(t=f.capabilities)||null==(r=t.data)?void 0:r.supportsZ)&&!S;if(_.returnZ=P&&!1!==m,_.returnGeometry=!0,_.multipatchOption=S?"xyFootprint":null,j&&(_.outFields=j),i)_.geometry=i;else if(u.key)_.objectIds=[u.key];else{var I=s.searchFields||[g];if(!De(f,I))throw Se.error("invalid-field: search field is invalid."),new A.a("getResults():invalid-field","search field is invalid.");if(Ae(f)&&(_.num=a),b&&(_.geometry=b),!u.text.trim())return[];var R=s.prefix,M=void 0===R?"":R,E=s.suffix,T=void 0===E?"":E,C=Be(Fe("".concat(M).concat(u.text).concat(T)),f,I,p,n);if(!C)return[];_.where=C}return f.queryFeatures(_,{signal:y}).then((function(e){return function(e,t,r,n,i,a,o){return e.features.map((function(e){return function(e,t,r,n,i,a,o){var s=e.clone(),c=e.sourceLayer,u=c&&c.objectIdField,l=u&&e.attributes[u],f=Ve(e,r.searchTemplate,i),p=me(s.geometry,t,a),d="number"==typeof o?ge(Object(z.a)(p),t,o):p,h=e.clone();return Object(D.i)(d)&&(h.geometry=pe.a.fromExtent(d)),{extent:d,target:h,feature:s,key:l,name:f,sourceIndex:n}}(e,t,r,n,i,a,o)}))}(e,l,s,c,g,h,d)}))}))}function Ie(e,t){var r=e.source,n=e.spatialReference,i=e.view,a=e.suggestTerm,o=e.maxSuggestions,s=e.sourceIndex,c=r.layer,u=r.filter,l=t&&t.signal,f=Re(r,i);return Ee(c).then((function(){if(!Ae(c))return[];var e=Ce(r),t=r.searchFields||[e],i=[];r.suggestionTemplate?r.suggestionTemplate.replace(xe,(function(e,t){return i.push(t),e})):i.push(e);var p=Me(i);-1!==i.indexOf(c.objectIdField)||p||i.push(c.objectIdField);var d=Le(c,e),h=p||De(c,i),b=De(c,t);if(!d)throw Se.error("invalid-field: displayField is invalid."),new A.a("getSuggestions():invalid-field","displayField is invalid.");if(!h)throw Se.error("invalid-field: outField is invalid."),new A.a("getSuggestions():invalid-field","outField is invalid.");if(!b)throw Se.error("invalid-field: search field is invalid."),new A.a("getSuggestions():invalid-field","search field is invalid.");var y=c.createQuery(),v=r.orderByFields;if(v&&(y.orderByFields=v),y.outSpatialReference=n,y.returnGeometry=!1,y.num=o,y.outFields=i,f&&(y.geometry=f),!a.trim())return[];var m=r.prefix,g=void 0===m?"":m,O=r.suffix,j=void 0===O?"":O,w=Be(Fe("".concat(g).concat(a).concat(j)),c,t,u,!1);return w?(y.where=w,c.queryFeatures(y,{signal:l}).then((function(t){return function(e,t,r,n){return e.features.map((function(e){return function(e,t,r,n){var i=e.sourceLayer,a=e.attributes,o=i.objectIdField,s=a[o];return{text:Ve(e,t.suggestionTemplate,n),key:s,sourceIndex:r}}(e,t,r,n)}))}(t,r,s,e)}))):[]}))}function Re(e,t){var r=e.filter,n=e.withinViewEnabled,i=t&&t.extent;return r&&r.geometry||(n&&i?i:void 0)}function Me(e){return e&&-1!==e.indexOf("*")}function Ee(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(x.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=4;break}return e.next=4,t.load();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e){var t,r,n;return null!=(t=null==e||null==(r=e.capabilities)||null==(n=r.query)?void 0:n.supportsPagination)&&t}function Ce(e){return e.displayField||e.layer.displayField||function(e){var t,r,n,i;return null!=(t=null==e||null==(r=e.fieldsIndex)||null==(n=r.fields)||null==(i=n.find((function(e){return"string"===e.type})))?void 0:i.name)?t:""}(e.layer)}function De(e,t){return!(!e||!t)&&t.every((function(t){return Le(e,t)}))}function Le(e,t){return!!e.getField(t)}function Fe(e){return e.replace(/\'/g,"''")}function Ne(e,t){var r=t&&t.where;return r?"(".concat(e,") AND (").concat(r,")"):e}function Be(e,t,r,n,i){var a=t.definitionExpression,o="";if(e){var s=ke.test(t.url)&&function(e){for(var t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0;return!1}(e)?"N":"";r&&r.forEach((function(r){var a=t.getField(r),c="function"==typeof t.getFieldDomain&&t.getFieldDomain(r),u=(c&&"coded-value"===c.type?function(e,t,r){var n=null,i=e.codedValues;return i&&i.some((function(e){var i=e.name,a=r?i:i.toLowerCase();return(r?t:t.toLowerCase())===a&&(n=e.code.toString(),!0)})),n}(c,e,i):null)||e||null;if(null!==u){var l=function(e,t,r,n,i){var a=t.type,o=t.name;if("string"===a||"date"===a||"global-id"===a)return Ne(i?"".concat(o," = ").concat(r,"'").concat(e,"'"):"UPPER(".concat(o,") LIKE ").concat(r,"'%").concat(e.toUpperCase(),"%'"),n);if("oid"===a||"small-integer"===a||"integer"===a||"single"===a||"double"===a){var s=Number(e);return isNaN(s)?null:Ne("".concat(o," = ").concat(s),n)}return Ne("".concat(o," = ").concat(e),n)}(u,a,s,n,i);l&&(o+=function(e,t){return e?" OR (".concat(t,")"):"(".concat(t,")")}(o,l))}}))}return a?"(".concat(a,") AND (").concat(o,")"):o}function Ve(e,t,r){var n=e.sourceLayer,i=e.attributes,a="function"==typeof n.getFieldDomain&&n.getFieldDomain(r);if(t)return Object(we.a)(t,i);if(r&&i){var o=n.getField(r),s=function(e,t){return e[Object.keys(e).find((function(e){return e.toLowerCase()===t.toLowerCase()}))]}(i,r);return null==s?"":a&&"coded-value"===a.type?function(e,t){var r=null,n=e.codedValues;return n&&n.length&&n.some((function(e){return e.code===t&&(r=e.name,!0)})),r}(a,s):"date"===(null==o?void 0:o.type)?Object(_e.b)(new Date(s)):"number"==typeof s?s.toString():"string"!=typeof s?"":s.trim()}return""}function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var He=je=function(e){Object(o.a)(r,e);var t=qe(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).displayField=null,n.exactMatch=null,n.orderByFields=null,n.searchFields=null,n.searchTemplate=null,n.suggestionTemplate=null,n.getResults=function(e,t){return Pe(ze({source:Object(O.a)(n)},e),t)},n.getSuggestions=function(e,t){return Ie(ze({source:Object(O.a)(n)},e),t)},n}return Object(a.a)(r,[{key:"layer",set:function(e){this._set("layer",e),e&&e.load().catch((function(){}))}},{key:"name",get:function(){return this._getLayerTitle()||""},set:function(e){void 0!==e?this._override("name",e):this._clearOverride("name")}},{key:"clone",value:function(){return new je({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?Object(z.a)(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?Object(z.a)(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}},{key:"_getFirstStringField",value:function(){var e,t;return null!=(e=null==(t=this.layer.fieldsIndex.fields.find((function(e){return"string"===e.type})))?void 0:t.name)?e:""}},{key:"_getDisplayField",value:function(){return this.displayField||this.layer.displayField||this._getFirstStringField()}},{key:"_getSearchFieldsString",value:function(){var e=this.layer,t=this.searchFields;return e.loaded?": ".concat((t||[this._getDisplayField()]).map((function(t){var r=e.getField(t);return r&&r.alias||t})).join(", ")):""}},{key:"_getLayerTitle",value:function(){var e=this.layer;if(e){var t=e.title;return t?"".concat(t).concat(this._getSearchFieldsString()):void 0}}}]),r}(le);Object(u.a)([Object(m.b)({json:{read:{source:"field.name"},write:{target:"field.name"}}})],He.prototype,"displayField",void 0),Object(u.a)([Object(m.b)({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],He.prototype,"exactMatch",void 0),Object(u.a)([Object(m.b)({value:null})],He.prototype,"layer",null),Object(u.a)([Object(m.b)()],He.prototype,"name",null),Object(u.a)([Object(m.b)({type:[String],json:{write:!0}})],He.prototype,"orderByFields",void 0),Object(u.a)([Object(m.b)()],He.prototype,"searchFields",void 0),Object(u.a)([Object(m.b)()],He.prototype,"searchTemplate",void 0),Object(u.a)([Object(m.b)()],He.prototype,"suggestionTemplate",void 0);var Ge=He=je=Object(u.a)([Object(g.a)("esri.widgets.Search.LayerSearchSource")],He),We=r("mp5+"),Je=r("jr4m"),$e=r("+I+c");function Ze(e,t){if(null==e)return{};var r,n,i=Object($e.a)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Qe=r("DGz/"),Xe=r("/xo8");function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var Ye=function(e){Object(o.a)(r,e);var t=Ke(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).address=null,n.attributes=null,n.extent=null,n.location=null,n.score=null,n}return r}(se.a);Object(u.a)([Object(m.b)({type:String,json:{write:!0}})],Ye.prototype,"address",void 0),Object(u.a)([Object(m.b)({type:Object,json:{write:!0}})],Ye.prototype,"attributes",void 0),Object(u.a)([Object(m.b)({type:he.a,json:{write:!0}})],Ye.prototype,"extent",void 0),Object(u.a)([Object(m.b)({type:L.a,json:{write:!0}})],Ye.prototype,"location",void 0),Object(u.a)([Object(m.b)({type:Number,json:{write:!0}})],Ye.prototype,"score",void 0);var et=Ye=Object(u.a)([Object(g.a)("esri.rest.support.AddressCandidate")],Ye),tt={type:String,json:{read:{source:"token"},write:{target:"token"}}};function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var nt=function(e){Object(o.a)(r,e);var t=rt(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).address=null,n.apiKey=null,n.categories=null,n.countryCode=null,n.forStorage=null,n.location=null,n.locationType=null,n.magicKey=null,n.maxLocations=null,n.outFields=null,n.outSpatialReference=null,n.searchExtent=null,n}return r}(se.a);Object(u.a)([Object(m.b)({type:Object,json:{write:!0}})],nt.prototype,"address",void 0),Object(u.a)([Object(m.b)(tt)],nt.prototype,"apiKey",void 0),Object(u.a)([Object(m.b)({type:[String],json:{read:{source:"category",reader:function(e){return e?e.split(","):null}},write:{target:"category",writer:function(e,t){t.category=e?e.join(","):null}}}})],nt.prototype,"categories",void 0),Object(u.a)([Object(m.b)({type:String,json:{write:!0}})],nt.prototype,"countryCode",void 0),Object(u.a)([Object(m.b)({type:Boolean,json:{write:!0}})],nt.prototype,"forStorage",void 0),Object(u.a)([Object(m.b)({type:L.a,json:{write:{writer:function(e,t){t.location=e?e.clone().normalize():null}}}})],nt.prototype,"location",void 0),Object(u.a)([Object(m.b)({type:String,json:{write:!0}})],nt.prototype,"locationType",void 0),Object(u.a)([Object(m.b)({type:String,json:{write:!0}})],nt.prototype,"magicKey",void 0),Object(u.a)([Object(m.b)({type:Number,json:{write:!0}})],nt.prototype,"maxLocations",void 0),Object(u.a)([Object(m.b)({type:[String],json:{write:{writer:function(e,t){t.outFields=e?e.join(","):null}}}})],nt.prototype,"outFields",void 0),Object(u.a)([Object(m.b)({type:F.a,json:{read:{source:"outSR"},write:{target:"outSR"}}})],nt.prototype,"outSpatialReference",void 0),Object(u.a)([Object(m.b)({type:he.a,json:{write:{writer:function(e,t){var r=e?e.shiftCentralMeridian():null;t.searchExtent=r}}}})],nt.prototype,"searchExtent",void 0),(nt=Object(u.a)([Object(g.a)("esri.rest.support.AddressToLocationsParameters")],nt)).from=Object(y.m)(nt);var it=nt,at=["address"];function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ct(){return(ct=Object(x.a)(P.a.mark((function e(t,r,n){var i,a,o,s,c,u,l,f;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=it.from(r),i=Object(Xe.c)(t),a=r.toJSON(),o=a.address,s=Ze(a,at),c=st(st(st({},o),s),{},{f:"json"}),u=Object(Xe.b)(st(st({},i.query),c)),l=Object(Xe.a)(u,n),f="".concat(i.path,"/findAddressCandidates"),e.abrupt("return",Object(Qe.default)(f,l).then(ut));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e){var t=e.data;if(!t)return[];var r=t.candidates,n=t.spatialReference;return r?r.map((function(e){if(e){var t,r=e.extent,i=e.location,a=!r||(t=r)&&"number"==typeof t.xmin&&"number"==typeof t.ymin&&"number"==typeof t.xmax&&"number"==typeof t.ymax;return function(e){return e&&"number"==typeof e.x&&"number"==typeof e.y}(i)&&a?(r&&(r.spatialReference=n),i.spatialReference=n,et.fromJSON(e)):void 0}})):[]}function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var ft=function(e){Object(o.a)(r,e);var t=lt(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).addresses=null,n.categories=null,n.countryCode=null,n.locationType=null,n.outSpatialReference=null,n}return r}(se.a);Object(u.a)([Object(m.b)({type:[Object],json:{read:{reader:function(e){return e&&e.records?e.records.map((function(e){return e.attributes})):null}},write:{writer:function(e,t){var r=[];Array.isArray(e)&&e.forEach((function(e){r.push({attributes:e})})),t.addresses={records:r}}}}})],ft.prototype,"addresses",void 0),Object(u.a)([Object(m.b)({type:[String],json:{read:{source:"category",reader:function(e){return e?e.split(","):null}},write:{target:"category",writer:function(e,t){t.category=e?e.join(","):null}}}})],ft.prototype,"categories",void 0),Object(u.a)([Object(m.b)({type:String,json:{read:{source:"sourceCountry"},write:{target:"sourceCountry"}}})],ft.prototype,"countryCode",void 0),Object(u.a)([Object(m.b)({type:String,json:{write:!0}})],ft.prototype,"locationType",void 0),Object(u.a)([Object(m.b)({type:F.a,json:{read:{source:"outSR"},write:{target:"outSR"}}})],ft.prototype,"outSpatialReference",void 0),(ft=Object(u.a)([Object(g.a)("esri.rest.support.AddressesToLocationsParameters")],ft)).from=Object(y.m)(ft);var pt=ft;function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bt(){return(bt=Object(x.a)(P.a.mark((function e(t,r,n){var i,a,o,s,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pt.from(r),i=Object(Xe.c)(t),a=ht(ht({},r.toJSON()),{},{f:"json"}),o=Object(Xe.b)(ht(ht({},i.query),a)),s=Object(Xe.a)(o,n),c="".concat(i.path,"/geocodeAddresses"),e.abrupt("return",Object(Qe.default)(c,s).then(yt));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e){var t=e.data;if(!t)return[];var r=t.locations,n=t.spatialReference;return r?r.map((function(e){var t=e.location;return t&&(t.spatialReference=n),et.fromJSON(e)})):[]}function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var mt=function(e){Object(o.a)(r,e);var t=vt(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).apiKey=null,n.location=null,n.locationType=null,n.outSpatialReference=null,n}return r}(se.a);Object(u.a)([Object(m.b)(tt)],mt.prototype,"apiKey",void 0),Object(u.a)([Object(m.b)({type:L.a,json:{write:{writer:function(e,t){var r=e?e.clone().normalize():null,n=void 0!==r;t.location=n?r:null}}}})],mt.prototype,"location",void 0),Object(u.a)([Object(m.b)({type:String,json:{write:!0}})],mt.prototype,"locationType",void 0),Object(u.a)([Object(m.b)({type:F.a,json:{read:{source:"outSR"},write:{target:"outSR"}}})],mt.prototype,"outSpatialReference",void 0),(mt=Object(u.a)([Object(g.a)("esri.rest.support.LocationToAddressParameters")],mt)).from=Object(y.m)(mt);var gt=mt;function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wt(){return(wt=Object(x.a)(P.a.mark((function e(t,r,n){var i,a,o,s,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gt.from(r),i=Object(Xe.c)(t),a=jt(jt({},r.toJSON()),{},{f:"json"}),o=Object(Xe.b)(jt(jt({},i.query),a)),s=Object(Xe.a)(o,n),c="".concat(i.path,"/reverseGeocode"),e.abrupt("return",Object(Qe.default)(c,s).then(_t));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(e){var t=e.data;if(t){var r=t.address,n=t.location,i=r&&r.Match_addr||"";return et.fromJSON({address:i,attributes:r||{},location:n,score:100})}}function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var xt=function(e){Object(o.a)(r,e);var t=kt(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).isCollection=null,n.magicKey=null,n.text=null,n}return r}(se.a);Object(u.a)([Object(m.b)({type:Boolean,json:{write:!0}})],xt.prototype,"isCollection",void 0),Object(u.a)([Object(m.b)({type:String,json:{write:!0}})],xt.prototype,"magicKey",void 0),Object(u.a)([Object(m.b)({type:String,json:{write:!0}})],xt.prototype,"text",void 0);var St=xt=Object(u.a)([Object(g.a)("esri.rest.support.SuggestionCandidate")],xt);function Pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var It=function(e){Object(o.a)(r,e);var t=Pt(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).apiKey=null,n.categories=null,n.countryCode=null,n.location=null,n.maxSuggestions=null,n.outSpatialReference=null,n.searchExtent=null,n.text=null,n}return r}(se.a);Object(u.a)([Object(m.b)(tt)],It.prototype,"apiKey",void 0),Object(u.a)([Object(m.b)({type:[String],json:{read:{source:"category",reader:function(e){return e?e.split(","):null}},write:{target:"category",writer:function(e,t){t.category=e?e.join(","):null}}}})],It.prototype,"categories",void 0),Object(u.a)([Object(m.b)({type:String,json:{write:!0}})],It.prototype,"countryCode",void 0),Object(u.a)([Object(m.b)({type:L.a,json:{write:{writer:function(e,t){t.location=e?e.clone().normalize():null}}}})],It.prototype,"location",void 0),Object(u.a)([Object(m.b)({type:Number,json:{write:!0}})],It.prototype,"maxSuggestions",void 0),Object(u.a)([Object(m.b)({type:F.a,json:{read:{source:"outSR"},write:{target:"outSR"}}})],It.prototype,"outSpatialReference",void 0),Object(u.a)([Object(m.b)({type:he.a,json:{write:{writer:function(e,t){var r=e?e.shiftCentralMeridian():null;t.searchExtent=JSON.stringify(r)}}}})],It.prototype,"searchExtent",void 0),Object(u.a)([Object(m.b)({type:String,json:{write:!0}})],It.prototype,"text",void 0),(It=Object(u.a)([Object(g.a)("esri.rest.support.SuggestLocationsParameters")],It)).from=Object(y.m)(It);var Rt=It;function Mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tt(){return(Tt=Object(x.a)(P.a.mark((function e(t,r,n){var i,a,o,s,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(Xe.c)(t),a=Et(Et({},(r=Rt.from(r)).toJSON()),{},{f:"json"}),o=Object(Xe.b)(Et(Et({},i.query),a)),s=Object(Xe.a)(o,n),c="".concat(i.path,"/suggest"),e.abrupt("return",Object(Qe.default)(c,s).then(At));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(e){var t=e.data;if(!t)return[];var r=t.suggestions;return r?r.map((function(e){return new St(e)})):[]}function Ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var Ft=function(e){Object(o.a)(r,e);var t=Lt(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).outSpatialReference=null,n.url=null,n}return Object(a.a)(r,[{key:"addressToLocations",value:function(e,t){!e.outSpatialReference&&this.outSpatialReference&&(e.outSpatialReference=this.outSpatialReference);var r=Dt(Dt({},this.requestOptions),t);return function(e,t,r){return ct.apply(this,arguments)}(this.url,e,r)}},{key:"suggestLocations",value:function(e,t){var r=Dt(Dt({},this.requestOptions),t);return function(e,t,r){return Tt.apply(this,arguments)}(this.url,e,r)}},{key:"addressesToLocations",value:function(e,t){!e.outSpatialReference&&this.outSpatialReference&&(e.outSpatialReference=this.outSpatialReference);var r=Dt(Dt({},this.requestOptions),t);return function(e,t,r){return bt.apply(this,arguments)}(this.url,e,r)}},{key:"locationToAddress",value:function(e,t){!e.outSpatialReference&&this.outSpatialReference&&(e.outSpatialReference=this.outSpatialReference);var r=Dt(Dt({},this.requestOptions),t);return function(e,t,r){return wt.apply(this,arguments)}(this.url,e,r)}}]),r}(r("F8mY").a);Object(u.a)([Object(m.b)({type:F.a})],Ft.prototype,"outSpatialReference",void 0),Object(u.a)([Object(m.b)()],Ft.prototype,"url",void 0);var Nt=Ft=Object(u.a)([Object(g.a)("esri.tasks.Locator")],Ft);function Bt(e,t){return e.location?function(e,t){var r=e.source,n=e.spatialReference,i=e.location,a=e.sourceIndex,o=e.view,s=r.apiKey,c=r.locator,u=r.zoomScale,l=r.defaultZoomScale,f=o&&o.scale,p=t&&t.signal,d=new gt;return d.location=i,s&&(d.apiKey=s),n&&(d.outSpatialReference=n),c.locationToAddress(d,{signal:p}).then((function(e){return Wt([e],{sourceIndex:a,scale:f,view:o,zoomScale:u,defaultZoomScale:l})}))}(e,t):function(e,t){var r=e.source,n=e.suggestResult,i=e.spatialReference,a=e.view,o=e.maxResults,s=e.sourceIndex,c=r&&r.zoomScale,u=r&&r.defaultZoomScale;if(!n.text.trim())return Promise.resolve(null);var l=!n.key&&r.prefix?r.prefix:"",f=!n.key&&r.suffix?r.suffix:"",p="".concat(l).concat(n.text).concat(f),d=new it,h=r.apiKey,b=r.locator,y=a&&a.scale,v=Gt(r,a),m=t&&t.signal;if(h&&(d.apiKey=h),!b)return Promise.resolve(null);r.categories&&(d.categories=r.categories),r.locationType&&(d.locationType=r.locationType),i&&(d.outSpatialReference=i);var g=Vt(a);g&&(d.location=g),d.maxLocations=o,v&&(d.searchExtent=Object(D.p)(v)),r.countryCode&&(d.countryCode=r.countryCode);var O=n.key,j="".concat(O);return O&&(d.magicKey=j),d.address={},d.address[r.singleLineFieldName||"Single Line Input"]=p,r.outFields&&(d.outFields=r.outFields),b.addressToLocations(d,{signal:m}).then((function(e){return Wt(e,{key:j,scale:y,sourceIndex:s,view:a,zoomScale:c,defaultZoomScale:u})}))}(e,t)}function Vt(e){var t=null==e?void 0:e.scale;return"number"==typeof t&&t<=3e5?e.get("extent.center"):null}function Ut(e,t){var r=e.source,n=e.spatialReference,i=e.view,a=e.suggestTerm,o=e.maxSuggestions,s=e.sourceIndex,c=new Rt,u=r.apiKey,l=r.locator,f=Gt(r,i),p=t&&t.signal;if(!l)return Promise.resolve(null);u&&(c.apiKey=u),r.categories&&(c.categories=r.categories),n&&(c.outSpatialReference=n);var d=Vt(i);if(d&&(c.location=d),!a.trim())return Promise.resolve(null);var h=r.prefix,b=void 0===h?"":h,y=r.suffix,v=void 0===y?"":y,m="".concat(b).concat(a).concat(v);return c.text=m,f&&(c.searchExtent=Object(D.p)(f)),c.maxSuggestions=o,r.countryCode&&(c.countryCode=r.countryCode),l.suggestLocations(c,{signal:p}).then((function(e){return function(e,t){return e.map((function(e){return function(e,t){return{text:e.text,key:e.magicKey,sourceIndex:t}}(e,t)}))}(e,s)}))}function zt(e){return!!e&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi.test(e)}var qt,Ht="https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer";function Gt(e,t){var r=e.filter,n=e.withinViewEnabled,i=t&&t.scale,a=t&&t.extent;return me(r&&r.geometry,t,i)||(n&&a?a:void 0)}function Wt(e,t){return e.map((function(e){return function(e,t){var r=t.key,n=t.scale,i=t.sourceIndex,a=t.view,o=t.zoomScale,s=t.defaultZoomScale,c=e.attributes,u=e.extent,l=e.location,f=e.address,p=new M.a({geometry:l,attributes:c}),d=u||l,h=me(d,a,n),b="number"==typeof o?ge(h,a,o):"number"==typeof s&&"point"===d.type?ge(h,a,s):h,y=l?"".concat(l.x,",").concat(l.y):"",v=f||y,m=p.clone();return Object(D.i)(b)&&(m.geometry=pe.a.fromExtent(b)),{extent:b,feature:p,target:m,key:r,name:v,sourceIndex:i}}(e,t)}))}function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var Qt=qt=function(e){Object(o.a)(r,e);var t=Zt(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).apiKey=null,n.categories=null,n.countryCode=null,n.defaultZoomScale=null,n.locator=null,n.locationType=null,n.name="",n.placeholder="",n.searchTemplate="",n.singleLineFieldName=null,n.suggestionsEnabled=null,n.zoomScale=null,n.getResults=function(e,t){return Bt($t({source:Object(O.a)(n)},e),t)},n.getSuggestions=function(e,t){return Ut($t({source:Object(O.a)(n)},e),t)},n}return Object(a.a)(r,[{key:"readLocator",value:function(e,t){var r=t.url;return r?new Nt({url:r}):null}},{key:"writeLocator",value:function(e,t){t.url=e?e.url:null}},{key:"clone",value:function(){return new qt({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?Object(z.a)(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?Object(z.a)(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,locator:this.locator,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}}]),r}(le);Object(u.a)([Object(m.b)()],Qt.prototype,"apiKey",void 0),Object(u.a)([Object(m.b)()],Qt.prototype,"categories",void 0),Object(u.a)([Object(m.b)()],Qt.prototype,"countryCode",void 0),Object(u.a)([Object(m.b)({json:{write:!0}})],Qt.prototype,"defaultZoomScale",void 0),Object(u.a)([Object(m.b)({type:Nt})],Qt.prototype,"locator",void 0),Object(u.a)([Object(We.a)("locator",["url"])],Qt.prototype,"readLocator",null),Object(u.a)([Object(Je.a)("locator")],Qt.prototype,"writeLocator",null),Object(u.a)([Object(m.b)()],Qt.prototype,"locationType",void 0),Object(u.a)([Object(m.b)({json:{write:!0}})],Qt.prototype,"name",void 0),Object(u.a)([Object(m.b)({json:{write:!0}})],Qt.prototype,"placeholder",void 0),Object(u.a)([Object(m.b)()],Qt.prototype,"searchTemplate",void 0),Object(u.a)([Object(m.b)({json:{write:!0}})],Qt.prototype,"singleLineFieldName",void 0),Object(u.a)([Object(m.b)({json:{read:{source:"suggest"},write:{target:"suggest"}}})],Qt.prototype,"suggestionsEnabled",void 0),Object(u.a)([Object(m.b)({json:{write:!0}})],Qt.prototype,"zoomScale",void 0);var Xt=Qt=qt=Object(u.a)([Object(g.a)("esri.widgets.Search.LocatorSearchSource")],Qt),Kt=r("3p7a"),Yt=(r("z9dv"),r("DjXQ"),r("XeQg"),r("AQ8/"),r("n78G"),r("fRsQ"),r("kXkq"),r("qnx5"),r("jFy2"),r("G1Nz"),r("h+4S"),r("ezQG")),er=(r("hj42"),r("eNTD"),r("HyFz"),r("BAkW"),r("lh74")),tr=v.a.getLogger("esri.widgets.support.geolocationUtils"),rr={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function nr(){return(e=Object(b.a)("esri-geolocation"))||tr.warn("geolocation-unsupported","Geolocation unsupported."),e&&function(){var e=window.isSecureContext;return e||tr.warn("insecure-context","Geolocation requires a secure origin."),e}();var e}function ir(e,t){var r=e.position,n=e.view;return function(e,t,r){if(!t)return Promise.resolve(e);var n=t.spatialReference;return n.isWGS84?Promise.resolve(e):n.isWebMercator?Promise.resolve(Object(Kt.b)(e)):function(e){if(R.a.geometryServiceUrl)return Promise.resolve(R.a.geometryServiceUrl);var t=V.a.getDefault();return t.load(e).catch((function(){})).then((function(){return t.get("helperServices.geometry.url")}))}(r).then((function(t){if(!t)throw new A.a("geometry-service:missing-url","Geometry service URL is missing");var i=new er.a({geometries:[e],outSpatialReference:n});return Object(Yt.a)(t,i,r).then((function(e){return e[0]}))}))}(function(e){var t=e&&e.coords;return t?new L.a({longitude:t.longitude,latitude:t.latitude,z:t.altitude||null,spatialReference:{wkid:4326}}):null}(function(e){var t=e&&e.coords||{},r={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed};return e?{coords:r,timestamp:e.timestamp}:e}(r)),n,t)}var ar=r("zTdd");function or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?or(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}function ur(e,t){return e.hasOwnProperty(t)&&null!=e[t]&&""!==e[t]}var lr="esri.widgets.Search.SearchViewModel",fr=v.a.getLogger(lr),pr=l.a.ofType({key:function(e){return e.layer?"layer":"locator"},base:le,typeMap:{layer:Ge,locator:Xt}}),dr=F.a.WGS84,hr=/<(?:.|\s)*?>/g,br=function(e){Object(o.a)(l,e);var t,r,n,s,c,u=cr(l);function l(e){var t;return Object(i.a)(this,l),(t=u.call(this,e))._handles=new p.a,t._gotoController=null,t._searching=null,t.autoNavigate=!0,t.autoSelect=!0,t.defaultPopupTemplate=null,t.defaultSources=new pr,t.defaultSymbol=new ee.a({url:Object(I.a)(Object(b.a)("trident")?"esri/images/search/search-symbol-32.png":"esri/images/search/search-symbol-32.svg"),size:24,width:24,height:24}),t.includeDefaultSources=!0,t.maxInputLength=128,t.maxResults=6,t.maxSuggestions=6,t.messages=null,t.minSuggestCharacters=1,t.popupEnabled=!0,t.popupTemplate=null,t.portal=V.a.getDefault(),t.resultCount=null,t.resultGraphicEnabled=!0,t.resultGraphic=null,t.results=null,t.selectedSuggestion=null,t.searchAllEnabled=!0,t.selectedResult=null,t.sources=new pr,t.suggestionDelay=150,t.suggestionCount=null,t.suggestions=null,t.suggestionsEnabled=!0,t.view=null,t}return Object(a.a)(l,[{key:"initialize",value:function(){var e=this,t=function(){var t=Object(x.a)(P.a.mark((function t(){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(B.a)("esri/widgets/Search/t9n/Search");case 2:r=t.sent,e.messages=r,e.defaultPopupTemplate=new E.a({title:r.searchResult,content:"{Match_addr}"});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),this._handles.add([Object(d.b)(this,["defaultSources","sources"],"change",(function(){return e.notifyChange("allSources")})),Object(d.a)(this,["includeDefaultSources","view","portal"],(function(){return e._update()})),Object(N.c)(t)])}},{key:"destroy",value:function(){this._abortGoTo(),this.clearGraphics(),this._handles.destroy(),this._handles=null}},{key:"activeSource",get:function(){return this.allSources.getItemAt(this.activeSourceIndex)||null}},{key:"activeSourceIndex",get:function(){return 1!==this.allSources.length&&this.searchAllEnabled?-1:0},set:function(e){void 0!==e?this._override("activeSourceIndex",e):this._clearOverride("activeSourceIndex")}},{key:"allPlaceholder",get:function(){var e;return null==(e=this.messages)?void 0:e.allPlaceholder},set:function(e){e?this._override("allPlaceholder",e):this._clearOverride("allPlaceholder")}},{key:"allSources",get:function(){var e=this.sources,t=this.defaultSources,r=this.includeDefaultSources,n="function"==typeof r?r.call(null,{sources:e,defaultSources:t}):r?t.concat(e):e,i=this._get("allSources")||new pr;return i.removeAll(),i.addMany(n.filter(Boolean)),i}},{key:"locationEnabled",get:function(){return this._get("locationEnabled")||nr()},set:function(e){if(void 0!==e){var t=nr();if(e&&!t){var r=new A.a("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});fr.error(r)}this._override("locationEnabled",e&&t)}else this._clearOverride("locationEnabled")}},{key:"placeholder",get:function(){var e=this.allSources,t=this.activeSourceIndex,r=this.allPlaceholder;if(-1===t)return r;var n=e.getItemAt(t);return n?n.placeholder:""}},{key:"searchTerm",get:function(){return this._get("searchTerm")||""},set:function(e){this._set("searchTerm",e||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==e&&this._set("selectedSuggestion",null),""===e&&this._clear()}},{key:"state",get:function(){return this._searching?"searching":this.updating?"loading":0===this.allSources.length?"disabled":"ready"}},{key:"updating",get:function(){return null!=this._updatingPromise}},{key:"clear",value:function(){this.searchTerm=""}},{key:"clearGraphics",value:function(){this._removeHighlight(),this._closePopup(),this.view&&this.view.graphics.remove(this.resultGraphic),this._set("resultGraphic",null)}},{key:"search",value:function(e,t){var r=this;this.emit("search-start"),this.clearGraphics();var n=this._createSuggestionForSearch(e),i=this.when().then((function(){return r._getResultsFromSources(n,t).then((function(e){var i;if(null!=(i=Object(D.p)(null==t?void 0:t.signal))&&i.aborted)return null;var a={activeSourceIndex:r.activeSourceIndex,searchTerm:n.text,numResults:0,numErrors:0,errors:[],results:[]};r._formatResponse(a,e,n);var o=r._getFirstResult(a.results),s=(n.location&&o?o.name:n.text).replace(hr,"");return r._set("searchTerm",s),(n.key&&"number"==typeof n.sourceIndex||n.location)&&r._set("selectedSuggestion",n),r._set("results",a.results),r._set("resultCount",a.results.reduce((function(e,t){return e+t.results.length}),0)),r.emit("search-complete",a),r._selectFirstResult(o).then((function(){return a}))}))})).then((function(e){return r._clearSearching(),e}),(function(e){throw r._clearSearching(),e}));return this._searching=i,this.notifyChange("state"),i}},{key:"searchNearby",value:function(e){var t=this;if(!this.locationEnabled){var r=new A.a("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});return fr.error(r),Promise.reject(r)}var n=function(e){return e||(e=rr),new Promise((function(t,r){setTimeout((function(){return r(new A.a("geolocation:timeout","getting the current geolocation position timed out"))}),15e3),navigator.geolocation.getCurrentPosition(t,r,e)}))}().then((function(r){return ir({position:r,view:t.view},e)})).then((function(r){return t.search(r,e)}));return this._searching=n,this.notifyChange("state"),n.catch((function(){})).then((function(){return t._clearSearching()})),n}},{key:"select",value:function(e){var t=this;if(this.clearGraphics(),!e){var r=new A.a("select:missing-parameter","Cannot select without a searchResult.",{searchResult:e});return fr.error(r),Promise.reject(r)}var n=this.view,i=ur(e,"sourceIndex")?e.sourceIndex:this._getSourceIndexOfResult(e),a=this.allSources.getItemAt(i);if(!a){var o=new A.a("select:missing-source","Cannot select without a source.",{source:a});return fr.error(o),Promise.reject(o)}var s=a instanceof Ge?this._getLayerSourcePopupTemplate(a):a.popupTemplate,c=a.resultSymbol||this._getDefaultSymbol(e),u=ur(a,"resultGraphicEnabled")?a.resultGraphicEnabled:this.resultGraphicEnabled,l=ur(a,"autoNavigate")?a.autoNavigate:this.autoNavigate,f=ur(a,"popupEnabled")?a.popupEnabled:this.popupEnabled,p=f?s||this.popupTemplate||this.defaultPopupTemplate:null,d=e.feature;if(!d){var h=new A.a("select:missing-feature","Cannot select without a feature.",{feature:d});return fr.error(h),Promise.reject(h)}var b=d.attributes,y=d.geometry,v=d.layer,m=d.sourceLayer,g=ve(y),O={layerViewQuery:this._getLayerView(d),elevationQuery:n&&Object(D.i)(g)?ye(g,n).catch((function(){return g})):Promise.resolve(g)};return Object(j.j)(O).then((function(r){var o=r.layerViewQuery.value,s=r.elevationQuery.value;c instanceof ie.a&&(c.text=e.name);var h=n&&l?e.target||e.extent:null;return(Object(D.i)(h)?t._goToSearchResult(h):Promise.resolve()).then((function(){var r,l=o?d:new M.a({geometry:y,symbol:c,attributes:b,layer:v,sourceLayer:m,popupTemplate:p}),h=f&&(null==(r=t.view)?void 0:r.popup),g=h&&l.getEffectivePopupTemplate(h.defaultPopupTemplateEnabled);return g&&n.popup.open({features:[l],location:s}),o&&Object(ae.a)(o)&&!g&&t._highlightFeature({graphic:l,layerView:o}),!o&&u&&n&&n.graphics.push(l),t._set("selectedResult",e),t._set("resultGraphic",l),t.emit("select-result",{result:e,source:a,sourceIndex:i}),e}))}))}},{key:"suggest",value:function(e,t,r){var n=this,i=e||this.searchTerm;return this.emit("suggest-start",{searchTerm:i}),this._suggestTimer(t,r).then((function(){return n._suggestImmediate(i,r).then((function(e){return n._set("suggestions",e.results),n._set("suggestionCount",e.results.reduce((function(e,t){return e+t.results.length}),0)),n.emit("suggest-complete",e),e}))}))}},{key:"when",value:(c=Object(x.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.g)(this,"updating");case 2:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"_update",value:(s=Object(x.a)(P.a.mark((function e(){var t,r,n,i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.portal,r=this.view,!this.includeDefaultSources){e.next=10;break}if(n=this._updatingPromise=Object(j.j)([null==t?void 0:t.load(),null==r?void 0:r.when()]),!this.destroyed){e.next=5;break}return e.abrupt("return");case 5:return this.notifyChange("updating"),e.next=8,n;case 8:if(n===this._updatingPromise){e.next=10;break}return e.abrupt("return");case 10:if(this._updatingPromise=null,this.notifyChange("updating"),i=Object(d.j)(this,"messages"),e.t0=this.destroyed,e.t0){e.next=18;break}return this._handles.add(i),e.next=17,i;case 17:this._updateDefaultSources();case 18:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"_clearSearching",value:function(){this._searching=null,this.notifyChange("state")}},{key:"_convertHelperServices",value:function(){var e,t,r=this,n=null==(e=this.portal)||null==(t=e.helperServices)?void 0:t.geocode;return n?n.map((function(e){var t;if(!1!==e.placefinding){var n=R.a.apiKey&&zt(e.url)?{url:Ht}:null,i=Xt.fromJSON(sr(sr({},e),n)),a=null==(t=i.locator)?void 0:t.url;if(zt(a)||function(e){return!!e&&/(?:\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/gi.test(e)}(a)||function(e){return!!e&&/(?:geocode\-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi.test(e)}(a)){var o=i.outFields||["Addr_type","Match_addr","StAddr","City"],s=i.placeholder||r.messages.placeholder,c="number"==typeof i.defaultZoomScale?i.defaultZoomScale:2500;i.set({singleLineFieldName:"SingleLine",outFields:o,placeholder:s,defaultZoomScale:c})}return i.singleLineFieldName?i:void 0}})).filter(Boolean):[]}},{key:"_getLayerSources",value:function(e,t){var r,n=this,i=null==(r=this.view)?void 0:r.map;return e.map((function(e){var r=i.findLayerById(e.id);if(r){var a=n._getLayerJSON(e),o=Ge.fromJSON(a);return o.placeholder=t,n._getLayer(r,a).then((function(e){o.layer=e})),o}})).filter(Boolean).toArray()}},{key:"_getTableSources",value:function(e,t){var r,n=this,i=null==(r=this.view)?void 0:r.map;return e.map((function(e){var r=i.findTableById(e.id);if(r){var a=n._getLayerJSON(e),o=Ge.fromJSON(a);return o.placeholder=t,n._getLayer(r,a).then((function(e){o.layer=e})),o}})).filter(Boolean).toArray()}},{key:"_convertApplicationProperties",value:function(){var e,t,r,n=null==(e=this.view)?void 0:e.map,i=null==n||null==(t=n.applicationProperties)||null==(r=t.viewing)?void 0:r.search;if(!i)return[];var a=i.enabled,o=i.hintText,s=i.layers,c=i.tables;return a?[].concat(Object(k.a)(this._getLayerSources(s,o)),Object(k.a)(this._getTableSources(c,o))):[]}},{key:"_getSubLayer",value:function(e,t){return e.load().then((function(){if(!e.allSublayers)return Promise.reject();var r=e.allSublayers.find((function(e){return e.id===t.subLayer}));return r?r.createFeatureLayer():Promise.reject()}))}},{key:"_getBuildingSubLayer",value:(n=Object(x.a)(P.a.mark((function e(t,r){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:if("building-component"===(null==(n=t.allSublayers.find((function(e){return e.id===r.subLayer})))?void 0:n.type)){e.next=7;break}e.t0=Promise.reject(),e.next=17;break;case 7:return e.next=9,n.load();case 9:if(null!=n.associatedLayer){e.next=13;break}e.t1=Promise.reject(),e.next=16;break;case 13:return e.next=15,n.associatedLayer.load();case 15:e.t1=n;case 16:e.t0=e.t1;case 17:return e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})},{key:"_getLayer",value:function(e,t){return"feature"===e.type||"scene"===e.type||"csv"===e.type||"geojson"===e.type||"ogc-feature"===e.type?Promise.resolve(e):"map-image"===e.type?this._getSubLayer(e,t).catch((function(){var t=new A.a("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:e});return fr.error(t),null})):"building-scene"===e.type?this._getBuildingSubLayer(e,t):Promise.resolve(null)}},{key:"_getLayerJSON",value:function(e){return"function"==typeof e.toJSON?e.toJSON():e}},{key:"_updateDefaultSources",value:function(){var e=this.defaultSources,t=this.includeDefaultSources;e.removeAll(),t&&e.addMany([].concat(Object(k.a)(this._convertApplicationProperties()),Object(k.a)(this._convertHelperServices()))),this.notifyChange("allSources")}},{key:"_abortGoTo",value:function(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}},{key:"_clear",value:function(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}},{key:"_closePopup",value:function(){var e,t=null==(e=this.view)?void 0:e.popup,r=this.resultGraphic;if(t&&r){var n=t.selectedFeature;n&&n===r&&t.close()}}},{key:"_suggestTimer",value:function(e,t){var r=null!=e?e:this.suggestionDelay;return Object(j.a)(r,null,t&&t.signal)}},{key:"_createLocationForSearch",value:function(e){return e instanceof M.a?ve(e.geometry):e instanceof L.a?e:Array.isArray(e)&&2===e.length?new L.a({longitude:e[0],latitude:e[1]}):null}},{key:"_createSuggestionForSearch",value:function(e){if(e&&ur(e,"key")&&ur(e,"text")&&ur(e,"sourceIndex"))return e;var t=this._createLocationForSearch(e),r="string"==typeof e?e:this.searchTerm,n=this.selectedSuggestion,i=this.selectedResult,a=!e&&n&&i,o=a&&n.key===i.key&&n.sourceIndex===i.sourceIndex,s=a&&n.location;return o||s?n:{location:Object(D.p)(t),text:t?"":r,sourceIndex:null,key:null}}},{key:"_getFirstResult",value:function(e){var t=null;return e&&e.some((function(e){var r=e.results[0],n=!!r;return n&&(t=r),n})),t}},{key:"_selectFirstResult",value:function(e){return this.autoSelect&&e?this.select(e):Promise.resolve(null)}},{key:"_suggestImmediate",value:function(e,t){var r=this;return this.when().then((function(){return r._getSuggestionsFromSources(e,t)})).then((function(n){var i;if(null!=(i=Object(D.p)(null==t?void 0:t.signal))&&i.aborted)return null;var a={activeSourceIndex:r.activeSourceIndex,searchTerm:e,numResults:0,numErrors:0,errors:[],results:[]};return r._formatResponse(a,n),a}))}},{key:"_formatSourceResponse",value:function(e,t,r){var n=t&&t.value||[],i=t&&t.error,a=this.allSources.getItemAt(r);if(i){var o={sourceIndex:r,source:a,error:i};e.errors.push(o),fr.error(i),e.numErrors++}else{var s={sourceIndex:r,source:a,results:n};e.results.push(s),e.numResults+=n.length}}},{key:"_formatResponse",value:function(e,t,r){var n=this;if(t)if(-1===e.activeSourceIndex){var i=r&&ur(r,"sourceIndex")&&-1!==r.sourceIndex?r.sourceIndex:void 0;t.forEach((function(t,r){var a=void 0!==i?i:r;n._formatSourceResponse(e,t,a)}))}else this._formatSourceResponse(e,t[0],e.activeSourceIndex)}},{key:"_getResultsFromSources",value:function(e,t){var r=this,n=this.allSources,i=!e.location&&ur(e,"sourceIndex")?e.sourceIndex:this.activeSourceIndex,a=[];if(!n.length){var o=new A.a("search:no-sources-defined","At least one source is required.",{allSources:n});return fr.error(o),Promise.reject(o)}return-1===i?n.forEach((function(n,i){a.push(r._getResultsFromSource(e,i,t))})):a.push(this._getResultsFromSource(e,i,t)),Object(j.j)(a)}},{key:"_getSuggestionsFromSources",value:function(e,t){var r=this,n=this.allSources,i=this.activeSourceIndex,a=[];if(!n.length){var o=new A.a("suggest:no-sources-defined","At least one source is required.",{allSources:n});return fr.error(o),Promise.reject(o)}return-1===i?n.forEach((function(n,i){a.push(r._getSuggestionsFromSource(e,i,t))})):a.push(this._getSuggestionsFromSource(e,i,t)),Object(j.j)(a)}},{key:"_getResultsFromSource",value:function(e,t,r){var n,i=this.allSources.getItemAt(t),a=e.location,o=void 0===a?null:a,s=(null==(n=this.view)?void 0:n.spatialReference)||dr,c=ur(i,"maxResults")?i.maxResults:this.maxResults,u=!!(i instanceof Ge&&ur(i,"exactMatch"))&&i.exactMatch,l=this.view;return i.getResults({view:l,sourceIndex:t,location:o,suggestResult:e,spatialReference:s,exactMatch:u,maxResults:c},r)}},{key:"_getSuggestionsFromSource",value:function(e,t,r){var n=this.allSources.getItemAt(t),i=ur(n,"suggestionsEnabled")?n.suggestionsEnabled:this.suggestionsEnabled,a=e.length,o=ur(n,"minSuggestCharacters")?n.minSuggestCharacters:this.minSuggestCharacters;if(i&&e.trim()&&a>=o){var s,c=(null==(s=this.view)?void 0:s.spatialReference)||dr,u=ur(n,"maxSuggestions")?n.maxSuggestions:this.maxSuggestions,l=this.view;return n.getSuggestions({view:l,sourceIndex:t,suggestTerm:e,spatialReference:c,maxSuggestions:u},r)}return Promise.resolve(null)}},{key:"createDefaultSymbol",value:function(e,t){if("point"===t){var r=e;return new ne.a({color:e.color,size:r.size,outline:{color:r.outline.color,width:r.outline.width}})}if("polyline"===t){var n=e;return new re.a({color:n.color,width:n.width})}if("polygon"===t){var i=e;return new te.a({color:i.color,outline:{color:i.outline.color,width:i.outline.width}})}}},{key:"_getLayerSourcePopupTemplate",value:function(e){var t=e.layer;if(t)return ur(e,"popupTemplate")?e.popupTemplate:t.popupTemplate}},{key:"_getSourceIndexOfResult",value:function(e){var t=this.results,r=null;return t.some((function(t){return t.results.some((function(n){return n===e&&(r=t.sourceIndex,!0)}))})),r}},{key:"_goToSearchResult",value:(r=Object(x.a)(P.a.mark((function e(t){var r,n,i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!!t,this._abortGoTo(),n=Object(j.d)(),this._gotoController=n,i={target:{target:t},options:{animate:r,signal:n.signal}},e.next=7,this.callGoTo(i);case 7:this._gotoController=null;case 8:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_getDefaultSymbol",value:function(e){var t,r,n,i=null==(t=this.view)||null==(r=t.map)||null==(n=r.basemap)?void 0:n.id,a=Object(D.g)(e,"feature","geometry","type");if(Object(D.i)(a)){var o=K({basemap:i,geometryType:a})||K({basemap:"topo",geometryType:a}),s=o&&o.primaryScheme;if(s)return s.color&&ur(s,"opacity")&&(s.color.a=s.opacity),this.createDefaultSymbol(s,a)}return this.defaultSymbol}},{key:"_removeHighlight",value:function(){this._handles.remove("highlight")}},{key:"_getLayerView",value:(t=Object(x.a)(P.a.mark((function e(t){var r,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.view,t&&r&&"building-component"!==t.layer.type&&"subtype-sublayer"!==t.layer.type){e.next=3;break}return e.abrupt("return",Promise.resolve(null));case 3:return n=t.layer,e.next=6,r.when();case 6:return e.abrupt("return",r.whenLayerView(n));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_highlightFeature",value:function(e){var t=e.graphic,r=e.layerView,n=t.attributes,i=t.layer.objectIdField,a=n&&n[i],o=r.highlight(a||t);this._handles.add(o,"highlight")}}]),l}(Object(ar.a)(C.a.EventedMixin(T.a)));br.ALL_INDEX=-1,Object(u.a)([Object(m.b)({readOnly:!0,value:null})],br.prototype,"activeSource",null),Object(u.a)([Object(m.b)()],br.prototype,"activeSourceIndex",null),Object(u.a)([Object(m.b)()],br.prototype,"allPlaceholder",null),Object(u.a)([Object(m.b)({readOnly:!0,dependsOn:["defaultSources.length","sources.length","includeDefaultSources"]})],br.prototype,"allSources",null),Object(u.a)([Object(m.b)()],br.prototype,"autoNavigate",void 0),Object(u.a)([Object(m.b)()],br.prototype,"autoSelect",void 0),Object(u.a)([Object(m.b)()],br.prototype,"defaultPopupTemplate",void 0),Object(u.a)([Object(m.b)({readOnly:!0})],br.prototype,"defaultSources",void 0),Object(u.a)([Object(m.b)()],br.prototype,"defaultSymbol",void 0),Object(u.a)([Object(m.b)()],br.prototype,"includeDefaultSources",void 0),Object(u.a)([Object(m.b)()],br.prototype,"locationEnabled",null),Object(u.a)([Object(m.b)()],br.prototype,"maxInputLength",void 0),Object(u.a)([Object(m.b)()],br.prototype,"maxResults",void 0),Object(u.a)([Object(m.b)()],br.prototype,"maxSuggestions",void 0),Object(u.a)([Object(m.b)()],br.prototype,"messages",void 0),Object(u.a)([Object(m.b)()],br.prototype,"minSuggestCharacters",void 0),Object(u.a)([Object(m.b)({readOnly:!0})],br.prototype,"placeholder",null),Object(u.a)([Object(m.b)()],br.prototype,"popupEnabled",void 0),Object(u.a)([Object(m.b)({type:E.a})],br.prototype,"popupTemplate",void 0),Object(u.a)([Object(m.b)({type:V.a})],br.prototype,"portal",void 0),Object(u.a)([Object(m.b)()],br.prototype,"resultCount",void 0),Object(u.a)([Object(m.b)()],br.prototype,"resultGraphicEnabled",void 0),Object(u.a)([Object(m.b)({readOnly:!0})],br.prototype,"resultGraphic",void 0),Object(u.a)([Object(m.b)({readOnly:!0})],br.prototype,"results",void 0),Object(u.a)([Object(m.b)({readOnly:!0})],br.prototype,"selectedSuggestion",void 0),Object(u.a)([Object(m.b)()],br.prototype,"searchAllEnabled",void 0),Object(u.a)([Object(m.b)({readOnly:!0})],br.prototype,"selectedResult",void 0),Object(u.a)([Object(m.b)()],br.prototype,"searchTerm",null),Object(u.a)([Object(m.b)({type:pr})],br.prototype,"sources",void 0),Object(u.a)([Object(m.b)({readOnly:!0,dependsOn:["allSources.length","updating"]})],br.prototype,"state",null),Object(u.a)([Object(m.b)()],br.prototype,"suggestionDelay",void 0),Object(u.a)([Object(m.b)()],br.prototype,"suggestionCount",void 0),Object(u.a)([Object(m.b)({readOnly:!0})],br.prototype,"suggestions",void 0),Object(u.a)([Object(m.b)()],br.prototype,"suggestionsEnabled",void 0),Object(u.a)([Object(m.b)({readOnly:!0})],br.prototype,"updating",null),Object(u.a)([Object(m.b)()],br.prototype,"view",void 0),Object(u.a)([Object(m.b)()],br.prototype,"clear",null);var yr=br=Object(u.a)([Object(g.a)(lr)],br),vr=r("Q7Dg"),mr=r("XRld"),gr=r("mjOD"),Or=r("c+HS");function jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var wr="esri-search-result-renderer esri-widget",_r="esri-widget__anchor",kr="esri-search-result-renderer__more-results--show-more-results",xr="esri-search-result-renderer__more-results",Sr="esri-search-result-renderer__more-results-list",Pr="esri-search-result-renderer__more-results-item",Ir="esri-search-result-renderer__more-results-list-header",Rr=function(e){Object(o.a)(r,e);var t=jr(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n)).messages=null,a.showMoreResultsOpen=!1,a.viewModel=null,a}return Object(a.a)(r,[{key:"render",value:function(){var e=Object(n.a)({},kr,this.showMoreResultsOpen);return Object(gr.a)("div",{class:wr},Object(gr.a)("div",{key:"esri-search-renderer__container",class:this.classes(xr,e)},this.renderSearchResultName(),this.renderMoreResults()))}},{key:"renderMoreResults",value:function(){return Object(gr.a)("div",{key:"esri-search-renderer__more-results"},this.renderMoreResultsButton(),this.renderMoreResultsLists())}},{key:"renderSearchResultName",value:function(){var e,t=null==(e=this.viewModel)?void 0:e.selectedResult,r=t&&t.name||"";return Object(gr.a)("div",{key:"esri-search-renderer__result-name",class:Pr},r)}},{key:"renderMoreResultsLists",value:function(){var e,t=this,r=null==(e=this.viewModel)?void 0:e.results;if(this.viewModel.resultCount<2)return null;var n=r.map((function(e){return t.renderMoreResultsList(e)}));return Object(gr.a)("div",{key:"esri-search-renderer__more-results-container",class:Sr},n)}},{key:"renderMoreResultsButton",value:function(){var e=this.messages;return this.viewModel.resultCount<2?null:Object(gr.a)("div",{key:"esri-search-renderer__more-results-button",class:Pr},Object(gr.a)("a",{class:_r,href:"#",bind:this,onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?e.hideMoreResults:e.showMoreResults))}},{key:"renderMoreResultsHeader",value:function(e,t){return Object(gr.a)("div",{key:"esri-search-result-renderer__header-".concat(t),class:Ir},e)}},{key:"renderMoreResultsList",value:function(e){var t,r,n=this,i=e.results,a=i.length,o=!!a,s=null==(t=this.viewModel)?void 0:t.selectedResult,c=1===a&&i[0]===s,u=this._getSourceName(e.source,e.sourceIndex),l=(null==(r=this.viewModel)?void 0:r.results.length)>1&&!c?this.renderMoreResultsHeader(u,e.sourceIndex):null,f=o&&i.map((function(e,t){return n.renderMoreResultsListItem(e,t)})),p=o&&!c?Object(gr.a)("ul",{key:"esri-search-result-renderer__list-".concat(e.sourceIndex)},f):null;return o?Object(gr.a)("div",{key:"esri-search-result-renderer__results-".concat(e.sourceIndex)},l,p):null}},{key:"renderMoreResultsListItem",value:function(e,t){return e!==this.get("viewModel.selectedResult")?Object(gr.a)("li",{key:"esri-search-result-renderer__list-item-".concat(t)},Object(gr.a)("a",{class:_r,href:"#",tabindex:"0",bind:this,"data-result":e,onclick:this._selectResultClick,onkeydown:this._selectResultClick},e.name)):null}},{key:"_showMoreResultsClick",value:function(e){e.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;var t=this.get("viewModel.view.popup");t&&t.reposition()}},{key:"_selectResultClick",value:function(e){e.preventDefault();var t=e.currentTarget["data-result"];this.viewModel&&this.viewModel.select(t)}},{key:"_getSourceName",value:function(e,t){return t===yr.ALL_INDEX?this.messages.all:e.name}}]),r}(_.a);Object(u.a)([Object(m.b)(),Object(mr.a)("esri/widgets/Search/t9n/Search")],Rr.prototype,"messages",void 0),Object(u.a)([Object(m.b)()],Rr.prototype,"showMoreResultsOpen",void 0),Object(u.a)([Object(m.b)()],Rr.prototype,"viewModel",void 0),Object(u.a)([Object(vr.a)()],Rr.prototype,"_showMoreResultsClick",null),Object(u.a)([Object(vr.a)()],Rr.prototype,"_selectResultClick",null);var Mr=Rr=Object(u.a)([Object(g.a)("esri.widgets.Search.SearchResultRenderer")],Rr),Er=r("Ykki");function Tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var Ar="esri-search esri-widget",Cr="esri-widget__loader",Dr="esri-widget__loader-text",Lr="esri-widget__loader-animation",Fr="esri-input",Nr="esri-search--multiple-sources",Br="esri-search--loading",Vr="esri-search--searching",Ur="esri-search--show-suggestions",zr="esri-search--sources",qr="esri-search--warning",Hr="esri-search__container",Gr="esri-search__input",Wr="esri-search__input-container",Jr="esri-search__form",$r="esri-search__submit-button",Zr="esri-search__sources-button",Qr="esri-search__clear-button",Xr="esri-search__source-name",Kr="esri-search__suggestions-menu",Yr="esri-search__suggestions-list",en="esri-search__suggestions-list--current-location",tn="esri-search__sources-menu",rn="esri-search__source",nn="esri-search__warning-menu",an="esri-search__warning-body",on="esri-search__warning-header",sn="esri-search__warning-text",cn="esri-search__no-value-text",un="esri-widget--disabled",ln="esri-widget--button",fn="esri-icon-font-fallback-text",pn="esri-icon-locate-circled",dn="esri-menu",hn="esri-menu__list",bn="esri-menu__list-item",yn="esri-menu__list-item--active",vn="esri-menu__list-item--focus",mn="esri-menu__header",gn="esri-icon-search",On="esri-icon-down-arrow esri-search__sources-button--down",jn="esri-icon-up-arrow esri-search__sources-button--up",wn="esri-icon-close",_n="esri-icon-notice-triangle",kn="esri-icon-search",xn="esri-disabled",Sn=/<[a-z/][\s\S]*>/i,Pn=function(e){Object(o.a)(r,e);var t=Tr(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n))._activeMenuItemIndex=-1,a._handles=new p.a,a._inputNode=null,a._menuItemCount=0,a._sourceMenuButtonNode=null,a._sourceListNode=null,a._suggestionListNode=null,a._searchResultRenderer=new Mr,a._locateFailed=null,a._container=null,a.activeMenu="none",a.activeSource=null,a.activeSourceIndex=null,a.allPlaceholder=null,a.allSources=null,a.autoNavigate=null,a.autoSelect=null,a.defaultSources=null,a.disabled=!1,a.goToOverride=null,a.iconClass=kn,a.includeDefaultSources=null,a.label=void 0,a.locationEnabled=null,a.maxResults=null,a.maxSuggestions=null,a.messages=null,a.messagesCommon=null,a.minSuggestCharacters=null,a.popupEnabled=null,a.popupTemplate=null,a.portal=null,a.resultGraphic=null,a.resultGraphicEnabled=null,a.results=null,a.searchAllEnabled=null,a.searchTerm=null,a.selectedResult=null,a.sources=null,a.suggestions=null,a.suggestionsEnabled=null,a.view=null,a.viewModel=new yr,a._clearActiveMenu=function(){a.activeMenu="none"},a._removeActiveMenu=function(e){var t,r=e.relatedTarget;r&&null!=(t=a._container)&&t.contains(r)||a._clearActiveMenu()},a.own(Object(d.d)(Object(O.a)(a),"searchTerm",(function(e){(e&&"warning"===a.activeMenu||!e&&!a.get("viewModel.selectedSuggestion.location"))&&a._clearActiveMenu()})),Object(d.b)(Object(O.a)(a),"viewModel.allSources","change",(function(){return a._watchSourceChanges()})),Object(d.a)(Object(O.a)(a),"activeMenu",(function(){return a._resetActiveMenuItemIndex()})),Object(d.a)(Object(O.a)(a),"viewModel.defaultPopupTemplate",(function(e){e&&(e.content=a._renderSearchResultsContent.bind(Object(O.a)(a)))}))),a}return Object(a.a)(r,[{key:"destroy",value:function(){this._handles.destroy(),this._handles=null,this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer&&(this._searchResultRenderer.viewModel=null,this._searchResultRenderer.destroy(),this._searchResultRenderer=null)}},{key:"displayedSearchTerm",get:function(){return"".concat(this.viewModel.searchTerm).trim()}},{key:"inputId",get:function(){return this._buildId("input")}},{key:"suggestionsMenuId",get:function(){return this._buildId("suggest-menu")}},{key:"sourceMenuId",get:function(){return this._buildId("source-menu")}},{key:"sourceMenuButtonId",get:function(){return this._buildId("source-menu-button")}},{key:"clear",value:function(){}},{key:"focus",value:function(){var e;null==(e=this._inputNode)||e.focus(),this.emit("search-focus")}},{key:"blur",value:function(){var e;null==(e=this._inputNode)||e.blur(),this.emit("search-blur")}},{key:"search",value:function(e){var t=this;this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch();var r=Object(j.d)(),n=r.signal;return this._searchController=r,this.viewModel.search(e,{signal:n}).catch((function(e){if(t._searchController===r)return t._clearActiveMenu(),t._searchController=null,e})).then((function(e){if(t._searchController===r)return t.activeMenu=e.numResults?"none":"warning",t._searchController=null,e}))}},{key:"suggest",value:function(e){var t=this;this._cancelSuggest();var r=Object(j.d)(),n=r.signal;return this._suggestController=r,this.viewModel.suggest(e,null,{signal:n}).then((function(e){if(t._suggestController===r)return t._suggestController=null,e.numResults&&t._openSuggestionMenu(),t._scrollToTopSuggestion(),e})).catch((function(){if(t._suggestController===r)return t._suggestController=null,null}))}},{key:"render",value:function(){var e,t=this.viewModel.state,r=(e={},Object(n.a)(e,xn,"disabled"===t),Object(n.a)(e,un,this.disabled),e);return Object(gr.a)("div",{class:this.classes(Ar,r)},"loading"===t?this.renderLoader():this.renderContainer())}},{key:"renderSubmitButton",value:function(){var e=this.messages;return Object(gr.a)("button",{"aria-label":e.searchButtonTitle,bind:this,class:this.classes($r,ln),key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:e.searchButtonTitle},Object(gr.a)("span",{"aria-hidden":"true",class:gn}))}},{key:"renderWarningMenu",value:function(){return Object(gr.a)("div",{key:"esri-search__error-menu",class:this.classes(dn,nn)},Object(gr.a)("div",{class:an},this.renderWarning()))}},{key:"renderSourceMenuButton",value:function(){var e=this.messages,t=this.activeMenu,r=this.sourceMenuId,n=this.sourceMenuButtonId,i=this.viewModel,a=i.activeSourceIndex;return i.allSources.length>1?Object(gr.a)("button",{id:n,key:"esri-search__source-menu-button",bind:this,"aria-label":e.searchIn,title:e.searchIn,"aria-haspopup":"true","aria-expanded":("source"===t).toString(),"aria-controls":r,class:this.classes(Zr,ln),onclick:this._handleSourcesMenuToggleClick,onfocus:this._clearActiveMenu,afterCreate:Or.k,"data-node-ref":"_sourceMenuButtonNode"},Object(gr.a)("span",{"aria-hidden":"true",class:On}),Object(gr.a)("span",{"aria-hidden":"true",class:jn}),Object(gr.a)("span",{class:Xr},this._getSourceName(a))):null}},{key:"renderSourcesList",value:function(){var e=this,t=this.viewModel,r=t.allSources,n=t.searchAllEnabled,i=this._activeMenuItemIndex,a=this.activeMenu,o=this.sourceMenuId,s=this.sourceMenuButtonId,c="source"===a&&i>-1?this._buildId("source-item",i):null;return r.length>1?Object(gr.a)("ul",{"aria-activedescendant":c,"aria-labelledby":s,id:o,role:"menu",bind:this,afterCreate:Or.k,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,"data-node-ref":"_sourceListNode",class:hn,tabIndex:-1},n?this.renderSource(yr.ALL_INDEX):null,r.map((function(t,r){return e.renderSource(r)})).toArray()):null}},{key:"renderSourcesMenu",value:function(){return this.viewModel.allSources.length>1?Object(gr.a)("div",{key:"esri-search__source-menu",class:this.classes(dn,tn)},this.renderSourcesList()):null}},{key:"renderLoader",value:function(){var e=this.messages,t=this.messagesCommon;return Object(gr.a)("div",{class:Cr,key:"base-loader"},Object(gr.a)("span",{"aria-hidden":"true",class:Lr}),Object(gr.a)("span",{class:fn},e.searchButtonTitle),Object(gr.a)("span",{class:Dr},t.loading))}},{key:"renderContainer",value:function(){var e,t=this,r=this.viewModel,i=r.allSources,a=r.state,o=this.activeMenu,s=(e={},Object(n.a)(e,Nr,i.length>1),Object(n.a)(e,Br,"loading"===a),Object(n.a)(e,Vr,"searching"===a),Object(n.a)(e,qr,"warning"===o),Object(n.a)(e,zr,"source"===o),Object(n.a)(e,Ur,"suggestion"===o),e);return Object(gr.a)("div",{tabIndex:-1,afterCreate:function(e){t._container=e,e.addEventListener("focusout",t._removeActiveMenu)},afterRemoved:function(e){e.removeEventListener("focusout",t._removeActiveMenu)},class:this.classes(s,Hr),key:"base-container"},this.renderSourceMenuButton(),this.renderSourcesMenu(),this.renderInputContainer(),this.renderSubmitButton(),this.renderWarningMenu())}},{key:"renderClearButton",value:function(){return this.searchTerm?Object(gr.a)("button",{bind:this,class:this.classes(Qr,ln),key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle},Object(gr.a)("span",{"aria-hidden":"true",class:wn})):null}},{key:"renderLocationGroup",value:function(){var e=this.messages,t=this.locationEnabled,r=this.displayedSearchTerm,n=t&&!r,i="suggestion"===this.activeMenu&&0===this._activeMenuItemIndex;return n?Object(gr.a)("ul",{role:"group",key:"esri-search__suggestion-list-current-location",class:this.classes(hn,Yr,en)},Object(gr.a)("li",{bind:this,"data-current-location-item":!0,onclick:this._handleUseCurrentLocationClick,id:this._buildId("suggestion-item",0),"aria-selected":("suggestion"===this.activeMenu&&0===this._activeMenuItemIndex).toString(),role:"option",class:this.classes(bn,i?vn:null)},Object(gr.a)("span",{"aria-hidden":"true",class:pn})," ",e.useCurrentLocation)):null}},{key:"renderInput",value:function(){var e=this.activeMenu,t=this.locationEnabled,r=this.displayedSearchTerm,n=this.messages,i=this.suggestionsMenuId,a=this.inputId,o=this._activeMenuItemIndex,s=this.viewModel,c=s.maxInputLength,u=s.placeholder,l=s.searchTerm,f=s.suggestionCount,p=!((!t||r)&&!f),d="suggestion"===e&&o>-1?this._buildId("suggestion-item",o):null;return Object(gr.a)("input",{"aria-activedescendant":d,"aria-autocomplete":"list","aria-expanded":(p&&"suggestion"===e).toString(),"aria-controls":p?i:null,"aria-haspopup":"listbox","aria-label":n.searchButtonTitle,bind:this,placeholder:u,maxlength:c,autocomplete:"off",type:"text",class:this.classes(Fr,Gr),value:l,id:a,role:"combobox",onkeyup:this._handleInputKeyup,onclick:this._openSuggestionMenu,oninput:this._handleInputPaste,onpaste:this._handleInputPaste,afterCreate:Or.k,"data-node-ref":"_inputNode",onfocus:this.focus,onblur:this.blur,title:l?"":u})}},{key:"renderForm",value:function(){return Object(gr.a)("form",{key:"esri-search__form",bind:this,class:Jr,onsubmit:this._formSubmit,role:"search"},this.renderInput())}},{key:"renderSuggestList",value:function(e){var t=this,r=e.sourceIndex,n=e.results.length,i=e.results;return n?Object(gr.a)("ul",{role:"group",key:"esri-search__suggestion-list-".concat(r),class:this.classes(hn,Yr)},i.map((function(e){return t.renderSuggestion(e,t._menuItemCount++)}))):null}},{key:"renderSuggestionsGroup",value:function(){var e=this,t=this.viewModel.suggestions;return t?t.map((function(t){return[e.renderSuggestionHeader(t),e.renderSuggestList(t)]})):null}},{key:"renderSuggestionsMenu",value:function(){var e=this.displayedSearchTerm,t=this.locationEnabled,r=this.suggestionsMenuId,n=this.inputId,i=this.viewModel.suggestionCount,a=t&&!e||i;return this._menuItemCount=0,a?Object(gr.a)("div",{id:r,key:"esri-search__suggestions-menu",class:this.classes(dn,Kr),role:"listbox","aria-labelledby":n,bind:this,afterCreate:Or.k,"data-node-ref":"_suggestionListNode"},this.renderLocationGroup(),this.renderSuggestionsGroup()):null}},{key:"renderInputContainer",value:function(){return Object(gr.a)("div",{key:"esri-search__input-container",class:Wr},this.renderForm(),this.renderSuggestionsMenu(),this.renderClearButton())}},{key:"renderSuggestionHeader",value:function(e){var t=this.viewModel,r=t.allSources,n=t.activeSourceIndex,i=e.sourceIndex,a=e.results.length,o=r.length>1&&n===yr.ALL_INDEX;return a&&o?Object(gr.a)("div",{key:"esri-search__suggestion-header-".concat(i),class:mn},this._getSourceName(i)):null}},{key:"renderSuggestion",value:function(e,t){var r=this._activeMenuItemIndex,n=this.messages,i=this.viewModel.searchTerm;if(i){var a=e.text||n.untitledResult,o=Sn.test(a),s=[];if(o)s.push(Object(gr.a)("div",{innerHTML:a}));else{var c=this._splitResult(a,i),u=i.toLowerCase();c.forEach((function(e,t){e&&e.length&&(e.toLowerCase()===u?s.push(Object(gr.a)("strong",{key:t},e)):s.push(e))}))}var l="suggestion"===this.activeMenu&&r===t;return Object(gr.a)("li",{bind:this,id:this._buildId("suggestion-item",t),"aria-selected":("suggestion"===this.activeMenu&&this._activeMenuItemIndex===t).toString(),onclick:this._handleSuggestionClick,key:"esri-search__suggestion_".concat(t),"data-suggestion":e,role:"option",class:this.classes(bn,l?vn:null)},s)}}},{key:"renderSource",value:function(e){var t,r=this.viewModel,i=r.activeSourceIndex,a=r.searchAllEnabled,o=(t={},Object(n.a)(t,yn,e===i),Object(n.a)(t,vn,"source"===this.activeMenu&&e===(a?this._activeMenuItemIndex-1:this._activeMenuItemIndex)),t),s=a?e+1:e;return Object(gr.a)("li",{bind:this,key:"esri-search__source-".concat(e),id:this._buildId("source-item",s),"aria-checked":(e===i).toString(),onclick:this._handleSourceClick,"data-source-index":e,role:"menuitemradio",class:this.classes(rn,bn,o)},this._getSourceName(e))}},{key:"renderNoResultsWarning",value:function(e){var t=this.messages,r=e?Object(we.a)(t.noResultsFoundForValue,{value:'"'.concat(e,'"')}):t.noResultsFound;return Object(gr.a)("div",{key:"esri-search__no_results"},Object(gr.a)("div",{class:on},t.noResults),Object(gr.a)("div",{class:sn},r))}},{key:"renderEmptySearchWarning",value:function(){var e=this.messages;return Object(gr.a)("div",{key:"esri-search__empty-search"},Object(gr.a)("span",{"aria-hidden":"true",class:_n}),Object(gr.a)("span",{class:cn},e.emptyValue))}},{key:"renderLocateWarning",value:function(){var e=this.messages;return Object(gr.a)("div",{key:"esri-search__locate-error"},Object(gr.a)("span",{"aria-hidden":"true",class:_n}),Object(gr.a)("span",{class:cn},e.locateError))}},{key:"renderWarning",value:function(){var e,t=this.displayedSearchTerm,r=this._locateFailed,n=this.viewModel;return r?this.renderLocateWarning():null!=(e=n.selectedSuggestion)&&e.location||t?this.renderNoResultsWarning(t):this.renderEmptySearchWarning()}},{key:"_resetActiveMenuItemIndex",value:function(){this._activeMenuItemIndex=-1}},{key:"_buildId",value:function(e,t){return"".concat(this.id,"-").concat(e).concat(void 0===t?"":"-".concat(t))}},{key:"_watchSourceChanges",value:function(){var e=this,t=this._handles,r=this.viewModel.allSources,n="sources";t.remove(n),r.forEach((function(r){return t.add(Object(d.d)(r,"name",(function(){return e.scheduleRender()})),n)}))}},{key:"_handleSourcesMenuToggleClick",value:function(){var e,t="source"===this.activeMenu;this.activeMenu=t?"none":"source",this.renderNow(),"source"===this.activeMenu&&(null==(e=this._sourceListNode)||e.focus())}},{key:"_handleClearButtonClick",value:function(){this.viewModel.clear(),this._focus()}},{key:"_handleSearchButtonClick",value:function(){this.search()}},{key:"_handleSuggestionClick",value:function(e){var t=e.currentTarget["data-suggestion"];t&&(this._focus(),this.search(t))}},{key:"_handleUseCurrentLocationClick",value:function(){this._useCurrentLocation()}},{key:"_useCurrentLocation",value:function(){var e=this;this._focus("none"),this._cancelSuggest(),this._cancelSearch();var t=Object(j.d)(),r=t.signal;this._searchController=t,this.viewModel.searchNearby({signal:r}).catch((function(){e._locateFailed=!0,e.activeMenu="warning"})).then((function(){e._searchController=null}))}},{key:"_handleSourceClick",value:function(e){this._setSourceFromMenuItem(e.currentTarget)}},{key:"_setSourceFromMenuItem",value:function(e){var t;if(e){var r=e["data-source-index"];this.viewModel.activeSourceIndex=r,this._clearActiveMenu(),null==(t=this._sourceMenuButtonNode)||t.focus()}}},{key:"_cancelSuggest",value:function(){this._suggestController&&(this._suggestController.abort(),this._suggestController=null)}},{key:"_cancelSearch",value:function(){this._searchController&&(this._searchController.abort(),this._searchController=null),this._locateFailed=!1}},{key:"_handleInputKeyup",value:function(e){var t,r=Object(f.a)(e);if(!e.ctrlKey&&!e.metaKey&&"Copy"!==r&&"ArrowLeft"!==r&&"ArrowRight"!==r&&"Shift"!==r){if("Tab"===r||"Escape"===r||e.shiftKey&&"Tab"===r)return this._cancelSuggest(),void("Escape"===r&&this._clearActiveMenu());var n="Home"===r||"End"===r||"ArrowUp"===r||"ArrowDown"===r;if("Enter"===r&&this._activeMenuItemIndex<0)this._cancelSuggest();else{var i=null==(t=this._suggestionListNode)?void 0:t.getElementsByTagName("li");if(null!=i&&i.length){if("suggestion"!==this.activeMenu&&this._openSuggestionMenu(),n)return e.preventDefault(),this._cancelSuggest(),void this.handleItemNavigation(r,i,this._suggestionListNode);var a=i[this._activeMenuItemIndex];if("Enter"===r&&a){var o=a["data-suggestion"];return void(o?(this._focus(),this.search(o)):a["data-current-location-item"]&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}}}},{key:"handleItemNavigation",value:function(e,t,r){var n=this._activeMenuItemIndex;"Home"===e&&(this._activeMenuItemIndex=0),"End"===e&&(this._activeMenuItemIndex=t.length-1),"ArrowUp"===e&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?t.length-1:this._activeMenuItemIndex-1),"ArrowDown"===e&&(this._activeMenuItemIndex=this._activeMenuItemIndex===t.length-1?0:this._activeMenuItemIndex+1),n!==this._activeMenuItemIndex&&Object(Or.i)(t[this._activeMenuItemIndex],r)}},{key:"_scrollToTopSuggestion",value:function(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)}},{key:"_openSuggestionMenu",value:function(){this.activeMenu="suggestion"}},{key:"_handleInputPaste",value:function(e){var t=e.target;this.viewModel.searchTerm!==t.value&&(this.viewModel.searchTerm=t.value),this.viewModel.searchTerm&&this.suggest()}},{key:"_handleSourceMenuKeydown",value:function(e){var t=Object(f.a)(e);if(Object(Or.f)(t)){e.preventDefault();var r=this._sourceListNode.getElementsByTagName("li")[this._activeMenuItemIndex];this._setSourceFromMenuItem(r)}else"ArrowUp"!==t&&"ArrowDown"!==t&&"End"!==t&&"Home"!==t||e.preventDefault()}},{key:"_handleSourceMenuKeyup",value:function(e){var t,r,n=Object(f.a)(e),i="ArrowUp"===n||"ArrowDown"===n||"End"===n||"Home"===n;if(i&&e.preventDefault(),"Escape"===n)return this._clearActiveMenu(),void(null==(r=this._sourceMenuButtonNode)||r.focus());var a=null==(t=this._sourceListNode)?void 0:t.getElementsByTagName("li");return a&&0!==a.length&&i?("source"!==this.activeMenu&&(this.activeMenu="source"),void this.handleItemNavigation(n,a,this._sourceListNode.parentElement)):void 0}},{key:"_focus",value:function(e){this.focus(),e&&(this.activeMenu=e)}},{key:"_formSubmit",value:function(e){e.preventDefault(),-1===this._activeMenuItemIndex&&this.search()}},{key:"_getSourceName",value:function(e){var t=this.messages,r=this.viewModel.allSources.getItemAt(e);return e===yr.ALL_INDEX?t.all:r&&r.name||t.untitledSource}},{key:"_splitResult",value:function(e,t){var r=Object(w.a)(t);return e.replace(new RegExp("(^|)(".concat(r,")(|$)"),"ig"),"$1|$2|$3").split("|")}},{key:"_renderSearchResultsContent",value:function(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}}]),r}(_.a);Object(u.a)([Object(m.b)()],Pn.prototype,"_activeMenuItemIndex",void 0),Object(u.a)([Object(m.b)()],Pn.prototype,"displayedSearchTerm",null),Object(u.a)([Object(m.b)({readOnly:!0})],Pn.prototype,"inputId",null),Object(u.a)([Object(m.b)({readOnly:!0})],Pn.prototype,"suggestionsMenuId",null),Object(u.a)([Object(m.b)({readOnly:!0})],Pn.prototype,"sourceMenuId",null),Object(u.a)([Object(m.b)({readOnly:!0})],Pn.prototype,"sourceMenuButtonId",null),Object(u.a)([Object(m.b)()],Pn.prototype,"activeMenu",void 0),Object(u.a)([Object(h.a)("viewModel.activeSource")],Pn.prototype,"activeSource",void 0),Object(u.a)([Object(h.a)("viewModel.activeSourceIndex")],Pn.prototype,"activeSourceIndex",void 0),Object(u.a)([Object(h.a)("viewModel.allPlaceholder")],Pn.prototype,"allPlaceholder",void 0),Object(u.a)([Object(h.a)("viewModel.allSources")],Pn.prototype,"allSources",void 0),Object(u.a)([Object(h.a)("viewModel.autoNavigate")],Pn.prototype,"autoNavigate",void 0),Object(u.a)([Object(h.a)("viewModel.autoSelect")],Pn.prototype,"autoSelect",void 0),Object(u.a)([Object(h.a)("viewModel.defaultSources")],Pn.prototype,"defaultSources",void 0),Object(u.a)([Object(m.b)()],Pn.prototype,"disabled",void 0),Object(u.a)([Object(h.a)("viewModel.goToOverride")],Pn.prototype,"goToOverride",void 0),Object(u.a)([Object(m.b)()],Pn.prototype,"iconClass",void 0),Object(u.a)([Object(h.a)("viewModel.includeDefaultSources")],Pn.prototype,"includeDefaultSources",void 0),Object(u.a)([Object(m.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Pn.prototype,"label",void 0),Object(u.a)([Object(h.a)("viewModel.locationEnabled")],Pn.prototype,"locationEnabled",void 0),Object(u.a)([Object(h.a)("viewModel.maxResults")],Pn.prototype,"maxResults",void 0),Object(u.a)([Object(h.a)("viewModel.maxSuggestions")],Pn.prototype,"maxSuggestions",void 0),Object(u.a)([Object(m.b)(),Object(mr.a)("esri/widgets/Search/t9n/Search")],Pn.prototype,"messages",void 0),Object(u.a)([Object(m.b)(),Object(mr.a)("esri/t9n/common")],Pn.prototype,"messagesCommon",void 0),Object(u.a)([Object(h.a)("viewModel.minSuggestCharacters")],Pn.prototype,"minSuggestCharacters",void 0),Object(u.a)([Object(h.a)("viewModel.popupEnabled")],Pn.prototype,"popupEnabled",void 0),Object(u.a)([Object(h.a)("viewModel.popupTemplate")],Pn.prototype,"popupTemplate",void 0),Object(u.a)([Object(h.a)("viewModel.portal")],Pn.prototype,"portal",void 0),Object(u.a)([Object(h.a)("viewModel.resultGraphic")],Pn.prototype,"resultGraphic",void 0),Object(u.a)([Object(h.a)("viewModel.resultGraphicEnabled")],Pn.prototype,"resultGraphicEnabled",void 0),Object(u.a)([Object(h.a)("viewModel.results")],Pn.prototype,"results",void 0),Object(u.a)([Object(h.a)("viewModel.searchAllEnabled")],Pn.prototype,"searchAllEnabled",void 0),Object(u.a)([Object(h.a)("viewModel.searchTerm")],Pn.prototype,"searchTerm",void 0),Object(u.a)([Object(h.a)("viewModel.selectedResult")],Pn.prototype,"selectedResult",void 0),Object(u.a)([Object(h.a)("viewModel.sources")],Pn.prototype,"sources",void 0),Object(u.a)([Object(h.a)("viewModel.suggestions")],Pn.prototype,"suggestions",void 0),Object(u.a)([Object(h.a)("viewModel.suggestionsEnabled")],Pn.prototype,"suggestionsEnabled",void 0),Object(u.a)([Object(h.a)("viewModel.view")],Pn.prototype,"view",void 0),Object(u.a)([Object(Er.a)(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),Object(m.b)({type:yr})],Pn.prototype,"viewModel",void 0),Object(u.a)([Object(h.a)("viewModel.clear")],Pn.prototype,"clear",null);var In=Pn=Object(u.a)([Object(g.a)("esri.widgets.Search")],Pn);r("fb8N");var Rn,Mn=r("HnKO"),En=r("r7HD"),Tn=r("kJId"),An=r("vo12"),Cn=r("GeRv"),Dn=r("d5Xc");function Ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var Fn=Rn=function(e){Object(o.a)(r,e);var t=Ln(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).accumulateAttributes=null,n.apiKey=null,n.attributeParameterValues=null,n.directionsLanguage=null,n.directionsLengthUnits=null,n.directionsOutputType=null,n.directionsStyleName=null,n.directionsTimeAttribute=null,n.doNotLocateOnRestrictedElements=!0,n.findBestSequence=null,n.ignoreInvalidLocations=null,n.impedanceAttribute=null,n.outputGeometryPrecision=null,n.outputGeometryPrecisionUnits=null,n.outputLines="true-shape",n.outSpatialReference=null,n.pointBarriers=null,n.polygonBarriers=null,n.polylineBarriers=null,n.preserveFirstStop=null,n.preserveLastStop=null,n.restrictionAttributes=null,n.restrictUTurns=null,n.returnBarriers=!1,n.returnDirections=!1,n.returnPolygonBarriers=!1,n.returnPolylineBarriers=!1,n.returnRoutes=!0,n.returnStops=!1,n.returnZ=!0,n.startTime=null,n.startTimeIsUTC=!0,n.stops=null,n.travelMode=null,n.useHierarchy=null,n.useTimeWindows=null,n}return Object(a.a)(r,[{key:"readStartTime",value:function(e,t){return null!=t.startTime?new Date(t.startTime):null}},{key:"writeStartTime",value:function(e,t){t.startTime=e?e.getTime():null}},{key:"clone",value:function(){return new Rn(Object(z.a)({accumulateAttributes:this.accumulateAttributes,apiKey:this.apiKey,attributeParameterValues:this.attributeParameterValues,directionsLanguage:this.directionsLanguage,directionsLengthUnits:this.directionsLengthUnits,directionsOutputType:this.directionsOutputType,directionsStyleName:this.directionsStyleName,directionsTimeAttribute:this.directionsTimeAttribute,doNotLocateOnRestrictedElements:this.doNotLocateOnRestrictedElements,findBestSequence:this.findBestSequence,ignoreInvalidLocations:this.ignoreInvalidLocations,impedanceAttribute:this.impedanceAttribute,outputGeometryPrecision:this.outputGeometryPrecision,outputGeometryPrecisionUnits:this.outputGeometryPrecisionUnits,outputLines:this.outputLines,outSpatialReference:this.outSpatialReference,pointBarriers:this.pointBarriers,polygonBarriers:this.polygonBarriers,polylineBarriers:this.polylineBarriers,preserveFirstStop:this.preserveFirstStop,preserveLastStop:this.preserveLastStop,restrictionAttributes:this.restrictionAttributes,restrictUTurns:this.restrictUTurns,returnBarriers:this.returnBarriers,returnDirections:this.returnDirections,returnPolygonBarriers:this.returnPolygonBarriers,returnPolylineBarriers:this.returnPolylineBarriers,returnRoutes:this.returnRoutes,returnStops:this.returnStops,returnZ:this.returnZ,startTime:this.startTime,startTimeIsUTC:this.startTimeIsUTC,stops:this.stops,travelMode:this.travelMode,useHierarchy:this.useHierarchy,useTimeWindows:this.useTimeWindows}))}}]),r}(se.a);Object(u.a)([Object(m.b)({type:[String],json:{write:!0}})],Fn.prototype,"accumulateAttributes",void 0),Object(u.a)([Object(m.b)(tt)],Fn.prototype,"apiKey",void 0),Object(u.a)([Object(m.b)({json:{write:!0}})],Fn.prototype,"attributeParameterValues",void 0),Object(u.a)([Object(m.b)({type:String,json:{write:!0}})],Fn.prototype,"directionsLanguage",void 0),Object(u.a)([Object(An.a)(Cn.a)],Fn.prototype,"directionsLengthUnits",void 0),Object(u.a)([Object(An.a)(Cn.b)],Fn.prototype,"directionsOutputType",void 0),Object(u.a)([Object(m.b)({type:String,json:{write:!0}})],Fn.prototype,"directionsStyleName",void 0),Object(u.a)([Object(m.b)({type:String,json:{write:!0}})],Fn.prototype,"directionsTimeAttribute",void 0),Object(u.a)([Object(m.b)({type:Boolean,json:{write:!0}})],Fn.prototype,"doNotLocateOnRestrictedElements",void 0),Object(u.a)([Object(m.b)({json:{write:!0}})],Fn.prototype,"findBestSequence",void 0),Object(u.a)([Object(m.b)({json:{write:!0}})],Fn.prototype,"ignoreInvalidLocations",void 0),Object(u.a)([Object(m.b)({type:String,json:{read:{source:"impedanceAttributeName"},write:{target:"impedanceAttributeName"}}})],Fn.prototype,"impedanceAttribute",void 0),Object(u.a)([Object(m.b)({type:Number,json:{write:!0}})],Fn.prototype,"outputGeometryPrecision",void 0),Object(u.a)([Object(An.a)(Cn.c)],Fn.prototype,"outputGeometryPrecisionUnits",void 0),Object(u.a)([Object(An.a)(Cn.d)],Fn.prototype,"outputLines",void 0),Object(u.a)([Object(m.b)({type:F.a,json:{write:!0}})],Fn.prototype,"outSpatialReference",void 0),Object(u.a)([Object(m.b)({json:{write:!0}})],Fn.prototype,"pointBarriers",void 0),Object(u.a)([Object(m.b)({json:{write:!0}})],Fn.prototype,"polygonBarriers",void 0),Object(u.a)([Object(m.b)({json:{write:!0}})],Fn.prototype,"polylineBarriers",void 0),Object(u.a)([Object(m.b)({json:{write:!0}})],Fn.prototype,"preserveFirstStop",void 0),Object(u.a)([Object(m.b)({json:{write:!0}})],Fn.prototype,"preserveLastStop",void 0),Object(u.a)([Object(m.b)({type:[String],json:{write:!0}})],Fn.prototype,"restrictionAttributes",void 0),Object(u.a)([Object(An.a)(Cn.e)],Fn.prototype,"restrictUTurns",void 0),Object(u.a)([Object(m.b)({type:Boolean,json:{write:!0}})],Fn.prototype,"returnBarriers",void 0),Object(u.a)([Object(m.b)({type:Boolean,json:{write:!0}})],Fn.prototype,"returnDirections",void 0),Object(u.a)([Object(m.b)({type:Boolean,json:{write:!0}})],Fn.prototype,"returnPolygonBarriers",void 0),Object(u.a)([Object(m.b)({type:Boolean,json:{write:!0}})],Fn.prototype,"returnPolylineBarriers",void 0),Object(u.a)([Object(m.b)({type:Boolean,json:{write:!0}})],Fn.prototype,"returnRoutes",void 0),Object(u.a)([Object(m.b)({type:Boolean,json:{write:!0}})],Fn.prototype,"returnStops",void 0),Object(u.a)([Object(m.b)({type:Boolean,json:{write:!0}})],Fn.prototype,"returnZ",void 0),Object(u.a)([Object(m.b)({type:Date,json:{type:Number,write:!0}})],Fn.prototype,"startTime",void 0),Object(u.a)([Object(We.a)("startTime")],Fn.prototype,"readStartTime",null),Object(u.a)([Object(Je.a)("startTime")],Fn.prototype,"writeStartTime",null),Object(u.a)([Object(m.b)({type:Boolean,json:{write:!0}})],Fn.prototype,"startTimeIsUTC",void 0),Object(u.a)([Object(m.b)({json:{write:!0}})],Fn.prototype,"stops",void 0),Object(u.a)([Object(m.b)({type:Dn.a,json:{write:!0}})],Fn.prototype,"travelMode",void 0),Object(u.a)([Object(m.b)({type:Boolean,json:{write:!0}})],Fn.prototype,"useHierarchy",void 0),Object(u.a)([Object(m.b)({type:Boolean,json:{write:!0}})],Fn.prototype,"useTimeWindows",void 0);var Nn=Fn=Rn=Object(u.a)([Object(g.a)("esri.rest.support.RouteParameters")],Fn),Bn=r("o7RH"),Vn=r("jOdF");function Un(e){return"esriNAUSeconds"===e||"esriNAUMinutes"===e||"esriNAUHours"===e||"esriNAUDays"===e}function zn(e,t,r){var n=Un(t),i=Un(r),a=n?qn(e,t):Hn(e,t);return n===i?i?function(e,t){return qn(e,t,!0)}(a,r):function(e,t){return Hn(e,t,!0)}(a,r):e}function qn(e,t,r){switch(e=e||0,t){case"esriNAUSeconds":e/=Math.pow(60,r?-1:1);break;case"esriNAUHours":e*=Math.pow(60,r?-1:1);break;case"esriNAUDays":e*=Math.pow(1440,r?-1:1)}return e}function Hn(e,t,r){switch(e=e||0,(t||"").replace("esriNAU","esri")){case"esriInches":e*=Math.pow(.0254,r?-1:1);break;case"esriFeet":e*=Math.pow(.3048,r?-1:1);break;case"esriYards":e*=Math.pow(.9144,r?-1:1);break;case"esriMiles":e*=Math.pow(1609.344,r?-1:1);break;case"esriNauticalMiles":e*=Math.pow(1851.995396854,r?-1:1);break;case"esriMillimeters":e/=Math.pow(1e3,r?-1:1);break;case"esriCentimeters":e/=Math.pow(100,r?-1:1);break;case"esriKilometers":e*=Math.pow(1e3,r?-1:1);break;case"esriDecimeters":e/=Math.pow(10,r?-1:1)}return e}function Gn(e){return e&&e.get("attributes.isWaypoint")}function Wn(e){return e._associatedStop}function Jn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.unit,n=void 0===r?"minutes":r;return $n(e,n)}function $n(e,t){var r="days"===(t=t.toLowerCase())?24*e:"hours"===t?e:"minutes"===t?e/60:e/60/60;if(r<1)return"".concat(Math.floor(60*r),"m");var n=r%1*60;return"".concat(Math.floor(r),":").concat(String(Math.floor(n)).padStart(2,"0"),"h")}function Zn(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.fromUnits,a=n.toUnits,o=zn(r,i,a);if(!o)return"";var s=t.units[a],c=s?s.abbr:a.replace("esri","").toLowerCase();return Object(we.a)(e.distanceTemplate,{distance:o,units:c},{format:{distance:{type:"number",intlOptions:{minimumFractionDigits:2,maximumFractionDigits:2}}}})}function Qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var Yn=v.a.getLogger("esri.widgets.Directions.DirectionsViewModel"),ei={first:new ne.a({color:[105,220,255,1],size:19,outline:{color:[51,51,51,1],width:3}}),middle:new ne.a({color:[51,51,51,1],size:12,outline:{color:[105,220,255,1],width:3}}),last:new ee.a({width:23,height:23,url:"data:image/svg+xml;base64,".concat(btoa('<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M15.15.3C6.9.3.3 6.9.3 15.15S6.9 29.7 15.15 29.7 29.7 23.1 29.7 15.15C29.7 6.9 23.25.3 15.15.3z" fill="#333"/><path d="M15 4.8C9.3 4.8 4.8 9.45 4.8 15c0 5.55 4.65 10.2 10.2 10.2 5.55 0 10.2-4.5 10.2-10.2 0-5.55-4.5-10.2-10.2-10.2z" fill="#69DCFF"/><path fill="#333" d="M10.5 10.5h9v9h-9z"/></g></svg>'))}),unlocated:new ee.a({height:18,width:18,url:"data:image/svg+xml;base64,".concat(btoa('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M10.1.2C4.6.2.2 4.6.2 10.1s4.4 9.7 9.9 9.7 9.7-4.4 9.7-9.7c0-5.5-4.3-9.9-9.7-9.9z" fill="#333" fill-rule="nonzero"/><path d="M10 2.7c-4.08 0-7.3 3.328-7.3 7.3s3.328 7.3 7.3 7.3 7.3-3.22 7.3-7.3c0-3.972-3.22-7.3-7.3-7.3z" fill="#69DCFF" fill-rule="nonzero"/><path d="M11.414 10l5.304-5.303-1.415-1.415L10 8.586 4.697 3.282 3.282 4.697 8.586 10l-5.304 5.303 1.415 1.415L10 11.414l5.303 5.304 1.415-1.415L11.414 10z" fill="#333"/></g></svg>'))}),waypoint:new ne.a({color:[255,255,255,1],size:10,outline:{color:[20,89,127,1],width:2.5}})},ti=function(e){Object(o.a)(s,e);var t,r,n=Kn(s);function s(e){var t;return Object(i.a)(this,s),(t=n.call(this,e))._handles=new p.a,t._routeLayer=new Mn.default({listMode:"hide"}),t._highlightLayer=new Mn.default({listMode:"hide"}),t._stopId=9999,t._stopLayer=new Mn.default({listMode:"hide"}),t._serviceDescriptionLoadStatus=0,t.apiKey=void 0,t.departureTime="now",t.lastRoute=null,t.routeSymbol=new re.a({color:[105,220,255,1],width:7,cap:"round",join:"round"}),t.routeParameters=new Nn({doNotLocateOnRestrictedElements:!0,ignoreInvalidLocations:!0,directionsOutputType:"complete",findBestSequence:!1,preserveFirstStop:!0,preserveLastStop:!0,restrictUTurns:"at-dead-ends-and-intersections",directionsLengthUnits:"kilometers",returnBarriers:!1,returnDirections:!0,returnPolygonBarriers:!1,returnPolylineBarriers:!1,returnRoutes:!1,returnStops:!0,returnZ:!0,startTime:null,startTimeIsUTC:!0,stops:null,useHierarchy:!0,useTimeWindows:!1}),t.routeServiceUrl="https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",t.serviceDescription=null,t.error=null,t.stops=new l.a,t.view=null,t}return Object(a.a)(s,[{key:"initialize",value:function(){var e=this;this._handles.add([Object(d.b)(this,"stops","change",(function(){e.clearResults(),e._addStopsToLayer()})),Object(d.a)(this,"view.map",(function(t,r){var n=[e._routeLayer,e._stopLayer,e._highlightLayer];r&&r.removeMany(n),t&&t.addMany(n)})),Object(d.d)(this,"lastRoute",(function(){return e._addRouteToLayer()}))])}},{key:"destroy",value:function(){this.stops.destroy();var e=this.get("view.map");e&&e.removeMany([this._routeLayer,this._stopLayer,this._highlightLayer])}},{key:"_directionsLanguage",get:function(){var e=this.routeParameters,t=this.serviceDescription.directionsSupportedLanguages;if(t){var r=(e.directionsLanguage||Object(N.b)()).slice(0,2);return t.find((function(e){return e.toLowerCase().slice(0,2)===r}))}}},{key:"_routeTask",get:function(){return new Bn.default(this.routeServiceUrl)}},{key:"impedanceAttribute",get:function(){var e,t,r,n,i,a,o=null!=(e=null!=(t=null==(r=this.routeParameters)||null==(n=r.travelMode)?void 0:n.impedanceAttributeName)?t:null==(i=this.routeParameters)?void 0:i.impedanceAttribute)?e:null==(a=this.serviceDescription)?void 0:a.impedance;return this.getCostAttribute(o)}},{key:"maxStops",set:function(e){e=e<=2?2:e>50?50:e,this._set("maxStops",e)}},{key:"selectedTravelMode",get:function(){var e=this.serviceDescription;if(!e)return null;for(var t=e.defaultTravelMode,r=e.supportedTravelModes,n=void 0===r?[]:r,i=null,a=0;a<n.length;a++)n[a].id===t&&(i=n[a]);return i||n[0]||null},set:function(e){void 0!==e?this._override("selectedTravelMode",e):this._clearOverride("selectedTravelMode")}},{key:"state",get:function(){var e=this._serviceDescriptionLoadStatus;return 4===e?"unauthenticated":0===e?"disabled":1===e?"initializing":this._activeRouteController?"routing":3===e||this.error?"error":"ready"}},{key:"stopSymbols",set:function(e){var t=Xn(Xn({},ei),e);this._set("stopSymbols",t)}},{key:"timeAttribute",get:function(){var e,t,r,n,i,a,o=null!=(e=null!=(t=null==(r=this.routeParameters)||null==(n=r.travelMode)?void 0:n.timeAttributeName)?t:null==(i=this.routeParameters)?void 0:i.directionsTimeAttribute)?e:null==(a=this.serviceDescription)?void 0:a.directionsTimeAttribute;return this.getCostAttribute(o)}},{key:"travelModes",get:function(){var e,t;return null!=(e=null==(t=this.serviceDescription)?void 0:t.supportedTravelModes)?e:[]}},{key:"load",value:(r=Object(x.a)(P.a.mark((function e(){var t,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.serviceDescription){e.next=16;break}return e.prev=1,this._serviceDescriptionLoadStatus=1,this.notifyChange("state"),e.next=6,this._loadServiceDescription();case 6:this._serviceDescriptionLoadStatus=2,this.notifyChange("state"),e.next=16;break;case 10:if(e.prev=10,e.t0=e.catch(1),t="identity-manager:user-aborted"===e.t0.name,this._serviceDescriptionLoadStatus=t?4:3,this.notifyChange("state"),t){e.next=16;break}throw r=new A.a("directions-view-model:service-metadata-unavailable","Cannot load route service metadata",{error:e.t0}),this._set("error",r),r;case 16:case"end":return e.stop()}}),e,this,[[1,10]])}))),function(){return r.apply(this,arguments)})},{key:"highlightSegment",value:function(e){var t=this.view,r=this._highlightLayer;if(t&&!Object(D.h)(e.symbol)){this.clearHighlights();var n=e.symbol.clone();n.color=new U.a([0,0,0,.8]),n.width=Math.ceil(n.width/2);var i=new M.a({geometry:e.geometry,symbol:n});r.graphics.add(i)}}},{key:"clearHighlights",value:function(){this._highlightLayer.graphics.removeAll()}},{key:"centerAt",value:function(e){this.view&&this.callGoTo({target:e})}},{key:"clearResults",value:function(){this._set("lastRoute",null)}},{key:"getDirections",value:function(){var e=this,t=this.state;if("unauthenticated"===t||"initializing"===t||"disabled"===t||3===this._serviceDescriptionLoadStatus)return Promise.reject(new A.a("directions-view-model:not-loaded","Cannot get directions until view model loads."));this._set("error",null),this._activeRouteController&&(this._activeRouteController.abort(),this._activeRouteController=null);var r=this.apiKey,n=this.departureTime,i="now"===n,a="now"===n?new Date:n;if(a&&!i){var o=60*a.getTimezoneOffset()*1e3;a.setTime(a.getTime()-o)}var s=this.routeParameters.clone();if(s.set({startTime:a,startTimeIsUTC:i,directionsLanguage:this._directionsLanguage,apiKey:r}),this.selectedTravelMode&&(s.travelMode=this.selectedTravelMode),this.stops.length<=1){var c=new A.a("directions-view-model:not-enough-stops","Not enough stops for routing");return this._set("error",c),Promise.reject(c)}var u=new AbortController,l=u.signal;this._activeRouteController=u;var f=this._enqueue((function(){var t=e.stops.clone().toArray(),r={},n=function(e){var n=e&&e.routeResults&&e.routeResults[0]&&e.routeResults[0].stops||[];(e&&e.routeResults&&e.routeResults[0]&&e.routeResults[0].directions&&e.routeResults[0].directions.features||[]).map((function(e){for(var n=0;n<t.length;n++)if(e.attributes.text.indexOf(t[n].attributes.Name)>-1){var i=t[n].attributes.Name;e.attributes.text=e.attributes.text.replace(i,r[i]),e._associatedStop=t[n];break}})),t.map((function(e){return e.attributes.Name=r[e.attributes.Name]})),n.map((function(e){e.attributes.Name=r[e.attributes.Name]}))};return t.map((function(t){var n=t.attributes,i="".concat((n.Name||"[not yet geocoded]").substr(0,100),"_#").concat(++e._stopId);r[i]=n.Name,n.Name=i})),s.stops=new Tn.default({features:t}),e._routeTask.solve(s,{signal:l}).then((function(t){return function(t){for(var n=t&&t.routeResults&&t.routeResults[0]&&t.routeResults[0].stops||[],i=e.stops.toArray(),a=n.length===i.length,o=0;a&&o<n.length;)a=a&&r[n[o].attributes.Name]===i[o++].attributes.Name;return a}(t)?(function(t){if(t&&t.routeResults&&t.routeResults[0]){var r=t.routeResults[0],n=r.stops||[],i=e.stops.clone().toArray(),a=r.directions&&r.directions.routeName||r.routeName||"";n.map((function(e,t){var r=e.attributes,n=i[t].attributes;a=a.replace(r.Name,n.Name),Object.keys(r).forEach((function(e){0===e.indexOf("Cumul_")&&(n[e]=r[e])})),n.ArriveCurbApproach=r.ArriveCurbApproach,n.ArriveTime=r.ArriveTime,n.ArriveTimeUTC=r.ArriveTimeUTC,n.DepartCurbApproach=r.DepartCurbApproach,n.DepartTime=r.DepartTime,n.DepartTimeUTC=r.DepartTimeUTC,n.Sequence=r.Sequence,n.Status=r.Status})),r.directions&&(r.directions.routeName=a),null!==r.route&&(r.route.attributes.Name=a),r.routeName=a}}(t),n(t),e._set("lastRoute",t),t):(Yn.warn("Response stops don't match current stops of the ViewModel, invalidating the results."),e._set("lastRoute",null),null)})).catch((function(e){throw n(null),e}))})).then((function(t){return e._activeRouteController=null,e.notifyChange("state"),e.zoomToRoute(),t})).catch((function(t){if(e._activeRouteController=null,e.notifyChange("state"),!Object(j.m)(t))throw t=new A.a("directions-view-model:unable-to-route","Unable to route to these addresses",{error:t}),e._set("error",t),t}));return this.notifyChange("state"),f}},{key:"getCostAttribute",value:function(e){for(var t=this.serviceDescription&&this.serviceDescription.networkDataset.networkAttributes||[],r="",n=0;n<t.length;n++)if(t[n].name===e&&"esriNAUTCost"===t[n].usageType){r=t[n];break}return r}},{key:"reset",value:function(){this.stops.removeAll(),this.clearHighlights(),this._set("lastRoute",null)}},{key:"zoomToRoute",value:function(){var e=this.directionLines,t=this.view;if(e&&t){var r=function(e){if(!e||!e.length)return null;var t=Object(D.p)(l.a.isCollection(e)?e.getItemAt(0).geometry:e[0].geometry),r=t.extent&&t.extent.clone(),n=t;null===r&&(r=new he.a(n.x,n.y,n.x,n.y,t.spatialReference));for(var i=1;i<e.length;i++){n=t=Object(D.p)(l.a.isCollection(e)?e.getItemAt(i).geometry:e[i].geometry);var a=t.extent;null===a&&(a=new he.a(n.x,n.y,n.x,n.y,t.spatialReference)),r=r.union(a)}return r.width<0&&r.height<0?null:r}(e),n=r.width>r.height;this.callGoTo({target:r.expand(n?2:1)})}}},{key:"_loadServiceDescription",value:(t=Object(x.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(En.c)(this.routeServiceUrl,this.apiKey);case 2:t=e.sent,this._set("serviceDescription",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_enqueue",value:function(e){var t=this;this._requestQueueTail||(this._requestQueueTail=Promise.resolve());var r=new Promise((function(r,n){t._requestQueueTail.catch((function(){})).then((function(){try{var i=e.call(t);Object(j.p)(i)?i.then(r,n):r(i)}catch(a){n(a)}}))}));return this._requestQueueTail=r,r}},{key:"_addStopsToLayer",value:function(){var e=this;this._stopLayer.graphics.removeAll();var t=this.stops.clone().map((function(t,r){var n=e.stopSymbols,i=n.first,a=n.middle,o=n.last,s=n.unlocated,c=n.waypoint;return Gn(t)?t.symbol=c:void 0===t.attributes.Status?t.symbol=0===r?i:r===e.stops.length-1?o:a:t.symbol=Gn(t)?c:function(e){var t=e&&e.get("attributes.Status");return!t||6===t}(t)?function(e){var t=e&&e.attributes||{};return null===(t.ArriveCurbApproach||null)&&null!==(t.DepartCurbApproach||null)}(t)?i:function(e){var t=e&&e.attributes||{};return null!==(t.ArriveCurbApproach||null)&&null===(t.DepartCurbApproach||null)}(t)?o:a:s,t}));this._stopLayer.graphics.addMany(t)}},{key:"_addRouteToLayer",value:function(){var e=this;this._routeLayer.graphics.removeAll();var t=this.directionLines;t&&(t.forEach((function(t){t.symbol=e.routeSymbol})),this._routeLayer.graphics.addMany(t))}}]),s}(Object(ar.a)(C.a.EventedAccessor));Object(u.a)([Object(m.b)()],ti.prototype,"_directionsLanguage",null),Object(u.a)([Object(m.b)({type:Bn.default})],ti.prototype,"_routeTask",null),Object(u.a)([Object(m.b)()],ti.prototype,"apiKey",void 0),Object(u.a)([Object(m.b)()],ti.prototype,"departureTime",void 0),Object(u.a)([Object(m.b)({aliasOf:"lastRoute.routeResults.0.directions.features"})],ti.prototype,"directionLines",void 0),Object(u.a)([Object(m.b)({readOnly:!0})],ti.prototype,"impedanceAttribute",null),Object(u.a)([Object(m.b)({readOnly:!0})],ti.prototype,"lastRoute",void 0),Object(u.a)([Object(m.b)({value:50})],ti.prototype,"maxStops",null),Object(u.a)([Object(m.b)()],ti.prototype,"routeSymbol",void 0),Object(u.a)([Object(m.b)({type:Nn})],ti.prototype,"routeParameters",void 0),Object(u.a)([Object(m.b)()],ti.prototype,"routeServiceUrl",void 0),Object(u.a)([Object(m.b)()],ti.prototype,"selectedTravelMode",null),Object(u.a)([Object(m.b)({readOnly:!0})],ti.prototype,"serviceDescription",void 0),Object(u.a)([Object(m.b)({readOnly:!0})],ti.prototype,"state",null),Object(u.a)([Object(m.b)()],ti.prototype,"error",void 0),Object(u.a)([Object(m.b)({type:l.a})],ti.prototype,"stops",void 0),Object(u.a)([Object(m.b)({value:ei})],ti.prototype,"stopSymbols",null),Object(u.a)([Object(m.b)({readOnly:!0})],ti.prototype,"timeAttribute",null),Object(u.a)([Object(m.b)()],ti.prototype,"travelModes",null),Object(u.a)([Object(m.b)()],ti.prototype,"view",void 0),Object(u.a)([Object(m.b)()],ti.prototype,"getDirections",null),Object(u.a)([Object(m.b)()],ti.prototype,"zoomToRoute",null);var ri=ti=Object(u.a)([Object(g.a)("esri.widgets.Directions.DirectionsViewModel")],ti);function ni(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var ii=function(e){Object(o.a)(r,e);var t=ni(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).messages=null,e.messagesUnits=null,e}return Object(a.a)(r,[{key:"primary",get:function(){var e=this.get("directionsViewModel.lastRoute.routeResults.0.directions"),t=this.directionsViewModel.impedanceAttribute,r=this.get("directionsViewModel.routeParameters.directionsLengthUnits");return Un(t.units)?Jn(e.totalTime,{unit:t.units.replace("esriNAU","")}):Zn(this.messages,this.messagesUnits,e.totalLength,{toUnits:r})}},{key:"secondary",get:function(){var e=this.get("directionsViewModel.lastRoute.routeResults.0.directions"),t=this.get("directionsViewModel.routeParameters.directionsLengthUnits");return Un(this.directionsViewModel.impedanceAttribute.units)?Zn(this.messages,this.messagesUnits,e.totalLength,{toUnits:t}):Jn(e.totalTime)}}]),r}(T.a);Object(u.a)([Object(m.b)()],ii.prototype,"directionsViewModel",void 0),Object(u.a)([Object(m.b)()],ii.prototype,"messages",void 0),Object(u.a)([Object(m.b)()],ii.prototype,"messagesUnits",void 0),Object(u.a)([Object(m.b)({readOnly:!0})],ii.prototype,"primary",null),Object(u.a)([Object(m.b)({readOnly:!0})],ii.prototype,"secondary",null);var ai=ii=Object(u.a)([Object(g.a)("esri.widgets.Directions.support.CostSummary")],ii),oi={esriDMTBearLeft:"bear-left",esriDMTBearRight:"bear-right",esriDMTDoorPassage:"walk-through-door",esriDMTElevator:"elevator",esriDMTEndOfFerry:"disembark",esriDMTEscalator:"escalator",esriDMTFerry:"embark",esriDMTForkCenter:"fork-middle",esriDMTForkLeft:"fork-left",esriDMTForkRight:"fork-right",esriDMTHighwayChange:"highway-change",esriDMTHighwayExit:"exit-highway-right",esriDMTHighwayMerge:"merge-on-highway",esriDMTPedestrianRamp:"take-pedestrian-ramp",esriDMTRampLeft:"ramp-left",esriDMTRampRight:"ramp-right",esriDMTRoundabout:"roundabout-left",esriDMTSharpLeft:"sharp-left",esriDMTSharpRight:"sharp-right",esriDMTStairs:"stairs",esriDMTStraight:"straight",esriDMTTurnLeft:"left",esriDMTTurnLeftLeft:"left-left",esriDMTTurnLeftRight:"left-right",esriDMTTurnRight:"right",esriDMTTurnRightLeft:"right-left",esriDMTTurnRightRight:"right-right",esriDMTUnknown:"unknown",esriDMTUTurn:"u-turn-left"};var si="esri-directions esri-widget esri-widget--panel",ci="esri-directions__clear-route-button",ui="esri-directions__scroller",li="esri-directions__panel-content",fi="esri-directions__panel-content--loading",pi="esri-directions__panel-content--error",di="esri-directions__panel-content--sign-in",hi="esri-directions__loader",bi="esri-directions__message",yi="esri-directions__travel-modes-select",vi="esri-directions__departure-time",mi="esri-directions__departure-time-select",gi="esri-directions__directions-section",Oi="esri-directions__departure-time-controls",ji="esri-directions__section",wi="esri-directions__summary",_i="esri-directions__stop-icon",ki="esri-directions__stop-icon--interactive",xi="esri-directions__remove-stop",Si="esri-directions__remove-stop-icon",Pi="esri-directions__reverse-stops",Ii="esri-directions__stop-icon-container",Ri="esri-directions__stop-icon-container--last",Mi="esri-directions__stop-handle",Ei="esri-directions__stop-input",Ti="esri-directions__stop-options",Ai="esri-directions__stop-handle-icon",Ci="esri-directions__vertical-splitter",Di="esri-directions__stop-row",Li="esri-directions__stop-row-ghost",Fi="esri-directions__stop-row--valid",Ni="esri-directions__stops",Bi="esri-directions__add-stop",Vi="esri-directions__add-stop-text",Ui="esri-directions__costs",zi="esri-directions__costs-details",qi="esri-directions__costs-value",Hi="esri-directions__other-costs-total",Gi="esri-directions__route-actions",Wi="esri-directions__maneuvers",Ji="esri-directions__maneuver-list",$i="esri-directions__maneuver-section",Zi="esri-directions__maneuver-section-header",Qi="esri-directions__maneuver-section-header-toggle-button",Xi="esri-directions__maneuver-section-title",Ki="esri-directions__maneuver-section--collapsible",Yi="esri-directions__maneuver-section-toggle",ea="esri-directions__maneuver",ta="esri-directions__maneuver--active",ra="esri-directions__maneuver-costs",na="esri-directions__maneuver-costs-container",ia="esri-directions__maneuver-icon",aa="esri-directions__cost--cumulative",oa="esri-directions__cost--intermediate",sa="esri-directions__horizontal-splitter",ca="esri-directions__section-splitter",ua="esri-directions__disclaimer",la="esri-directions__sign-in-content",fa="esri-directions__sign-in-button",pa="esri-directions__content-title",da="esri-directions__warning-card",ha="esri-directions__warning-header",ba="esri-directions__warning-heading",ya="esri-directions__warning-message",va="esri-icon-radio-unchecked",ma="esri-icon-radio-checked",ga="esri-icon-handle-vertical",Oa="esri-icon-plus",ja="esri-icon-trash",wa="esri-icon-up-down-arrows",_a="esri-icon-down",ka="esri-icon-up",xa="esri-icon-notice-triangle",Sa="esri-icon-directions",Pa="esri-widget__anchor",Ia="esri-button",Ra="esri-button--secondary",Ma="esri-button--tertiary",Ea="esri-widget__content--empty",Ta="esri-widget__content-illustration--empty",Aa="esri-select",Ca="esri-icon-font-fallback-text";function Da(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var La=function(e){Object(o.a)(r,e);var t=Da(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).maneuvers=[],n.name=null,n.open=!1,n}return r}(T.a);Object(u.a)([Object(m.b)()],La.prototype,"maneuvers",void 0),Object(u.a)([Object(m.b)()],La.prototype,"name",void 0),Object(u.a)([Object(m.b)()],La.prototype,"open",void 0);var Fa=La=Object(u.a)([Object(g.a)("esri.widgets.Directions.support.RouteSection")],La);function Na(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var Ba=function(e){Object(o.a)(r,e);var t=Na(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).routePath=null,n}return Object(a.a)(r,[{key:"sections",get:function(){var e=this.routePath;return e?this._createSections(e):[]}},{key:"_createSections",value:function(e){var t=(e=this._filterDuplicateStops(e)).map((function(e,t){return Wn(e)?t:-1})).filter((function(e){return e>-1}));return t.map((function(r,n){var i=Wn(e[r]).attributes.Name,a=n===t.length-1?[]:e.slice(t[n]+1,t[n+1]);return new Fa({name:i,maneuvers:a,open:0===n})}))}},{key:"_filterDuplicateStops",value:function(e){var t;return e.filter((function(e){var r=Wn(e),n=r===t;return t=r,!r||!n}))}}]),r}(T.a);Object(u.a)([Object(m.b)()],Ba.prototype,"routePath",void 0),Object(u.a)([Object(m.b)({readOnly:!0})],Ba.prototype,"sections",null);var Va=Ba=Object(u.a)([Object(g.a)("esri.widgets.Directions.support.RouteSections")],Ba),Ua=r("QdvJ"),za=r("ucOy");function qa(e){for(var t=[//g,//g,//g,//g,//g,//g,//g,//g,//g,//g],r=0;r<10;r++)e=e.replace(t[r],r.toString());return Number(e)}function Ha(e){return new A.a("could not parse date input, expecting the following format: ".concat(Object(_e.b)(Date.now(),e)))}function Ga(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var Wa=function(e){Object(o.a)(r,e);var t=Ga(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).state="ready",e.value=new Date,e}return r}(T.a);Object(u.a)([Object(m.b)()],Wa.prototype,"state",void 0),Object(u.a)([Object(m.b)()],Wa.prototype,"value",void 0);var Ja=Wa=Object(u.a)([Object(g.a)("esri.widgets.support.MomentElementViewModel")],Wa);function $a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var Za=function(e){Object(o.a)(r,e);var t=$a(r);function r(e){return Object(i.a)(this,r),t.call(this,e)}return r}(Ja),Qa=Za=Object(u.a)([Object(g.a)("esri.widgets.support.DatePickerViewModel")],Za),Xa=r("xZtp");function Ka(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var Ya="esri-date-picker",eo="esri-date-picker__calendar",to="esri-date-picker__month-picker",ro="esri-date-picker__day-picker",no="esri-date-picker__week-item",io="esri-date-picker__day-item--nearby-month",ao="esri-date-picker__day-item--active",oo="esri-date-picker__day-item--today",so="esri-date-picker__day-item--selected",co="esri-date-picker__day-item",uo="esri-date-picker__day-item--header",lo="esri-date-picker__year-picker",fo="esri-date-picker__year-picker-item--selected",po="esri-date-picker__year-picker-item",ho="esri-date-picker__month-dropdown",bo="esri-date-picker__date",yo="esri-date-picker__calendar-toggle",vo="esri-date-picker__input",mo="esri-date-picker__text-input",go="esri-date-picker__icon--leading",Oo="esri-icon-left",jo="esri-icon-right",wo="esri-icon-calendar",_o="esri-widget",ko="esri-widget--button",xo="esri-input",So="esri-select",Po={year:"numeric",month:"2-digit",day:"2-digit"},Io=[" ","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Enter","Home","PageDown","PageUp"],Ro=v.a.getLogger("esri.widgets.support.DatePicker"),Mo=function(e){Object(o.a)(s,e);var t,r=Ka(s);function s(e,t){var n;return Object(i.a)(this,s),(n=r.call(this,e,t))._activeDate=null,n._calendarNode=null,n._calendarPopover=new Xa.a({owner:Object(O.a)(n),placement:"bottom-start",anchorElement:function(){return n._rootNode},renderContentFunction:n._renderCalendar}),n._inputOrButtonNode=null,n._isOpen=!1,n._requestDayPickerFocusOnCreate=!1,n._rootNode=null,n.dateInputEnabled=!1,n.label=void 0,n.messages=null,n.value=null,n.commitOnMonthChange=!1,n.viewModel=new Qa,n._toggle=n._toggle.bind(Object(O.a)(n)),n}return Object(a.a)(s,[{key:"initialize",value:function(){var e=this;this.own(Object(Ua.b)((function(){var t;return{viewModel:e.viewModel,value:null==(t=e.viewModel)?void 0:t.value}}),(function(t){var r=t.viewModel,n=t.value;e.destroyed||!r||Object(D.h)(e.onChange)||e.onChange(n)})))}},{key:"loadLocale",value:(t=Object(x.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(za.a)();case 2:this._moment=e.sent,this._isOpen&&(this._activeDate=this._moment(this._activeDate.toDate()));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"destroy",value:function(){this._calendarPopover.destroy()}},{key:"render",value:function(){return Object(gr.a)("div",{afterCreate:Or.k,bind:this,class:this.classes(Ya,_o),"data-node-ref":"_rootNode"},this.dateInputEnabled?this.renderInputAndButtonMode():this.renderButtonOnlyMode())}},{key:"renderButtonOnlyMode",value:function(){var e=Object(_e.b)(this.viewModel.value,Po),t=this._isOpen,r=this.messages;return Object(gr.a)("div",{afterCreate:Or.k,"aria-controls":t?this._getCalendarId():null,"aria-expanded":t.toString(),"aria-haspopup":"true","aria-label":r.setDate,"aria-pressed":t.toString(),bind:this,class:this.classes(ko,So,yo),"data-node-ref":"_inputOrButtonNode",onclick:this._toggle,onkeydown:this._handleDateButtonKeyDown,role:"button",tabIndex:0},Object(gr.a)("span",{class:bo},e))}},{key:"renderInputAndButtonMode",value:function(){var e=Object(_e.b)(this.viewModel.value,Po),t=this._isOpen,r=this.messages;return Object(gr.a)("div",{class:this.classes(vo)},Object(gr.a)("input",{afterCreate:Or.k,"data-node-ref":"_inputOrButtonNode","aria-controls":t?this._getCalendarId():null,"aria-haspopup":"true","aria-label":r.setDate,bind:this,class:this.classes(mo,xo),key:"date-input",onblur:this._handleDateInputBlur,onclick:this._handleDateInputClick,onkeydown:this._handleDateInputKeyDown,type:"text",value:e}),Object(gr.a)("span",{"aria-hidden":"true",class:this.classes(go,wo)}))}},{key:"_handleDateInputClick",value:function(){this._open(this.viewModel.value,!1)}},{key:"_handleDateInputKeyDown",value:function(e){var t=e.key;this._isOpen?"Enter"===t?this._handleDateText(e):"Escape"===t&&this._close():"ArrowDown"===t&&(this._open(this.viewModel.value),e.preventDefault())}},{key:"_handleDateButtonKeyDown",value:function(e){var t=e.key,r=e.shiftKey;this._isOpen&&"Tab"===t&&r?this._close():Object(Or.f)(t)&&this._toggle()}},{key:"_handleDateInputBlur",value:function(e){this._isOpen||this._handleDateText(e)}},{key:"_handleDateText",value:function(e){var t,r=e.currentTarget;try{t=function(e,t){var r=Object(_e.c)(t),n=Date.now(),i=r.formatToParts(n),a=new Set;i.filter((function(e){return"literal"===e.type})).forEach((function(e){var t=e.value;return a.add(t)}));for(var o=0,s={};i.length>0;)for(var c=i.shift(),u=c.type,l=c.value,f=0;f<l.length;f++,o++){var p=e.charAt(o);if(a.has(p)){o++;break}if("literal"===u)break;s[u]||(s[u]=[]),s[u].push(p)}var d={};try{d.day=qa(s.day.join("")),d.month=qa(s.month.join(""))-1,d.year=qa((s.year||s.relatedYear).join(""))}catch(h){throw Ha(t)}if(isNaN(d.day)||isNaN(d.month)||isNaN(d.year))throw Ha(t);return d}(r.value,Po)}catch(i){return Ro.warn(i),void(r.value=Object(_e.b)(this.viewModel.value,Po))}var n=this._moment(t);n.isValid()?(this.viewModel.value=n.toDate(),this._activeDate=n):r.value=Object(_e.b)(this.viewModel.value,Po)}},{key:"_handleDatePickerKeydown",value:function(e){"Escape"===Object(f.a)(e)&&(this._close(),e.preventDefault(),e.stopPropagation())}},{key:"_renderCalendar",value:function(){var e=this._activeDate,t=this._moment(this.viewModel.value);return Object(gr.a)("div",{afterCreate:Or.k,bind:this,class:this.classes(eo,_o),"data-node-ref":"_calendarNode",id:this._getCalendarId(),key:"esri-date-picker__calendar",onkeydown:this._handleDatePickerKeydown},this._renderMonthPicker(e),this._renderDayPicker(e,t),this._renderYearPicker(e))}},{key:"_getCalendarId",value:function(){return"date-picker__calendar--".concat(this.id)}},{key:"_renderMonthPicker",value:function(e){var t=Object(Or.h)(),r=t?jo:Oo,n=t?Oo:jo,i=this._moment.months().map((function(t,r){var n=e.month()===r;return Object(gr.a)("option",{selected:n},t)})),a=this.messages;return Object(gr.a)("div",{class:to},Object(gr.a)("div",{"aria-label":a.goToPreviousMonth,bind:this,class:ko,onclick:this._setPreviousMonth,onkeydown:this._handlePreviousMonthKeyDown,role:"button",tabIndex:0,title:a.goToPreviousMonth},Object(gr.a)("span",{"aria-hidden":"true",class:r})),Object(gr.a)("select",{"aria-live":"assertive","aria-label":a.selectMonth,bind:this,class:this.classes(ho,So),id:"".concat(this.id,"__month-picker"),onchange:this._setMonth,onkeydown:this._setMonth,title:a.selectMonth},i),Object(gr.a)("div",{"aria-label":a.goToNextMonth,bind:this,class:ko,onclick:this._setNextMonth,onkeydown:this._setNextMonth,role:"button",tabIndex:0,title:a.goToNextMonth},Object(gr.a)("span",{"aria-hidden":"true",class:n})))}},{key:"_renderDayPicker",value:function(e,t){var r=this,n=e.clone().day(this._moment.localeData().firstDayOfWeek()),i=this._getWeekLabels(n),a=this._getDayId(e),o=this._renderMonth(e,t);return Object(gr.a)("div",{afterCreate:this._handleDayPickerCreate,"aria-activedescendant":a,"aria-labelledby":"".concat(this.id,"__month-picker ").concat(this.id,"__selected-year"),bind:this,class:ro,id:"".concat(this.id,"__day-picker"),onkeydown:this._handleDayPickerKeydown,role:"grid",tabIndex:0},Object(gr.a)("div",{class:no,role:"row"},i.map((function(e){return Object(gr.a)("div",{"aria-label":e.name,class:r.classes(co,uo),role:"columnheader",title:e.name},e.abbr)}))),o)}},{key:"_getDayId",value:function(e){return"".concat(this.id,"__").concat(Object(_e.b)(e.valueOf(),Po))}},{key:"_handleDayPickerCreate",value:function(e){this._requestDayPickerFocusOnCreate&&(this._requestDayPickerFocusOnCreate=!1,e.focus())}},{key:"_getWeekLabels",value:function(e){for(var t=[],r={weekday:"long"},n={weekday:"narrow"},i=0;i<7;i++)t.push({name:Object(_e.b)(e.valueOf(),r),abbr:Object(_e.b)(e.valueOf(),n)}),e.add(1,"day");return t}},{key:"_handleDayPickerKeydown",value:function(e){var t=e.ctrlKey,r=e.shiftKey,n=Object(f.a)(e),i=this._activeDate;if(-1!==Io.indexOf(n)){if("ArrowLeft"===n)i.subtract(1,"day");else if("ArrowRight"===n)i.add(1,"day");else if("ArrowUp"===n)i.subtract(1,"week");else if("ArrowDown"===n)i.add(1,"week");else if("PageUp"===n){var a=r?"year":"month";i.subtract(1,a)}else if("PageDown"===n){var o=r?"year":"month";i.add(1,o)}else if("Home"===n){var s=t?"year":"month";i.startOf(s)}else if("End"===n){var c=t?"year":"month";i.endOf(c)}else Object(Or.f)(n)&&(this.viewModel.value=i.toDate(),this._close());e.preventDefault(),e.stopPropagation()}}},{key:"_renderMonth",value:function(e,t){for(var r=this._moment(),i=e.clone().startOf("month"),a=e.clone().endOf("month"),o=i.clone().subtract(i.weekday(),"day"),s=[],c=0;c<6;c++){for(var u=[],l=0;l<7;l++){var f,p=o.date(),d=o.isSame(e,"day"),h=o.isSame(t,"day"),b=this._getDayId(o),y=(f={},Object(n.a)(f,io,!o.isBetween(i,a,null,"[]")),Object(n.a)(f,oo,o.isSame(r,"day")),Object(n.a)(f,ao,d),Object(n.a)(f,so,h),f);u.push(Object(gr.a)("div",{"aria-label":p.toString(),"aria-selected":d.toString(),bind:this,class:this.classes(co,y),"data-iso-date":o.toISOString(),id:b,onclick:this._handleSelectedDate,onkeydown:this._handleSelectedDate,role:"gridcell"},p)),o.add(1,"day")}s.push(Object(gr.a)("div",{class:no,role:"row"},u))}return s}},{key:"_renderYearPicker",value:function(e){var t={year:"numeric"},r=e.clone(),n=Object(_e.b)(r.valueOf(),t),i=Object(_e.b)(r.add(1,"year").valueOf(),t),a=Object(_e.b)(r.subtract(2,"year").valueOf(),t),o=this.messages;return Object(gr.a)("div",{class:lo},Object(gr.a)("div",{"aria-label":o.goToPreviousYear,bind:this,class:po,onclick:this._setPreviousYear,onkeydown:this._setPreviousYear,tabIndex:0,title:o.goToPreviousYear},a),Object(gr.a)("div",{class:this.classes(po,fo),id:"".concat(this.id,"__selected-year")},n),Object(gr.a)("div",{"aria-label":o.goToNextYear,bind:this,class:po,onclick:this._setNextYear,onkeydown:this._handleNextYearKeyDown,tabIndex:0,title:o.goToNextYear},i))}},{key:"_toggle",value:function(){this._isOpen?this._close():this._open(this.viewModel.value)}},{key:"_setMonth",value:function(e){var t=e.target.value;this._activeDate.month(t),this.commitOnMonthChange&&(this.viewModel.value=this._activeDate.toDate())}},{key:"_close",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._activeDate=null,this._isOpen=!1,this._calendarPopover.open=!1,this.pageClickHandler.pause(),e&&this._inputOrButtonNode.focus()}},{key:"_open",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._activeDate=this._moment(e),this._isOpen=!0,this._calendarPopover.open=!0,this._requestDayPickerFocusOnCreate=r,this.pageClickHandler||(this.pageClickHandler=Object(f.e)(document,"click",(function(e){var r,n,i=e.target;(null==(r=t._calendarNode)?void 0:r.contains(i))||(null==(n=t._rootNode)?void 0:n.contains(i))||t._close()})),this.own(this.pageClickHandler)),this.pageClickHandler.resume()}},{key:"_setPreviousMonth",value:function(){this._activeDate.subtract(1,"month"),this.commitOnMonthChange&&(this.viewModel.value=this._activeDate.toDate())}},{key:"_handlePreviousMonthKeyDown",value:function(e){if("Tab"===e.key&&e.shiftKey)return e.preventDefault(),void this._close();Object(Or.f)(e.key)&&this._setPreviousMonth()}},{key:"_setNextMonth",value:function(){this._activeDate.add(1,"month"),this.commitOnMonthChange&&(this.viewModel.value=this._activeDate.toDate())}},{key:"_setPreviousYear",value:function(){this._activeDate.subtract(1,"year")}},{key:"_setNextYear",value:function(){this._activeDate.add(1,"year")}},{key:"_handleNextYearKeyDown",value:function(e){if("Tab"===e.key&&!e.shiftKey)return e.preventDefault(),void this._close();Object(Or.f)(e.key)&&this._setNextYear()}},{key:"_handleSelectedDate",value:function(e){var t=e.target;this.viewModel.value=this._moment(t.getAttribute("data-iso-date")).toDate(),this._close()}}]),s}(_.a);Object(u.a)([Object(m.b)()],Mo.prototype,"dateInputEnabled",void 0),Object(u.a)([Object(m.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Mo.prototype,"label",void 0),Object(u.a)([Object(m.b)(),Object(mr.a)("esri/widgets/support/t9n/DatePicker")],Mo.prototype,"messages",void 0),Object(u.a)([Object(h.a)("viewModel.value")],Mo.prototype,"value",void 0),Object(u.a)([Object(m.b)()],Mo.prototype,"commitOnMonthChange",void 0),Object(u.a)([Object(m.b)({type:Qa})],Mo.prototype,"viewModel",void 0),Object(u.a)([Object(m.b)()],Mo.prototype,"onChange",void 0),Object(u.a)([Object(vr.a)()],Mo.prototype,"_setNextMonth",null),Object(u.a)([Object(vr.a)()],Mo.prototype,"_setPreviousYear",null),Object(u.a)([Object(vr.a)()],Mo.prototype,"_handleSelectedDate",null);var Eo=Mo=Object(u.a)([Object(g.a)("esri.widgets.support.DatePicker")],Mo),To=r("foBe");function Ao(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var Co=function(e){Object(o.a)(r,e);var t=Ao(r);function r(e){return Object(i.a)(this,r),t.call(this,e)}return r}(Ja),Do=Co=Object(u.a)([Object(g.a)("esri.widgets.support.TimePickerViewModel")],Co);function Lo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var Fo="esri-time-picker esri-widget",No="esri-time-picker__input",Bo="esri-input",Vo={hour:"numeric",minute:"numeric"},Uo=["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","Tab"];function zo(e){return Object(_e.b)(e.valueOf(),Vo).indexOf(" ")>-1}var qo=function(e){Object(o.a)(n,e);var t,r=Lo(n);function n(e,t){var a;return Object(i.a)(this,n),(a=r.call(this,e,t))._activeTime=null,a.label=void 0,a.messages=null,a.value=null,a.viewModel=new Do,a}return Object(a.a)(n,[{key:"loadLocale",value:(t=Object(x.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(za.a)();case 2:this._moment=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this._activeTime||this.viewModel.value;return Object(gr.a)("div",{class:Fo},Object(gr.a)("input",{afterUpdate:this._handleInputUpdate,"aria-label":this.messages.inputTitle,bind:this,class:this.classes(No,Bo),onblur:this._handleInputBlur,onfocus:this._handleInputFocus,onkeydown:this._handleInputKeydown,onclick:this._handleInputClick,onpaste:this._handleInputPaste,onwheel:this._handleInputWheel,value:Object(_e.b)(e.valueOf(),Vo)}))}},{key:"_handleInputBlur",value:function(){this._activeTime.isValid()&&(this.viewModel.value=this._activeTime.toDate()),this._activeTime=null,this._activePart=null}},{key:"_handleInputUpdate",value:function(e){this._selectPart(e,this._activePart)}},{key:"_selectPart",value:function(e,t){var r=this._activeTime;if(r){var n=Object(_e.b)(r.valueOf(),Vo),i=n.indexOf(":");if("hours"!==t){var a=i+1,o=a+2;if("minutes"!==t){var s=o+1,c=n.length;"meridiem"!==t||e.setSelectionRange(s,c)}else e.setSelectionRange(a,o)}else e.setSelectionRange(0,i)}}},{key:"_handleInputFocus",value:function(e){this._activePart="hours",this._activeTime=this._moment(this.viewModel.value).startOf("minute"),this._selectPart(e.target,"hours")}},{key:"_caretIndexToPartName",value:function(e){var t=this._activeTime.format("LT"),r=t.indexOf(":"),n=t.indexOf(" ");return e<=r?"hours":e>r&&e<=n?"minutes":"meridiem"}},{key:"_handleInputKeydown",value:function(e){var t=e.ctrlKey,r=e.metaKey,n=e.shiftKey,i=Object(f.a)(e),a=this._activeTime,o=this._activePart,s=/\d/.test(i),c=/^a|p$/i.test(i),u=r||t;if(Uo.indexOf(i)>-1||s||"meridiem"===o&&c&&!u){if("ArrowLeft"===i)this._activePart=this._prevPart();else if("ArrowRight"===i)this._activePart=this._nextPart();else if("Tab"===i){var l=n?this._prevPart():this._nextPart();if(l===this._activePart)return;this._activePart=l}else if("ArrowUp"===i)this._shift("up",a,o);else if("ArrowDown"===i)this._shift("down",a,o);else if(s)this._setTime(a,o,Number(i));else if(c){var p=i.toLowerCase(),d=a.hour();("a"===p&&d>=12||"p"===p&&d<12)&&this._shift("up",a,o)}e.preventDefault(),e.stopImmediatePropagation()}else u||(e.preventDefault(),e.stopImmediatePropagation())}},{key:"_handleInputClick",value:function(e){var t=e.target;this._activePart=null,this.renderNow(),this._activePart=this._caretIndexToPartName(t.selectionStart)}},{key:"_getOrderedParts",value:function(){return zo(this._activeTime)?["hours","minutes","meridiem"]:["hours","minutes"]}},{key:"_prevPart",value:function(){var e=this._getOrderedParts(),t=e.indexOf(this._activePart)-1;return e[Math.max(t,0)]}},{key:"_nextPart",value:function(){var e=this._getOrderedParts(),t=e.indexOf(this._activePart)+1;return e[Math.min(t,e.length-1)]}},{key:"_setTime",value:function(e,t,r){if("hours"===t){var n=zo(e)?12:24,i=""+e.hour()%n,a=r,o=Number("".concat(i).concat(r));2===i.length||o>n?e.hour(a):o<=n&&e.hour(o)}else if("minutes"===t){var s="".concat(e.minute()),c=r,u=Number("".concat(s).concat(r));2===s.length||u>59?e.minute(c):u<59&&e.minute(u)}}},{key:"_handleInputPaste",value:function(e){var t=e.clipboardData.getData("text/plain"),r=this._moment(t);r.isValid()&&(this._activeTime=r),e.preventDefault(),e.stopImmediatePropagation()}},{key:"_handleInputWheel",value:function(e){var t=e.deltaY<0?"up":"down";this._shift(t,this._activeTime,this._activePart)}},{key:"_shift",value:function(e,t,r){if(e&&t&&r){var n="meridiem"===r?12:1,i="hours"===r?"hour":"minutes"===r?"minute":"hours";t["up"===e?"add":"subtract"](n,i)}}}]),n}(_.a);Object(u.a)([Object(m.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],qo.prototype,"label",void 0),Object(u.a)([Object(m.b)(),Object(mr.a)("esri/widgets/support/t9n/TimePicker")],qo.prototype,"messages",void 0),Object(u.a)([Object(h.a)("viewModel.value")],qo.prototype,"value",void 0),Object(u.a)([Object(m.b)({type:Do})],qo.prototype,"viewModel",void 0);var Ho=qo=Object(u.a)([Object(g.a)("esri.widgets.support.TimePicker")],qo),Go=r("k5Cm");function Wo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var $o="awaiting-view-click-stop";var Zo={hour:"numeric",minute:"numeric"},Qo={minimumIntegerDigits:2};function Xo(e){var t=e.getTimezoneOffset(),r=t>0?"-":"+",n=Math.abs(Math.floor(t/60)),i=Math.abs(Math.floor(t)%60);return"GMT".concat(r).concat(Object(Vn.b)(n,Qo)).concat(Object(Vn.b)(i,Qo))}function Ko(e){return!(null==e.composedPath||!e.composedPath().find((function(e){var t;return null==(t=e.classList)?void 0:t.contains("esri-search__suggestions-list")})))}var Yo=function(e){Object(o.a)(r,e);var t=Jo(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n))._autoStopRemovalDelay=100,a._costSummary=new ai,a._departureTime="now",a._datePicker=new Eo,a._handles=new p.a,a._newPlaceholderStop=null,a._pointerPressedSearchSuggestionStop=null,a._routeSections=new Va,a._stops=new l.a([{},{}]),a._stopsToSearches=new Map,a._timePicker=new Ho,a.apiKey=null,a.goToOverride=null,a.headingLevel=2,a.iconClass=Sa,a.label=void 0,a.lastRoute=null,a.maxStops=null,a.messages=null,a.messagesCommon=null,a.messagesUnits=null,a.routeServiceUrl=void 0,a.routeSymbol=null,a.searchProperties=null,a.stopSymbols=null,a.view=null,a.viewModel=new ri,a._setUpDragAndDropStops=function(e){a._sortable=Go.a.create(e,{draggable:".".concat(Fi),ghostClass:Li,handle:".".concat(Mi),onEnd:a._handleStopInputDragEnd})},a._handleDragHandlePointerDown=function(){return a._stops.forEach((function(e){return a._acquireSearch(e).activeMenu="none"}))},a._handleStopInputDragEnd=function(e){var t=e.oldIndex,r=e.newIndex,n=e.target;if(t!==r){var i=n.children,o=i[r],s=i[t],c=r-t<0;n.insertBefore(o,c?s.nextElementSibling:s);var u=a._stops;u.reorder(u.getItemAt(t),r),a._processStops()}},a}return Object(a.a)(r,[{key:"initialize",value:function(){var e=this;this.own([Object(d.a)(this,"viewModel.lastRoute",(function(){e._routeSections.routePath=e.get("viewModel.directionLines"),e._activeManeuver=null,e._focusedManeuver=null,e.scheduleRender()})),Object(d.a)(this,"viewModel.selectedTravelMode, viewModel.departureTime",(function(){e.get("viewModel.stops.length")>1&&e.getDirections()})),Object(d.e)(this,"view",(function(t,r){if(r&&(e._viewClickHandle=null,e._handles.remove(r)),t){var n=e._prepPointerDownUpClick(),i=e._prepViewClick();n.pause(),i.pause(),e._handles.add([Object(f.c)(t.surface,"mousedown",(function(){return e._autoStopRemovalDelay=500})),Object(f.c)(t.surface,"mouseup",(function(){return e._autoStopRemovalDelay=100})),n,i],e.view.surface),e._pointerDownUpHandle=n,e._viewClickHandle=i}})),Object(d.j)(this,"routeServiceUrl",(function(){return e.viewModel.load()})),Object(d.d)(this,"viewModel.stops.length",(function(t){0===t&&(e._stops.toArray().forEach((function(t){return e._removeStop(t,!0)})),e._stops.addMany([{},{}]),e.scheduleRender())}))])}},{key:"destroy",value:function(){this._datePicker.destroy(),this._timePicker.destroy(),this._stopsToSearches.forEach((function(e){return e.destroy()})),this._sortable&&this._sortable.destroy()}},{key:"getDirections",value:function(){return null}},{key:"zoomToRoute",value:function(){}},{key:"render",value:function(){return Object(gr.a)("div",{class:this.classes(si,ui)},this._renderPanelContent())}},{key:"_renderPanelContent",value:function(){var e,t=this.viewModel.state,r="initializing"===t,i="error"===t&&!this.viewModel.serviceDescription,a="unauthenticated"===t,o=(e={},Object(n.a)(e,fi,r),Object(n.a)(e,pi,i),Object(n.a)(e,di,a),e),s=r?"presentation":"group",c=a?this._renderSignIn():i?this._renderMessage(this._getErrorMessage()):r?this._renderLoader():this._renderReadyContent();return Object(gr.a)("div",{class:this.classes(li,o),role:s},c)}},{key:"_renderReadyContent",value:function(){return[this._renderStopsContainer(),this._renderTravelModeOptions(),this._renderDepartureTimeControls(),this._renderSectionSplitter(),this._renderDirectionsContainer(),this._renderDisclaimer()]}},{key:"_renderSignIn",value:function(){return Object(gr.a)("div",{key:"sign-in",class:la},Object(gr.a)(To.a,{class:pa,level:this.headingLevel},this.messages.widgetLabel),this._renderPlaceholder(),Object(gr.a)(To.a,{level:this.headingLevel+1},this.messages.signInRequired),Object(gr.a)("button",{class:this.classes(Ia,Ra,fa),tabIndex:0,onclick:this._handleSignInClick,bind:this,type:"button"},this.messagesCommon.auth.signIn))}},{key:"_handleSignInClick",value:function(){this.viewModel.load().catch((function(){}))}},{key:"_renderTravelModeOptions",value:function(){var e=this.viewModel.travelModes;if(0===e.length)return null;var t=this.viewModel.selectedTravelMode,r=t.name||this.messages.travelMode;return Object(gr.a)("select",{"aria-label":r,bind:this,class:this.classes(yi,Aa),key:"esri-directions__travel-mode-options",onchange:this._handleTravelModeChange,title:r},e.map((function(e){var r=e.id===t.id;return Object(gr.a)("option",{key:e,"data-mode":e,selected:r,value:e.id},e.name)})))}},{key:"_handleTravelModeChange",value:function(e){var t=e.currentTarget,r=t.item(t.selectedIndex);this.viewModel.selectedTravelMode=r["data-mode"]}},{key:"_renderStopsContainer",value:function(){return Object(gr.a)("div",{class:ji,key:"esri-directions__stops-container",role:"group"},this._renderStops())}},{key:"_renderDepartureTimeControls",value:function(){var e=this._departureTime,t=this.messages,r=t.departureTime;return Object(gr.a)("div",{class:vi,key:"esri-directions__departure-time-controls",role:"group"},Object(gr.a)("select",{"aria-label":r,bind:this,class:this.classes(mi,Aa),onchange:this._handleDepartureOptionChange,title:r},Object(gr.a)("option",{value:"now",selected:"now"===e},t.leaveNow),Object(gr.a)("option",{value:"depart-by",selected:"depart-by"===e},t.departBy),Object(gr.a)("option",{value:"unspecified",selected:"unspecified"===e},t.timeUnspecified)),"depart-by"===e?this._renderTimeControls():null)}},{key:"_renderStops",value:function(){var e=this,t=this._stops,r=0;t.forEach((function(t){"none"!==e._acquireSearch(t).activeMenu&&(r+=1)}));var i=t.toArray().map((function(i,a){var o,s=t.length,c=a>1&&!i.result,u=(o={},Object(n.a)(o,va,a>=0&&a<s-1),Object(n.a)(o,ma,a===s-1),o),l=Object(n.a)({},Ri,a===s-1),f=Object(n.a)({},Fi,!c),p=t.getItemAt(s-1),d=p&&p.result,h=t.getItemAt(a+1),b=h&&h.result,y=a===s-1,v=a===s-2,m=2===s&&0===a||s>2&&!y&&!v||s>2&&v&&b||s>2&&y&&!i.result,g=2===s||3===s&&!d||c,O=e._acquireSearch(i),j=e.messages,w=j.removeStop,_=j.reverseStops,k=j.unlocated,x=Object(we.a)(j.stopLabelTemplate,{number:a+1,label:i.result?i.result.name:k}),S="".concat(e.id,"__stop--").concat(a),P=!!O.searchTerm&&!!O.selectedResult&&!!i.result&&O.selectedResult===i.result,I={zIndex:"none"!==O.activeMenu?""+r--:""};return Object(gr.a)("li",{"aria-label":x,afterCreate:e._handleStopFieldCreation,bind:e,class:e.classes(Di,f),id:S,key:a,"data-stop-index":a,styles:I},Object(gr.a)("div",{class:Mi},Object(gr.a)("span",{"aria-hidden":"true",class:e.classes(_i,ga,Ai,ki),onpointerdown:e._handleDragHandlePointerDown}),Object(gr.a)("div",{bind:e,"aria-labelledby":S,class:e.classes(Ii,l),"data-stop-index":a,onclick:e._handleStopIconClick,onkeydown:e._handleStopIconClick,role:"button"},Object(gr.a)("span",{class:e.classes(_i,u),tabindex:P?"0":null}))),Object(gr.a)("div",{class:Ei},O.render()),Object(gr.a)("div",{class:Ti,role:"group"},Object(gr.a)("div",{"aria-label":w,class:xi,bind:e,"data-stop-index":a,hidden:g,onkeydown:e._handleRemoveStop,onclick:e._handleRemoveStop,role:"button",tabIndex:0,title:w},Object(gr.a)("span",{"aria-hidden":"true",class:e.classes(_i,Si,ja,ki)}),Object(gr.a)("span",{class:Ca},"removeStopTitle")),Object(gr.a)("div",{"aria-label":_,class:Pi,bind:e,hidden:m,onkeydown:e._handleReverseStops,onclick:e._handleReverseStops,role:"button",tabIndex:0,title:_},Object(gr.a)("span",{"aria-hidden":"true",class:e.classes(_i,wa,ki)}),Object(gr.a)("span",{class:Ca},"removeStopTitle"))))})),a=t.every((function(t){var r=e._stopsToSearches.get(t);return t.result&&r.selectedResult===t.result})),o=this._stops.length>=this.maxStops,s=this.messages.addStop,c=t.length>=2&&a&&!o?Object(gr.a)("div",{"aria-label":s,bind:this,class:Bi,key:"esri-directions__add-stop",onfocus:this._handleAddStopFocus,tabIndex:0},Object(gr.a)("span",{"aria-hidden":"true",class:this.classes(Oa,_i,ki)}),Object(gr.a)("div",{"aria-hidden":"true",class:Vi},s)):null;return Object(gr.a)("div",null,Object(gr.a)("ol",{class:Ni,role:"group",afterCreate:this._setUpDragAndDropStops},i),c)}},{key:"_handleStopIconClick",value:function(e){var t=e.currentTarget["data-stop-index"],r=this._stops.getItemAt(t);r&&r.result&&this._centerAtStop(r)}},{key:"_handleClearRouteClick",value:function(){this.viewModel.reset()}},{key:"_centerAtStop",value:function(e){this.viewModel.centerAt(e.result.feature)}},{key:"_handleStopFieldCreation",value:function(e){var t=this,r=this._newPlaceholderStop;if(r){var n=e["data-stop-index"],i=this._stops.getItemAt(n);if(r===i){var a=this._acquireSearch(i);a.when((function(){t.renderNow(),a.focus()}))}this._newPlaceholderStop=null}}},{key:"_handleStopInputBlur",value:function(e,t){var r=this;if(this._handles.remove($o),this.view.cursor=this._previousCursor,!e.selectedResult||!t.result||e.selectedResult!==t.result)return"none"!==e.activeMenu||!e.searchTerm||e.selectedResult===t.result&&(e.selectedResult||t.result)?void(e.searchTerm||(this._viewClickHandle.resume(),clearTimeout(this._autoStopRemovalTimeoutId),this._autoStopRemovalTimeoutId=setTimeout((function(){r.destroyed||(r._viewClickHandle.pause(),"searching"!==e.viewModel.state?r._pointerPressedSearchSuggestionStop||(r._removeStop(t),!!t.result&&(t.result=null,r._processStops()),r.scheduleRender()):r._pointerDownUpHandle.pause())}),this._autoStopRemovalDelay))):(e.search(),void this._pointerDownUpHandle.pause());this._pointerDownUpHandle.pause()}},{key:"_handleStopInputFocus",value:function(e,t){if(this._pointerDownUpHandle.resume(),!this._handles.has($o)){var r=this.view,n=this.view.cursor;this._previousCursor=n,this._handles.add(Object(d.a)(e,"searchTerm",(function(e){r.cursor=0===e.length?"copy":n})),$o),this._activeStop=t}}},{key:"_prepViewClick",value:function(){var e=this,t=this.get("viewModel.view"),r=Object(f.e)(t,"click",this._handleViewClick.bind(this)),n=Object(f.e)(t.surface,"click",(function(){clearTimeout(e._autoStopRemovalTimeoutId),n.pause()}));return{remove:function(){n.remove(),r.remove()},pause:function(){n.pause(),r.pause()},resume:function(){n.resume(),r.resume()}}}},{key:"_prepPointerDownUpClick",value:function(){var e=this,t=Object(f.e)(document,"pointerdown",(function(t){e._pointerPressedSearchSuggestionStop=Ko(t)?e._activeStop:null})),r=Object(f.e)(document,"pointerup",(function(t){e._pointerDownUpHandle.pause();var r=Ko(t),n=e._activeStop;r||n!==e._pointerPressedSearchSuggestionStop||e._removeStop(n),e.scheduleRender(),e._pointerPressedSearchSuggestionStop=r?e._activeStop:null}));return{remove:function(){r.remove(),t.remove()},pause:function(){r.pause(),t.pause()},resume:function(){t.resume()}}}},{key:"_handleViewClick",value:function(e){var t=this,r=this._stopsToSearches.get(this._activeStop);r&&!r.searchTerm&&(r.search(e.mapPoint).then((function(e){var n=function(e){return e.results[0].results[0]}(e),i=t._activeStop;i.result=n,i.result.feature.attributes.Name=n.name,r.searchTerm=n.name})),this.scheduleRender()),this._viewClickHandle.pause(),clearTimeout(this._autoStopRemovalTimeoutId)}},{key:"_handleAddStopFocus",value:function(){this._addNewPlaceholder()}},{key:"_addNewPlaceholder",value:function(){if(this._pointerDownUpHandle.pause(),!this._newPlaceholderStop){var e={};this._stops.add(e),this._newPlaceholderStop=e}}},{key:"_handleReverseStops",value:function(){this._reverseStops()}},{key:"_reverseStops",value:function(){this._stops.reverse(),this._processStops()}},{key:"_handleRemoveStop",value:function(e){var t=e.currentTarget["data-stop-index"];this._removeStop(this._stops.getItemAt(t)),this._processStops()}},{key:"_removeStop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._stops.length<=2&&!t||(this._disposeSearch(e),this._stops.remove(e))}},{key:"_handleDepartureOptionChange",value:function(e){var t=this,r=e.currentTarget,n=r.item(r.selectedIndex);"now"===n.value?(this._departureTime="now",this.viewModel.departureTime="now",this._handles.remove("departure-time-controls")):"depart-by"===n.value?(this._departureTime="depart-by",this._handles.add([Object(d.a)(this._datePicker,"value",(function(){return t._updateDepartureTime()})),Object(d.a)(this._timePicker,"value",(function(){return t._updateDepartureTime()}))],"departure-time-controls")):(this._departureTime="unspecified",this.viewModel.departureTime=null)}},{key:"_updateDepartureTime",value:function(){var e=this._datePicker.value,t=this._timePicker.value;this.viewModel.departureTime=new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes())}},{key:"_renderTimeControls",value:function(){return Object(gr.a)("div",{class:Oi,key:"esri-directions__time-controls",role:"group"},this._datePicker.render(),this._timePicker.render())}},{key:"_renderSectionSplitter",value:function(){return Object(gr.a)("div",{class:ca})}},{key:"_renderDisclaimer",value:function(){var e=this.messages,t='<a class="'.concat(Pa,'" href="http://www.esri.com/legal/software-license" rel="noreferrer" target="_blank">').concat(e.esriTerms,"</a>"),r=Object(we.a)(e.disclaimer,{esriTerms:t});return Object(gr.a)("div",{class:ua,innerHTML:r,key:"esri-directions__disclaimer"})}},{key:"_renderDirectionsContainer",value:function(){return Object(gr.a)("div",{class:this.classes(gi,ji),key:"esri-directions__container"},this._renderDirectionsContainerContent())}},{key:"_renderLoader",value:function(){return Object(gr.a)("div",{class:hi,key:"loader"})}},{key:"_renderWarningCard",value:function(){return Object(gr.a)("div",{class:da,role:"alert"},Object(gr.a)("div",{class:ha},Object(gr.a)("span",{class:xa,"aria-hidden":"true"}),Object(gr.a)(To.a,{class:ba,level:this.headingLevel},this.messagesCommon.warning)),Object(gr.a)("div",{class:ya},this._getErrorMessage()))}},{key:"_renderDirectionsContainerContent",value:function(){var e=this.viewModel,t=e.lastRoute,r=e.state,n="routing"===r;return"error"===r?this._renderWarningCard():n?this._renderLoader():t?Object(gr.a)("div",{class:wi,key:"esri-directions__summary",role:"group"},this._renderCosts(),this._renderRouteActions(),this._renderManeuverSections()):Object(gr.a)("div",{key:"esri-directions__placeholder",class:Ea},this._renderPlaceholder(),Object(gr.a)(To.a,{class:bi,level:this.headingLevel},this.messages.directionsPlaceholder))}},{key:"_renderPlaceholder",value:function(){return Object(gr.a)("svg",{class:Ta,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256"},Object(gr.a)("path",{fill:"currentcolor",d:"M192 36c-15.477 0-24 6.034-24 16.99v45.822l24 24 24-24v-45.82C216 42.033 207.477 36 192 36zm20 61.155l-20 20-20-20V52.99c0-8.62 6.73-12.99 20-12.99s20 4.37 20 12.99zM192 52a12 12 0 1 0 12 12 12.013 12.013 0 0 0-12-12zm0 20a8 8 0 1 1 8-8 8.008 8.008 0 0 1-8 8zM92 140.99C92 130.035 83.477 124 68 124s-24 6.034-24 16.99v45.822l24 24 24-24zm-4 44.165l-20 20-20-20V140.99c0-8.62 6.73-12.99 20-12.99s20 4.37 20 12.99zM68 140a12 12 0 1 0 12 12 12.013 12.013 0 0 0-12-12zm0 20a8 8 0 1 1 8-8 8.008 8.008 0 0 1-8 8zm84-44h16v4h-16zm-24 80h4v12h-12v-4h8zm0-28h4v16h-4zm0-52h12v4h-8v8h-4zm0 24h4v16h-4zm-36 64h16v4H92z"}))}},{key:"_renderMessage",value:function(e){return Object(gr.a)(To.a,{level:this.headingLevel},e)}},{key:"_renderRouteActions",value:function(){return Object(gr.a)("div",{class:Gi},Object(gr.a)("button",{"aria-label":this.messages.clearRoute,class:this.classes(ci,Ia,Ma),tabIndex:0,onclick:this._handleClearRouteClick,bind:this,type:"button"},this.messages.clearRoute))}},{key:"_renderManeuverSections",value:function(){var e=this,t=this._routeSections.sections;return Object(gr.a)("div",{class:Wi,role:"group"},t.map((function(r,i){var a,o,s=r.open;r.maneuvers.length>0&&s&&(o=Object(gr.a)("ol",{class:Ji},r.maneuvers.map((function(t){return e._renderManeuver(t)}))));var c,u=t.length>2,l=i===t.length-1,f=Object(n.a)({},Ki,u),p=(a={},Object(n.a)(a,_a,!s),Object(n.a)(a,ka,s),a);if(u&&!l){var d=s?e.messagesCommon.open:e.messagesCommon.close;c=Object(gr.a)("header",{class:e.classes(Zi,Yi),key:"esri-directions__maneuver-section-header"},Object(gr.a)("div",{"aria-expanded":s.toString(),"aria-label":d,bind:e,class:Qi,"data-maneuver-section":r,onkeydown:e._handleSectionToggle,onclick:e._handleSectionToggle,role:"button",tabIndex:0,title:d},Object(gr.a)(To.a,{class:Xi,level:e.headingLevel},r.name),Object(gr.a)("span",{"aria-hidden":"true",class:e.classes(p)})))}else c=Object(gr.a)("header",{class:Zi,key:"esri-directions__maneuver-section-header"},Object(gr.a)(To.a,{class:Xi,level:e.headingLevel},r.name));return Object(gr.a)("section",{class:e.classes($i,f)},c,o)})))}},{key:"_handleSectionToggle",value:function(e){var t=e.currentTarget["data-maneuver-section"];t.open=!t.open}},{key:"_renderCosts",value:function(){var e=this.get("viewModel.directionLines"),t=e[e.length-1],r=new Date(t.attributes.arriveTimeUTC),n=this._costSummary.set({directionsViewModel:this.viewModel,messages:this.messages,messagesUnits:this.messagesUnits}),i=this.messages,a=i.zoomToRoute,o=Object(_e.b)(r,Zo),s=Object(we.a)(i.etaTemplate,{time:"<strong>".concat(o,"</strong>"),gmt:"".concat(Xo(r))}),c=i.primaryCosts,u=i.secondaryCosts,l=i.eta;return Object(gr.a)("div",{"aria-label":a,bind:this,class:Ui,onkeydown:this._handleSummaryInteraction,onclick:this._handleSummaryInteraction,role:"button",tabIndex:0,title:a},Object(gr.a)("div",{class:zi,role:"group"},Object(gr.a)("div",{"aria-label":c,class:qi,title:c},n.primary),Object(gr.a)("div",{class:Ci}),Object(gr.a)("div",{"aria-label":u,class:Hi,title:u},n.secondary)),Object(gr.a)("div",{"aria-label":l,innerHTML:s,title:l}))}},{key:"_handleSummaryInteraction",value:function(){this._activeManeuver=null,this._focusedManeuver=null,this.viewModel.clearHighlights(),this.zoomToRoute()}},{key:"_getErrorMessage",value:function(){var e=this.messages,t=this.viewModel.error;return"directions-view-model:unable-to-route"===t.name?e.errors.unableToRoute:"directions-view-model:service-metadata-unavailable"===t.name?e.errors.unableToLoadServiceMetadata:e.errors.unknownError}},{key:"_normalizeSearchSources",value:function(e){this._overrideDefaultSources(e),this._applyLocatorSourceOverrides(e)}},{key:"_overrideDefaultSources",value:function(e){e.viewModel.defaultSources.forEach((function(e){e.autoNavigate=!1}))}},{key:"_applyLocatorSourceOverrides",value:function(e){var t=this,r=e.allSources;0!==r.length&&r.forEach((function(e){"locator"in e&&e.locator&&(null===e.locationType&&(e.locationType="street"),zt(e.locator.url)&&t.apiKey&&null==e.apiKey&&(e.apiKey=t.apiKey,e.locator.url=Ht))}))}},{key:"_acquireSearch",value:function(e){var t=this,r=this.get("viewModel.view");if(this._stopsToSearches.has(e)){var i=this._stopsToSearches.get(e);return i.view=r,this._overrideDefaultSources(i),i}var a=new In(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wo(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({view:r,resultGraphicEnabled:!1,popupEnabled:!1},this.searchProperties));return this._normalizeSearchSources(a),this._handles.add([Object(d.b)(a,"allSources","change",(function(){return t._normalizeSearchSources(a)})),a.on("select-result",(function(){e.result=a.selectedResult,e.result.feature.attributes.Name=a.selectedResult.name,t._processStops(),t.scheduleRender()})),a.on("search-focus",(function(){return t._handleStopInputFocus(a,e)})),a.on("search-blur",(function(){return t._handleStopInputBlur(a,e)}))],a),this._stopsToSearches.set(e,a),a}},{key:"_disposeSearch",value:function(e){this._stopsToSearches.get(e).destroy(),this._stopsToSearches.delete(e)}},{key:"_processStops",value:function(){var e=this.viewModel;e.stops.removeAll(),e.stops.addMany(this._stops.filter((function(e){return!!e.result})).map((function(e){return e.result.feature}))),e.stops.length>1&&e.getDirections()}},{key:"_renderManeuver",value:function(e){var t,r=e.attributes,i=this.get("viewModel.routeParameters.directionsLengthUnits"),a=this.messages,o=Zn(a,this.messagesUnits,r.length,{toUnits:i}),s=Jn(r.time),c=Wn(e);!function(e,t){return!(!Wn(e)||!t||-22091616e5===e.get("attributes.ETA"))}(e,this.get("viewModel.routeParameters.startTime"))?o&&(t=s?"".concat(o,"&nbsp;&middot;&nbsp;").concat(s):o):t=function(e,t,r,n){var i=new Date(r),a=new Date(i.getTime()+60*i.getTimezoneOffset()*1e3),o=Object(_e.b)(a,{hour:"2-digit",minute:"2-digit",hour12:!1});if(t){var s=(r-t)/1e3/60/60,c=Math.floor(s),u=60*(s-c),l=Object(Vn.b)(c,{minimumIntegerDigits:2}),f=Object(Vn.b)(u,{minimumIntegerDigits:2});return"".concat(o," ").concat(e.gmt).concat(c<0?"":"+").concat(l).concat(f)}return n?Object(_e.b)(a,{hour:"numeric",minute:"numeric"}):o}(a,r.arriveTimeUTC,r.ETA,"now"===this._departureTime);var u=c,l=this._getFormattedManeuverText(e),f=this._getIconPath(r.maneuverType);if(u)return Object(gr.a)("li",{class:ea,key:e},Object(gr.a)("header",null,c.attributes.Name));var p="esri-directions__maneuver-".concat(e.uid),d="esri-directions__cumulative-costs-".concat(e.uid),h="esri-directions__intermediate-costs-".concat(e.uid),b=Object(n.a)({},ta,this._activeManeuver===e);return Object(gr.a)("li",{"aria-labelledby":"".concat(p," ").concat(d," ").concat(h),bind:this,class:this.classes(ea,b),"data-maneuver":e,key:e,onclick:this._handleManeuverClick,onkeydown:this._handleManeuverClick,onfocus:this._handleManeuverFocus,onmouseover:this._handleManeuverMouseOver,onmouseout:this._handleManeuverMouseOut,onblur:this._handleManeuverBlur,tabIndex:0},Object(gr.a)("img",{alt:"",class:ia,src:f}),Object(gr.a)("div",{class:na},Object(gr.a)("span",{id:p,innerHTML:l}),Object(gr.a)("div",{class:ra},Object(gr.a)("div",{class:sa}),Object(gr.a)("div",{id:d,"aria-label":a.cumulativeCosts,class:aa,innerHTML:"",title:a.cumulativeCosts}),Object(gr.a)("div",{id:h,"aria-label":a.intermediateCosts,class:oa,innerHTML:t,title:a.intermediateCosts}))))}},{key:"_getIconPath",value:function(e){var t=function(e){return oi[e]}(e),r=2===window.devicePixelRatio?"@2x":"";return"".concat(Object(I.a)("esri/themes/base/images/maneuvers/")).concat(t).concat(r,".png")}},{key:"_handleManeuverClick",value:function(e){var t=e.currentTarget["data-maneuver"];if(this._activeManeuver===t)return this._activeManeuver=null,void this.zoomToRoute();this._activeManeuver=t,this.viewModel.centerAt(t),this.viewModel.highlightSegment(t)}},{key:"_handleManeuverMouseOver",value:function(e){if(!this._activeManeuver&&!this._focusedManeuver){var t=e.currentTarget["data-maneuver"];this.viewModel.highlightSegment(t)}}},{key:"_handleManeuverMouseOut",value:function(){this._activeManeuver||this._focusedManeuver||this.viewModel.clearHighlights()}},{key:"_handleManeuverBlur",value:function(){this._activeManeuver||(this._focusedManeuver=null,this.viewModel.clearHighlights())}},{key:"_handleManeuverFocus",value:function(e){if(!this._activeManeuver){var t=e.currentTarget["data-maneuver"];this._focusedManeuver=t,this.viewModel.highlightSegment(t)}}},{key:"_getFormattedManeuverText",value:function(e){var t=e.attributes.text,r=e.strings;if(!r)return t;var n=t;return r.forEach((function(e){n=n.replace(e.string,"<strong>".concat(e.string,"</strong>"))})),n}}]),r}(_.a);Object(u.a)([Object(h.a)("viewModel.apiKey")],Yo.prototype,"apiKey",void 0),Object(u.a)([Object(h.a)("viewModel.goToOverride")],Yo.prototype,"goToOverride",void 0),Object(u.a)([Object(m.b)()],Yo.prototype,"headingLevel",void 0),Object(u.a)([Object(m.b)()],Yo.prototype,"iconClass",void 0),Object(u.a)([Object(m.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Yo.prototype,"label",void 0),Object(u.a)([Object(h.a)("viewModel.lastRoute")],Yo.prototype,"lastRoute",void 0),Object(u.a)([Object(h.a)("viewModel.maxStops")],Yo.prototype,"maxStops",void 0),Object(u.a)([Object(m.b)(),Object(mr.a)("esri/widgets/Directions/t9n/Directions")],Yo.prototype,"messages",void 0),Object(u.a)([Object(m.b)(),Object(mr.a)("esri/t9n/common")],Yo.prototype,"messagesCommon",void 0),Object(u.a)([Object(m.b)(),Object(mr.a)("esri/core/t9n/Units")],Yo.prototype,"messagesUnits",void 0),Object(u.a)([Object(h.a)("viewModel.routeServiceUrl")],Yo.prototype,"routeServiceUrl",void 0),Object(u.a)([Object(h.a)("viewModel.routeSymbol")],Yo.prototype,"routeSymbol",void 0),Object(u.a)([Object(m.b)()],Yo.prototype,"searchProperties",void 0),Object(u.a)([Object(h.a)("viewModel.stopSymbols")],Yo.prototype,"stopSymbols",void 0),Object(u.a)([Object(h.a)("viewModel.view")],Yo.prototype,"view",void 0),Object(u.a)([Object(m.b)({type:ri})],Yo.prototype,"viewModel",void 0),Object(u.a)([Object(h.a)("viewModel.getDirections")],Yo.prototype,"getDirections",null),Object(u.a)([Object(h.a)("viewModel.zoomToRoute")],Yo.prototype,"zoomToRoute",null),Object(u.a)([Object(vr.a)()],Yo.prototype,"_handleStopIconClick",null),Object(u.a)([Object(vr.a)()],Yo.prototype,"_handleClearRouteClick",null),Object(u.a)([Object(vr.a)()],Yo.prototype,"_handleReverseStops",null),Object(u.a)([Object(vr.a)()],Yo.prototype,"_handleRemoveStop",null),Object(u.a)([Object(vr.a)()],Yo.prototype,"_handleSectionToggle",null),Object(u.a)([Object(vr.a)()],Yo.prototype,"_handleSummaryInteraction",null),Object(u.a)([Object(vr.a)()],Yo.prototype,"_handleManeuverClick",null);var es=Yo=Object(u.a)([Object(g.a)("esri.widgets.Directions")],Yo);t.default=es},MJqN:function(e,t,r){"use strict";function n(){return[0,0]}function i(e,t){return[e,t]}function a(e,t){return new Float64Array(e,t,2)}function o(){return[0,0]}function s(){return i(1,1)}function c(){return i(1,0)}function u(){return i(0,1)}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i}));var l=[0,0],f=s(),p=c(),d=u();Object.freeze({__proto__:null,create:n,clone:function(e){return[e[0],e[1]]},fromValues:i,fromArray:function(e){for(var t=[0,0],r=Math.min(2,e.length),n=0;n<r;++n)t[n]=e[n];return t},createView:a,zeros:o,ones:s,unitX:c,unitY:u,ZEROS:l,ONES:f,UNIT_X:p,UNIT_Y:d})},MNFw:function(e,t,r){var n=r("JpX9");e.exports=function(e,t,r){return t=r?void 0:t,t=e&&null==t?e.length:t,n(e,128,void 0,void 0,void 0,void 0,t)}},MPZ8:function(e,t,r){"use strict";function n(){return[0,0,0,0]}function i(e,t,r,n){return[e,t,r,n]}function a(e,t){return new Float64Array(e,t,4)}function o(){return[0,0,0,0]}function s(){return i(1,1,1,1)}function c(){return i(1,0,0,0)}function u(){return i(0,1,0,0)}function l(){return i(0,0,1,0)}function f(){return i(0,0,0,1)}r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return i}));var p=[0,0,0,0],d=s(),h=c(),b=u(),y=l(),v=f();Object.freeze({__proto__:null,create:n,clone:function(e){return[e[0],e[1],e[2],e[3]]},fromValues:i,fromArray:function(e){for(var t=[0,0,0,0],r=Math.min(4,e.length),n=0;n<r;++n)t[n]=e[n];return t},createView:a,zeros:o,ones:s,unitX:c,unitY:u,unitZ:l,unitW:f,ZEROS:p,ONES:d,UNIT_X:h,UNIT_Y:b,UNIT_Z:y,UNIT_W:v})},MQuF:function(e,t,r){var n=r("SHde")(Object.keys,Object);e.exports=n},MZ5C:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("a1Tm"),i=r("1xKk"),a={inches:Object(n.b)(1,"meters","inches"),feet:Object(n.b)(1,"meters","feet"),"us-feet":Object(n.b)(1,"meters","us-feet"),yards:Object(n.b)(1,"meters","yards"),miles:Object(n.b)(1,"meters","miles"),"nautical-miles":Object(n.b)(1,"meters","nautical-miles"),millimeters:Object(n.b)(1,"meters","millimeters"),centimeters:Object(n.b)(1,"meters","centimeters"),decimeters:Object(n.b)(1,"meters","decimeters"),meters:Object(n.b)(1,"meters","meters"),kilometers:Object(n.b)(1,"meters","kilometers"),"decimal-degrees":1/Object(n.i)(1,"meters",i.a.radius)}},MfmI:function(e,t,r){var n=r("jgJv"),i=r("NmMy"),a=r("PqlX"),o=r("zXe4"),s=n?n.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},MoOl:function(e,t,r){var n=r("nEaP"),i=r("Ya6V"),a=n["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=a},Mp7X:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("0942"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("0fJP"),l=r("TM+E");function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var p=function(e){Object(o.a)(r,e);var t=f(r);function r(e,i,o){var c;return Object(n.a)(this,r),c=t.call(this,e,i,o),Object(a.a)(c)instanceof r?Object(s.a)(c):Object(s.a)(c,new r(e,i,o))}return Object(i.a)(r,[{key:"toJSON",value:function(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(function(e,t){if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return Object(u.a)(t)}catch(r){return"[object]"}})))}}catch(e){throw l.a.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}}],[{key:"fromJSON",value:function(e){return new r(e.name,e.message,e.details)}}]),r}(r("DFlR").a);p.prototype.type="error",t.a=p},MrgE:function(e,t,r){"use strict";r.d(t,"a",(function(){return x})),r.d(t,"b",(function(){return R})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return k}));var n=r("c+HS");function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o,s="http://www.w3.org/",c="".concat(s,"2000/svg"),u="".concat(s,"1999/xlink"),l=[],f=function(e,t){var r={};return Object.keys(e).forEach((function(t){r[t]=e[t]})),t&&Object.keys(t).forEach((function(e){r[e]=t[e]})),r},p=function(e,t){return e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties)},d=function(e){if("string"!=typeof e)throw new Error("Style values must be strings")},h=function(e,t,r){if(""!==t.vnodeSelector)for(var n=r;n<e.length;n++)if(p(e[n],t))return n;return-1},b=function(e,t,r,n){var i=e[t];if(""!==i.vnodeSelector){var a=i.properties;if(!(a?void 0===a.key?a.bind:a.key:void 0))for(var o=0;o<e.length;o++)if(o!==t){var s=e[o];if(p(s,i))throw new Error("".concat(r.vnodeSelector," had a ").concat(i.vnodeSelector," child ").concat("added"===n?n:"removed",", but there is now more than one. You must add unique key properties to make them distinguishable."))}}},y=function(e){if(e.properties){var t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},v=[],m=!1,g=function e(t){(t.children||[]).forEach(e),t.properties&&t.properties.afterRemoved&&t.properties.afterRemoved.apply(t.properties.bind||t.properties,[t.domNode])},O=function(){m=!1,v.forEach(g),v.length=0},j=function(e){v.push(e),m||(m=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(O,{timeout:16}):setTimeout(O,16))},w=function(e){var t=e.domNode;if(e.properties){var r=e.properties.exitAnimation;if(r){t.style.pointerEvents="none";return void r(t,(function(){t.parentNode&&(t.parentNode.removeChild(t),j(e))}),e.properties)}}t.parentNode&&(t.parentNode.removeChild(t),j(e))},_=function(e,t,r){if(t)for(var i=r.eventHandlerInterceptor,a=Object.keys(t),o=a.length,s=function(o){var s,l=a[o],f=t[l];if("className"===l)throw new Error('Property "className" is not supported, use "class".');if("class"===l)S(e,f,!0);else if("classes"===l)for(var p=Object.keys(f),h=p.length,b=0;b<h;b++){var y=p[b];f[y]&&e.classList.add(y)}else if("styles"===l)for(var v=Object.keys(f),m=v.length,g=0;g<m;g++){var O=v[g],j=f[O];j&&(d(j),r.styleApplyer(e,O,j))}else if("key"!==l&&null!=f){var w=typeof f;"function"===w?(0===l.lastIndexOf("on",0)&&(i&&(f=i(l,f,e,t)),"oninput"===l&&(s=f,f=function(e){s.apply(this,[e]),e.target["oninput-value"]=e.target.value})),e[l]=f):r.namespace===c?"href"===l?e.setAttributeNS(u,l,f):e.setAttribute(l,f):"string"===w&&"value"!==l?"innerHTML"===l?e[l]=n.j.sanitize(f):e.setAttribute(l,f):e[l]=f}},l=0;l<o;l++)s(l)},k=function(e,t,r){(function(e,t,r){if(t){var n,a=i(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;x(o,e,void 0,r)}}catch(s){a.e(s)}finally{a.f()}}})(e,t.children,r),t.text&&(e.textContent=t.text),_(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},x=function(e,t,r,n){var i,a=0,o=e.vnodeSelector,s=t.ownerDocument;if(""===o)i=e.domNode=s.createTextNode(e.text),void 0!==r?t.insertBefore(i,r):t.appendChild(i);else{for(var u=0;u<=o.length;++u){var l=o.charAt(u);if(u===o.length||"."===l||"#"===l){var p=o.charAt(a-1),d=o.slice(a,u);"."===p?i.classList.add(d):"#"===p?i.id=d:("svg"===d&&(n=f(n,{namespace:c})),void 0!==n.namespace?i=e.domNode=s.createElementNS(n.namespace,d):(i=e.domNode=e.domNode||s.createElement(d),"input"===d&&e.properties&&void 0!==e.properties.type&&i.setAttribute("type",e.properties.type)),void 0!==r?t.insertBefore(i,r):i.parentNode!==t&&t.appendChild(i)),a=u+1}}k(i,e,n)}},S=function(e,t,r){t&&t.split(" ").forEach((function(t){t&&e.classList.toggle(t,r)}))},P=function(e,t,r,i){if(r){for(var a=!1,o=Object.keys(r),s=o.length,l=0;l<s;l++){var f=o[l],p=r[f],h=t[f];if("class"===f)h!==p&&(S(e,h,!1),S(e,p,!0));else if("classes"===f)for(var b=e.classList,y=Object.keys(p),v=y.length,m=0;m<v;m++){var g=y[m],O=!!p[g];O!==!!h[g]&&(a=!0,O?b.add(g):b.remove(g))}else if("styles"===f)for(var j=Object.keys(p),w=j.length,_=0;_<w;_++){var k=j[_],x=p[k];x!==h[k]&&(a=!0,x?(d(x),i.styleApplyer(e,k,x)):i.styleApplyer(e,k,""))}else if(p||"string"!=typeof h||(p=""),"value"===f){var P=e[f];P!==p&&(e["oninput-value"]?P===e["oninput-value"]:p!==h)&&(e[f]=p,e["oninput-value"]=void 0),p!==h&&(a=!0)}else if(p!==h){var I=typeof p;"function"===I&&i.eventHandlerInterceptor||(i.namespace===c?"href"===f?e.setAttributeNS(u,f,p):e.setAttribute(f,p):"string"===I?"innerHTML"===f?e[f]=n.j.sanitize(p):"role"===f&&""===p?e.removeAttribute(f):e.setAttribute(f,p):e[f]!==p&&(e[f]=p),a=!0)}}return a}},I=function(e,t,r,n,i){if(r===n)return!1;n=n||l;for(var a,s=(r=r||l).length,c=n.length,u=0,f=0,d=!1;f<c;){var v=u<s?r[u]:void 0,m=n[f];if(void 0!==v&&p(v,m))d=o(v,m,i)||d,u++;else{var g=h(r,m,u+1);if(g>=0){for(a=u;a<g;a++)w(r[a]),b(r,a,e,"removed");d=o(r[g],m,i)||d,u=g+1}else x(m,t,u<s?r[u].domNode:void 0,i),y(m),b(n,f,e,"added")}f++}if(s>u)for(a=u;a<s;a++)w(r[a]),b(r,a,e,"removed");return d};o=function(e,t,r){var n=e.domNode,i=!1;if(e===t)return!1;var a=!1;if(""===t.vnodeSelector){if(t.text!==e.text){var o=n.ownerDocument.createTextNode(t.text);return n.parentNode.replaceChild(o,n),t.domNode=o,i=!0}t.domNode=n}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(r=f(r,{namespace:c})),e.text!==t.text&&(a=!0,void 0===t.text?n.removeChild(n.firstChild):n.textContent=t.text),t.domNode=n,a=I(t,n,e.children,t.children,r)||a,a=P(n,e.properties,t.properties,r)||a,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[n,r,t.vnodeSelector,t.properties,t.children]);return a&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),i};var R=function(e,t){return{getLastRender:function(){return e},update:function(r){if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");var n=e;e=r,o(n,r,t)},domNode:e.domNode}}},N1hr:function(e,t,r){"use strict";var n=r("jmUq"),i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},NJ4k:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return d}));var n=r("hisu"),i=r("yBJb"),a=r("a1Tm"),o=r("12QT"),s=r("JBec"),c=r("TFJl"),u=r("4zgH");function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],d=function(){function e(t){Object(n.a)(this,e),this.options=t,this.geometryTypes=p,this._coordinatePtr=0,this._vertexDimension=0}return Object(i.a)(e,[{key:"createFeatureResult",value:function(){return new c.a}},{key:"prepareFeatures",value:function(e){this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++}},{key:"finishFeatureResult",value:function(e){if(e&&e.features&&e.hasZ&&this.options.sourceSpatialReference&&e.spatialReference&&!Object(o.c)(e.spatialReference,this.options.sourceSpatialReference)&&!e.spatialReference.vcsWkid){var t=Object(a.e)(this.options.sourceSpatialReference)/Object(a.e)(e.spatialReference);if(1!==t){var r,n=l(e.features);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.geometry&&i.geometry.coords)for(var s=i.geometry.coords,c=2;c<s.length;c+=3)s[c]*=t}}catch(u){n.e(u)}finally{n.f()}}}}},{key:"addFeature",value:function(e,t){e.features.push(t)}},{key:"createFeature",value:function(){return new s.a}},{key:"createSpatialReference",value:function(){return{wkid:0}}},{key:"createGeometry",value:function(){return new u.a}},{key:"addField",value:function(e,t){e.fields.push(t)}},{key:"allocateCoordinates",value:function(e){e.coords.length=e.lengths.reduce((function(e,t){return e+t}),0)*this._vertexDimension,this._coordinatePtr=0}},{key:"addCoordinate",value:function(e,t){e.coords[this._coordinatePtr++]=t}},{key:"addCoordinatePoint",value:function(e,t){e.coords.push(t)}},{key:"addLength",value:function(e,t){e.lengths.push(t)}},{key:"addQueryGeometry",value:function(e,t){e.queryGeometry=t.queryGeometry,e.queryGeometryType=t.queryGeometryType}},{key:"createPointGeometry",value:function(){return new u.a}}]),e}()},NO3b:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return o})),r.d(t,"f",(function(){return s})),r.d(t,"g",(function(){return c})),r.d(t,"h",(function(){return u}));var n=r("p0eS");function i(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function a(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=r*a-n*i;return c?(c=1/c,e[0]=a*c,e[1]=-n*c,e[2]=-i*c,e[3]=r*c,e[4]=(i*s-a*o)*c,e[5]=(n*o-r*s)*c,e):null}function o(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=r[0],l=r[1],f=r[2],p=r[3],d=r[4],h=r[5];return e[0]=n*u+a*l,e[1]=i*u+o*l,e[2]=n*f+a*p,e[3]=i*f+o*p,e[4]=n*d+a*h+s,e[5]=i*d+o*h+c,e}function s(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=Math.sin(r),l=Math.cos(r);return e[0]=n*l+a*u,e[1]=i*l+o*u,e[2]=n*-u+a*l,e[3]=i*-u+o*l,e[4]=s,e[5]=c,e}function c(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=r[0],l=r[1];return e[0]=n*u,e[1]=i*u,e[2]=a*l,e[3]=o*l,e[4]=s,e[5]=c,e}function u(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],u=r[0],l=r[1];return e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=n*u+a*l+s,e[5]=i*u+o*l+c,e}function l(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function f(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function p(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}var d=o,h=p;Object.freeze({__proto__:null,copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},identity:i,set:function(e,t,r,n,i,a,o){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=a,e[5]=o,e},invert:a,determinant:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:o,rotate:s,scale:c,translate:u,fromRotation:l,fromScaling:f,fromTranslation:function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},str:function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},frob:function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},add:function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e},subtract:p,multiplyScalar:function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e},multiplyScalarAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},equals:function(e,t){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],c=e[5],u=t[0],l=t[1],f=t[2],p=t[3],d=t[4],h=t[5];return Math.abs(r-u)<=n.a*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-l)<=n.a*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(a-f)<=n.a*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-p)<=n.a*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-d)<=n.a*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(c-h)<=n.a*Math.max(1,Math.abs(c),Math.abs(h))},mul:d,sub:h})},NRoO:function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return v})),r.d(t,"c",(function(){return _})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return y})),r.d(t,"f",(function(){return x})),r.d(t,"g",(function(){return k})),r.d(t,"h",(function(){return g})),r.d(t,"i",(function(){return O})),r.d(t,"j",(function(){return d})),r.d(t,"k",(function(){return m})),r.d(t,"l",(function(){return w})),r.d(t,"m",(function(){return p})),r.d(t,"n",(function(){return b}));var n=r("mK0O"),i=r("NY4G"),a=r("nd5+"),o=r("YHXj"),s=r("9jes"),c=r("RMqu"),u=r("UR7D");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},d={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:function(e,t){return!t.disablePopup}},write:{enabled:!0,writer:function(e,t,r){t[r]=!e}}}},h={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},b={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:s.f}}},y={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},v={value:null,type:c.a,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function m(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}var g={type:Number,json:{origins:{"web-document":{default:1,write:!0,read:!0},"portal-item":{write:!0}}}},O=f(f({},g),{},{json:f(f({},g.json),{},{origins:{"web-document":f(f({},g.json.origins["web-document"]),{},{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:function(e,t,r){return r&&"service"!==r.origin||!t.drawingInfo||void 0===t.drawingInfo.transparency?t.layerDefinition&&t.layerDefinition.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency?Object(u.b)(t.layerDefinition.drawingInfo.transparency):void 0:Object(u.b)(t.drawingInfo.transparency)}}})}),j={type:i.a,readOnly:!0,get:function(){var e,t;if(null==(e=this.layer)||!e.timeInfo)return null;var r=null==(t=this.view)?void 0:t.timeExtent,n=this.layer.timeExtent,i=this.layer.useViewTime?r&&n?r.intersection(n):r||n:n;if(!i||i.isEmpty)return i;var a=this.layer.timeOffset,o=a?i.offset(-a.value,a.unit):i,s=this._get("timeExtent");return o.equals(s)?s:o}},w={type:a.a,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:function(e,t){var r=a.a.fromJSON(e);return null!=t.spatialReference&&"object"==typeof t.spatialReference&&(r.spatialReference=o.a.fromJSON(t.spatialReference)),r}}}},read:!1}},_={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},k={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},x={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}}},NSX3:function(e,t,r){"use strict";r.r(t);var n=r("xtsi");"https:"!==window.location.protocol&&"localhost"!==window.location.hostname?console.error("Service workers can only be used over HTTPS, or on localhost for development"):"serviceWorker"in navigator&&navigator.serviceWorker.register("/react-ags-maps/sw.js").then((function(e){e.addEventListener("updatefound",(function(){Object(n.apiRunner)("onServiceWorkerUpdateFound",{serviceWorker:e});var t=e.installing;console.log("installingWorker",t),t.addEventListener("statechange",(function(){switch(t.state){case"installed":navigator.serviceWorker.controller?(window.___swUpdated=!0,Object(n.apiRunner)("onServiceWorkerUpdateReady",{serviceWorker:e}),window.___failedResources&&(console.log("resources failed, SW updated - reloading"),window.location.reload())):(console.log("Content is now available offline!"),Object(n.apiRunner)("onServiceWorkerInstalled",{serviceWorker:e}));break;case"redundant":console.error("The installing service worker became redundant."),Object(n.apiRunner)("onServiceWorkerRedundant",{serviceWorker:e});break;case"activated":Object(n.apiRunner)("onServiceWorkerActive",{serviceWorker:e})}}))}))})).catch((function(e){console.error("Error during service worker registration:",e)}))},NY4G:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0n+b"),f=r("7im+"),p=r("DKLv"),d=r("xAIp"),h=(r("J4Pc"),r("wckI"),r("TM+E"),r("mp5+")),b=r("iaHD"),y=r("jr4m");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var m=n=function(e){Object(o.a)(r,e);var t=v(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).end=null,n.start=null,n}return Object(a.a)(r,[{key:"readEnd",value:function(e,t){return null!=t.end?new Date(t.end):null}},{key:"writeEnd",value:function(e,t){t.end=e?e.getTime():null}},{key:"isAllTime",get:function(){return this.equals(n.allTime)}},{key:"isEmpty",get:function(){return this.equals(n.empty)}},{key:"readStart",value:function(e,t){return null!=t.start?new Date(t.start):null}},{key:"writeStart",value:function(e,t){t.start=e?e.getTime():null}},{key:"clone",value:function(){return new n({end:this.end,start:this.start})}},{key:"expandTo",value:function(e){if(this.isEmpty||this.isAllTime)return this.clone();var t=Object(f.a)(this.start,(function(t){return Object(p.c)(t,e)})),r=Object(f.a)(this.end,(function(t){return Object(p.b)(Object(p.c)(t,e),1,e)}));return new n({start:t,end:r})}},{key:"intersection",value:function(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return n.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();var t,r,i=Object(f.l)(this.start,-1/0,(function(e){return e.getTime()})),a=Object(f.l)(this.end,1/0,(function(e){return e.getTime()})),o=Object(f.l)(e.start,-1/0,(function(e){return e.getTime()})),s=Object(f.l)(e.end,1/0,(function(e){return e.getTime()}));if(o>=i&&o<=a?t=o:i>=o&&i<=s&&(t=i),a>=o&&a<=s?r=a:s>=i&&s<=a&&(r=s),!isNaN(t)&&!isNaN(r)){var c=new n;return c.start=t===-1/0?null:new Date(t),c.end=r===1/0?null:new Date(r),c}return n.empty}},{key:"offset",value:function(e,t){if(this.isEmpty||this.isAllTime)return this.clone();var r=new n,i=this.start,a=this.end;return Object(f.i)(i)&&(r.start=Object(p.b)(i,e,t)),Object(f.i)(a)&&(r.end=Object(p.b)(a,e,t)),r}},{key:"equals",value:function(e){if(!e)return!1;var t=Object(f.i)(this.start)?this.start.getTime():this.start,r=Object(f.i)(this.end)?this.end.getTime():this.end,n=Object(f.i)(e.start)?e.start.getTime():e.start,i=Object(f.i)(e.end)?e.end.getTime():e.end;return t===n&&r===i}},{key:"union",value:function(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return g.clone();var t=Object(f.i)(this.start)&&Object(f.i)(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=Object(f.i)(this.end)&&Object(f.i)(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new n({start:t,end:r})}}],[{key:"allTime",get:function(){return g}},{key:"empty",get:function(){return O}}]),r}(l.a);Object(u.a)([Object(d.b)({type:Date,json:{write:{allowNull:!0}}})],m.prototype,"end",void 0),Object(u.a)([Object(h.a)("end")],m.prototype,"readEnd",null),Object(u.a)([Object(y.a)("end")],m.prototype,"writeEnd",null),Object(u.a)([Object(d.b)({readOnly:!0,json:{read:!1}})],m.prototype,"isAllTime",null),Object(u.a)([Object(d.b)({readOnly:!0,json:{read:!1}})],m.prototype,"isEmpty",null),Object(u.a)([Object(d.b)({type:Date,json:{write:{allowNull:!0}}})],m.prototype,"start",void 0),Object(u.a)([Object(h.a)("start")],m.prototype,"readStart",null),Object(u.a)([Object(y.a)("start")],m.prototype,"writeStart",null);var g=new(m=n=Object(u.a)([Object(b.a)("esri.TimeExtent")],m)),O=new m({start:void 0,end:void 0}),j=m;t.a=j},Nc0w:function(e,t,r){"use strict";var n=r("NthX"),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r("ERkP"),l=c(r("lZ6b")),f=r("pjU7"),p=c(r("wvjj"));t.default=function(e){var t=e.expander,i=void 0===t?p.default.expander:t,a=e.expanderDefaultOpen,c=void 0===a?p.default.expanderDefaultOpen:a,d=e.position,h=void 0===d?p.default.position:d,b=e.widgetArgs,y=void 0===b?p.default.widgetArgs:b,v=e.expandWidgetArgs,m=void 0===v?p.default.expandWidgetArgs:v,g=e.expandIconClass,O=void 0===g?"esri-icon-layers":g,j=l.default().view;return u.useEffect((function(){var e,t,a=!0;return(null==j?void 0:j.ready)&&s(void 0,void 0,void 0,n.mark((function s(){var u,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return o(r("01Rw"))}));case 2:if(u=n.sent,l=u.default,e=new l(Object.assign({view:j},y)),!i){n.next=11;break}return n.next=8,f.addExpander({view:j,widgetContent:e,expandIconClass:O,position:h,defaultOpen:c,expandWidgetArgs:m});case 8:t=n.sent,n.next=12;break;case 11:a&&(null==j||j.ui.add(e,h));case 12:case"end":return n.stop()}}),s)}))),function(){a=!1,null==e||e.destroy(),null==t||t.destroy()}}),[j,i,h]),null}},NfLg:function(e,t,r){var n=r("GI0s"),i=r("LBQr"),a=r("T9Ud"),o=Function.prototype,s=Object.prototype,c=o.toString,u=s.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=n(e))return!1;var t=i(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==l}},NmMy:function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},NoNy:function(e,t,r){"use strict";r.r(t);var n=r("ZFoC"),i=r("tM9Q"),a=r("xOY0"),o=r("ERkP");t.default={Playground:n.c,Props:n.d,Map:i.Map,Bookmarks:a.a,React:o}},NsGk:function(e,t,r){t.components={"component---readme-md":function(){return Promise.all([r.e(5),r.e(4),r.e(28)]).then(r.bind(null,"7OsV"))},"component---src-index-mdx":function(){return Promise.all([r.e(5),r.e(4),r.e(29)]).then(r.bind(null,"7A3R"))},"component---src-map-component-map-mdx":function(){return Promise.all([r.e(5),r.e(4),r.e(30)]).then(r.bind(null,"5x1K"))},"component---src-map-layers-feature-layer-mdx":function(){return Promise.all([r.e(5),r.e(4),r.e(31)]).then(r.bind(null,"tmjN"))},"component---src-map-layers-graphics-layer-mdx":function(){return Promise.all([r.e(5),r.e(4),r.e(32)]).then(r.bind(null,"vmas"))},"component---src-map-layers-map-image-layer-mdx":function(){return Promise.all([r.e(5),r.e(4),r.e(33)]).then(r.bind(null,"qBP9"))},"component---src-pages-404-js":function(){return r.e(34).then(r.bind(null,"w2l6"))},"component---src-widgets-basemap-gallery-mdx":function(){return Promise.all([r.e(5),r.e(4),r.e(35)]).then(r.bind(null,"aJCw"))},"component---src-widgets-bookmarks-mdx":function(){return Promise.all([r.e(5),r.e(4),r.e(36)]).then(r.bind(null,"ffOM"))},"component---src-widgets-directions-mdx":function(){return Promise.all([r.e(5),r.e(4),r.e(37)]).then(r.bind(null,"3Syw"))},"component---src-widgets-home-mdx":function(){return Promise.all([r.e(5),r.e(4),r.e(38)]).then(r.bind(null,"ckLX"))},"component---src-widgets-layer-list-mdx":function(){return Promise.all([r.e(5),r.e(4),r.e(39)]).then(r.bind(null,"mm0U"))},"component---src-widgets-legend-mdx":function(){return Promise.all([r.e(5),r.e(4),r.e(40)]).then(r.bind(null,"fMzp"))},"component---src-widgets-zoom-mdx":function(){return Promise.all([r.e(5),r.e(4),r.e(41)]).then(r.bind(null,"cyMj"))}}},NtCB:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(n.a)(this,e),this._seed=t}return Object(i.a)(e,[{key:"seed",set:function(t){this._seed=null==t?Math.random()*e._m:t}},{key:"getInt",value:function(){return this._seed=(e._a*this._seed+e._c)%e._m,this._seed}},{key:"getFloat",value:function(){return this.getInt()/(e._m-1)}},{key:"getIntRange",value:function(e,t){return Math.round(this.getFloatRange(e,t))}},{key:"getFloatRange",value:function(t,r){var n=r-t;return t+this.getInt()/e._m*n}}]),e}();a._m=2147483647,a._a=48271,a._c=0,t.a=a},NthX:function(e,t,r){e.exports=r("wcNg")},"O/Z7":function(e,t){var r=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return r.test(e)}},O76R:function(e,t,r){var n=r("7bRu"),i=r("m3cY"),a=r("7yvy"),o=RegExp("[']","g");e.exports=function(e){return function(t){return n(a(i(t).replace(o,"")),e,"")}}},OF9M:function(e,t){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},ONOI:function(e,t,r){var n=r("SN9N"),i=r("Fldm"),a=r("vvBr"),o=r("e766"),s=r("FQMq"),c=r("lYsT"),u=r("PqlX"),l=r("nxZd"),f=r("tfj2"),p=r("RqPZ"),d=r("9aUh"),h=r("NfLg"),b=r("3kU/"),y=r("Bq5F"),v=r("vDbd");e.exports=function(e,t,r,m,g,O,j){var w=y(e,r),_=y(t,r),k=j.get(_);if(k)n(e,r,k);else{var x=O?O(w,_,r+"",e,t,j):void 0,S=void 0===x;if(S){var P=u(_),I=!P&&f(_),R=!P&&!I&&b(_);x=_,P||I||R?u(w)?x=w:l(w)?x=o(w):I?(S=!1,x=i(_,!0)):R?(S=!1,x=a(_,!0)):x=[]:h(_)||c(_)?(x=w,c(w)?x=v(w):d(w)&&!p(w)||(x=s(_))):S=!1}S&&(j.set(_,x),g(x,_,m,O,j),j.delete(_)),n(e,r,x)}}},OSyX:function(e,t,r){"use strict";var n=r("hisu"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("dQW7"),c=r("7i+s"),u=r("xAIp"),l=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),f=r("lDyH");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var d=new c.a({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"}),h=function(e){Object(i.a)(r,e);var t=p(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).type=null,i}return r}(f.a);Object(s.a)([Object(u.b)({type:String,json:{read:d.read,write:d.write}})],h.prototype,"type",void 0);var b=h=Object(s.a)([Object(l.a)("esri.rest.support.NAMessage")],h);t.a=b},OTJA:function(e,t,r){"use strict";var n=r("aNYv"),i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("TM+E"),f=r("xAIp"),p=(r("J4Pc"),r("gljZ")),d=r("mp5+"),h=r("iaHD"),b=r("jr4m"),y=r("wckI"),v=r("DjXQ"),m=r("YHXj");var g,O=r("12QT"),j=r("3p7a");function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var _=[0,0];function k(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}var x=l.a.getLogger("esri.geometry.Point"),S=g=function(e){Object(o.a)(r,e);var t=w(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).x=0,e.y=0,e.z=void 0,e.m=void 0,e.type="point",e}return Object(a.a)(r,[{key:"normalizeCtorArgs",value:function(e,t,r,n,i){var a;if(Array.isArray(e))i=t,e=(a=e)[0],t=a[1],r=a[2],n=a[3];else if(e&&"object"==typeof e){if(e=null!=(a=e).x?a.x:a.longitude,t=null!=a.y?a.y:a.latitude,r=a.z,n=a.m,(i=a.spatialReference)&&"esri.geometry.SpatialReference"!==i.declaredClass&&(i=new m.a(i)),null!=a.longitude||null!=a.latitude)if(null==a.longitude)x.warn(".longitude=","Latitude was defined without longitude");else if(null==a.latitude)x.warn(".latitude=","Longitude was defined without latitude");else if(!a.declaredClass&&i&&i.isWebMercator){var o=Object(j.c)(a.longitude,a.latitude,_);e=o[0],t=o[1]}}else k(r)?(i=r,r=null):k(n)&&(i=n,n=null);var s={x:e,y:t};return null==s.x&&null!=s.y?x.warn(".y=","Y coordinate was defined without an X coordinate"):null==s.y&&null!=s.x&&x.warn(".x=","X coordinate was defined without a Y coordinate"),null!=i&&(s.spatialReference=i),null!=r&&(s.z=r),null!=n&&(s.m=n),s}},{key:"cache",get:function(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}},{key:"hasM",get:function(){return void 0!==this.m},set:function(e){e!==(void 0!==this._get("m"))&&(this._set("m",e?0:void 0),this._set("hasM",e))}},{key:"hasZ",get:function(){return void 0!==this.z},set:function(e){e!==(void 0!==this._get("z"))&&(this._set("z",e?0:void 0),this._set("hasZ",e))}},{key:"latitude",get:function(){var e=this.spatialReference,t=this.x,r=this.y;if(e){if(e.isWebMercator)return Object(j.g)(t,r,_)[1];if(e.isGeographic)return r}return null},set:function(e){var t=this.spatialReference,r=this.x;t&&(t.isWebMercator?this._set("y",Object(j.c)(r,e,_)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}},{key:"longitude",get:function(){var e=this.x,t=this.y,r=this.spatialReference;if(r){if(r.isWebMercator)return Object(j.g)(e,t,_)[0];if(r.isGeographic)return e}return NaN},set:function(e){var t=this.y,r=this.spatialReference;r&&(r.isWebMercator?this._set("x",Object(j.c)(e,t,_)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}},{key:"writeX",value:function(e,t,r){t[r]=isNaN(e)?"NaN":e}},{key:"readX",value:function(e){return"string"==typeof e?NaN:e}},{key:"clone",value:function(){var e=new g;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}},{key:"copy",value:function(e){return g.copy(e,this),this}},{key:"equals",value:function(e){var t,r;if(!e)return!1;var i=this.x,a=this.y,o=this.z,s=this.m,c=this.spatialReference,u=e.z,l=e.m,f=e.x,p=e.y,d=e.spatialReference;if(!c.equals(d))if(c.isWebMercator&&d.isWGS84)t=Object(j.c)(f,p),f=(r=Object(n.a)(t,2))[0],p=r[1],d=c;else{var h,b;if(!c.isWGS84||!d.isWebMercator)return!1;h=Object(j.g)(f,p),f=(b=Object(n.a)(h,2))[0],p=b[1],d=c}return i===f&&a===p&&o===u&&s===l&&c.wkid===d.wkid}},{key:"offset",value:function(e,t,r){return function(e,t,r,n){var i;return e.x=e.x+t,e.y=e.y+r,null!=n&&(e.z=(null!=(i=e.z)?i:0)+n),e}(this,e,t,r)}},{key:"normalize",value:function(){if(!this.spatialReference)return this;var e=Object(O.d)(this.spatialReference);if(!e)return this;var t=this.x,r=Object(n.a)(e.valid,2),i=r[0],a=r[1],o=2*a;return t>a?t-=Math.ceil(Math.abs(t-a)/o)*o:t<i&&(t+=Math.ceil(Math.abs(t-i)/o)*o),this._set("x",t),this}},{key:"distance",value:function(e){return r=e,n=(t=this).x-r.x,i=t.y-r.y,a=t.hasZ&&r.hasZ?t.z-r.z:0,Math.sqrt(n*n+i*i+a*a);var t,r,n,i,a}},{key:"toArray",value:function(){var e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}},{key:"toJSON",value:function(e){return this.write(null,e)}}],[{key:"copy",value:function(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));var r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}}]),r}(v.a);Object(u.a)([Object(f.b)({readOnly:!0})],S.prototype,"cache",null),Object(u.a)([Object(f.b)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],S.prototype,"hasM",null),Object(u.a)([Object(f.b)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],S.prototype,"hasZ",null),Object(u.a)([Object(f.b)({type:Number})],S.prototype,"latitude",null),Object(u.a)([Object(f.b)({type:Number})],S.prototype,"longitude",null),Object(u.a)([Object(f.b)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Object(p.a)((function(e){return isNaN(e)?e:Object(y.i)(e)}))],S.prototype,"x",void 0),Object(u.a)([Object(b.a)("x")],S.prototype,"writeX",null),Object(u.a)([Object(d.a)("x")],S.prototype,"readX",null),Object(u.a)([Object(f.b)({type:Number,json:{write:!0}})],S.prototype,"y",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],S.prototype,"z",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],S.prototype,"m",void 0),(S=g=Object(u.a)([Object(h.a)("esri.geometry.Point")],S)).prototype.toJSON.isDefaultToJSON=!0;var P=S;t.a=P},OVha:function(e,t,r){var n=r("8OJN"),i=r("ek/P").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},OYdn:function(e,t,r){"use strict";r.r(t);var n=r("eijD"),i=r("mK0O"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("NthX"),f=r.n(l),p=r("dQW7"),d=r("e6DO"),h=r("Mp7X"),b=r("0n+b"),y=r("0fJP"),v=r("eTmm"),m=r("7im+"),g=r("z9dv"),O=r("xAIp"),j=r("wckI"),w=(r("J4Pc"),r("TM+E")),_=r("mp5+"),k=r("iaHD"),x=r("nd5+"),S=r("eoZi"),P=r("hZBP"),I=r("gljZ");function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var T=w.a.getLogger("esri.portal.PortalItemResource"),A=function(e){Object(s.a)(c,e);var t,i=E(c);function c(e){var t;return Object(a.a)(this,c),(t=i.call(this,e)).portalItem=null,t}return Object(o.a)(c,[{key:"normalizeCtorArgs",value:function(e){return e&&e.portalItem&&e.path?M(M({},e),{},{path:this.normalizePath(e.path,e.portalItem)}):e}},{key:"path",set:function(e){Object(m.i)(e)&&Object(g.s)(e)?T.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}},{key:"_castPath",value:function(e){return this.normalizePath(e,this.portalItem)}},{key:"url",get:function(){return this.portalItem&&this.path?"".concat(this.portalItem.itemUrl,"/resources/").concat(this.path):null}},{key:"itemRelativeUrl",get:function(){return this.portalItem&&this.path?"./resources/".concat(this.path):null}},{key:"fetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json",t=arguments.length>1?arguments[1]:void 0,r=this.url;if(Object(m.h)(r))throw new h.a("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(r,{responseType:e,query:{token:this.portalItem.apiKey},signal:Object(m.g)(t,"signal")})}},{key:"update",value:(t=Object(n.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(8).then(r.bind(null,"6rmj"));case 2:return e.abrupt("return",e.sent.addOrUpdateResource(this,"update",t,n));case 3:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"hasPath",value:function(){return Object(m.i)(this.path)}},{key:"normalizePath",value:function(e,t){return Object(m.h)(e)?e:(e=e.replace(/^\/+/,""),Object(m.i)(t)&&Object(g.s)(e)&&(e=Object(g.C)(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}}]),c}(P.a);Object(p.a)([Object(O.b)()],A.prototype,"portalItem",void 0),Object(p.a)([Object(O.b)({type:String,value:null})],A.prototype,"path",null),Object(p.a)([Object(I.a)("path")],A.prototype,"_castPath",null),Object(p.a)([Object(O.b)({type:String,readOnly:!0})],A.prototype,"url",null),Object(p.a)([Object(O.b)({type:String,readOnly:!0})],A.prototype,"itemRelativeUrl",null);var C=A=Object(p.a)([Object(k.a)("esri.portal.PortalItemResource")],A);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var L=function(e){Object(s.a)(r,e);var t=D(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).created=null,n.rating=null,n}return r}(P.a);Object(p.a)([Object(O.b)()],L.prototype,"created",void 0),Object(p.a)([Object(O.b)()],L.prototype,"rating",void 0);var F,N=L=Object(p.a)([Object(k.a)("esri.portal.PortalRating")],L);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var z=F=function(e){Object(s.a)(p,e);var t,i,c,u,l=U(p);function p(e){var t;return Object(a.a)(this,p),(t=l.call(this,e)).access=null,t.accessInformation=null,t.apiKey=null,t.applicationProxies=null,t.avgRating=null,t.categories=null,t.created=null,t.culture=null,t.description=null,t.extent=null,t.groupCategories=null,t.id=null,t.itemControl=null,t.licenseInfo=null,t.modified=null,t.name=null,t.numComments=null,t.numRatings=null,t.numViews=null,t.owner=null,t.ownerFolder=null,t.portal=null,t.screenshots=null,t.size=null,t.snippet=null,t.sourceJSON=null,t.tags=null,t.title=null,t.type=null,t.typeKeywords=null,t.url=null,t}return Object(o.a)(p,[{key:"destroy",value:function(){this.portal=null}},{key:"displayName",get:function(){var e=this.type,t=this.typeKeywords||[],r=e;return"Feature Service"===e||"Feature Collection"===e?r=t.indexOf("Table")>-1?"Table":t.indexOf("Route Layer")>-1?"Route Layer":t.indexOf("Markup")>-1?"Markup":"Feature Layer":"Image Service"===e?r=t.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":t.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?r="Scene Layer":"Scene Package"===e?r="Scene Layer Package":"Stream Service"===e?r="Feature Layer":"Geoprocessing Service"===e&&this.portal&&this.portal.isPortal?r=t.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":"Geocoding Service"===e?r="Locator":"Geoenrichment Service"===e?r="GeoEnrichment Service":"Microsoft Powerpoint"===e?r="Microsoft PowerPoint":"GeoJson"===e?r="GeoJSON":"Globe Service"===e?r="Globe Layer":"Vector Tile Service"===e?r="Tile Layer":"netCDF"===e?r="NetCDF":"Map Service"===e?r=-1===t.indexOf("Spatiotemporal")&&(t.indexOf("Hosted Service")>-1||t.indexOf("Tiled")>-1)&&-1===t.indexOf("Relational")?"Tile Layer":"Map Image Layer":e&&e.toLowerCase().indexOf("add in")>-1?r=e.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===e?r="Big Data File Share":"Compact Tile Package"===e?r="Tile Package (tpkx)":"OGCFeatureServer"===e&&(r="OGC Feature Layer"),r}},{key:"readExtent",value:function(e){return e&&e.length?new x.a(e[0][0],e[0][1],e[1][0],e[1][1]):null}},{key:"iconUrl",get:function(){var e,t=this.type&&this.type.toLowerCase()||"",r=this.typeKeywords||[],n=!1,i=!1,a=!1,o=!1,s=!1,c=!1;return t.indexOf("service")>0||"feature collection"===t||"kml"===t||"wms"===t||"wmts"===t||"wfs"===t?(n=r.indexOf("Hosted Service")>-1,"feature service"===t||"feature collection"===t||"kml"===t||"wfs"===t?(i=r.indexOf("Table")>-1,a=r.indexOf("Route Layer")>-1,o=r.indexOf("Markup")>-1,s=-1!==r.indexOf("Spatiotemporal"),c=-1!==r.indexOf("UtilityNetwork"),e=s&&i?"spatiotemporaltable":i?"table":a?"routelayer":o?"markup":s?"spatiotemporal":n?"featureshosted":c?"utilitynetwork":"features"):e="map service"===t||"wms"===t||"wmts"===t?n||r.indexOf("Tiled")>-1||"wmts"===t?"maptiles":"mapimages":"scene service"===t?r.indexOf("Line")>-1?"sceneweblayerline":r.indexOf("3DObject")>-1?"sceneweblayermultipatch":r.indexOf("Point")>-1?"sceneweblayerpoint":r.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":r.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":r.indexOf("Polygon")>-1?"sceneweblayerpolygon":r.indexOf("Building")>-1?"sceneweblayerbuilding":r.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":"image service"===t?r.indexOf("Elevation 3D Layer")>-1?"elevationlayer":r.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":"stream service"===t?"streamlayer":"vector tile service"===t?"vectortile":"datastore catalog service"===t?"datastorecollection":"geocoding service"===t?"geocodeservice":"geoprocessing service"===t&&r.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):e="web map"===t||"cityengine web scene"===t?"maps":"web scene"===t?r.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===t||"mobile application"===t||"application"===t||"operation view"===t||"desktop application"===t?"apps":"map document"===t||"map package"===t||"published map"===t||"scene document"===t||"globe document"===t||"basemap package"===t||"mobile basemap package"===t||"mobile map package"===t||"project package"===t||"project template"===t||"pro map"===t||"layout"===t||"layer"===t&&r.indexOf("ArcGIS Pro")>-1||"explorer map"===t&&r.indexOf("Explorer Document")?"mapsgray":"service definition"===t||"csv"===t||"shapefile"===t||"cad drawing"===t||"geojson"===t||"360 vr experience"===t||"netcdf"===t||"administrative report"===t?"datafiles":"explorer add in"===t||"desktop add in"===t||"windows viewer add in"===t||"windows viewer configuration"===t?"appsgray":"arcgis pro add in"===t||"arcgis pro configuration"===t?"addindesktop":"rule package"===t||"file geodatabase"===t||"sqlite geodatabase"===t||"csv collection"===t||"kml collection"===t||"windows mobile package"===t||"map template"===t||"desktop application template"===t||"gml"===t||"arcpad package"===t||"code sample"===t||"form"===t||"document link"===t||"earth configuration"===t||"operations dashboard add in"===t||"rules package"===t||"image"===t||"workflow manager package"===t||"explorer map"===t&&r.indexOf("Explorer Mapping Application")>-1||r.indexOf("Document")>-1?"datafilesgray":"network analysis service"===t||"geoprocessing service"===t||"geodata service"===t||"geometry service"===t||"geoprocessing package"===t||"locator package"===t||"geoprocessing sample"===t||"workflow manager service"===t?"toolsgray":"layer"===t||"layer package"===t||"explorer layer"===t?"layersgray":"scene package"===t?"scenepackage":"mobile scene package"===t?"mobilescenepackage":"tile package"===t||"compact tile package"===t?"tilepackage":"task file"===t?"taskfile":"report template"===t?"report-template":"statistical data collection"===t?"statisticaldatacollection":"insights workbook"===t?"workbook":"insights model"===t?"insightsmodel":"insights page"===t?"insightspage":"insights theme"===t?"insightstheme":"hub initiative"===t?"hubinitiative":"hubpage"===t?"hubpage":"hub event"===t?"hubevent":"hub site application"===t?"hubsite":"relational database connection"===t?"relationaldatabaseconnection":"big data file share"===t?"datastorecollection":"image collection"===t?"imagecollection":"style"===t?"style":"desktop style"===t?"desktopstyle":"dashboard"===t?"dashboard":"raster function template"===t?"rasterprocessingtemplate":"vector tile package"===t?"vectortilepackage":"ortho mapping project"===t?"orthomappingproject":"ortho mapping template"===t?"orthomappingtemplate":"solution"===t?"solutions":"geopackage"===t?"geopackage":"deep learning package"===t?"deeplearningpackage":"real time analytic"===t?"realtimeanalytics":"big data analytic"===t?"bigdataanalytics":"feed"===t?"feed":"excalibur imagery project"===t?"excaliburimageryproject":"notebook"===t?"notebook":"storymap"===t?"storymap":"survey123 add in"===t?"survey123addin":"mission"===t?"mission":"mission report"===t?"missionreport":"quickcapture project"===t?"quickcaptureproject":"pro report"===t?"proreport":"urban model"===t?"urbanmodel":"web experience"===t?"experiencebuilder":"web experience template"===t?"webexperiencetemplate":"workflow"===t?"workflow":"insights script"===t?"insightsscript":"kernel gateway connection"===t?"kernelgatewayconnection":"hub initiative template"===t?"hubinitiativetemplate":"storymap theme"===t?"storymaptheme":"knowledge graph"===t?"knowledgegraph":"native application"===t?"nativeapp":"native application installer"===t?"nativeappinstaller":"link chart"===t?"linkchart":"investigation"===t?"investigation":"ogcfeatureserver"===t?"features":"pro project"===t?"proproject":"insights workbook package"===t?"insightsworkbookpackage":"maps",e?Object(d.a)("esri/images/portal/"+e+"16.png"):null}},{key:"isLayer",get:function(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}},{key:"itemUrl",get:function(){var e=this.get("portal.restUrl");return e?e+"/content/items/"+this.id:null}},{key:"thumbnailUrl",get:function(){var e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl("".concat(e,"/info/").concat(t,"?f=json")):null}},{key:"userItemUrl",get:function(){var e=this.get("portal.restUrl");if(!e)return null;var t=this.owner||this.get("portal.user.username");return t?"".concat(e,"/content/users/").concat(this.ownerFolder?"".concat(t,"/").concat(this.ownerFolder):t,"/items/").concat(this.id):null}},{key:"load",value:function(e){var t=this;this.portal||(this.portal=S.a.getDefault());var r=this.portal.load(e).then((function(){return t.sourceJSON?t.sourceJSON:t.id&&t.itemUrl?t.portal._request(t.itemUrl,{signal:Object(m.i)(e)?e.signal:null,query:{token:t.apiKey}}):{}})).then((function(e){t.sourceJSON=e,t.read(e)}));return this.addResolvingPromise(r),Promise.resolve(this)}},{key:"addRating",value:function(e){var t={method:"post",query:{}};return e instanceof N&&(e=e.rating),isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then((function(){return new N({rating:e,created:new Date})}))}},{key:"clone",value:function(){var e={access:this.access,accessInformation:this.accessInformation,applicationProxies:Object(y.a)(this.applicationProxies),avgRating:this.avgRating,categories:Object(y.a)(this.categories),created:Object(y.a)(this.created),culture:this.culture,description:this.description,extent:Object(y.a)(this.extent),groupCategories:Object(y.a)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:Object(y.a)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:Object(y.a)(this.screenshots),size:this.size,snippet:this.snippet,tags:Object(y.a)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:Object(y.a)(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new F({sourceJSON:this.sourceJSON}).set(e)}},{key:"createPostQuery",value:function(){var e=this.toJSON();for(var t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}},{key:"deleteRating",value:function(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then((function(){}))}},{key:"fetchData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json",t=arguments.length>1?arguments[1]:void 0;return this.portal._request(this.itemUrl+"/data",V(V({responseType:e},t),{},{query:{token:this.apiKey}}))}},{key:"fetchRating",value:function(e){return this.portal._request(this.itemUrl+"/rating",V({query:{token:this.apiKey}},e)).then((function(e){return null!=e.rating?(e.created=new Date(e.created),new N(e)):null}))}},{key:"fetchRelatedItems",value:function(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",V({query:V(V({},e),{},{token:this.apiKey})},t),F)}},{key:"getThumbnailUrl",value:function(e){var t=this.thumbnailUrl;return t&&e&&(t+="&w=".concat(e)),t}},{key:"reload",value:function(){var e=this;return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then((function(t){return e.sourceJSON=t,e.read(t),e}))}},{key:"update",value:function(e){var t=this;return this.id?this.load().then((function(){return t.portal._signIn()})).then((function(){var r=e&&e.data,n={method:"post"};for(var i in n.query=t.createPostQuery(),n.query)null===n.query[i]&&(n.query[i]="");return n.query.clearEmptyFields=!0,null!=r&&("string"==typeof r?n.query.text=r:"object"==typeof r&&(n.query.text=JSON.stringify(r))),t.portal._request("".concat(t.userItemUrl,"/update"),n).then((function(){return t.reload()}))})):Promise.reject(new h.a("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}},{key:"updateThumbnail",value:function(e){var t=this;return this.id?this.load().then((function(){return t.portal._signIn()})).then((function(){var r=e.thumbnail,n=e.filename,i={method:"post"};if("string"==typeof r)Object(g.u)(r)?i.query={data:r}:i.query={url:Object(g.A)(r)},Object(m.i)(n)&&(i.query.filename=n);else{var a=new FormData;Object(m.i)(n)?a.append("file",r,n):a.append("file",r),i.body=a}return t.portal._request("".concat(t.userItemUrl,"/updateThumbnail"),i).then((function(){return t.reload()}))})):Promise.reject(new h.a("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}},{key:"fetchResources",value:(u=Object(n.a)(f.a.mark((function e(){var t,n,i=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},n=i.length>1?i[1]:void 0,e.next=4,r.e(8).then(r.bind(null,"6rmj"));case 4:return e.abrupt("return",e.sent.fetchResources(this,t,n));case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"addResource",value:(c=Object(n.a)(f.a.mark((function e(t,n,i){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(8).then(r.bind(null,"6rmj"));case 2:return a=e.sent,e.abrupt("return",(t.portalItem=this,a.addOrUpdateResource(t,"add",n,i)));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return c.apply(this,arguments)})},{key:"removeResource",value:(i=Object(n.a)(f.a.mark((function e(t,n){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(8).then(r.bind(null,"6rmj"));case 2:if(i=e.sent,!t.portalItem||t.portalItem.itemUrl===this.itemUrl){e.next=5;break}throw new h.a("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");case 5:return e.abrupt("return",i.removeResource(this,t,n));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"removeAllResources",value:(t=Object(n.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(8).then(r.bind(null,"6rmj"));case 2:return e.abrupt("return",e.sent.removeAllResources(this,t));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"resourceFromPath",value:function(e){return new C({portalItem:this,path:e})}},{key:"toJSON",value:function(){var e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return Object(y.c)(t)}},{key:"_getPostQuery",value:function(){var e=this.toJSON();for(var t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}}],[{key:"from",value:function(e){return Object(j.d)(F,e)}},{key:"fromJSON",value:function(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new F({sourceJSON:e})}}]),p}(Object(b.b)(v.a));Object(p.a)([Object(O.b)({type:["private","shared","org","public"]})],z.prototype,"access",void 0),Object(p.a)([Object(O.b)()],z.prototype,"accessInformation",void 0),Object(p.a)([Object(O.b)({type:String})],z.prototype,"apiKey",void 0),Object(p.a)([Object(O.b)({json:{read:{source:"appProxies"}}})],z.prototype,"applicationProxies",void 0),Object(p.a)([Object(O.b)()],z.prototype,"avgRating",void 0),Object(p.a)([Object(O.b)()],z.prototype,"categories",void 0),Object(p.a)([Object(O.b)({type:Date})],z.prototype,"created",void 0),Object(p.a)([Object(O.b)()],z.prototype,"culture",void 0),Object(p.a)([Object(O.b)()],z.prototype,"description",void 0),Object(p.a)([Object(O.b)({readOnly:!0})],z.prototype,"displayName",null),Object(p.a)([Object(O.b)({type:x.a})],z.prototype,"extent",void 0),Object(p.a)([Object(_.a)("extent")],z.prototype,"readExtent",null),Object(p.a)([Object(O.b)()],z.prototype,"groupCategories",void 0),Object(p.a)([Object(O.b)({readOnly:!0})],z.prototype,"iconUrl",null),Object(p.a)([Object(O.b)()],z.prototype,"id",void 0),Object(p.a)([Object(O.b)({readOnly:!0})],z.prototype,"isLayer",null),Object(p.a)([Object(O.b)()],z.prototype,"itemControl",void 0),Object(p.a)([Object(O.b)({readOnly:!0})],z.prototype,"itemUrl",null),Object(p.a)([Object(O.b)()],z.prototype,"licenseInfo",void 0),Object(p.a)([Object(O.b)({type:Date})],z.prototype,"modified",void 0),Object(p.a)([Object(O.b)()],z.prototype,"name",void 0),Object(p.a)([Object(O.b)()],z.prototype,"numComments",void 0),Object(p.a)([Object(O.b)()],z.prototype,"numRatings",void 0),Object(p.a)([Object(O.b)()],z.prototype,"numViews",void 0),Object(p.a)([Object(O.b)()],z.prototype,"owner",void 0),Object(p.a)([Object(O.b)()],z.prototype,"ownerFolder",void 0),Object(p.a)([Object(O.b)({type:S.a})],z.prototype,"portal",void 0),Object(p.a)([Object(O.b)()],z.prototype,"screenshots",void 0),Object(p.a)([Object(O.b)()],z.prototype,"size",void 0),Object(p.a)([Object(O.b)()],z.prototype,"snippet",void 0),Object(p.a)([Object(O.b)()],z.prototype,"sourceJSON",void 0),Object(p.a)([Object(O.b)()],z.prototype,"tags",void 0),Object(p.a)([Object(O.b)()],z.prototype,"thumbnail",void 0),Object(p.a)([Object(O.b)({readOnly:!0})],z.prototype,"thumbnailUrl",null),Object(p.a)([Object(O.b)()],z.prototype,"title",void 0),Object(p.a)([Object(O.b)()],z.prototype,"type",void 0),Object(p.a)([Object(O.b)()],z.prototype,"typeKeywords",void 0),Object(p.a)([Object(O.b)()],z.prototype,"url",void 0),Object(p.a)([Object(O.b)({readOnly:!0})],z.prototype,"userItemUrl",null);var q=z=F=Object(p.a)([Object(k.a)("esri.portal.PortalItem")],z);t.default=q},OYew:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=0;function i(){return++n}},OfXF:function(e,t,r){var n=r("F3Ab"),i=r("sWZd"),a=r("q+I6"),o=r("9aUh"),s=r("cTHi");e.exports=function(e,t,r,c){if(!o(e))return e;for(var u=-1,l=(t=i(t,e)).length,f=l-1,p=e;null!=p&&++u<l;){var d=s(t[u]),h=r;if("__proto__"===d||"constructor"===d||"prototype"===d)return e;if(u!=f){var b=p[d];void 0===(h=c?c(b,d,p):void 0)&&(h=o(b)?b:a(t[u+1])?[]:{})}n(p,d,h),p=p[d]}return e}},OhIr:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("TM+E"),i=r("SPOG"),a=r("nyn0"),o=r("DuP7");function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=n.a.getLogger("esri.layers.support.fieldProperties");function l(){return{fields:{type:[i.a],value:null},fieldsIndex:{readOnly:!0,get:function(){return new a.a(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;var t,r=s(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.fieldsIndex.has(n)||u.error("field-attributes-layer:invalid-field","Invalid field ".concat(n," found in outFields"),{layer:this,outFields:e})}}catch(i){r.e(i)}finally{r.f()}return Object(o.i)(this.fieldsIndex,e)}}}}},OhoG:function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var n=r("mK0O"),i=r("eijD"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("NthX"),f=r.n(l),p=r("dQW7"),d=r("DGz/"),h=r("IH5m"),b=r("z9dv"),y=r("TwND"),v=r("xAIp"),m=(r("J4Pc"),r("wckI"),r("TM+E"),r("mp5+")),g=r("iaHD"),O=r("nd5+"),j=r("YHXj"),w=r("NRoO");function _(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var I=function(e){var t=function(e){Object(s.a)(c,e);var t,r,n=P(c);function c(){var e;return Object(a.a)(this,c),(e=n.apply(this,arguments)).capabilities=void 0,e.copyright=null,e.fullExtent=null,e.legendEnabled=!0,e.spatialReference=null,e.version=null,e}return Object(o.a)(c,[{key:"readCapabilities",value:function(e,t){var r=t.capabilities&&t.capabilities.split(",").map((function(e){return e.toLowerCase().trim()}));if(!r)return{operations:{supportsQuery:!1,supportsExportMap:!1,supportsExportTiles:!1,supportsTileMap:!1},exportMap:null,exportTiles:null};var n=this.type,i=-1!==r.indexOf("query"),a=-1!==r.indexOf("map"),o=!!t.exportTilesAllowed,s=-1!==r.indexOf("tilemap"),c="tile"!==n&&!!t.supportsDynamicLayers,u="tile"!==n&&(!t.tileInfo||c),l="tile"!==n&&(!t.tileInfo||c),f="tile"!==n,p=!!t.cimVersion&&y.a.parse(t.cimVersion).since(1,4);return{operations:{supportsQuery:i,supportsExportMap:a,supportsExportTiles:o,supportsTileMap:s},exportMap:a?{supportsArcadeExpressionForLabeling:p,supportsSublayersChanges:f,supportsDynamicLayers:c,supportsSublayerVisibility:u,supportsSublayerDefinitionExpression:l}:null,exportTiles:o?{maxExportTilesCount:+t.maxExportTilesCount}:null}}},{key:"readVersion",value:function(e,t){var r=t.currentVersion;return r||(r=t.hasOwnProperty("capabilities")||t.hasOwnProperty("tables")?10:t.hasOwnProperty("supportedImageFormatTypes")?9.31:9.3),r}},{key:"fetchSublayerInfo",value:(r=Object(i.a)(f.a.mark((function e(t,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAllLayersAndTables(r);case 2:return e.abrupt("return",this._allLayersAndTablesMap.get(t));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"fetchAllLayersAndTables",value:(t=Object(i.a)(f.a.mark((function e(t){var r,n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load(t);case 2:return this._allLayersAndTablesPromise||(this._allLayersAndTablesPromise=Object(d.default)(Object(b.K)(this.url).path+"/layers",{responseType:"json",query:S(S({f:"json"},this.customParameters),{},{token:this.apiKey})}).then((function(e){n._allLayersAndTablesMap=new Map;var t,r=_(e.data.layers);try{for(r.s();!(t=r.n()).done;){var i=t.value;n._allLayersAndTablesMap.set(i.id,i)}}catch(a){r.e(a)}finally{r.f()}return{result:e.data}}),(function(e){return{error:e}}))),e.next=5,this._allLayersAndTablesPromise;case 5:if(r=e.sent,Object(h.v)(t),!("result"in r)){e.next=8;break}return e.abrupt("return",r.result);case 8:throw r.error;case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),c}(e);return Object(p.a)([Object(v.b)({readOnly:!0})],t.prototype,"capabilities",void 0),Object(p.a)([Object(m.a)("service","capabilities",["capabilities","exportTilesAllowed","maxExportTilesCount","supportsDynamicLayers","tileInfo"])],t.prototype,"readCapabilities",null),Object(p.a)([Object(v.b)({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),Object(p.a)([Object(v.b)({type:O.a})],t.prototype,"fullExtent",void 0),Object(p.a)([Object(v.b)(w.c)],t.prototype,"id",void 0),Object(p.a)([Object(v.b)({type:Boolean,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}})],t.prototype,"legendEnabled",void 0),Object(p.a)([Object(v.b)(w.j)],t.prototype,"popupEnabled",void 0),Object(p.a)([Object(v.b)({type:j.a})],t.prototype,"spatialReference",void 0),Object(p.a)([Object(v.b)()],t.prototype,"version",void 0),Object(p.a)([Object(m.a)("version",["currentVersion","capabilities","tables","supportedImageFormatTypes"])],t.prototype,"readVersion",null),t=Object(p.a)([Object(g.a)("esri.layers.mixins.ArcGISMapService")],t)}},OiVb:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("1ZHs");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var h=n=function(e){Object(o.a)(r,e);var t=d(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="selection",n}return Object(a.a)(r,[{key:"clone",value:function(){return new n}}]),r}(p.a);Object(u.a)([Object(l.b)({type:["selection"]})],h.prototype,"type",void 0);var b=h=n=Object(u.a)([Object(f.a)("esri.layers.support.FeatureReductionSelection")],h);t.a=b},Ono3:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},OoM2:function(e,t,r){"use strict";var n=Array.isArray,i=Object.keys,a=Object.prototype.hasOwnProperty;e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){var o,s,c,u=n(t),l=n(r);if(u&&l){if((s=t.length)!=r.length)return!1;for(o=s;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(u!=l)return!1;var f=t instanceof Date,p=r instanceof Date;if(f!=p)return!1;if(f&&p)return t.getTime()==r.getTime();var d=t instanceof RegExp,h=r instanceof RegExp;if(d!=h)return!1;if(d&&h)return t.toString()==r.toString();var b=i(t);if((s=b.length)!==i(r).length)return!1;for(o=s;0!=o--;)if(!a.call(r,b[o]))return!1;for(o=s;0!=o--;)if(!e(t[c=b[o]],r[c]))return!1;return!0}return t!=t&&r!=r}},OsF9:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("WYis"),f=r("0fJP"),p=r("xAIp"),d=r("wckI"),h=(r("J4Pc"),r("TM+E"),r("vo12")),b=r("iaHD"),y=r("1lXL");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var m=n=function(e){Object(o.a)(r,e);var t=v(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).color=g.clone(),n.type="water",n.waterbodySize="medium",n.waveDirection=null,n.waveStrength="moderate",n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({color:Object(f.a)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}}]),r}(y.a);Object(u.a)([Object(p.b)({type:l.a,nonNullable:!0,json:{type:[d.a],write:function(e,t,r){return t[r]=e.toArray(1)},default:function(){return g.clone()},defaultEquals:function(e){return e.toCss(!0)===g.toCss(!0)}}})],m.prototype,"color",void 0),Object(u.a)([Object(h.a)({Water:"water"},{readOnly:!0})],m.prototype,"type",void 0),Object(u.a)([Object(p.b)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],m.prototype,"waterbodySize",void 0),Object(u.a)([Object(p.b)({type:Number,json:{write:!0,default:null}})],m.prototype,"waveDirection",void 0),Object(u.a)([Object(p.b)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],m.prototype,"waveStrength",void 0),m=n=Object(u.a)([Object(b.a)("esri.symbols.WaterSymbol3DLayer")],m);var g=new l.a([0,119,190]),O=m;t.a=O},"P+uj":function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",(function(){return n}))},P2u4:function(e,t,r){var n=r("nEaP"),i=r("/dUa"),a=n.WeakMap;e.exports="function"==typeof a&&/native code/.test(i(a))},P9a0:function(e,t,r){(function(e,n){var i;!function(a){var o=t,s=(e&&e.exports,"object"==typeof n&&n);s.global!==s&&s.window;var c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[\x01-\x7F]/g,l=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,f=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,p={"":"shy","":"zwnj","":"zwj","":"lrm","":"ic","":"it","":"af","":"rlm","":"ZeroWidthSpace","":"NoBreak","":"DownBreve","":"tdot","":"DotDot","\t":"Tab","\n":"NewLine","":"puncsp","":"MediumSpace","":"thinsp","":"hairsp","":"emsp13","":"ensp","":"emsp14","":"emsp","":"numsp","":"nbsp","":"ThickSpace","":"oline",_:"lowbar","":"dash","":"ndash","":"mdash","":"horbar",",":"comma",";":"semi","":"bsemi",":":"colon","":"Colone","!":"excl","":"iexcl","?":"quest","":"iquest",".":"period","":"nldr","":"mldr","":"middot","'":"apos","":"lsquo","":"rsquo","":"sbquo","":"lsaquo","":"rsaquo",'"':"quot","":"ldquo","":"rdquo","":"bdquo","":"laquo","":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","":"lceil","":"rceil","":"lfloor","":"rfloor","":"lopar","":"ropar","":"lbrke","":"rbrke","":"lbrkslu","":"rbrksld","":"lbrksld","":"rbrkslu","":"langd","":"rangd","":"lparlt","":"rpargt","":"gtlPar","":"ltrPar","":"lobrk","":"robrk","":"lang","":"rang","":"Lang","":"Rang","":"loang","":"roang","":"lbbrk","":"rbbrk","":"Vert","":"sect","":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","":"permil","":"pertenk","":"dagger","":"Dagger","":"bull","":"hybull","":"prime","":"Prime","":"tprime","":"qprime","":"bprime","":"caret","`":"grave","":"acute","":"tilde","^":"Hat","":"macr","":"breve","":"dot","":"die","":"ring","":"dblac","":"cedil","":"ogon","":"circ","":"caron","":"deg","":"copy","":"reg","":"copysr","":"wp","":"rx","":"mho","":"iiota","":"larr","":"nlarr","":"rarr","":"nrarr","":"uarr","":"darr","":"harr","":"nharr","":"varr","":"nwarr","":"nearr","":"searr","":"swarr","":"rarrw","":"nrarrw","":"Larr","":"Uarr","":"Rarr","":"Darr","":"larrtl","":"rarrtl","":"mapstoleft","":"mapstoup","":"map","":"mapstodown","":"larrhk","":"rarrhk","":"larrlp","":"rarrlp","":"harrw","":"lsh","":"rsh","":"ldsh","":"rdsh","":"crarr","":"cularr","":"curarr","":"olarr","":"orarr","":"lharu","":"lhard","":"uharr","":"uharl","":"rharu","":"rhard","":"dharr","":"dharl","":"rlarr","":"udarr","":"lrarr","":"llarr","":"uuarr","":"rrarr","":"ddarr","":"lrhar","":"rlhar","":"lArr","":"nlArr","":"uArr","":"rArr","":"nrArr","":"dArr","":"iff","":"nhArr","":"vArr","":"nwArr","":"neArr","":"seArr","":"swArr","":"lAarr","":"rAarr","":"zigrarr","":"larrb","":"rarrb","":"duarr","":"loarr","":"roarr","":"hoarr","":"forall","":"comp","":"part","":"npart","":"exist","":"nexist","":"empty","":"Del","":"in","":"notin","":"ni","":"notni","":"bepsi","":"prod","":"coprod","":"sum","+":"plus","":"pm","":"div","":"times","<":"lt","":"nlt","<":"nvlt","=":"equals","":"ne","=":"bne","":"Equal",">":"gt","":"ngt",">":"nvgt","":"not","|":"vert","":"brvbar","":"minus","":"mp","":"plusdo","":"frasl","":"setmn","":"lowast","":"compfn","":"Sqrt","":"prop","":"infin","":"angrt","":"ang","":"nang","":"angmsd","":"angsph","":"mid","":"nmid","":"par","":"npar","":"and","":"or","":"cap","":"caps","":"cup","":"cups","":"int","":"Int","":"tint","":"qint","":"oint","":"Conint","":"Cconint","":"cwint","":"cwconint","":"awconint","":"there4","":"becaus","":"ratio","":"Colon","":"minusd","":"mDDot","":"homtht","":"sim","":"nsim","":"nvsim","":"bsim","":"race","":"ac","":"acE","":"acd","":"wr","":"esim","":"nesim","":"sime","":"nsime","":"cong","":"ncong","":"simne","":"ap","":"nap","":"ape","":"apid","":"napid","":"bcong","":"CupCap","":"NotCupCap","":"nvap","":"bump","":"nbump","":"bumpe","":"nbumpe","":"doteq","":"nedot","":"eDot","":"efDot","":"erDot","":"colone","":"ecolon","":"ecir","":"cire","":"wedgeq","":"veeeq","":"trie","":"equest","":"equiv","":"nequiv","":"bnequiv","":"le","":"nle","":"nvle","":"ge","":"nge","":"nvge","":"lE","":"nlE","":"gE","":"ngE","":"lvnE","":"lnE","":"gnE","":"gvnE","":"ll","":"nLtv","":"nLt","":"gg","":"nGtv","":"nGt","":"twixt","":"lsim","":"nlsim","":"gsim","":"ngsim","":"lg","":"ntlg","":"gl","":"ntgl","":"pr","":"npr","":"sc","":"nsc","":"prcue","":"nprcue","":"sccue","":"nsccue","":"prsim","":"scsim","":"NotSucceedsTilde","":"sub","":"nsub","":"vnsub","":"sup","":"nsup","":"vnsup","":"sube","":"nsube","":"supe","":"nsupe","":"vsubne","":"subne","":"vsupne","":"supne","":"cupdot","":"uplus","":"sqsub","":"NotSquareSubset","":"sqsup","":"NotSquareSuperset","":"sqsube","":"nsqsube","":"sqsupe","":"nsqsupe","":"sqcap","":"sqcaps","":"sqcup","":"sqcups","":"oplus","":"ominus","":"otimes","":"osol","":"odot","":"ocir","":"oast","":"odash","":"plusb","":"minusb","":"timesb","":"sdotb","":"vdash","":"nvdash","":"dashv","":"top","":"bot","":"models","":"vDash","":"nvDash","":"Vdash","":"nVdash","":"Vvdash","":"VDash","":"nVDash","":"prurel","":"vltri","":"nltri","":"vrtri","":"nrtri","":"ltrie","":"nltrie","":"nvltrie","":"rtrie","":"nrtrie","":"nvrtrie","":"origof","":"imof","":"mumap","":"hercon","":"intcal","":"veebar","":"barvee","":"angrtvb","":"lrtri","":"Wedge","":"Vee","":"xcap","":"xcup","":"diam","":"sdot","":"Star","":"divonx","":"bowtie","":"ltimes","":"rtimes","":"lthree","":"rthree","":"bsime","":"cuvee","":"cuwed","":"Sub","":"Sup","":"Cap","":"Cup","":"fork","":"epar","":"ltdot","":"gtdot","":"Ll","":"nLl","":"Gg","":"nGg","":"lesg","":"leg","":"gel","":"gesl","":"cuepr","":"cuesc","":"lnsim","":"gnsim","":"prnsim","":"scnsim","":"vellip","":"ctdot","":"utdot","":"dtdot","":"disin","":"isinsv","":"isins","":"isindot","":"notindot","":"notinvc","":"notinvb","":"isinE","":"notinE","":"nisd","":"xnis","":"nis","":"notnivc","":"notnivb","":"barwed","":"Barwed","":"drcrop","":"dlcrop","":"urcrop","":"ulcrop","":"bnot","":"profline","":"profsurf","":"telrec","":"target","":"ulcorn","":"urcorn","":"dlcorn","":"drcorn","":"frown","":"smile","":"cylcty","":"profalar","":"topbot","":"ovbar","":"solbar","":"angzarr","":"lmoust","":"rmoust","":"tbrk","":"bbrk","":"bbrktbrk","":"OverParenthesis","":"UnderParenthesis","":"OverBrace","":"UnderBrace","":"trpezium","":"elinters","":"blank","":"boxh","":"boxv","":"boxdr","":"boxdl","":"boxur","":"boxul","":"boxvr","":"boxvl","":"boxhd","":"boxhu","":"boxvh","":"boxH","":"boxV","":"boxdR","":"boxDr","":"boxDR","":"boxdL","":"boxDl","":"boxDL","":"boxuR","":"boxUr","":"boxUR","":"boxuL","":"boxUl","":"boxUL","":"boxvR","":"boxVr","":"boxVR","":"boxvL","":"boxVl","":"boxVL","":"boxHd","":"boxhD","":"boxHD","":"boxHu","":"boxhU","":"boxHU","":"boxvH","":"boxVh","":"boxVH","":"uhblk","":"lhblk","":"block","":"blk14","":"blk12","":"blk34","":"squ","":"squf","":"EmptyVerySmallSquare","":"rect","":"marker","":"fltns","":"xutri","":"utrif","":"utri","":"rtrif","":"rtri","":"xdtri","":"dtrif","":"dtri","":"ltrif","":"ltri","":"loz","":"cir","":"tridot","":"xcirc","":"ultri","":"urtri","":"lltri","":"EmptySmallSquare","":"FilledSmallSquare","":"starf","":"star","":"phone","":"female","":"male","":"spades","":"clubs","":"hearts","":"diams","":"sung","":"check","":"cross","":"malt","":"sext","":"VerticalSeparator","":"bsolhsub","":"suphsol","":"xlarr","":"xrarr","":"xharr","":"xlArr","":"xrArr","":"xhArr","":"xmap","":"dzigrarr","":"nvlArr","":"nvrArr","":"nvHarr","":"Map","":"lbarr","":"rbarr","":"lBarr","":"rBarr","":"RBarr","":"DDotrahd","":"UpArrowBar","":"DownArrowBar","":"Rarrtl","":"latail","":"ratail","":"lAtail","":"rAtail","":"larrfs","":"rarrfs","":"larrbfs","":"rarrbfs","":"nwarhk","":"nearhk","":"searhk","":"swarhk","":"nwnear","":"toea","":"tosa","":"swnwar","":"rarrc","":"nrarrc","":"cudarrr","":"ldca","":"rdca","":"cudarrl","":"larrpl","":"curarrm","":"cularrp","":"rarrpl","":"harrcir","":"Uarrocir","":"lurdshar","":"ldrushar","":"LeftRightVector","":"RightUpDownVector","":"DownLeftRightVector","":"LeftUpDownVector","":"LeftVectorBar","":"RightVectorBar","":"RightUpVectorBar","":"RightDownVectorBar","":"DownLeftVectorBar","":"DownRightVectorBar","":"LeftUpVectorBar","":"LeftDownVectorBar","":"LeftTeeVector","":"RightTeeVector","":"RightUpTeeVector","":"RightDownTeeVector","":"DownLeftTeeVector","":"DownRightTeeVector","":"LeftUpTeeVector","":"LeftDownTeeVector","":"lHar","":"uHar","":"rHar","":"dHar","":"luruhar","":"ldrdhar","":"ruluhar","":"rdldhar","":"lharul","":"llhard","":"rharul","":"lrhard","":"udhar","":"duhar","":"RoundImplies","":"erarr","":"simrarr","":"larrsim","":"rarrsim","":"rarrap","":"ltlarr","":"gtrarr","":"subrarr","":"suplarr","":"lfisht","":"rfisht","":"ufisht","":"dfisht","":"vzigzag","":"vangrt","":"angrtvbd","":"ange","":"range","":"dwangle","":"uwangle","":"angmsdaa","":"angmsdab","":"angmsdac","":"angmsdad","":"angmsdae","":"angmsdaf","":"angmsdag","":"angmsdah","":"bemptyv","":"demptyv","":"cemptyv","":"raemptyv","":"laemptyv","":"ohbar","":"omid","":"opar","":"operp","":"olcross","":"odsold","":"olcir","":"ofcir","":"olt","":"ogt","":"cirscir","":"cirE","":"solb","":"bsolb","":"boxbox","":"trisb","":"rtriltri","":"LeftTriangleBar","":"NotLeftTriangleBar","":"RightTriangleBar","":"NotRightTriangleBar","":"iinfin","":"infintie","":"nvinfin","":"eparsl","":"smeparsl","":"eqvparsl","":"lozf","":"RuleDelayed","":"dsol","":"xodot","":"xoplus","":"xotime","":"xuplus","":"xsqcup","":"fpartint","":"cirfnint","":"awint","":"rppolint","":"scpolint","":"npolint","":"pointint","":"quatint","":"intlarhk","":"pluscir","":"plusacir","":"simplus","":"plusdu","":"plussim","":"plustwo","":"mcomma","":"minusdu","":"loplus","":"roplus","":"Cross","":"timesd","":"timesbar","":"smashp","":"lotimes","":"rotimes","":"otimesas","":"Otimes","":"odiv","":"triplus","":"triminus","":"tritime","":"iprod","":"amalg","":"capdot","":"ncup","":"ncap","":"capand","":"cupor","":"cupcap","":"capcup","":"cupbrcap","":"capbrcup","":"cupcup","":"capcap","":"ccups","":"ccaps","":"ccupssm","":"And","":"Or","":"andand","":"oror","":"orslope","":"andslope","":"andv","":"orv","":"andd","":"ord","":"wedbar","":"sdote","":"simdot","":"congdot","":"ncongdot","":"easter","":"apacir","":"apE","":"napE","":"eplus","":"pluse","":"Esim","":"eDDot","":"equivDD","":"ltcir","":"gtcir","":"ltquest","":"gtquest","":"les","":"nles","":"ges","":"nges","":"lesdot","":"gesdot","":"lesdoto","":"gesdoto","":"lesdotor","":"gesdotol","":"lap","":"gap","":"lne","":"gne","":"lnap","":"gnap","":"lEg","":"gEl","":"lsime","":"gsime","":"lsimg","":"gsiml","":"lgE","":"glE","":"lesges","":"gesles","":"els","":"egs","":"elsdot","":"egsdot","":"el","":"eg","":"siml","":"simg","":"simlE","":"simgE","":"LessLess","":"NotNestedLessLess","":"GreaterGreater","":"NotNestedGreaterGreater","":"glj","":"gla","":"ltcc","":"gtcc","":"lescc","":"gescc","":"smt","":"lat","":"smte","":"smtes","":"late","":"lates","":"bumpE","":"pre","":"npre","":"sce","":"nsce","":"prE","":"scE","":"prnE","":"scnE","":"prap","":"scap","":"prnap","":"scnap","":"Pr","":"Sc","":"subdot","":"supdot","":"subplus","":"supplus","":"submult","":"supmult","":"subedot","":"supedot","":"subE","":"nsubE","":"supE","":"nsupE","":"subsim","":"supsim","":"vsubnE","":"subnE","":"vsupnE","":"supnE","":"csub","":"csup","":"csube","":"csupe","":"subsup","":"supsub","":"subsub","":"supsup","":"suphsub","":"supdsub","":"forkv","":"topfork","":"mlcp","":"Dashv","":"Vdashl","":"Barv","":"vBar","":"vBarv","":"Vbar","":"Not","":"bNot","":"rnmid","":"cirmid","":"midcir","":"topcir","":"nhpar","":"parsim","":"parsl","":"nparsl","":"flat","":"natur","":"sharp","":"curren","":"cent",$:"dollar","":"pound","":"yen","":"euro","":"sup1","":"half","":"frac13","":"frac14","":"frac15","":"frac16","":"frac18","":"sup2","":"frac23","":"frac25","":"sup3","":"frac34","":"frac35","":"frac38","":"frac45","":"frac56","":"frac58","":"frac78","":"ascr","":"aopf","":"afr","":"Aopf","":"Afr","":"Ascr","":"ordf","":"aacute","":"Aacute","":"agrave","":"Agrave","":"abreve","":"Abreve","":"acirc","":"Acirc","":"aring","":"angst","":"auml","":"Auml","":"atilde","":"Atilde","":"aogon","":"Aogon","":"amacr","":"Amacr","":"aelig","":"AElig","":"bscr","":"bopf","":"bfr","":"Bopf","":"Bscr","":"Bfr","":"cfr","":"cscr","":"copf","":"Cfr","":"Cscr","":"Copf","":"cacute","":"Cacute","":"ccirc","":"Ccirc","":"ccaron","":"Ccaron","":"cdot","":"Cdot","":"ccedil","":"Ccedil","":"incare","":"dfr","":"dd","":"dopf","":"dscr","":"Dscr","":"Dfr","":"DD","":"Dopf","":"dcaron","":"Dcaron","":"dstrok","":"Dstrok","":"eth","":"ETH","":"ee","":"escr","":"efr","":"eopf","":"Escr","":"Efr","":"Eopf","":"eacute","":"Eacute","":"egrave","":"Egrave","":"ecirc","":"Ecirc","":"ecaron","":"Ecaron","":"euml","":"Euml","":"edot","":"Edot","":"eogon","":"Eogon","":"emacr","":"Emacr","":"ffr","":"fopf","":"fscr","":"Ffr","":"Fopf","":"Fscr","":"fflig","":"ffilig","":"ffllig","":"filig",fj:"fjlig","":"fllig","":"fnof","":"gscr","":"gopf","":"gfr","":"Gscr","":"Gopf","":"Gfr","":"gacute","":"gbreve","":"Gbreve","":"gcirc","":"Gcirc","":"gdot","":"Gdot","":"Gcedil","":"hfr","":"planckh","":"hscr","":"hopf","":"Hscr","":"Hfr","":"Hopf","":"hcirc","":"Hcirc","":"hbar","":"hstrok","":"Hstrok","":"iopf","":"ifr","":"iscr","":"ii","":"Iopf","":"Iscr","":"Im","":"iacute","":"Iacute","":"igrave","":"Igrave","":"icirc","":"Icirc","":"iuml","":"Iuml","":"itilde","":"Itilde","":"Idot","":"iogon","":"Iogon","":"imacr","":"Imacr","":"ijlig","":"IJlig","":"imath","":"jscr","":"jopf","":"jfr","":"Jscr","":"Jfr","":"Jopf","":"jcirc","":"Jcirc","":"jmath","":"kopf","":"kscr","":"kfr","":"Kscr","":"Kopf","":"Kfr","":"kcedil","":"Kcedil","":"lfr","":"lscr","":"ell","":"lopf","":"Lscr","":"Lfr","":"Lopf","":"lacute","":"Lacute","":"lcaron","":"Lcaron","":"lcedil","":"Lcedil","":"lstrok","":"Lstrok","":"lmidot","":"Lmidot","":"mfr","":"mopf","":"mscr","":"Mfr","":"Mopf","":"Mscr","":"nfr","":"nopf","":"nscr","":"Nopf","":"Nscr","":"Nfr","":"nacute","":"Nacute","":"ncaron","":"Ncaron","":"ntilde","":"Ntilde","":"ncedil","":"Ncedil","":"numero","":"eng","":"ENG","":"oopf","":"ofr","":"oscr","":"Oscr","":"Ofr","":"Oopf","":"ordm","":"oacute","":"Oacute","":"ograve","":"Ograve","":"ocirc","":"Ocirc","":"ouml","":"Ouml","":"odblac","":"Odblac","":"otilde","":"Otilde","":"oslash","":"Oslash","":"omacr","":"Omacr","":"oelig","":"OElig","":"pfr","":"pscr","":"popf","":"Popf","":"Pfr","":"Pscr","":"qopf","":"qfr","":"qscr","":"Qscr","":"Qfr","":"Qopf","":"kgreen","":"rfr","":"ropf","":"rscr","":"Rscr","":"Re","":"Ropf","":"racute","":"Racute","":"rcaron","":"Rcaron","":"rcedil","":"Rcedil","":"sopf","":"sscr","":"sfr","":"Sopf","":"Sfr","":"Sscr","":"oS","":"sacute","":"Sacute","":"scirc","":"Scirc","":"scaron","":"Scaron","":"scedil","":"Scedil","":"szlig","":"tfr","":"tscr","":"topf","":"Tscr","":"Tfr","":"Topf","":"tcaron","":"Tcaron","":"tcedil","":"Tcedil","":"trade","":"tstrok","":"Tstrok","":"uscr","":"uopf","":"ufr","":"Uopf","":"Ufr","":"Uscr","":"uacute","":"Uacute","":"ugrave","":"Ugrave","":"ubreve","":"Ubreve","":"ucirc","":"Ucirc","":"uring","":"Uring","":"uuml","":"Uuml","":"udblac","":"Udblac","":"utilde","":"Utilde","":"uogon","":"Uogon","":"umacr","":"Umacr","":"vfr","":"vopf","":"vscr","":"Vfr","":"Vopf","":"Vscr","":"wopf","":"wscr","":"wfr","":"Wscr","":"Wopf","":"Wfr","":"wcirc","":"Wcirc","":"xfr","":"xscr","":"xopf","":"Xopf","":"Xfr","":"Xscr","":"yfr","":"yscr","":"yopf","":"Yscr","":"Yfr","":"Yopf","":"yacute","":"Yacute","":"ycirc","":"Ycirc","":"yuml","":"Yuml","":"zscr","":"zfr","":"zopf","":"Zfr","":"Zopf","":"Zscr","":"zacute","":"Zacute","":"zcaron","":"Zcaron","":"zdot","":"Zdot","":"imped","":"thorn","":"THORN","":"napos","":"alpha","":"Alpha","":"beta","":"Beta","":"gamma","":"Gamma","":"delta","":"Delta","":"epsi","":"epsiv","":"Epsilon","":"gammad","":"Gammad","":"zeta","":"Zeta","":"eta","":"Eta","":"theta","":"thetav","":"Theta","":"iota","":"Iota","":"kappa","":"kappav","":"Kappa","":"lambda","":"Lambda","":"mu","":"micro","":"Mu","":"nu","":"Nu","":"xi","":"Xi","":"omicron","":"Omicron","":"pi","":"piv","":"Pi","":"rho","":"rhov","":"Rho","":"sigma","":"Sigma","":"sigmaf","":"tau","":"Tau","":"upsi","":"Upsilon","":"Upsi","":"phi","":"phiv","":"Phi","":"chi","":"Chi","":"psi","":"Psi","":"omega","":"ohm","":"acy","":"Acy","":"bcy","":"Bcy","":"vcy","":"Vcy","":"gcy","":"Gcy","":"gjcy","":"GJcy","":"dcy","":"Dcy","":"djcy","":"DJcy","":"iecy","":"IEcy","":"iocy","":"IOcy","":"jukcy","":"Jukcy","":"zhcy","":"ZHcy","":"zcy","":"Zcy","":"dscy","":"DScy","":"icy","":"Icy","":"iukcy","":"Iukcy","":"yicy","":"YIcy","":"jcy","":"Jcy","":"jsercy","":"Jsercy","":"kcy","":"Kcy","":"kjcy","":"KJcy","":"lcy","":"Lcy","":"ljcy","":"LJcy","":"mcy","":"Mcy","":"ncy","":"Ncy","":"njcy","":"NJcy","":"ocy","":"Ocy","":"pcy","":"Pcy","":"rcy","":"Rcy","":"scy","":"Scy","":"tcy","":"Tcy","":"tshcy","":"TSHcy","":"ucy","":"Ucy","":"ubrcy","":"Ubrcy","":"fcy","":"Fcy","":"khcy","":"KHcy","":"tscy","":"TScy","":"chcy","":"CHcy","":"dzcy","":"DZcy","":"shcy","":"SHcy","":"shchcy","":"SHCHcy","":"hardcy","":"HARDcy","":"ycy","":"Ycy","":"softcy","":"SOFTcy","":"ecy","":"Ecy","":"yucy","":"YUcy","":"yacy","":"YAcy","":"aleph","":"beth","":"gimel","":"daleth"},d=/["&'<>`]/g,h={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},b=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,y=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,m={aacute:"",Aacute:"",abreve:"",Abreve:"",ac:"",acd:"",acE:"",acirc:"",Acirc:"",acute:"",acy:"",Acy:"",aelig:"",AElig:"",af:"",afr:"",Afr:"",agrave:"",Agrave:"",alefsym:"",aleph:"",alpha:"",Alpha:"",amacr:"",Amacr:"",amalg:"",amp:"&",AMP:"&",and:"",And:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",aogon:"",Aogon:"",aopf:"",Aopf:"",ap:"",apacir:"",ape:"",apE:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",aring:"",Aring:"",ascr:"",Ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",atilde:"",Atilde:"",auml:"",Auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",bcy:"",Bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",beta:"",Beta:"",beth:"",between:"",bfr:"",Bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bnot:"",bNot:"",bopf:"",Bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxhD:"",boxHd:"",boxHD:"",boxhu:"",boxhU:"",boxHu:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpe:"",bumpE:"",bumpeq:"",Bumpeq:"",cacute:"",Cacute:"",cap:"",Cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",ccaron:"",Ccaron:"",ccedil:"",Ccedil:"",ccirc:"",Ccirc:"",Cconint:"",ccups:"",ccupssm:"",cdot:"",Cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",chcy:"",CHcy:"",check:"",checkmark:"",chi:"",Chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cire:"",cirE:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",colone:"",Colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",cscr:"",Cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cup:"",Cup:"",cupbrcap:"",cupcap:"",CupCap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",dArr:"",Darr:"",dash:"",dashv:"",Dashv:"",dbkarow:"",dblac:"",dcaron:"",Dcaron:"",dcy:"",Dcy:"",dd:"",DD:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",delta:"",Delta:"",demptyv:"",dfisht:"",dfr:"",Dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",djcy:"",DJcy:"",dlcorn:"",dlcrop:"",dollar:"$",dopf:"",Dopf:"",dot:"",Dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",downarrow:"",Downarrow:"",DownArrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",dscr:"",Dscr:"",dscy:"",DScy:"",dsol:"",dstrok:"",Dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",dzcy:"",DZcy:"",dzigrarr:"",eacute:"",Eacute:"",easter:"",ecaron:"",Ecaron:"",ecir:"",ecirc:"",Ecirc:"",ecolon:"",ecy:"",Ecy:"",eDDot:"",edot:"",eDot:"",Edot:"",ee:"",efDot:"",efr:"",Efr:"",eg:"",egrave:"",Egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",emacr:"",Emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",eng:"",ENG:"",ensp:"",eogon:"",Eogon:"",eopf:"",Eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",epsilon:"",Epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",esim:"",Esim:"",eta:"",Eta:"",eth:"",ETH:"",euml:"",Euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",fcy:"",Fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",ffr:"",Ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",fopf:"",Fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",gamma:"",Gamma:"",gammad:"",Gammad:"",gap:"",gbreve:"",Gbreve:"",Gcedil:"",gcirc:"",Gcirc:"",gcy:"",Gcy:"",gdot:"",Gdot:"",ge:"",gE:"",gel:"",gEl:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",gfr:"",Gfr:"",gg:"",Gg:"",ggg:"",gimel:"",gjcy:"",GJcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",gopf:"",Gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",gscr:"",Gscr:"",gsim:"",gsime:"",gsiml:"",gt:">",Gt:"",GT:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",hardcy:"",HARDcy:"",harr:"",hArr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",hcirc:"",Hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",hstrok:"",Hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",iacute:"",Iacute:"",ic:"",icirc:"",Icirc:"",icy:"",Icy:"",Idot:"",iecy:"",IEcy:"",iexcl:"",iff:"",ifr:"",Ifr:"",igrave:"",Igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",ijlig:"",IJlig:"",Im:"",imacr:"",Imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",int:"",Int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",iocy:"",IOcy:"",iogon:"",Iogon:"",iopf:"",Iopf:"",iota:"",Iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",itilde:"",Itilde:"",iukcy:"",Iukcy:"",iuml:"",Iuml:"",jcirc:"",Jcirc:"",jcy:"",Jcy:"",jfr:"",Jfr:"",jmath:"",jopf:"",Jopf:"",jscr:"",Jscr:"",jsercy:"",Jsercy:"",jukcy:"",Jukcy:"",kappa:"",Kappa:"",kappav:"",kcedil:"",Kcedil:"",kcy:"",Kcy:"",kfr:"",Kfr:"",kgreen:"",khcy:"",KHcy:"",kjcy:"",KJcy:"",kopf:"",Kopf:"",kscr:"",Kscr:"",lAarr:"",lacute:"",Lacute:"",laemptyv:"",lagran:"",lambda:"",Lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larr:"",lArr:"",Larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",latail:"",lAtail:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",lcaron:"",Lcaron:"",lcedil:"",Lcedil:"",lceil:"",lcub:"{",lcy:"",Lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",leftarrow:"",Leftarrow:"",LeftArrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",Leftrightarrow:"",LeftRightArrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",leg:"",lEg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",lfr:"",Lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",ljcy:"",LJcy:"",ll:"",Ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",lmidot:"",Lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",Longleftarrow:"",LongLeftArrow:"",longleftrightarrow:"",Longleftrightarrow:"",LongLeftRightArrow:"",longmapsto:"",longrightarrow:"",Longrightarrow:"",LongRightArrow:"",looparrowleft:"",looparrowright:"",lopar:"",lopf:"",Lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",lstrok:"",Lstrok:"",lt:"<",Lt:"",LT:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",map:"",Map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",mcy:"",Mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",mfr:"",Mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",mopf:"",Mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",mu:"",Mu:"",multimap:"",mumap:"",nabla:"",nacute:"",Nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",ncaron:"",Ncaron:"",ncedil:"",Ncedil:"",ncong:"",ncongdot:"",ncup:"",ncy:"",Ncy:"",ndash:"",ne:"",nearhk:"",nearr:"",neArr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",nfr:"",Nfr:"",nge:"",ngE:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",ngt:"",nGt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",njcy:"",NJcy:"",nlarr:"",nlArr:"",nldr:"",nle:"",nlE:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nlt:"",nLt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",not:"",Not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrarr:"",nrArr:"",nrarrc:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",nscr:"",Nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsube:"",nsubE:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupe:"",nsupE:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",ntilde:"",Ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",nu:"",Nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",oacute:"",Oacute:"",oast:"",ocir:"",ocirc:"",Ocirc:"",ocy:"",Ocy:"",odash:"",odblac:"",Odblac:"",odiv:"",odot:"",odsold:"",oelig:"",OElig:"",ofcir:"",ofr:"",Ofr:"",ogon:"",ograve:"",Ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",omacr:"",Omacr:"",omega:"",Omega:"",omicron:"",Omicron:"",omid:"",ominus:"",oopf:"",Oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",or:"",Or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",oscr:"",Oscr:"",oslash:"",Oslash:"",osol:"",otilde:"",Otilde:"",otimes:"",Otimes:"",otimesas:"",ouml:"",Ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",pcy:"",Pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",pfr:"",Pfr:"",phi:"",Phi:"",phiv:"",phmmat:"",phone:"",pi:"",Pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",pr:"",Pr:"",prap:"",prcue:"",pre:"",prE:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",pscr:"",Pscr:"",psi:"",Psi:"",puncsp:"",qfr:"",Qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",qscr:"",Qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",racute:"",Racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarr:"",rArr:"",Rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",rarrtl:"",Rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",rcaron:"",Rcaron:"",rcedil:"",Rcedil:"",rceil:"",rcub:"}",rcy:"",Rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",rho:"",Rho:"",rhov:"",RightAngleBracket:"",rightarrow:"",Rightarrow:"",RightArrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",sacute:"",Sacute:"",sbquo:"",sc:"",Sc:"",scap:"",scaron:"",Scaron:"",sccue:"",sce:"",scE:"",scedil:"",Scedil:"",scirc:"",Scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",scy:"",Scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",sfr:"",Sfr:"",sfrown:"",sharp:"",shchcy:"",SHCHcy:"",shcy:"",SHcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",sigma:"",Sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",softcy:"",SOFTcy:"",sol:"/",solb:"",solbar:"",sopf:"",Sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",sscr:"",Sscr:"",ssetmn:"",ssmile:"",sstarf:"",star:"",Star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",sube:"",subE:"",subedot:"",submult:"",subne:"",subnE:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup:"",Sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supe:"",supE:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supne:"",supnE:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",tau:"",Tau:"",tbrk:"",tcaron:"",Tcaron:"",tcedil:"",Tcedil:"",tcy:"",Tcy:"",tdot:"",telrec:"",tfr:"",Tfr:"",there4:"",therefore:"",Therefore:"",theta:"",Theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",thorn:"",THORN:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",topf:"",Topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",tscr:"",Tscr:"",tscy:"",TScy:"",tshcy:"",TSHcy:"",tstrok:"",Tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",uacute:"",Uacute:"",uarr:"",uArr:"",Uarr:"",Uarrocir:"",ubrcy:"",Ubrcy:"",ubreve:"",Ubreve:"",ucirc:"",Ucirc:"",ucy:"",Ucy:"",udarr:"",udblac:"",Udblac:"",udhar:"",ufisht:"",ufr:"",Ufr:"",ugrave:"",Ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",umacr:"",Umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",uogon:"",Uogon:"",uopf:"",Uopf:"",uparrow:"",Uparrow:"",UpArrow:"",UpArrowBar:"",UpArrowDownArrow:"",updownarrow:"",Updownarrow:"",UpDownArrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",upsilon:"",Upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",uring:"",Uring:"",urtri:"",uscr:"",Uscr:"",utdot:"",utilde:"",Utilde:"",utri:"",utrif:"",uuarr:"",uuml:"",Uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",vcy:"",Vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",vee:"",Vee:"",veebar:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",vfr:"",Vfr:"",vltri:"",vnsub:"",vnsup:"",vopf:"",Vopf:"",vprop:"",vrtri:"",vscr:"",Vscr:"",vsubne:"",vsubnE:"",vsupne:"",vsupnE:"",Vvdash:"",vzigzag:"",wcirc:"",Wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",wfr:"",Wfr:"",wopf:"",Wopf:"",wp:"",wr:"",wreath:"",wscr:"",Wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",xfr:"",Xfr:"",xharr:"",xhArr:"",xi:"",Xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",xopf:"",Xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",xscr:"",Xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",yacute:"",Yacute:"",yacy:"",YAcy:"",ycirc:"",Ycirc:"",ycy:"",Ycy:"",yen:"",yfr:"",Yfr:"",yicy:"",YIcy:"",yopf:"",Yopf:"",yscr:"",Yscr:"",yucy:"",YUcy:"",yuml:"",Yuml:"",zacute:"",Zacute:"",zcaron:"",Zcaron:"",zcy:"",Zcy:"",zdot:"",Zdot:"",zeetrf:"",ZeroWidthSpace:"",zeta:"",Zeta:"",zfr:"",Zfr:"",zhcy:"",ZHcy:"",zigrarr:"",zopf:"",Zopf:"",zscr:"",Zscr:"",zwj:"",zwnj:""},g={aacute:"",Aacute:"",acirc:"",Acirc:"",acute:"",aelig:"",AElig:"",agrave:"",Agrave:"",amp:"&",AMP:"&",aring:"",Aring:"",atilde:"",Atilde:"",auml:"",Auml:"",brvbar:"",ccedil:"",Ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",eacute:"",Eacute:"",ecirc:"",Ecirc:"",egrave:"",Egrave:"",eth:"",ETH:"",euml:"",Euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",iacute:"",Iacute:"",icirc:"",Icirc:"",iexcl:"",igrave:"",Igrave:"",iquest:"",iuml:"",Iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",ntilde:"",Ntilde:"",oacute:"",Oacute:"",ocirc:"",Ocirc:"",ograve:"",Ograve:"",ordf:"",ordm:"",oslash:"",Oslash:"",otilde:"",Otilde:"",ouml:"",Ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",thorn:"",THORN:"",times:"",uacute:"",Uacute:"",ucirc:"",Ucirc:"",ugrave:"",Ugrave:"",uml:"",uuml:"",Uuml:"",yacute:"",Yacute:"",yen:"",yuml:""},O={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},j=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],w=String.fromCharCode,_={}.hasOwnProperty,k=function(e,t){return _.call(e,t)},x=function(e,t){if(!e)return t;var r,n={};for(r in t)n[r]=k(e,r)?e[r]:t[r];return n},S=function(e,t){var r="";return e>=55296&&e<=57343||e>1114111?(t&&R("character reference outside the permissible Unicode range"),""):k(O,e)?(t&&R("disallowed character reference"),O[e]):(t&&function(e,t){for(var r=-1,n=e.length;++r<n;)if(e[r]==t)return!0;return!1}(j,e)&&R("disallowed character reference"),e>65535&&(r+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),r+=w(e))},P=function(e){return"&#x"+e.toString(16).toUpperCase()+";"},I=function(e){return"&#"+e+";"},R=function(e){throw Error("Parse error: "+e)},M=function e(t,r){(r=x(r,e.options)).strict&&y.test(t)&&R("forbidden code point");var n=r.encodeEverything,i=r.useNamedReferences,a=r.allowUnsafeSymbols,o=r.decimal?I:P,s=function(e){return o(e.charCodeAt(0))};return n?(t=t.replace(u,(function(e){return i&&k(p,e)?"&"+p[e]+";":s(e)})),i&&(t=t.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),i&&(t=t.replace(f,(function(e){return"&"+p[e]+";"})))):i?(a||(t=t.replace(d,(function(e){return"&"+p[e]+";"}))),t=(t=t.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;")).replace(f,(function(e){return"&"+p[e]+";"}))):a||(t=t.replace(d,s)),t.replace(c,(function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return o(1024*(t-55296)+r-56320+65536)})).replace(l,s)};M.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var E=function e(t,r){var n=(r=x(r,e.options)).strict;return n&&b.test(t)&&R("malformed character reference"),t.replace(v,(function(e,t,i,a,o,s,c,u,l){var f,p,d,h,b,y;return t?m[b=t]:i?(b=i,(y=a)&&r.isAttributeValue?(n&&"="==y&&R("`&` did not start a character reference"),e):(n&&R("named character reference was not terminated by a semicolon"),g[b]+(y||""))):o?(d=o,p=s,n&&!p&&R("character reference was not terminated by a semicolon"),f=parseInt(d,10),S(f,n)):c?(h=c,p=u,n&&!p&&R("character reference was not terminated by a semicolon"),f=parseInt(h,16),S(f,n)):(n&&R("named character reference was not terminated by a semicolon"),e)}))};E.options={isAttributeValue:!1,strict:!1};var T={version:"1.2.0",encode:M,decode:E,escape:function(e){return e.replace(d,(function(e){return h[e]}))},unescape:E};void 0===(i=function(){return T}.call(t,r,t,e))||(e.exports=i)}()}).call(this,r("RoC8")(e),r("pCvA"))},PAOY:function(e,t,r){var n=r("iMLE")({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});e.exports=n},PCqT:function(e,t){e.exports=!1},PE9J:function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i},e.exports.default=e.exports,e.exports.__esModule=!0},PFYi:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("v3KF"),u=r("J4Pc"),l=r("IH5m");function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var p=1/Object(u.a)("mapview-transitions-duration"),d=function(e){Object(a.a)(r,e);var t=f(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments))._fadeOutResolver=null,e._fadeInResolver=null,e._clips=null,e.computedVisible=!0,e.computedOpacity=1,e.fadeTransitionEnabled=!1,e.inFadeTransition=!1,e._isReady=!1,e._opacity=1,e._stage=null,e._visible=!0,e}return Object(i.a)(r,[{key:"clips",get:function(){return this._clips},set:function(e){this._clips=e,this.requestRender()}},{key:"isReady",get:function(){return this._isReady}},{key:"opacity",get:function(){return this._opacity},set:function(e){this._opacity!==e&&(this._opacity=Math.min(1,Math.max(e,0)),this.requestRender())}},{key:"stage",get:function(){return this._stage},set:function(e){if(this._stage!==e){var t=this._stage;this._stage=e,e?this._stage.untrashDisplayObject(this)||(this.onAttach(),this.emit("attach")):t.trashDisplayObject(this)}}},{key:"visible",get:function(){return this._visible},set:function(e){this._visible!==e&&(this._visible=e,this.requestRender())}},{key:"fadeIn",value:function(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=Object(l.g)(),this.requestRender()),this._fadeInResolver.promise}},{key:"fadeOut",value:function(){return this._fadeOutResolver||(this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=Object(l.g)(),this.requestRender()),this._fadeOutResolver.promise}},{key:"beforeRender",value:function(e){this.updateTransitionProperties(e.deltaTime,e.state.scale)}},{key:"afterRender",value:function(e){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}},{key:"remove",value:function(){var e;null==(e=this.parent)||e.removeChild(this)}},{key:"setTransform",value:function(e){}},{key:"processRender",value:function(e){this.stage&&this.computedVisible&&this.doRender(e)}},{key:"requestRender",value:function(){this.stage&&this.stage.requestRender()}},{key:"processDetach",value:function(){this.onDetach(),this.emit("detach")}},{key:"updateTransitionProperties",value:function(e,t){if(this.fadeTransitionEnabled){var r=this._fadeOutResolver||!this.visible?0:this.opacity,n=this.computedOpacity;if(n===r)this.computedVisible=this.visible;else{var i=e*p;this.computedOpacity=n>r?Math.max(r,n-i):Math.min(r,n+i),this.computedVisible=this.computedOpacity>0;var a=r===this.computedOpacity;this.inFadeTransition=!a,a||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}},{key:"onAttach",value:function(){}},{key:"onDetach",value:function(){}},{key:"doRender",value:function(e){}},{key:"ready",value:function(){this._isReady||(this._isReady=!0,this.emit("isReady"),this.requestRender())}}]),r}(c.a)},PHxc:function(e,t,r){var n=r("cm7J");e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},PIlu:function(e,t,r){"use strict";r("ERkP");var n=r("tM9Q"),i=r("aD51"),a=function(e){return Object(i.c)(n.MapImageLayer,e)};t.a=a,void 0!==a&&a&&a===Object(a)&&Object.isExtensible(a)&&!a.hasOwnProperty("__filemeta")&&Object.defineProperty(a,"__filemeta",{configurable:!0,value:{name:"MapImageLayer_",filename:"src/Map Layers/MapImageLayer.tsx"}})},PUHb:function(e,t,r){"use strict";r.r(t);var n=r("ZFoC"),i=r("tM9Q"),a=r("PIlu"),o=r("ERkP");t.default={Playground:n.c,Props:n.d,Map:i.Map,LayerList:i.LayerList,Zoom:i.Zoom,MapImageLayer:a.a,React:o}},PVS0:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("mK0O"),i=r("xAIp");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){var r=t?o(o({},t),{},{source:e}):e;return Object(i.b)({aliasOf:r})}},PWxN:function(e,t,r){var n=r("NmMy"),i=r("0711"),a=r("JZQH"),o=r("sWZd"),s=r("V2ZB"),c=r("fdVR"),u=r("yF7r"),l=r("zIph"),f=u((function(e,t){var r={};if(null==e)return r;var u=!1;t=n(t,(function(t){return t=o(t,e),u||(u=t.length>1),t})),s(e,l(e),r),u&&(r=i(r,7,c));for(var f=t.length;f--;)a(r,t[f]);return r}));e.exports=f},PYDc:function(e,t,r){var n=r("FEiO");e.exports=function(){this.__data__=n?n(null):{},this.size=0}},PbS7:function(e,t,r){var n=r("+dZb")("merge",r("HVn3"));n.placeholder=r("IOY3"),e.exports=n},PqlX:function(e,t){var r=Array.isArray;e.exports=r},PtAs:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return l}));r("J4Pc"),r("7im+");var n=r("2d0T"),i=r("DKWO"),a=r("I5De"),o=r("+yVN"),s=r("wYF9"),c=(a.a.fromJSON(s.a),i.a.fromJSON(s.c),n.a.fromJSON(s.b),o.a.fromJSON(s.d));var u=a.a.fromJSON(s.e),l=i.a.fromJSON(s.g),f=n.a.fromJSON(s.f)},Q7Dg:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("c+HS");function i(){return function(e,t){if(!e[t])throw new TypeError("Cannot auto bind undefined function '".concat(t,"'"));return{value:o(e[t])}}}function a(e){var t=e.type;return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}function o(e){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];a(t)?Object(n.f)(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call.apply(e,[this,t].concat(i))}}},Q8UH:function(e,t,r){var n=r("EKeD"),i=r("7IP4"),a=n?function(e){return n.get(e)}:i;e.exports=a},Q9Id:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("hisu"),i=r("yBJb"),a=function(){function e(){Object(n.a)(this,e),this._names=new Map}return Object(i.a)(e,[{key:"begin",value:function(e){this._names.has(e)||(this._names.set(e,!1),-1!==e.indexOf("Brush")&&this.record("Esri.FirstDraw"),performance.mark("Esri.".concat(e,".Start")))}},{key:"end",value:function(e){this._names.has(e)&&!this._names.get(e)&&(this._names.set(e,!0),performance.mark("Esri.".concat(e,".End")))}},{key:"record",value:function(e){this._names.has(e)||(this._names.set(e,!0),performance.mark("Esri.".concat(e)))}}]),e}()},QDHd:function(e,t,r){"use strict";var n=r("JRM0"),i=r("PCqT"),a=r("hXTI"),o=r("+iL7"),s=r("UVdV"),c=r("6ka5"),u=r("W2UA"),l=r("0K2p");if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),r="function"==typeof e;return this.then(r?function(r){return u(t,e()).then((function(){return r}))}:e,r?function(r){return u(t,e()).then((function(){throw r}))}:e)}}),!i&&"function"==typeof a){var f=s("Promise").prototype.finally;a.prototype.finally!==f&&l(a.prototype,"finally",f,{unsafe:!0})}},QDPn:function(e,t,r){var n=r("9aUh"),i=Object.create,a=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=a},QKC2:function(e,t,r){var n=r("WI9V");e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},QPvm:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r("aNYv"),i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=(r("J4Pc"),r("+MBG")),l=r("Tkaf"),f=r("PFYi"),p=r("60x+");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var h=function(e){Object(o.a)(r,e);var t=d(r);function r(e,n,a){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a;return Object(i.a)(this,r),(o=t.call(this)).triangleCountReportedInDebug=0,o.transforms={dvs:Object(l.b)(),tileMat3:Object(l.b)()},o.triangleCount=0,o.key=new p.a(e),o.bounds=n,o.size=a,o.coordRange=s,o}return Object(a.a)(r,[{key:"destroy",value:function(){this.texture&&(this.texture.dispose(),this.texture=null)}},{key:"coords",get:function(){return this._coords}},{key:"bounds",get:function(){return this._bounds},set:function(e){this._coords=[e[0],e[3]],this._bounds=e}},{key:"setTransform",value:function(e,t){var r=t/(e.resolution*e.pixelRatio),i=this.transforms.tileMat3,a=e.toScreenNoRotation([0,0],this.coords),o=Object(n.a)(a,2),s=o[0],c=o[1],l=this.size[0]/this.coordRange[0]*r,f=this.size[1]/this.coordRange[1]*r;Object(u.k)(i,l,0,0,0,f,0,s,c,1),Object(u.h)(this.transforms.dvs,e.displayViewMat3,i)}}]),r}(f.a)},QSFP:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r("hisu"),i=r("0942"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("iaHD");function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var f=0,p=function(e){var t=function(e){Object(a.a)(r,e);var t=l(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),Object.defineProperty(Object(i.a)(e),"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+f++}),e}return r}(e);return t=Object(c.a)([Object(u.a)("esri.core.Identifiable")],t)},d=function(e){Object(a.a)(r,e);var t=l(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return r}(p(function(){return function e(){Object(n.a)(this,e)}}()));d=Object(c.a)([Object(u.a)("esri.core.Identifiable")],d)},QXZs:function(e,t,r){"use strict";r.d(t,"a",(function(){return k})),r.d(t,"b",(function(){return _})),r.d(t,"c",(function(){return z})),r.d(t,"d",(function(){return V})),r.d(t,"e",(function(){return w})),r.d(t,"f",(function(){return j})),r.d(t,"g",(function(){return g})),r.d(t,"h",(function(){return O}));var n=r("eijD"),i=r("NthX"),a=r.n(i),o=r("WYis"),s=r("fb8N"),c=r("EKEt"),u=r("J4Pc"),l=r("7im+"),f=r("frPA"),p=r("4vgF"),d=r("fVET"),h=r("y75+");function b(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=/\/resource\/(.*?)\.svg$/,m=new o.a("white");function g(e){if(!e)return 0;if(Object(s.c)(e)){var t=function(e){var t=e.symbolLayers&&e.symbolLayers.length;if(t){var r=e.symbolLayers.getItemAt(t-1);return"outline"in r?Object(l.g)(r,"outline","size"):void 0}}(e);return Object(l.i)(t)?t:0}var r=Object(d.d)(e);return r&&Object(f.d)(r.width)||0}function O(e){if(Object(l.h)(e)||!("symbolLayers"in e)||Object(l.h)(e.symbolLayers))return!1;switch(e.type){case"point-3d":return e.symbolLayers.some((function(e){return"object"===e.type}));case"line-3d":return e.symbolLayers.some((function(e){return"path"===e.type}));case"polygon-3d":return e.symbolLayers.some((function(e){return"object"===e.type||"extrude"===e.type}));default:return!1}}function j(e,t){var r=t.resource.href;return!Object(u.a)("esri-canvas-svg-support")&&e.styleOrigin&&v.test(r)?r.replace(v,"/resource/png/$1.png"):r}function w(e,t){if(!e)return null;var r=null;return Object(s.c)(e)?r=function(e){var t=e.symbolLayers;if(!t)return null;var r=null;return t.forEach((function(e){"object"===e.type&&null!=e.resource.href||(r="water"===e.type?Object(l.p)(e.color):Object(l.i)(e.material)?Object(l.p)(e.material.color):null)})),r?new o.a(r):null}(e):Object(s.b)(e)&&(r=e.color?new o.a(e.color):null),r?_(r,t):null}function _(e,t){if(null==t)return e;var r=e.toRgba();return r[3]=r[3]*t,new o.a(r)}function k(e,t,r){var n,i,a;e&&(t||null!=r)&&(t&&(t=new o.a(t)),Object(s.c)(e)?function(e,t,r){var n=e.symbolLayers;if(n){var i=function(e){var n=Object(l.i)(e)?e:null;return _(t=t||n||null!=r&&m,r)};n.forEach((function(e){if("object"!==e.type||null==e.resource.href||t)if("water"===e.type)e.color=i(e.color);else{var n=Object(l.i)(e.material)?e.material.color:null,a=i(n);Object(l.h)(e.material)?e.material=new h.a({color:a}):e.material.color=a,null!=r&&"outline"in e&&Object(l.i)(e.outline)&&Object(l.i)(e.outline.color)&&(e.outline.color=_(e.outline.color,r))}}))}}(e,t,r):Object(s.b)(e)&&(n=e,a=r,(i=(i=t)||n.color)&&(n.color=_(i,a)),null!=a&&"outline"in n&&n.outline&&n.outline.color&&(n.outline.color=_(n.outline.color,a))))}function x(e,t){return S.apply(this,arguments)}function S(){return(S=Object(n.a)(a.a.mark((function e(t,r){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.symbolLayers,e.t0=i,!e.t0){e.next=5;break}return e.next=5,Object(c.a)(i,function(){var e=Object(n.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P(t,r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return I.apply(this,arguments)}function I(){return(I=Object(n.a)(a.a.mark((function e(t,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="extrude"===e.t0?3:"icon"===e.t0||"line"===e.t0||"text"===e.t0?5:"path"===e.t0?7:"object"===e.t0?9:11;break;case 3:return E(t,r),e.abrupt("break",11);case 5:return R(t,r),e.abrupt("break",11);case 7:return C(t,r),e.abrupt("break",11);case 9:return e.next=11,T(t,r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){var r=M(t);Object(l.i)(r)&&(e.size=r)}function M(e){var t,r=b(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;if("number"==typeof n)return n}}catch(i){r.e(i)}finally{r.f()}return null}function E(e,t){e.size="number"==typeof t[2]?t[2]:0}function T(e,t){return A.apply(this,arguments)}function A(){return(A=Object(n.a)(a.a.mark((function e(t,r){var n,i,o,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:n=e.sent,i=n.resourceSize,o=n.symbolSize,s=D(r,i,o),t.width=N(r[0],o[0],i[0],s),t.depth=N(r[1],o[1],i[1],s),t.height=N(r[2],o[2],i[2],s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){var r=D(t,p.a,[e.width,void 0,e.height]);e.width=N(t[0],e.width,1,r),e.height=N(t[2],e.height,1,r)}function D(e,t,r){for(var n=0;n<3;n++){var i=e[n];switch(i){case"symbol-value":return null!=r[n]?r[n]/t[n]:1;case"proportional":break;default:if(i&&t[n])return i/t[n]}}return 1}function L(e){return F.apply(this,arguments)}function F(){return(F=Object(n.a)(a.a.mark((function e(t){var n,i,o,s,c,u,l,f,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(66).then(r.bind(null,"yF5+"));case 2:return n=e.sent,e.next=5,n.computeObjectLayerResourceSize(t,10);case 5:i=e.sent,o=t.width,s=t.height,c=t.depth,u=[o,c,s],l=1,f=0;case 12:if(!(f<3)){e.next=19;break}if(null==u[f]){e.next=16;break}return l=u[f]/i[f],e.abrupt("break",19);case 16:f++,e.next=12;break;case 19:for(p=0;p<3;p++)null==u[p]&&(u[p]=i[p]*l);return e.abrupt("return",{resourceSize:i,symbolSize:u});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,r,n){switch(e){case"proportional":return r*n;case"symbol-value":return null!=t?t:r;default:return e}}function B(e,t){var r=M(t);if(!Object(l.h)(r))switch(e.type){case"simple-marker":e.size=r;break;case"picture-marker":var n=e.width/e.height;n>1?(e.width=r,e.height=r*n):(e.width=r*n,e.height=r);break;case"simple-line":e.width=r;break;case"text":e.font.size=r}}function V(e,t){return U.apply(this,arguments)}function U(){return(U=Object(n.a)(a.a.mark((function e(t,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!r){e.next=2;break}return e.abrupt("return",Object(s.c)(t)?x(t,r):void(Object(s.b)(t)&&B(t,r)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t,r){if(e&&null!=t)if(Object(s.c)(e)){var n=e.symbolLayers;n&&n.forEach((function(e){if(e&&"object"===e.type)switch(r){case"tilt":e.tilt=t;break;case"roll":e.roll=t;break;default:e.heading=t}}))}else Object(s.b)(e)&&("simple-marker"!==e.type&&"picture-marker"!==e.type&&"text"!==e.type||(e.angle=t))}},QZQ7:function(e,t,r){"use strict";var n=r("eijD"),i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("NthX"),l=r.n(u),f=r("dQW7"),p=r("sc0P"),d=(r("ZTBZ"),r("DGz/")),h=r("Mp7X"),b=r("v3KF"),y=r("QSFP"),v=r("eTmm"),m=r("TM+E"),g=r("IH5m"),O=r("z9dv"),j=r("xAIp"),w=(r("J4Pc"),r("wckI"),r("iaHD")),_=r("nd5+"),k=r("YHXj");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var S=0,P=m.a.getLogger("esri.layers.Layer"),I=function(e){Object(o.a)(f,e);var t,s,c,u=x(f);function f(){var e;return Object(i.a)(this,f),(e=u.apply(this,arguments)).attributionDataUrl=null,e.fullExtent=new _.a(-180,-90,180,90,k.a.WGS84),e.id=Date.now().toString(16)+"-layer-"+S++,e.legendEnabled=!0,e.listMode="show",e.opacity=1,e.parent=null,e.popupEnabled=!0,e.attributionVisible=!0,e.spatialReference=k.a.WGS84,e.title=null,e.type=null,e.url=null,e.visible=!0,e}return Object(a.a)(f,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){var r,n;Object(g.m)(t)||m.a.getLogger(e.declaredClass).error("#load()","Failed to load layer (title: '".concat(null!=(r=e.title)?r:"no title","', id: '").concat(null!=(n=e.id)?n:"no id","')"),{error:t})}))}},{key:"destroy",value:function(){if(this.parent){var e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}},{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){var e=this.url;return e?Object(O.K)(e):null}},{key:"fetchAttributionData",value:(c=Object(n.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.attributionDataUrl,!this.hasAttributionData||!t){e.next=5;break}return e.next=4,Object(d.default)(t,{query:{f:"json"},responseType:"json"});case 4:return e.abrupt("return",e.sent.data);case 5:throw new h.a("layer:no-attribution-data","Layer does not have attribution data");case 6:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})}],[{key:"fromArcGISServerUrl",value:(s=Object(n.a)(l.a.mark((function e(t){var n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"==typeof t?{url:t}:t,e.next=3,r.e(68).then(r.bind(null,"/KmE"));case 3:return i=e.sent,e.prev=4,e.next=7,i.fromUrl(n);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),P.error("#fromArcGISServerUrl({ url: '"+n.url+"'})","Failed to create layer from arcgis server url",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[4,10]])}))),function(e){return s.apply(this,arguments)})},{key:"fromPortalItem",value:(t=Object(n.a)(l.a.mark((function e(t){var n,i,a,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="portalItem"in t?t:{portalItem:t},e.next=3,r.e(1).then(r.bind(null,"mVh5"));case 3:return i=e.sent,e.prev=4,e.next=7,i.fromItem(n);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),a=n&&n.portalItem,o=a&&a.id||"unset",s=a&&a.portal&&a.portal.url||p.a.portalUrl,P.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+s+"', id: '"+o+"')",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[4,10]])}))),function(e){return t.apply(this,arguments)})}]),f}(b.a.EventedMixin(Object(y.a)(v.a)));Object(f.a)([Object(j.b)({type:String})],I.prototype,"attributionDataUrl",void 0),Object(f.a)([Object(j.b)({type:_.a})],I.prototype,"fullExtent",void 0),Object(f.a)([Object(j.b)({readOnly:!0})],I.prototype,"hasAttributionData",null),Object(f.a)([Object(j.b)({type:String})],I.prototype,"id",void 0),Object(f.a)([Object(j.b)({type:Boolean,nonNullable:!0})],I.prototype,"legendEnabled",void 0),Object(f.a)([Object(j.b)({type:["show","hide","hide-children"]})],I.prototype,"listMode",void 0),Object(f.a)([Object(j.b)({type:Number,range:{min:0,max:1},nonNullable:!0})],I.prototype,"opacity",void 0),Object(f.a)([Object(j.b)()],I.prototype,"parent",void 0),Object(f.a)([Object(j.b)({readOnly:!0})],I.prototype,"parsedUrl",null),Object(f.a)([Object(j.b)({type:Boolean})],I.prototype,"popupEnabled",void 0),Object(f.a)([Object(j.b)({type:Boolean})],I.prototype,"attributionVisible",void 0),Object(f.a)([Object(j.b)({type:k.a})],I.prototype,"spatialReference",void 0),Object(f.a)([Object(j.b)({type:String})],I.prototype,"title",void 0),Object(f.a)([Object(j.b)({type:String,readOnly:!0,json:{read:!1}})],I.prototype,"type",void 0),Object(f.a)([Object(j.b)()],I.prototype,"url",void 0),Object(f.a)([Object(j.b)({type:Boolean,nonNullable:!0})],I.prototype,"visible",void 0);var R=I=Object(f.a)([Object(w.a)("esri.layers.Layer")],I);t.a=R},Qbu1:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("P+uj"),i=r("sQvh");function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function o(e,t,r){return(o=a()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&Object(i.a)(a,r.prototype),a}).apply(null,arguments)}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,Object(n.a)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(a,e)})(e)}},QdvJ:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return c}));var n=r("Qu15"),i=r("lk3E"),a=!1,o=[];function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{runImmediately:!1},o=new i.a(u),s=null,c=!1;function u(){if(o&&!c)if(a)l(u);else{var r=s;o.clear(),a=!0,c=!0,s=Object(n.b)(o,e),c=!1,a=!1,t(s,r),f()}}function p(){o&&(o.destroy(),o=null,s=null)}return c=!0,s=Object(n.b)(o,e),c=!1,r.runImmediately&&t(s,s),{remove:p}}function c(e,t){var r=new i.a((function(){t(a,o)})),a=null;function o(){return r?(r.clear(),a=Object(n.b)(r,e)):null}return o(),{remove:function(){r&&(r.destroy(),r=null),a=null}}}function u(e){var t=new i.a((function i(){t&&!r&&(a?l(i):(t.clear(),a=!0,r=!0,Object(n.b)(t,e),r=!1,a=!1,f()))})),r=!1;return r=!0,Object(n.b)(t,e),r=!1,{remove:function(){t&&(t.destroy(),t=null)}}}function l(e){o.includes(e)||o.unshift(e)}function f(){for(;o.length;)o.pop()()}},Qean:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},QlKF:function(e,t,r){var n=r("bim0"),i=r("/Qyy");e.exports=function(e){return n((function(t,r){var n=-1,a=r.length,o=a>1?r[a-1]:void 0,s=a>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,s&&i(r[0],r[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);++n<a;){var c=r[n];c&&e(t,c,n,o)}return t}))}},Qn7i:function(e,t,r){var n=r("xkFB");function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(i.Cache||n),r}i.Cache=n,e.exports=i},Qu15:function(e,t,r){"use strict";r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return g}));r("J4Pc");var n=r("TM+E"),i=r("F1Bx");function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s,c=[],u=n.a.getLogger("esri.core.Accessor");function l(e){void 0!==s&&s.onObservableAccessed(e)}var f=!1,p=!1;function d(e,t,r){if(f)return h(e,t,r);b(e);var n=t.call(r);return y(),n}function h(e,t,r){var n=f;f=!0,b(e);var i=null;try{i=t.call(r)}catch(a){p&&u.error(a)}return y(),f=n,i}function b(e){s=e,c.push(e)}function y(){var e=c.pop();s=c.length>0?c[c.length-1]:void 0,void 0!==e&&e.onTrackingEnd()}function v(e,t){if(!(32&t.flags)){var r=p;p=!1,64&t.flags?h(t,t.metadata.get,e):g(e,t),p=r}}var m=[];function g(e,t){128&t.flags||(t.flags|=128,h(t,(function(){var r,n=a(t.metadata.dependsOn||m);try{for(n.s();!(r=n.n()).done;){var o=r.value;if("string"==typeof o&&-1===o.indexOf("."))O(e,o,!1);else for(var s=Object(i.f)(o),c=0,u=e;c<s.length&&null!=u&&"object"==typeof u;++c)u=O(u,s[c],c!==s.length-1)}}catch(l){n.e(l)}finally{n.f()}})),t.flags&=-129)}function O(e,t,r){var n="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=e.getItemAt||Array.isArray(e)){var a=parseInt(n,10);if(!isNaN(a))return Array.isArray(e)?e[a]:e.getItemAt(a)}var o=Object(i.a)(e),s=null==o?void 0:o.properties.get(n);return s&&(l(s),v(e,s)),r?e[n]:void 0}},Qwyb:function(e,t){var r=Math.max;e.exports=function(e,t,n,i){for(var a=-1,o=e.length,s=-1,c=n.length,u=-1,l=t.length,f=r(o-c,0),p=Array(f+l),d=!i;++a<f;)p[a]=e[a];for(var h=a;++u<l;)p[h+u]=t[u];for(;++s<c;)(d||a<o)&&(p[h+n[s]]=e[a++]);return p}},R0ka:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c}));var n=r("fb8N"),i=r("Mp7X"),a=r("ykrQ"),o=r("/H5Z"),s=r("pS7t");function c(e,t,r,n){var c=function(e,t,r){if(!e)return null;if(r&&"web-scene"===r.origin&&!(e instanceof a.a)&&!(e instanceof o.a)){var n="cim"!==e.type?Object(s.a)(e):{symbol:null,error:new i.a("symbol-conversion:unsupported-cim-symbol","CIM symbol is unsupported in web scenes",{symbol:e})};return n.symbol?n.symbol.write(t,r):(r.messages&&r.messages.push(new i.a("symbol:unsupported","Symbols of type '".concat(e.declaredClass,"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView"),{symbol:e,context:r,error:n.error})),null)}return r&&"web-map"===r.origin&&"web-style"===e.type?(r.messages&&r.messages.push(new i.a("symbol:unsupported","Symbols of type '".concat(e.declaredClass,"' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView."),{symbol:e,context:r})),null):e.write(t,r)}(e,{},n);c&&(t[r]=c)}function u(e,t){return Object(n.d)(e,null,t)}},R0lh:function(e,t,r){"use strict";var n=r("NthX"),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=o(r("ERkP")),f=u(r("lZ6b"));t.default=function(e){var t=e.id,i=e.style,a=e.children,u=e.webMapId,p=void 0===u?null:u,d=e.centerX,h=void 0===d?10.546874999:d,b=e.centerY,y=void 0===b?35.31736:b,v=e.zoom,m=void 0===v?2:v,g=e.theme,O=void 0===g?"light":g,j=c(e,["id","style","children","webMapId","centerX","centerY","zoom","theme"]),w=f.default(),_=w.updateMap,k=w.updateView;l.useEffect((function(){if("undefined"!=typeof document){var e=r("sCFI").loadCss;r("sCFI");O&&("light"===O||"dark"===O)&&e("https://js.arcgis.com/4.20/esri/themes/"+O.toLowerCase()+"/main.css")}}),[O]);var x=l.useCallback((function(){return s(void 0,void 0,void 0,n.mark((function e(){var i,a,c,u,l,f,d;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e){var r=e[0],o=e[1];return s(void 0,void 0,void 0,n.mark((function e(){var s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p?(a=new r({portalItem:{id:p}})).set(Object.assign({},j.mapProps)):a=new r(Object.assign({basemap:"dark"===O?"dark-gray-vector":"gray-vector"},j.mapProps)),s=Object.assign({map:a,container:t,spatialReference:{wkid:102100}},j.viewProps),h&&y&&!p&&!s.center&&(s.center=[h,y]),!m||p||s.zoom||(s.zoom=m),(i=new o(s)).ui.components=[],e.next=10,a.when();case 10:return e.next=12,i.when();case 12:return p&&(i.extent=a.portalItem.extent),e.abrupt("return",[a,i]);case 14:case"end":return e.stop()}}),e)})))},u=[Promise.resolve().then((function(){return o(r("JIOt"))})),Promise.resolve().then((function(){return o(r("nlKu"))}))],e.next=4,Promise.all(u);case 4:return l=e.sent,f=l[0],d=l[1],e.next=9,c([f.default,d.default]);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))}),[h,y,t,p,m]);return l.useEffect((function(){return s(void 0,void 0,void 0,n.mark((function e(){var t,r,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,r=t[0],(i=t[1])&&k(i),r&&_(r);case 7:case"end":return e.stop()}}),e)}))),function(){}}),[]),l.default.createElement("div",{id:t,style:Object.assign({width:"100%",height:"100%"},i)}," ",a," ")}},RIHA:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("TM+E"),f=r("7im+"),p=r("z9dv"),d=r("xAIp"),h=(r("J4Pc"),r("wckI"),r("vo12")),b=r("iaHD"),y=r("1lXL"),v=r("Xr9Q"),m=r("AyDw"),g=r("I2xc"),O=r("bw5k"),j=r("y75+"),w=r("7uEP");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var k=l.a.getLogger("esri.symbols.IconSymbol3DLayer"),x=n=function(e){Object(o.a)(r,e);var t=_(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).material=null,n.resource=null,n.type="icon",n.size=12,n.anchor="center",n.anchorPosition=void 0,n.outline=void 0,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:Object(f.i)(this.material)?this.material.clone():null,outline:Object(f.i)(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}}],[{key:"fromSimpleMarkerSymbol",value:function(e){var t=e.color||v.c,r=S(e),i=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||v.c).clone()}:null;return new n({size:e.size,resource:{primitive:R(e.style)},material:{color:t},outline:i,anchor:r?"relative":void 0,anchorPosition:r})}},{key:"fromPictureMarkerSymbol",value:function(e){var t=!e.color||Object(v.a)(e.color)?v.c:e.color,r=S(e);return new n({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}},{key:"fromCIMSymbol",value:function(e){return new n({resource:{href:Object(p.B)({mediaType:"application/json",data:JSON.stringify(e.data)})}})}}]),r}(y.a);function S(e){var t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,n=P(e.xoffset),i=P(e.yoffset);return(n||i)&&t&&r?{x:-n/t,y:i/r}:null}function P(e){return isFinite(e)?e:0}Object(u.a)([Object(d.b)({type:j.a,json:{write:!0}})],x.prototype,"material",void 0),Object(u.a)([Object(d.b)({type:m.a,json:{write:!0}})],x.prototype,"resource",void 0),Object(u.a)([Object(h.a)({Icon:"icon"},{readOnly:!0})],x.prototype,"type",void 0),Object(u.a)([Object(d.b)(g.b)],x.prototype,"size",void 0),Object(u.a)([Object(h.a)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),Object(d.b)({json:{default:"center"}})],x.prototype,"anchor",void 0),Object(u.a)([Object(d.b)({type:O.a,json:{type:[Number],read:{reader:function(e){return new O.a({x:e[0],y:e[1]})}},write:{writer:function(e,t){t.anchorPosition=[e.x,e.y]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],x.prototype,"anchorPosition",void 0),Object(u.a)([Object(d.b)({type:w.a,json:{write:!0}})],x.prototype,"outline",void 0),x=n=Object(u.a)([Object(b.a)("esri.symbols.IconSymbol3DLayer")],x);var I={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function R(e){return I[e]||(k.warn("".concat(e,' cannot be mapped to Icon symbol. Fallback to "circle"')),"circle")}var M=x;t.a=M},RMqu:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("4Mpa"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("dQW7"),f=r("7i+s"),p=r("0n+b"),d=r("7im+"),h=r("xAIp"),b=(r("J4Pc"),r("wckI"),r("TM+E"),r("mp5+")),y=r("iaHD"),v=r("jr4m"),m=r("eijD"),g=r("NthX"),O=r.n(g),j=r("DuP7");function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var _=n=function(e){Object(s.a)(o,e);var t,r=w(o);function o(){return Object(i.a)(this,o),r.apply(this,arguments)}return Object(a.a)(o,[{key:"collectRequiredFields",value:(t=Object(m.a)(O.a.mark((function e(t,r){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(j.a)(t,r,this.expression));case 1:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"clone",value:function(){return new n({expression:this.expression,title:this.title})}}]),o}(p.a);Object(l.a)([Object(h.b)({type:String,json:{write:!0}})],_.prototype,"expression",void 0),Object(l.a)([Object(h.b)({type:String,json:{write:!0}})],_.prototype,"title",void 0);var k=_=n=Object(l.a)([Object(y.a)("esri.layers.support.FeatureExpressionInfo")],_),x=r("MZ5C");var S,P,I=((S=Object.keys(x.a)).sort(),S);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var M=Object(f.b)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),E=new f.a({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"}),T=P=function(e){Object(s.a)(r,e);var t=R(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).offset=null,e}return Object(a.a)(r,[{key:"readFeatureExpressionInfo",value:function(e,t){return null!=e?e:t.featureExpression&&0===t.featureExpression.value?{expression:"0"}:void 0}},{key:"writeFeatureExpressionInfo",value:function(e,t,r,n){t[r]=e.write(null,n),"0"===e.expression&&(t.featureExpression={value:0})}},{key:"mode",get:function(){var e=this.offset,t=this.featureExpressionInfo;return this._isOverridden("mode")?this._get("mode"):Object(d.i)(e)||t?"relative-to-ground":"on-the-ground"},set:function(e){this._override("mode",e)}},{key:"unit",set:function(e){this._set("unit",e)}},{key:"write",value:function(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?Object(o.a)(Object(u.a)(r.prototype),"write",this).call(this,e,t):null}},{key:"clone",value:function(){return new P({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}}]),r}(p.a);Object(l.a)([Object(h.b)({type:k,json:{write:!0}})],T.prototype,"featureExpressionInfo",void 0),Object(l.a)([Object(b.a)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],T.prototype,"readFeatureExpressionInfo",null),Object(l.a)([Object(v.a)("featureExpressionInfo",{featureExpressionInfo:{type:k},"featureExpression.value":{type:[0]}})],T.prototype,"writeFeatureExpressionInfo",null),Object(l.a)([Object(h.b)({type:M.apiValues,nonNullable:!0,json:{type:M.jsonValues,read:M.read,write:{writer:M.write,isRequired:!0}}})],T.prototype,"mode",null),Object(l.a)([Object(h.b)({type:Number,json:{write:!0}})],T.prototype,"offset",void 0),Object(l.a)([Object(h.b)({type:I,json:{type:String,read:E.read,write:E.write}})],T.prototype,"unit",null);var A=T=P=Object(l.a)([Object(y.a)("esri.layers.support.ElevationInfo")],T);t.a=A},"RW/s":function(e,t,r){var n=r("iOq2"),i=r("HE1N"),a=r("VZJX"),o=r("J9xP"),s=r("PHxc");function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=o,c.prototype.set=s,e.exports=c},Rby8:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("0n+b"),l=r("0fJP"),f=r("xAIp"),p=(r("wckI"),r("J4Pc"),r("TM+E"),r("mp5+")),d=r("iaHD"),h=r("jr4m"),b=(r("mm4W"),r("eUOF")),y=r("05DL"),v=r("s2cg"),m=r("IjXt");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var O=function(e){Object(a.a)(r,e);var t=g(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).id=null,i.name=null,i.domains=null,i.templates=null,i}return Object(i.a)(r,[{key:"readDomains",value:function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];switch(n.type){case"range":t[r]=m.a.fromJSON(n);break;case"codedValue":t[r]=v.a.fromJSON(n);break;case"inherited":t[r]=y.a.fromJSON(n)}}return t}},{key:"writeDomains",value:function(e,t){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]&&e[n].toJSON());Object(l.c)(r),t.domains=r}},{key:"readTemplates",value:function(e){return e&&e.map((function(e){return new b.a(e)}))}},{key:"writeTemplates",value:function(e,t){t.templates=e&&e.map((function(e){return e.toJSON()}))}}]),r}(u.a);Object(c.a)([Object(f.b)({json:{write:!0}})],O.prototype,"id",void 0),Object(c.a)([Object(f.b)({json:{write:!0}})],O.prototype,"name",void 0),Object(c.a)([Object(f.b)({json:{write:!0}})],O.prototype,"domains",void 0),Object(c.a)([Object(p.a)("domains")],O.prototype,"readDomains",null),Object(c.a)([Object(h.a)("domains")],O.prototype,"writeDomains",null),Object(c.a)([Object(f.b)({json:{write:!0}})],O.prototype,"templates",void 0),Object(c.a)([Object(p.a)("templates")],O.prototype,"readTemplates",null),Object(c.a)([Object(h.a)("templates")],O.prototype,"writeTemplates",null);var j=O=Object(c.a)([Object(d.a)("esri.layers.support.FeatureType")],O);t.a=j},RhEf:function(e,t,r){var n=r("+dZb")("kebabCase",r("u6UW"),r("hgXp"));n.placeholder=r("IOY3"),e.exports=n},"Rlj/":function(e,t){function r(e){return e?Array.isArray(e)?e.join("."):e:""}e.exports=function(e,t,n,i,a){if(null===(o=e)||"object"!=typeof o&&"function"!=typeof o||!t)return e;var o;if(t=r(t),n&&(t+="."+r(n)),i&&(t+="."+r(i)),a&&(t+="."+r(a)),t in e)return e[t];for(var s=t.split("."),c=s.length,u=-1;e&&++u<c;){for(var l=s[u];"\\"===l[l.length-1];)l=l.slice(0,-1)+"."+s[++u];e=e[l]}return e}},RoC8:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},RqPZ:function(e,t,r){var n=r("GI0s"),i=r("9aUh");e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},S83v:function(e,t,r){"use strict";r.r(t);var n=r("mK0O"),i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("PVS0"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("xAIp")),p=r("iaHD"),d=r("IXv3"),h=r("eijD"),b=r("0942"),y=r("NthX"),v=r.n(y),m=r("VZ8p"),g=r("Mp7X"),O=r("v3KF"),j=r("IH5m"),w=r("zTdd");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var k=function(e){Object(o.a)(n,e);var t,r=_(n);function n(e){var t;return Object(i.a)(this,n),(t=r.call(this,e))._initialViewpoint=null,t._goingHomeController=null,t.go=t.go.bind(Object(b.a)(t)),t}return Object(a.a)(n,[{key:"destroy",value:function(){this._cancelGo(),this.view=null}},{key:"state",get:function(){return this.get("view.ready")?this._goingHomeController?"going-home":"ready":"disabled"}},{key:"view",set:function(e){var t=this;this._initialViewpoint=null,this._set("view",e),e&&e.when().then((function(){t.view===e&&(t._initialViewpoint=e.viewpoint.clone(),t.notifyChange("viewpoint"))}))}},{key:"viewpoint",get:function(){return this._get("viewpoint")||this._initialViewpoint},set:function(e){this._set("viewpoint",e)}},{key:"go",value:(t=Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.get("view.ready")){e.next=2;break}throw new g.a("home:disabled-state","Cannot go when disabled.");case 2:return this._cancelGo(),this.emit("go"),t=Object(j.d)(),this._goingHomeController=t,e.prev=5,e.next=8,this.view.when();case 8:return e.next=10,this.callGoTo({target:this.viewpoint,options:{signal:t.signal}});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(5);case 14:this._goingHomeController=null;case 15:case"end":return e.stop()}}),e,this,[[5,12]])}))),function(){return t.apply(this,arguments)})},{key:"cancelGo",value:function(){this._cancelGo()}},{key:"_cancelGo",value:function(){var e=this._goingHomeController;e&&e.abort(),this._goingHomeController=null}}]),n}(Object(w.a)(O.a.EventedAccessor));Object(u.a)([Object(f.b)()],k.prototype,"_goingHomeController",void 0),Object(u.a)([Object(f.b)({readOnly:!0})],k.prototype,"state",null),Object(u.a)([Object(f.b)()],k.prototype,"view",null),Object(u.a)([Object(f.b)({type:m.a})],k.prototype,"viewpoint",null),Object(u.a)([Object(f.b)()],k.prototype,"go",null),Object(u.a)([Object(f.b)()],k.prototype,"cancelGo",null);var x=k=Object(u.a)([Object(p.a)("esri.widgets.Home.HomeViewModel")],k),S=r("Q7Dg"),P=r("XRld"),I=r("Ykki"),R=r("mjOD");r("c+HS");function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var E="esri-home esri-widget--button esri-widget",T="esri-icon-font-fallback-text",A="esri-icon esri-icon-home",C="esri-icon-loading-indicator",D="esri-rotating",L="esri-icon-home",F="esri-disabled",N=function(e){Object(o.a)(r,e);var t=M(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n)).goToOverride=null,a.iconClass=L,a.label=void 0,a.messages=null,a.messagesCommon=null,a.view=null,a.viewModel=new x,a.viewpoint=null,a}return Object(a.a)(r,[{key:"homeTitle",get:function(){var e,t=null==(e=this.viewModel)?void 0:e.state,r=this.messagesCommon,n=this.messages;return"going-home"===t?r.cancel:n.title}},{key:"cancelGo",value:function(){return null}},{key:"go",value:function(){return null}},{key:"render",value:function(){var e,t=null==(e=this.viewModel)?void 0:e.state,r=this.homeTitle,i=Object(n.a)({},F,"disabled"===t);return Object(R.a)("div",{bind:this,class:this.classes(E,i),role:"button",tabIndex:0,onclick:this._go,onkeydown:this._go,"aria-label":r,title:r},this.renderIcon(),this.renderText())}},{key:"renderIcon",value:function(){var e,t,r=null==(t=this.viewModel)?void 0:t.state,i=(e={},Object(n.a)(e,C,"going-home"===r),Object(n.a)(e,D,"going-home"===r),e);return Object(R.a)("span",{"aria-hidden":"true",class:this.classes(A,i)})}},{key:"renderText",value:function(){var e=this.messages;return Object(R.a)("span",{class:T},e.button)}},{key:"_go",value:function(){var e=this.viewModel;"going-home"===e.state?e.cancelGo():e.go()}}]),r}(d.a);Object(u.a)([Object(l.a)("viewModel.goToOverride")],N.prototype,"goToOverride",void 0),Object(u.a)([Object(f.b)({readOnly:!0})],N.prototype,"homeTitle",null),Object(u.a)([Object(f.b)()],N.prototype,"iconClass",void 0),Object(u.a)([Object(f.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],N.prototype,"label",void 0),Object(u.a)([Object(f.b)(),Object(P.a)("esri/widgets/Home/t9n/Home")],N.prototype,"messages",void 0),Object(u.a)([Object(f.b)(),Object(P.a)("esri/t9n/common")],N.prototype,"messagesCommon",void 0),Object(u.a)([Object(l.a)("viewModel.view")],N.prototype,"view",void 0),Object(u.a)([Object(f.b)({type:x}),Object(I.a)("go")],N.prototype,"viewModel",void 0),Object(u.a)([Object(l.a)("viewModel.viewpoint")],N.prototype,"viewpoint",void 0),Object(u.a)([Object(l.a)("viewModel.cancelGo")],N.prototype,"cancelGo",null),Object(u.a)([Object(l.a)("viewModel.go")],N.prototype,"go",null),Object(u.a)([Object(S.a)()],N.prototype,"_go",null);var B=N=Object(u.a)([Object(p.a)("esri.widgets.Home")],N);t.default=B},S9oG:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));r("J4Pc");function n(e){}function i(e){return function(){return e}}},SBR8:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("7i+s"),i=Object(n.b)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},SDHo:function(e,t,r){"use strict";var n=r("63Ad");t.__esModule=!0,t.withPrefix=h,t.withAssetPrefix=function(e){return h(e,b())},t.navigateTo=t.replace=t.push=t.navigate=t.default=void 0;var i=n(r("PE9J")),a=n(r("T1e2")),o=n(r("QKC2")),s=n(r("8VmE")),c=n(r("W0B4")),u=n(r("ERkP")),l=r("JF+v"),f=r("ZkUl"),p=r("vhWV");t.parsePath=p.parsePath;var d=function(e){return null==e?void 0:e.startsWith("/")};function h(e,t){var r,n;if(void 0===t&&(t=y()),!v(e))return e;if(e.startsWith("./")||e.startsWith("../"))return e;var i=null!==(r=null!==(n=t)&&void 0!==n?n:b())&&void 0!==r?r:"/";return""+((null==i?void 0:i.endsWith("/"))?i.slice(0,-1):i)+(e.startsWith("/")?e:"/"+e)}var b=function(){return"/react-ags-maps"},y=function(){return"/react-ags-maps"},v=function(e){return e&&!e.startsWith("http://")&&!e.startsWith("https://")&&!e.startsWith("//")};var m=function(e,t){return"number"==typeof e?e:v(e)?d(e)?h(e):function(e,t){return d(e)?e:(0,f.resolve)(e,t)}(e,t):e},g={activeClassName:c.default.string,activeStyle:c.default.object,partiallyActive:c.default.bool};function O(e){return u.default.createElement(l.Location,null,(function(t){var r=t.location;return u.default.createElement(j,(0,s.default)({},e,{_location:r}))}))}var j=function(e){function t(t){var r;(r=e.call(this,t)||this).defaultGetProps=function(e){var t=e.isPartiallyCurrent,n=e.isCurrent;return(r.props.partiallyActive?t:n)?{className:[r.props.className,r.props.activeClassName].filter(Boolean).join(" "),style:(0,s.default)({},r.props.style,r.props.activeStyle)}:null};var n=!1;return"undefined"!=typeof window&&window.IntersectionObserver&&(n=!0),r.state={IOSupported:n},r.handleRef=r.handleRef.bind((0,a.default)(r)),r}(0,o.default)(t,e);var r=t.prototype;return r._prefetch=function(){var e=window.location.pathname;this.props._location&&this.props._location.pathname&&(e=this.props._location.pathname);var t=m(this.props.to,e),r=(0,p.parsePath)(t).pathname;e!==r&&___loader.enqueue(r)},r.componentDidUpdate=function(e,t){this.props.to===e.to||this.state.IOSupported||this._prefetch()},r.componentDidMount=function(){this.state.IOSupported||this._prefetch()},r.componentWillUnmount=function(){if(this.io){var e=this.io,t=e.instance,r=e.el;t.unobserve(r),t.disconnect()}},r.handleRef=function(e){var t,r,n,i=this;this.props.innerRef&&this.props.innerRef.hasOwnProperty("current")?this.props.innerRef.current=e:this.props.innerRef&&this.props.innerRef(e),this.state.IOSupported&&e&&(this.io=(t=e,r=function(){i._prefetch()},(n=new window.IntersectionObserver((function(e){e.forEach((function(e){t===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(n.unobserve(t),n.disconnect(),r())}))}))).observe(t),{instance:n,el:t}))},r.render=function(){var e=this,t=this.props,r=t.to,n=t.getProps,a=void 0===n?this.defaultGetProps:n,o=t.onClick,c=t.onMouseEnter,f=(t.activeClassName,t.activeStyle,t.innerRef,t.partiallyActive,t.state),d=t.replace,h=t._location,b=(0,i.default)(t,["to","getProps","onClick","onMouseEnter","activeClassName","activeStyle","innerRef","partiallyActive","state","replace","_location"]);var y=m(r,h.pathname);return v(y)?u.default.createElement(l.Link,(0,s.default)({to:y,state:f,getProps:a,innerRef:this.handleRef,onMouseEnter:function(e){c&&c(e),___loader.hovering((0,p.parsePath)(y).pathname)},onClick:function(t){if(o&&o(t),!(0!==t.button||e.props.target||t.defaultPrevented||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)){t.preventDefault();var r=d,n=encodeURI(y)===h.pathname;"boolean"!=typeof d&&n&&(r=!0),window.___navigate(y,{state:f,replace:r})}return!0}},b)):u.default.createElement("a",(0,s.default)({href:y},b))},t}(u.default.Component);j.propTypes=(0,s.default)({},g,{onClick:c.default.func,to:c.default.string.isRequired,replace:c.default.bool,state:c.default.object});var w=function(e,t,r){return console.warn('The "'+e+'" method is now deprecated and will be removed in Gatsby v'+r+'. Please use "'+t+'" instead.')},_=u.default.forwardRef((function(e,t){return u.default.createElement(O,(0,s.default)({innerRef:t},e))}));t.default=_;t.navigate=function(e,t){window.___navigate(m(e,window.location.pathname),t)};var k=function(e){w("push","navigate",3),window.___push(m(e,window.location.pathname))};t.push=k;t.replace=function(e){w("replace","navigate",3),window.___replace(m(e,window.location.pathname))};t.navigateTo=function(e){return w("navigateTo","navigate",3),k(e)}},SEN6:function(e,t,r){var n=r("F7vZ"),i=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(i,""):e}},SHde:function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},SLE6:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("7i+s"),f=r("0n+b"),p=r("0fJP"),d=r("xAIp"),h=(r("wckI"),r("J4Pc"),r("TM+E"),r("vo12")),b=r("iaHD"),y=r("Jf7A");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var m=n=function(e){Object(o.a)(r,e);var t=v(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).fieldName=null,n.format=null,n.isEditable=!1,n.label=null,n.stringFieldOption="text-box",n.statisticType=null,n.tooltip=null,n.visible=!0,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({fieldName:this.fieldName,format:this.format?Object(p.a)(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}}]),r}(f.a);Object(u.a)([Object(d.b)({type:String,json:{write:!0}})],m.prototype,"fieldName",void 0),Object(u.a)([Object(d.b)({type:y.a,json:{write:!0}})],m.prototype,"format",void 0),Object(u.a)([Object(d.b)({type:Boolean,json:{write:!0,default:!1}})],m.prototype,"isEditable",void 0),Object(u.a)([Object(d.b)({type:String,json:{write:!0}})],m.prototype,"label",void 0),Object(u.a)([Object(h.a)(new l.a({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],m.prototype,"stringFieldOption",void 0),Object(u.a)([Object(d.b)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],m.prototype,"statisticType",void 0),Object(u.a)([Object(d.b)({type:String,json:{write:!0}})],m.prototype,"tooltip",void 0),Object(u.a)([Object(d.b)({type:Boolean,json:{write:!0}})],m.prototype,"visible",void 0);var g=m=n=Object(u.a)([Object(b.a)("esri.popup.FieldInfo")],m);t.a=g},SN9N:function(e,t,r){var n=r("Dh2Y"),i=r("dIZa");e.exports=function(e,t,r){(void 0!==r&&!i(e[t],r)||void 0===r&&!(t in e))&&n(e,t,r)}},SPOG:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("7i+s"),f=r("0n+b"),p=r("xAIp"),d=(r("J4Pc"),r("wckI")),h=(r("TM+E"),r("vo12")),b=r("mp5+"),y=r("iaHD"),v=r("mm4W"),m=r("uYTh");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var O=new l.a({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"}),j=n=function(e){Object(o.a)(r,e);var t=g(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).alias=null,n.defaultValue=void 0,n.description=null,n.domain=null,n.editable=!0,n.length=-1,n.name=null,n.nullable=!0,n.type=null,n.valueType=null,n}return Object(a.a)(r,[{key:"readDescription",value:function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(i){}return r?r.value:null}},{key:"readValueType",value:function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(i){}return r?O.fromJSON(r.fieldValueType):null}},{key:"clone",value:function(){return new n({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}}]),r}(f.a);Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],j.prototype,"alias",void 0),Object(u.a)([Object(p.b)({type:[String,Number],json:{write:{allowNull:!0}}})],j.prototype,"defaultValue",void 0),Object(u.a)([Object(p.b)()],j.prototype,"description",void 0),Object(u.a)([Object(b.a)("description")],j.prototype,"readDescription",null),Object(u.a)([Object(p.b)({types:v.d,json:{read:{reader:v.b},write:!0}})],j.prototype,"domain",void 0),Object(u.a)([Object(p.b)({type:Boolean,json:{write:!0}})],j.prototype,"editable",void 0),Object(u.a)([Object(p.b)({type:d.a,json:{write:!0}})],j.prototype,"length",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],j.prototype,"name",void 0),Object(u.a)([Object(p.b)({type:Boolean,json:{write:!0}})],j.prototype,"nullable",void 0),Object(u.a)([Object(h.a)(m.a)],j.prototype,"type",void 0),Object(u.a)([Object(p.b)()],j.prototype,"valueType",void 0),Object(u.a)([Object(b.a)("valueType",["description"])],j.prototype,"readValueType",null);var w=j=n=Object(u.a)([Object(y.a)("esri.layers.support.Field")],j);t.a=w},SU3d:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("NY4G"),l=r("2slW"),f=r("xAIp"),p=(r("J4Pc"),r("wckI"),r("TM+E"),r("mp5+")),d=r("iaHD"),h=r("vW4k"),b=r("DuP7"),y=r("SBR8");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var m=function(e){var t=function(e){Object(a.a)(r,e);var t=v(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).timeExtent=null,e.timeOffset=null,e.useViewTime=!0,e}return Object(i.a)(r,[{key:"readOffset",value:function(e,t){var r=t.timeInfo.exportOptions;if(!r)return null;var n=r.timeOffset,i=y.a.fromJSON(r.timeOffsetUnits);return n&&i?new l.a({value:n,unit:i}):null}},{key:"timeInfo",set:function(e){Object(b.k)(e,this.fieldsIndex),this._set("timeInfo",e)}}]),r}(e);return Object(c.a)([Object(f.b)({type:u.a,json:{write:!1}})],t.prototype,"timeExtent",void 0),Object(c.a)([Object(f.b)({type:l.a})],t.prototype,"timeOffset",void 0),Object(c.a)([Object(p.a)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),Object(c.a)([Object(f.b)({value:null,type:h.a,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),Object(c.a)([Object(f.b)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=Object(c.a)([Object(d.a)("esri.layers.mixins.TemporalLayer")],t),t}},Sje8:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:29;Object(n.a)(this,e),this.name=t,this._counter=0,this._items=new Array(r)}return Object(i.a)(e,[{key:"record",value:function(e){this._items[++this._counter%this._items.length]=e}},{key:"median",get:function(){return this._items.slice().sort()[Math.floor(this._items.length/2)]}},{key:"average",get:function(){return this._items.reduce((function(e,t){return e+t}),0)/this._items.length}},{key:"last",get:function(){return this._items[this._counter%this._items.length]}}]),e}();t.a=a},SkE4:function(e,t,r){var n,i,a,o=r("P2u4"),s=r("nEaP"),c=r("fT8P"),u=r("nHIk"),l=r("tF07"),f=r("MoOl"),p=r("3pC9"),d=r("s3NK"),h=s.WeakMap;if(o||f.state){var b=f.state||(f.state=new h),y=b.get,v=b.has,m=b.set;n=function(e,t){if(v.call(b,e))throw new TypeError("Object already initialized");return t.facade=e,m.call(b,e,t),t},i=function(e){return y.call(b,e)||{}},a=function(e){return v.call(b,e)}}else{var g=p("state");d[g]=!0,n=function(e,t){if(l(e,g))throw new TypeError("Object already initialized");return t.facade=e,u(e,g,t),t},i=function(e){return l(e,g)?e[g]:{}},a=function(e){return l(e,g)}}e.exports={set:n,get:i,has:a,enforce:function(e){return a(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},Sq4h:function(e,t,r){var n=r("QDPn"),i=r("9aUh");e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=n(e.prototype),a=e.apply(r,t);return i(a)?a:r}}},SyCk:function(e,t,r){var n=r("RqPZ"),i=r("ckUF");e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},T1e2:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},T5cu:function(e,t,r){var n=r("5Zwl"),i=r("9aUh");e.exports=function(e,t,r){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(r)&&(a="leading"in r?!!r.leading:a,o="trailing"in r?!!r.trailing:o),n(e,t,{leading:a,maxWait:t,trailing:o})}},T9Ud:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},TBsA:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("hZBP"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("EOw0"),d=r("CNVc");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var b=new Set,y=[],v=new Map,m=[0,0],g=function(e){Object(a.a)(r,e);var t=h(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e))._keyToItem=new Map,i.concurrency=6,i.strategy="scale-first",i.tileInfoView=null,i}return Object(i.a)(r,[{key:"initialize",value:function(){var e=this,t=this.concurrency,r=this.process;this._queue=new d.a({concurrency:t,process:function(t,n){var i=e._keyToItem.get(t);return r(i,{signal:n})},peeker:function(e){return e.values().next().value}})}},{key:"destroy",value:function(){this.clear(),this._queue.destroy(),this._queue=null}},{key:"length",get:function(){return this._queue?this._queue.length:0}},{key:"onGoingCount",get:function(){return this._keyToItem.size}},{key:"updating",get:function(){return this.length>0||this.onGoingCount>0}},{key:"abort",value:function(e){var t="string"==typeof e?e:e.id;this._queue.abort(t)}},{key:"clear",value:function(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}},{key:"has",value:function(e){return"string"==typeof e?this._keyToItem.has(e):this._keyToItem.has(e.id)}},{key:"isOngoing",value:function(e){var t="string"==typeof e?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}},{key:"pause",value:function(){this._queue.pause()}},{key:"push",value:function(e,t){var r=this,n=e.key.id+"-"+t;if(this.has(n))return this.get(n);var i=this._queue.push(n),a=function(){r._keyToItem.delete(n),r.notifyChange("updating")};return this._keyToItem.set(n,e),i.then(a,a),this.notifyChange("updating"),i}},{key:"reset",value:function(){this._queue.reset(),this.notifyChange("updating")}},{key:"resume",value:function(){this._queue.resume()}},{key:"_peekByScaleFirst",value:function(e){var t=this;if(!this.state)return e.values().next().value;var r=this.tileInfoView,n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;e.forEach((function(e){var r=t._keyToItem.get(e),a=t.tileInfoView.getTileScale(r.key);v.has(a)||(v.set(a,[]),n=Math.max(a,n),i=Math.min(a,i)),v.get(a).push(r.key),b.add(a)}));var a=this.state.scale;v.has(a)||(function(e,t){e.length=0,t.forEach((function(t){return e.push(t)}))}(y,b),y.sort(),a=y.reduce((function(e,t){return Math.abs(t-a)<Math.abs(e-a)?t:e}),y[0])),a=Math.min(a,n),a=Math.max(a,i);var o=v.get(a),s=r.getClosestInfoForScale(a),c=s.getColumnForX(this.state.center[0]),u=s.getRowForY(this.state.center[1]);return o.sort((function(e,t){var r=s.denormalizeCol(e.col,e.world),n=s.denormalizeCol(t.col,t.world);return Math.sqrt((c-r)*(c-r)+(u-e.row)*(u-e.row))-Math.sqrt((c-n)*(c-n)+(u-t.row)*(u-t.row))})),b.clear(),v.clear(),o[0].id}},{key:"_peekByCenterFirst",value:function(e){var t=this;if(!this.state)return e.values().next().value;var r=this.tileInfoView,n=this.state.center,i=Number.POSITIVE_INFINITY,a=null;return e.forEach((function(e){var o=t._keyToItem.get(e);r.getTileCoords(m,o.key);var s=Object(p.d)(m,n);s<i&&(i=s,a=o.key)})),a.id}}]),r}(u.a);Object(c.a)([Object(l.b)({constructOnly:!0})],g.prototype,"concurrency",void 0),Object(c.a)([Object(l.b)({constructOnly:!0})],g.prototype,"process",void 0),Object(c.a)([Object(l.b)()],g.prototype,"state",void 0),Object(c.a)([Object(l.b)({constructOnly:!0})],g.prototype,"strategy",void 0),Object(c.a)([Object(l.b)({constructOnly:!0})],g.prototype,"tileInfoView",void 0),Object(c.a)([Object(l.b)({readOnly:!0})],g.prototype,"updating",null);g=Object(c.a)([Object(f.a)("esri.views.2d.tiling.PagedTileQueue")],g)},TE3c:function(e,t){e.exports=function(e,t){return t||(e=e.toLowerCase()),e.charAt(0).toUpperCase()+e.substring(1)},e.exports.words=function(e,t){return t||(e=e.toLowerCase()),e.replace(/(?!^[0-9])(^|[^a-zA-Z\u00C0-\u017F\u0400-\u04FF'])([a-zA-Z\u00C0-\u017F\u0400-\u04FF])/g,(function(e){return e.toUpperCase()}))}},TEbo:function(e,t,r){var n=r("Qn7i");e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},TFJl:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=function(){function e(){Object(n.a)(this,e),this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}return Object(i.a)(e,[{key:"weakClone",value:function(){var t=new e;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}]),e}();t.a=a},TJjZ:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("YZeP");function i(e,t){if(e){if("string"==typeof e)return Object(n.a)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(e,t):void 0}}},"TM+E":function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("sc0P"),o=(r("J4Pc"),r("7im+")),s=r("lZmO");function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l={info:0,warn:1,error:2,none:3},f=function(){function e(t){Object(n.a)(this,e),this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=t.level&&(this.level=t.level),null!=t.writer&&(this.writer=t.writer),this._module=t.module,e._loggers[this.module]=this;var r=this.module.lastIndexOf(".");-1!==r&&(this._parent=e.getLogger(this.module.slice(0,r)))}return Object(i.a)(e,[{key:"module",get:function(){return this._module}},{key:"parent",get:function(){return this._parent}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["error","always"].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["warn","always"].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["info","always"].concat(t))}},{key:"errorOnce",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["error","once"].concat(t))}},{key:"warnOnce",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["warn","once"].concat(t))}},{key:"infoOnce",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["info","once"].concat(t))}},{key:"errorOncePerTick",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["error","oncePerTick"].concat(t))}},{key:"warnOncePerTick",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["warn","oncePerTick"].concat(t))}},{key:"infoOncePerTick",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["info","oncePerTick"].concat(t))}},{key:"test",get:function(){var e=this;return{loggedMessages:e._loggedMessages,clearLoggedWarnings:function(){return e._loggedMessages.warn.clear()}}}},{key:"_log",value:function(t,r){if(this._matchLevel(t)){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if("always"!==r&&!e._throttlingDisabled){var s=this._argsToKey(i),u=this._loggedMessages[t].get(s);if("once"===r&&null!=u||"oncePerTick"===r&&u&&u>=e._tickCounter)return;this._loggedMessages[t].set(s,e._tickCounter),e._scheduleTickCounterIncrement()}var l,f=c(a.a.log.interceptors);try{for(f.s();!(l=f.n()).done;){var p=l.value;if(p.apply(void 0,[t,this.module].concat(i)))return}}catch(d){f.e(d)}finally{f.f()}this._inheritedWriter().apply(void 0,[t,this.module].concat(i))}}},{key:"_parentWithMember",value:function(e,t){for(var r=this;Object(o.i)(r);){var n=r[e];if(Object(o.i)(n))return n;r=r.parent}return t}},{key:"_inheritedWriter",value:function(){return this._parentWithMember("writer",this._consoleWriter)}},{key:"_consoleWriter",value:function(e,t){for(var r,n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];(r=console)[e].apply(r,["[".concat(t,"]")].concat(i))}},{key:"_matchLevel",value:function(e){var t=a.a.log.level?a.a.log.level:"warn";return l[this._parentWithMember("level",t)]<=l[e]}},{key:"_argsToKey",value:function(){for(var e=function(e,t){return"object"!=typeof t||Array.isArray(t)?t:"[Object]"},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Object(s.b)(JSON.stringify(r,e))}}],[{key:"testSingleton",get:function(){return{resetLoggers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e._loggers;return e._loggers=t,r},set throttlingDisabled(t){e._throttlingDisabled=t}}}},{key:"getLogger",value:function(t){var r=e._loggers[t];return r||(r=new e({module:t})),r}},{key:"_scheduleTickCounterIncrement",value:function(){e._tickCounterScheduled||(e._tickCounterScheduled=!0,Promise.resolve().then((function(){e._tickCounter++,e._tickCounterScheduled=!1})))}}]),e}();f._loggers={},f._tickCounter=0,f._tickCounterScheduled=!1,f._throttlingDisabled=!1,t.a=f},TO7i:function(e,t,r){"use strict";r.d(t,"a",(function(){return O})),r.d(t,"b",(function(){return j})),r.d(t,"c",(function(){return g}));var n=r("mK0O"),i=r("7i+s"),a=r("Vs6/");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={year:"numeric",month:"numeric",day:"numeric"},u={year:"numeric",month:"long",day:"numeric"},l={year:"numeric",month:"short",day:"numeric"},f={year:"numeric",month:"long",weekday:"long",day:"numeric"},p={hour:"numeric",minute:"numeric"},d=s(s({},p),{},{second:"numeric"}),h={"short-date":c,"short-date-short-time":s(s({},c),p),"short-date-short-time-24":s(s(s({},c),p),{},{hour12:!1}),"short-date-long-time":s(s({},c),d),"short-date-long-time-24":s(s(s({},c),d),{},{hour12:!1}),"short-date-le":c,"short-date-le-short-time":s(s({},c),p),"short-date-le-short-time-24":s(s(s({},c),p),{},{hour12:!1}),"short-date-le-long-time":s(s({},c),d),"short-date-le-long-time-24":s(s(s({},c),d),{},{hour12:!1}),"long-month-day-year":u,"long-month-day-year-short-time":s(s({},u),p),"long-month-day-year-short-time-24":s(s(s({},u),p),{},{hour12:!1}),"long-month-day-year-long-time":s(s({},u),d),"long-month-day-year-long-time-24":s(s(s({},u),d),{},{hour12:!1}),"day-short-month-year":l,"day-short-month-year-short-time":s(s({},l),p),"day-short-month-year-short-time-24":s(s(s({},l),p),{},{hour12:!1}),"day-short-month-year-long-time":s(s({},l),d),"day-short-month-year-long-time-24":s(s(s({},l),d),{},{hour12:!1}),"long-date":f,"long-date-short-time":s(s({},f),p),"long-date-short-time-24":s(s(s({},f),p),{},{hour12:!1}),"long-date-long-time":s(s({},f),d),"long-date-long-time-24":s(s(s({},f),d),{},{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":p,"long-time":d},b=Object(i.b)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),y=(b.apiValues,b.toJSON.bind(b),b.fromJSON.bind(b),{ar:"ar-u-nu-latn-ca-gregory"}),v=new WeakMap,m=h["short-date-short-time"];function g(e){var t=e||m;if(!v.has(t)){var r=Object(a.b)(),n=y[Object(a.b)()]||r;v.set(t,new Intl.DateTimeFormat(n,t))}return v.get(t)}function O(e){return h[e]||null}function j(e,t){return g(t).format(e)}Object(a.a)((function(){v=new WeakMap,m=h["short-date-short-time"]}))},TRAi:function(e,t,r){"use strict";t.__esModule=!0,t.SessionStorage=void 0;var n=function(){function e(){}var t=e.prototype;return t.read=function(e,t){var r=this.getStateKey(e,t);try{var n=window.sessionStorage.getItem(r);return n?JSON.parse(n):0}catch(i){return window&&window.___GATSBY_REACT_ROUTER_SCROLL&&window.___GATSBY_REACT_ROUTER_SCROLL[r]?window.___GATSBY_REACT_ROUTER_SCROLL[r]:0}},t.save=function(e,t,r){var n=this.getStateKey(e,t),i=JSON.stringify(r);try{window.sessionStorage.setItem(n,i)}catch(a){window&&window.___GATSBY_REACT_ROUTER_SCROLL||(window.___GATSBY_REACT_ROUTER_SCROLL={}),window.___GATSBY_REACT_ROUTER_SCROLL[n]=JSON.parse(i)}},t.getStateKey=function(e,t){var r="@@scroll|"+e.pathname;return null==t?r:r+"|"+t},e}();t.SessionStorage=n},TRFF:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return g}));var n=r("eijD"),i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("NthX"),l=r.n(u),f=r("dQW7"),p=r("TM+E"),d=r("IH5m"),h=r("PVS0"),b=(r("J4Pc"),r("wckI"),r("xAIp")),y=r("iaHD");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var m=function(e){var t=function(e){Object(o.a)(r,e);var t=v(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).refreshTimestamp=null,e.refreshDebounced=Object(d.i)(function(){var t=Object(n.a)(l.a.mark((function t(r,n){var i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("number"==typeof r?i=r:(i=Date.now(),n=r),e._set("refreshTimestamp",i),t.t0=e.doRefresh,!t.t0){t.next=6;break}return t.next=6,e.doRefresh(n).catch((function(t){Object(d.m)(t)||p.a.getLogger(e.declaredClass).error(t)}));case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),2e3),e}return Object(a.a)(r,[{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._set("refreshTimestamp",t),this.doRefresh&&this.doRefresh().catch((function(t){Object(d.m)(t)||p.a.getLogger(e.declaredClass).error(t)}))}}]),r}(e);return Object(f.a)([Object(b.b)()],t.prototype,"layer",void 0),Object(f.a)([Object(h.a)("layer.refreshInterval")],t.prototype,"refreshInterval",void 0),Object(f.a)([Object(b.b)({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),t=Object(f.a)([Object(y.a)("esri.layers.mixins.RefreshableLayerView")],t)};function g(e){return"refresh"in e}},TSPQ:function(e,t,r){var n=r("s3t7"),i=r("T9Ud");e.exports=function(e){return i(e)&&"[object WeakMap]"==n(e)}},Tkaf:function(e,t,r){"use strict";function n(){var e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function i(e){var t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return n}));Object.freeze({__proto__:null,create:n,clone:i,fromValues:function(e,t,r,n,i,a,o,s,c){var u=new Float32Array(9);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,u[4]=i,u[5]=a,u[6]=o,u[7]=s,u[8]=c,u},createView:function(e,t){return new Float32Array(e,t,9)}})},TsNJ:function(e,t){e.exports=function(e){return function(t){return e(t)}}},TwND:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("aNYv"),i=r("hisu"),a=r("yBJb"),o=r("Mp7X"),s=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(i.a)(this,e),this.major=t,this.minor=r,this._context=n}return Object(a.a)(e,[{key:"lessThan",value:function(e,t){return this.major<e||e===this.major&&this.minor<t}},{key:"since",value:function(e,t){return!this.lessThan(e,t)}},{key:"validate",value:function(e){if(this.major!==e.major){var t=this._context&&this._context+":",r=this._context&&this._context+" ";throw new o.a(t+"unsupported-version","Required major ".concat(r,"version is '").concat(this.major,"', but got '${version.major}.${version.minor}'"),{version:e})}}},{key:"clone",value:function(){return new e(this.major,this.minor,this._context)}}],[{key:"parse",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=t.split("."),a=Object(n.a)(i,2),s=a[0],c=a[1],u=/^\s*\d+\s*$/;if(!s||!s.match||!s.match(u))throw new o.a((r&&r+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!c||!c.match||!c.match(u))throw new o.a((r&&r+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});var l=parseInt(s,10),f=parseInt(c,10);return new e(l,f,r)}}]),e}()},"U+6s":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("fb8N"),f=r("0n+b"),p=r("xAIp"),d=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),h=r("R0ka");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var y=n=function(e){Object(o.a)(r,e);var t=b(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).description=null,n.label=null,n.symbol=null,n.value=null,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}},{key:"getMeshHash",value:function(){var e=JSON.stringify(this.symbol&&this.symbol.toJSON());return"".concat(this.value,".").concat(e)}}]),r}(f.a);Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],y.prototype,"description",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],y.prototype,"label",void 0),Object(u.a)([Object(p.b)({types:l.i,json:{origins:{"web-scene":{types:l.j,write:h.b}},write:h.b}})],y.prototype,"symbol",void 0),Object(u.a)([Object(p.b)({type:[String,Number],json:{type:String,write:{writer:function(e,t){t.value=null==e?void 0:e.toString()}}}})],y.prototype,"value",void 0);var v=y=n=Object(u.a)([Object(d.a)("esri.renderers.support.UniqueValueInfo")],y);t.a=v},U5FO:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0fJP"),f=r("xAIp"),p=(r("wckI"),r("J4Pc"),r("TM+E"),r("mp5+")),d=r("iaHD"),h=r("jr4m"),b=r("W3vo"),y=r("c0EN"),v=r("U95q"),m=r("VUGK"),g=r("4GoY"),O=r("ruIw"),j=r("Vd3i");function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var _=n=function(e){Object(o.a)(r,e);var t=w(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).activeMediaInfoIndex=null,n.description=null,n.mediaInfos=null,n.title=null,n.type="media",n}return Object(a.a)(r,[{key:"readMediaInfos",value:function(e){return e&&e.map((function(e){return"image"===e.type?m.a.fromJSON(e):"barchart"===e.type?b.a.fromJSON(e):"columnchart"===e.type?y.a.fromJSON(e):"linechart"===e.type?g.a.fromJSON(e):"piechart"===e.type?O.a.fromJSON(e):void 0})).filter(Boolean)}},{key:"writeMediaInfos",value:function(e,t){t.mediaInfos=e&&e.map((function(e){return e.toJSON()}))}},{key:"clone",value:function(){return new n({activeMediaInfoIndex:this.activeMediaInfoIndex,description:this.description,mediaInfos:this.mediaInfos?Object(l.a)(this.mediaInfos):null,title:this.title})}}]),r}(v.a);Object(u.a)([Object(f.b)()],_.prototype,"activeMediaInfoIndex",void 0),Object(u.a)([Object(f.b)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],_.prototype,"description",void 0),Object(u.a)([Object(f.b)({types:[j.a]})],_.prototype,"mediaInfos",void 0),Object(u.a)([Object(p.a)("mediaInfos")],_.prototype,"readMediaInfos",null),Object(u.a)([Object(h.a)("mediaInfos")],_.prototype,"writeMediaInfos",null),Object(u.a)([Object(f.b)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],_.prototype,"title",void 0),Object(u.a)([Object(f.b)({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],_.prototype,"type",void 0);var k=_=n=Object(u.a)([Object(d.a)("esri.popup.content.MediaContent")],_);t.a=k},U7uu:function(e,t,r){"use strict";r("TO7i"),r("jOdF"),r("Iyey"),r("Vs6/");var n=r("iW9l"),i=r("hisu"),a=r("yBJb"),o=r("eijD"),s=r("NthX"),c=r.n(s),u=r("DGz/"),l=r("Mp7X"),f=r("8jRW"),p=r("7im+");function d(){return(d=Object(o.a)(c.a.mark((function e(t,r,i,a){var o,s,u,f,p,d,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.exec(i)){e.next=3;break}throw new l.a("esri-intl:invalid-bundle",'Bundle id "'.concat(i,'" is not compatible with the pattern "').concat(r,'"'));case 3:return s=o[1]?"".concat(o[1],"/"):"",u=o[2],f=Object(n.b)(a),p="".concat(s).concat(u,".json"),d=f?"".concat(s).concat(u,"_").concat(f,".json"):p,e.prev=4,e.next=7,h(t(d));case 7:b=e.sent,e.next=23;break;case 10:if(e.prev=10,e.t0=e.catch(4),d!==p){e.next=14;break}throw new l.a("intl:unknown-bundle",'Bundle "'.concat(i,'" cannot be loaded'),{error:e.t0});case 14:return e.prev=14,e.next=17,h(t(p));case 17:b=e.sent,e.next=23;break;case 20:throw e.prev=20,e.t1=e.catch(14),new l.a("intl:unknown-bundle",'Bundle "'.concat(i,'" cannot be loaded'),{error:e.t1});case 23:return e.abrupt("return",b);case 24:case"end":return e.stop()}}),e,null,[[4,10],[14,20]])})))).apply(this,arguments)}function h(e){return b.apply(this,arguments)}function b(){return(b=Object(o.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(p.i)(m.fetchBundleAsset)){e.next=2;break}return e.abrupt("return",m.fetchBundleAsset(t));case 2:return e.next=4,Object(u.default)(t,{responseType:"text"});case 4:return r=e.sent,e.abrupt("return",JSON.parse(r.data));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(){function e(t){var r,n=t.base,a=void 0===n?"":n,o=t.pattern,s=t.location,c=void 0===s?new URL(window.location.href):s;Object(i.a)(this,e),r="string"==typeof c?function(e){return new URL(e,new URL(c,f.a.location)).href}:c instanceof URL?function(e){return new URL(e,c).href}:c,this.pattern="string"==typeof o?new RegExp("^".concat(o)):o,this.getAssetUrl=r,a=a?a.endsWith("/")?a:a+"/":"",this.matcher=new RegExp("^".concat(a,"(?:(.*)/)?(.*)$"))}return Object(a.a)(e,[{key:"fetchMessageBundle",value:function(e,t){return function(e,t,r,n){return d.apply(this,arguments)}(this.getAssetUrl,this.matcher,e,t)}}]),e}();var v,m={},g=r("e6DO");Object(n.c)((v={pattern:"esri/",location:g.a},new y(v)))},U95q:function(e,t,r){"use strict";var n=r("hisu"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("dQW7"),c=r("0n+b"),u=r("xAIp"),l=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var p=function(e){Object(i.a)(r,e);var t=f(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).type=null,i}return r}(c.a);Object(s.a)([Object(u.b)({type:["attachments","custom","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],p.prototype,"type",void 0);var d=p=Object(s.a)([Object(l.a)("esri.popup.content.Content")],p);t.a=d},UKs3:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("WYis"),f=r("7im+"),p=r("frPA"),d=r("xAIp"),h=(r("J4Pc"),r("wckI"),r("TM+E"),r("vo12")),b=r("iaHD"),y=r("1lXL"),v=r("Xr9Q"),m=r("I2xc"),g=r("y75+");function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var j=n=function(e){Object(o.a)(r,e);var t=O(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).material=null,n.type="line",n.join="miter",n.cap="butt",n.size=Object(p.d)(1),n.stipplePattern=null,n.stippleOffColor=null,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({enabled:this.enabled,material:Object(f.i)(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})}}],[{key:"fromSimpleLineSymbol",value:function(e){return new n({size:e.width||1,cap:e.cap||"butt",join:e.join||"miter",material:{color:(e.color||v.c).clone()}})}}]),r}(y.a);Object(u.a)([Object(d.b)({type:g.a,json:{write:!0}})],j.prototype,"material",void 0),Object(u.a)([Object(h.a)({Line:"line"},{readOnly:!0})],j.prototype,"type",void 0),Object(u.a)([Object(d.b)({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],j.prototype,"join",void 0),Object(u.a)([Object(d.b)({type:["butt","square","round"],json:{write:!0,default:"butt"}})],j.prototype,"cap",void 0),Object(u.a)([Object(d.b)(m.b)],j.prototype,"size",void 0),Object(u.a)([Object(d.b)(m.c)],j.prototype,"stipplePattern",void 0),Object(u.a)([Object(d.b)({type:l.a})],j.prototype,"stippleOffColor",void 0);var w=j=n=Object(u.a)([Object(b.a)("esri.symbols.LineSymbol3DLayer")],j);t.a=w},ULAX:function(e,t,r){var n=r("TEbo"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,r,n,i){t.push(n?i.replace(a,"$1"):r||e)})),t}));e.exports=o},UR7D:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}));var n=r("wckI");function i(e){var t=Object(n.e)(100*(1-e));return Math.max(0,Math.min(t,100))}function a(e){var t=1-e/100;return Math.max(0,Math.min(t,1))}},UVdV:function(e,t,r){var n=r("lUv3"),i=r("nEaP"),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(n[e])||a(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},UfAV:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("hZBP"),l=r("kDog"),f=r("7im+"),p=r("xAIp"),d=r("iaHD");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var b=function(e){Object(a.a)(r,e);var t=h(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e))._groups=new Map,i}return Object(i.a)(r,[{key:"destroy",value:function(){this.removeAll()}},{key:"size",get:function(){var e=0;return this._groups.forEach((function(t){e+=t.length})),e}},{key:"add",value:function(e,t){var r=this;if(!this._isHandle(e)&&!Array.isArray(e)&&!l.a.isCollection(e))return this;var n=this._getOrCreateGroup(t);return Array.isArray(e)||l.a.isCollection(e)?e.forEach((function(e){return r._isHandle(e)&&n.push(e)})):n.push(e),this.notifyChange("size"),this}},{key:"forEach",value:function(e,t){if("function"==typeof e)this._groups.forEach((function(t){return t.forEach(e)}));else{var r=this._getGroup(e);r&&t&&r.forEach(t)}}},{key:"has",value:function(e){return this._groups.has(this._ensureGroupKey(e))}},{key:"remove",value:function(e){if(Array.isArray(e)||l.a.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;for(var t=this._getGroup(e),r=0;r<t.length;r++)t[r].remove();return this._deleteGroup(e),this.notifyChange("size"),this}},{key:"removeAll",value:function(){return this._groups.forEach((function(e){for(var t=0;t<e.length;t++)e[t].remove()})),this._groups.clear(),this.notifyChange("size"),this}},{key:"_isHandle",value:function(e){return e&&!!e.remove}},{key:"_getOrCreateGroup",value:function(e){if(this.has(e))return this._getGroup(e);var t=[];return this._groups.set(this._ensureGroupKey(e),t),t}},{key:"_getGroup",value:function(e){return Object(f.c)(this._groups.get(this._ensureGroupKey(e)))}},{key:"_deleteGroup",value:function(e){return this._groups.delete(this._ensureGroupKey(e))}},{key:"_ensureGroupKey",value:function(e){return e||"_default_"}}]),r}(u.a);Object(c.a)([Object(p.b)({readOnly:!0})],b.prototype,"size",null);var y=b=Object(c.a)([Object(d.a)("esri.core.Handles")],b);t.a=y},Ufrx:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("+b7D");function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t,r){if(r&&r.features&&r.hasZ){var a=Object(n.a)(r.geometryType,t,e.outSpatialReference);if(a){var o,s=i(r.features);try{for(s.s();!(o=s.n()).done;){a(o.value.geometry)}}catch(c){s.e(c)}finally{s.f()}}}}},UgeB:function(e,t,r){var n=r("GI0s"),i=r("T9Ud");e.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}},UjQs:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("aNYv"),i=r("bYeG");function a(e){return e?function(e,t){if(!e||!e.length)return null;for(var r=[],n=[],a=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0],s=0,c=e.length;s<c;s++){var u=o(e[s],t,a);u&&n.push(u)}if(n.sort((function(e,r){var n=e[2]-r[2];return 0===n&&t&&(n=e[4]-r[4]),n})),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<a[0]||r[0]>a[1]||r[1]<a[2]||r[1]>a[3]||t&&(r[2]<a[4]||r[2]>a[5]))&&(r.length=0)),!r.length){var l=e[0]&&e[0].length?function(e,t){for(var r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0],a=0,o=0,s=0,c=0,u=0,l=e.length;u<l-1;u++){var f=e[u],p=e[u+1];if(f&&p){r[0]=f[0],r[1]=f[1],n[0]=p[0],n[1]=p[1],t&&f.length>2&&p.length>2&&(r[2]=f[2],n[2]=p[2]);var d=Object(i.b)(r,n);if(d){a+=d;var h=Object(i.c)(f,p);o+=d*h[0],s+=d*h[1],t&&h.length>2&&(c+=d*h[2])}}}return a>0?t?[o/a,s/a,c/a]:[o/a,s/a]:e.length?e[0]:null}(e[0],t):null;if(!l)return null;r[0]=l[0],r[1]=l[1],t&&l.length>2&&(r[2]=l[2])}return r}(e.rings,e.hasZ):null}function o(e,t,r){for(var i=0,a=0,o=0,s=0,c=0,u=e.length?e[0][0]:0,l=e.length?e[0][1]:0,f=e.length&&t?e[0][2]:0,p=0;p<e.length;p++){var d=e[p],h=e[(p+1)%e.length],b=Object(n.a)(d,3),y=b[0],v=b[1],m=b[2],g=y-u,O=v-l,j=t?m-f:void 0,w=Object(n.a)(h,3),_=w[0],k=w[1],x=w[2],S=_-u,P=k-l,I=t?x-f:void 0,R=g*P-S*O;if(s+=R,i+=(g+S)*R,a+=(O+P)*R,t&&d.length>2&&h.length>2){var M=g*I-S*j;o+=(j+I)*M,c+=M}y<r[0]&&(r[0]=y),y>r[1]&&(r[1]=y),v<r[2]&&(r[2]=v),v>r[3]&&(r[3]=v),t&&(m<r[4]&&(r[4]=m),m>r[5]&&(r[5]=m))}if(s>0&&(s*=-1),c>0&&(c*=-1),!s)return null;c*=.5;var E=[i/(6*(s*=.5))+u,a/(6*s)+l,s];return t&&(r[4]===r[5]||0===c?(E[3]=(r[4]+r[5])/2,E[4]=0):(E[3]=o/(6*c)+f,E[4]=c)),E}},UkaN:function(e,t,r){var n=r("+iL7"),i=r("VcRG");e.exports=function(e){return n((function(){return!!i[e]()||""!=""[e]()||i[e].name!==e}))}},UnPy:function(e,t){e.exports=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}},UxWs:function(e,t,r){"use strict";r.r(t);var n=r("Fcif"),i=r("7L9N"),a=r("xtsi"),o=r("ERkP"),s=r.n(o),c=r("7nmT"),u=r.n(c),l=r("JF+v"),f=r("5LHb"),p=r("Kn+0"),d=r.n(p),h=r("Wbzz"),b=r("emEt"),y=r("YLt+"),v=r("5yr3"),m={id:"gatsby-announcer",style:{position:"absolute",top:0,width:1,height:1,padding:0,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0},"aria-live":"assertive","aria-atomic":"true"},g=r("ELdr"),O=r("SDHo"),j=r("aD51"),w=new Map,_=new Map;function k(e){var t=w.get(e);return t||(t=_.get(e.toLowerCase())),null!=t&&(window.___replace(t.toPath),!0)}y.forEach((function(e){e.ignoreCase?_.set(e.fromPath,e):w.set(e.fromPath,e)}));var x=function(e,t){k(e.pathname)||Object(a.apiRunner)("onPreRouteUpdate",{location:e,prevLocation:t})},S=function(e,t){k(e.pathname)||Object(a.apiRunner)("onRouteUpdate",{location:e,prevLocation:t})},P=function(e,t){if(void 0===t&&(t={}),"number"!=typeof e){var r=Object(O.parsePath)(e).pathname,n=w.get(r);if(n||(n=_.get(r.toLowerCase())),n&&(e=n.toPath,r=Object(O.parsePath)(e).pathname),window.___swUpdated)window.location=r;else{var i=setTimeout((function(){v.a.emit("onDelayedLoadPageResources",{pathname:r}),Object(a.apiRunner)("onRouteUpdateDelayed",{location:window.location})}),1e3);b.default.loadPage(r).then((function(n){if(!n||n.status===b.PageResourceStatus.Error)return window.history.replaceState({},"",location.href),window.location=r,void clearTimeout(i);n&&n.page.webpackCompilationHash!==window.___webpackCompilationHash&&("serviceWorker"in navigator&&null!==navigator.serviceWorker.controller&&"activated"===navigator.serviceWorker.controller.state&&navigator.serviceWorker.controller.postMessage({gatsbyApi:"clearPathResources"}),window.location=r),Object(l.navigate)(e,t),clearTimeout(i)}))}}else g.c.navigate(e)};function I(e,t){var r=this,n=t.location,i=n.pathname,o=n.hash,s=Object(a.apiRunner)("shouldUpdateScroll",{prevRouterProps:e,pathname:i,routerProps:{location:n},getSavedScrollPosition:function(e){return[0,r._stateStorage.read(e,e.key)]}});if(s.length>0)return s[s.length-1];if(e&&e.location.pathname===i)return o?decodeURI(o.slice(1)):[0,0];return!0}var R=function(e){function t(t){var r;return(r=e.call(this,t)||this).announcementRef=s.a.createRef(),r}Object(i.a)(t,e);var r=t.prototype;return r.componentDidUpdate=function(e,t){var r=this;requestAnimationFrame((function(){var e="new page at "+r.props.location.pathname;document.title&&(e=document.title);var t=document.querySelectorAll("#gatsby-focus-wrapper h1");t&&t.length&&(e=t[0].textContent);var n="Navigated to "+e;r.announcementRef.current&&(r.announcementRef.current.innerText!==n&&(r.announcementRef.current.innerText=n))}))},r.render=function(){return Object(j.c)("div",Object(n.a)({},m,{ref:this.announcementRef}))},t}(s.a.Component),M=function(e,t){var r,n;return e.href!==t.href||(null==e||null===(r=e.state)||void 0===r?void 0:r.key)!==(null==t||null===(n=t.state)||void 0===n?void 0:n.key)},E=function(e){function t(t){var r;return r=e.call(this,t)||this,x(t.location,null),r}Object(i.a)(t,e);var r=t.prototype;return r.componentDidMount=function(){S(this.props.location,null)},r.shouldComponentUpdate=function(e){return!!M(e.location,this.props.location)&&(x(this.props.location,e.location),!0)},r.componentDidUpdate=function(e){M(e.location,this.props.location)&&S(this.props.location,e.location)},r.render=function(){return Object(j.c)(s.a.Fragment,null,this.props.children,Object(j.c)(R,{location:location}))},t}(s.a.Component),T=r("IOVJ"),A=r("NsGk"),C=r.n(A),D=r("mK0O");function L(e,t){for(var r in e)if(!(r in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){Object(D.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=function(e){function t(t){var r;r=e.call(this)||this;var n=t.location,i=t.pageResources;return r.state={location:N({},n),pageResources:i||b.default.loadPageSync(n.pathname)},r}Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){var r=e.location;return t.location.href!==r.href?{pageResources:b.default.loadPageSync(r.pathname),location:N({},r)}:{location:N({},r)}};var r=t.prototype;return r.loadResources=function(e){var t=this;b.default.loadPage(e).then((function(r){r&&r.status!==b.PageResourceStatus.Error?t.setState({location:N({},window.location),pageResources:r}):(window.history.replaceState({},"",location.href),window.location=e)}))},r.shouldComponentUpdate=function(e,t){return t.pageResources?this.state.pageResources!==t.pageResources||(this.state.pageResources.component!==t.pageResources.component||(this.state.pageResources.json!==t.pageResources.json||(!(this.state.location.key===t.location.key||!t.pageResources.page||!t.pageResources.page.matchPath&&!t.pageResources.page.path)||function(e,t,r){return L(e.props,t)||L(e.state,r)}(this,e,t)))):(this.loadResources(e.location.pathname),!1)},r.render=function(){return this.props.children(this.state)},t}(s.a.Component),V=r("cSJ8"),U=r("JeVI"),z=new b.ProdLoader(C.a,U);Object(b.setLoader)(z),z.setApiRunner(a.apiRunner),window.asyncRequires=C.a,window.___emitter=v.a,window.___loader=b.publicLoader,g.c.listen((function(e){e.location.action=e.action})),window.___push=function(e){return P(e,{replace:!1})},window.___replace=function(e){return P(e,{replace:!0})},window.___navigate=function(e,t){return P(e,t)},k(window.location.pathname),Object(a.apiRunnerAsync)("onClientEntry").then((function(){Object(a.apiRunner)("registerServiceWorker").length>0&&r("NSX3");var e=function(e){return Object(j.c)(l.BaseContext.Provider,{value:{baseuri:"/",basepath:"/"}},Object(j.c)(T.a,e))},t=s.a.createContext({}),o=function(e){function r(){return e.apply(this,arguments)||this}return Object(i.a)(r,e),r.prototype.render=function(){var e=this.props.children;return Object(j.c)(l.Location,null,(function(r){var n=r.location;return Object(j.c)(B,{location:n},(function(r){var n=r.pageResources,i=r.location,a=Object(b.getStaticQueryResults)();return Object(j.c)(h.b.Provider,{value:a},Object(j.c)(t.Provider,{value:{pageResources:n,location:i}},e))}))}))},r}(s.a.Component),c=function(r){function a(){return r.apply(this,arguments)||this}return Object(i.a)(a,r),a.prototype.render=function(){var r=this;return Object(j.c)(t.Consumer,null,(function(t){var i=t.pageResources,a=t.location;return Object(j.c)(E,{location:a},Object(j.c)(f.ScrollContext,{location:a,shouldUpdateScroll:I},Object(j.c)(l.Router,{basepath:"/react-ags-maps",location:a,id:"gatsby-focus-wrapper"},Object(j.c)(e,Object(n.a)({path:"/404.html"===i.page.path?Object(V.a)(a.pathname,"/react-ags-maps"):encodeURI(i.page.matchPath||i.page.path)},r.props,{location:a,pageResources:i},i.json)))))}))},a}(s.a.Component),p=window,y=p.pagePath,v=p.location;y&&"/react-ags-maps"+y!==v.pathname&&!(z.findMatchPath(Object(V.a)(v.pathname,"/react-ags-maps"))||"/404.html"===y||y.match(/^\/404\/?$/)||y.match(/^\/offline-plugin-app-shell-fallback\/?$/))&&Object(l.navigate)("/react-ags-maps"+y+v.search+v.hash,{replace:!0}),b.publicLoader.loadPage(v.pathname).then((function(e){if(!e||e.status===b.PageResourceStatus.Error)throw new Error("page resources for "+v.pathname+" not found. Not rendering React");window.___webpackCompilationHash=e.page.webpackCompilationHash;var t=Object(a.apiRunner)("wrapRootElement",{element:Object(j.c)(c,null)},Object(j.c)(c,null),(function(e){return{element:e.result}})).pop(),r=function(){return Object(j.c)(o,null,t)},n=Object(a.apiRunner)("replaceHydrateFunction",void 0,u.a.hydrate)[0];d()((function(){n(Object(j.c)(r,null),"undefined"!=typeof window?document.getElementById("___gatsby"):void 0,(function(){Object(a.apiRunner)("onInitialClientRender")}))}))}))}))},UzdM:function(e,t,r){var n=r("j6ZD");e.exports=function(e){return e?(e=n(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},V2ZB:function(e,t,r){var n=r("F3Ab"),i=r("Dh2Y");e.exports=function(e,t,r,a){var o=!r;r||(r={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=a?a(r[u],e[u],u,r,e):void 0;void 0===l&&(l=e[u]),o?i(r,u,l):n(r,u,l)}return r}},VFJJ:function(e,t,r){"use strict";r.r(t);var n=r("eijD"),i=r("mK0O"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("NthX"),f=r.n(l),p=r("dQW7"),d=r("vVXE"),h=r("A0wW"),b=r("UfAV"),y=r("TM+E"),v=r("j56I"),m=r("PVS0"),g=(r("J4Pc"),r("gljZ")),O=r("xAIp"),j=r("iaHD"),w=r("y3sw"),_=r("IXv3"),k=r("hZBP");r("wckI");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var S=function(e){Object(s.a)(r,e);var t=x(r);function r(e){return Object(a.a)(this,r),t.call(this,e)}return Object(o.a)(r,[{key:"editedBookmark",get:function(){var e=this.bookmark;return e?this._get("editedBookmark")||e.clone():null}},{key:"state",get:function(){return this._get("state")},set:function(e){this.validationState=void 0,this.loading=void 0,this._set("state",e)}}]),r}(k.a);Object(p.a)([Object(O.b)()],S.prototype,"bookmark",void 0),Object(p.a)([Object(O.b)({readOnly:!0})],S.prototype,"editedBookmark",null),Object(p.a)([Object(O.b)()],S.prototype,"state",null),Object(p.a)([Object(O.b)()],S.prototype,"validationState",void 0),Object(p.a)([Object(O.b)()],S.prototype,"loading",void 0);var P=S=Object(p.a)([Object(j.a)("esri.widgets.Bookmarks.UserState")],S),I=r("VZ8p"),R=r("kDog"),M=r("Mp7X"),E=r("v3KF"),T=r("987k"),A=r("zTdd");function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var F=y.a.getLogger("esri.widgets.Bookmarks.BookmarksViewModel"),N=R.a.ofType(T.a),B={width:128,height:128,format:"png"},V={takeScreenshot:!0,captureViewpoint:!0,captureRotation:!0,captureScale:!0},U=function(e){Object(s.a)(u,e);var t,r,i,c=L(u);function u(e){var t;return Object(a.a)(this,u),(t=c.call(this,e)).activeBookmark=null,t}return Object(o.a)(u,[{key:"destroy",value:function(){this.view=null,this._set("activeBookmark",null)}},{key:"bookmarks",get:function(){return this.get("view.map.bookmarks")||new N},set:function(e){void 0!==e?this._override("bookmarks",e):this._clearOverride("bookmarks")}},{key:"defaultCreateOptions",get:function(){return V},set:function(e){this._set("defaultCreateOptions",D(D({},V),e))}},{key:"defaultEditOptions",get:function(){return V},set:function(e){this._set("defaultEditOptions",D(D({},V),e))}},{key:"state",get:function(){var e=this.get("view");return e&&!e.ready?"loading":"ready"}},{key:"view",get:function(){return this._get("view")},set:function(e){e&&"2d"!==e.type&&F.error(new M.a("view:invalid-view","SceneView is not supported",{view:e})),this._set("view",e)}},{key:"createBookmark",value:(i=Object(n.a)(f.a.mark((function e(t){var r,n,i,a,o,s,c,u,l,p;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.view,n=this.defaultCreateOptions,r){e.next=4;break}return i=new M.a("create-bookmark:invalid-view","Cannot create a bookmark without a view."),e.abrupt("return",(F.error(i),Promise.reject(i)));case 4:if(a=D(D({},n),t),o=a.takeScreenshot,s=a.screenshotSettings,c=a.captureViewpoint,u=a.captureRotation,l=a.captureScale,!o){e.next=16;break}return e.next=13,this._createThumbnail(s);case 13:e.t0=e.sent,e.next=17;break;case 16:e.t0=void 0;case 17:return p=e.t0,e.abrupt("return",new T.a(D(D({},p&&{thumbnail:p}),c&&{viewpoint:this._createViewpoint({view:r,captureScale:l,captureRotation:u})})));case 19:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"editBookmark",value:(r=Object(n.a)(f.a.mark((function e(t,r){var n,i,a,o,s,c,u,l,p,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.view,i=this.defaultEditOptions,n){e.next=4;break}return a=new M.a("edit-bookmark:invalid-view","Cannot edit a bookmark without a view."),e.abrupt("return",(F.error(a),Promise.reject(a)));case 4:if(o=D(D({},i),r),s=o.takeScreenshot,c=o.screenshotSettings,u=o.captureViewpoint,l=o.captureRotation,p=o.captureScale,!s){e.next=16;break}return e.next=13,this._createThumbnail(c);case 13:e.t0=e.sent,e.next=17;break;case 16:e.t0=void 0;case 17:return d=e.t0,e.abrupt("return",(d&&(t.thumbnail=d),u&&(t.viewpoint=this._createViewpoint({view:n,captureScale:p,captureRotation:l})),this.emit("bookmark-edit",{bookmark:t}),t));case 19:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"goTo",value:function(e){var t=this;if(!this.view){var r=new M.a("go-to:invalid-view","Cannot go to a bookmark without a view");return F.error(r),Promise.reject(r)}var n=null==e?void 0:e.viewpoint;if(!n){var i=new M.a("go-to:invalid-bookmark","Cannot go to a bookmark that does not contain a 'viewpoint'.",{bookmark:e});return F.error(i),Promise.reject(i)}this._set("activeBookmark",e);var a={target:n},o=this.callGoTo(a);return this.emit("bookmark-select",{bookmark:e}),o.catch((function(){})).then((function(){return t._set("activeBookmark",null)})),o}},{key:"_createThumbnail",value:(t=Object(n.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.view.takeScreenshot(D(D({},B),t));case 2:return r=e.sent,e.abrupt("return",new w.a({url:r.dataUrl}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_createViewpoint",value:function(e){var t,r,n=e.view,i=e.captureRotation,a=e.captureScale,o=null==(t=n.viewpoint)?void 0:t.clone();return new I.a({targetGeometry:null==(r=n.extent)?void 0:r.clone(),rotation:i&&(null==o?void 0:o.rotation)||0,scale:a&&(null==o?void 0:o.scale)||0})}}]),u}(Object(A.a)(E.a.EventedAccessor));Object(p.a)([Object(O.b)({readOnly:!0})],U.prototype,"activeBookmark",void 0),Object(p.a)([Object(O.b)({type:N})],U.prototype,"bookmarks",null),Object(p.a)([Object(O.b)()],U.prototype,"defaultCreateOptions",null),Object(p.a)([Object(O.b)()],U.prototype,"defaultEditOptions",null),Object(p.a)([Object(O.b)({readOnly:!0})],U.prototype,"state",null),Object(p.a)([Object(O.b)({value:null})],U.prototype,"view",null);var z,q=U=Object(p.a)([Object(j.a)("esri.widgets.Bookmarks.BookmarksViewModel")],U),H=r("0942"),G=r("FYmP"),W=r("7im+");function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var $=z=function(e){Object(s.a)(r,e);var t=J(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).autoCloseMenu=!1,n.iconClass=null,n.items=null,n.label=null,n.open=!1,n.selected=!1,n.selectionEnabled=!1,n.clickFunction=null,n}return Object(o.a)(r,[{key:"castItems",value:function(e){return e?e.map((function(e){return e instanceof z?e:new z(e)})):null}}]),r}(k.a);Object(p.a)([Object(O.b)()],$.prototype,"autoCloseMenu",void 0),Object(p.a)([Object(O.b)()],$.prototype,"iconClass",void 0),Object(p.a)([Object(O.b)()],$.prototype,"items",void 0),Object(p.a)([Object(g.a)("items")],$.prototype,"castItems",null),Object(p.a)([Object(O.b)()],$.prototype,"label",void 0),Object(p.a)([Object(O.b)()],$.prototype,"open",void 0),Object(p.a)([Object(O.b)()],$.prototype,"selected",void 0),Object(p.a)([Object(O.b)()],$.prototype,"selectionEnabled",void 0),Object(p.a)([Object(O.b)()],$.prototype,"clickFunction",void 0);var Z=$=z=Object(p.a)([Object(j.a)("esri.widgets.FeatureTable.Grid.support.ButtonMenuItem")],$);function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var X=function(e){Object(s.a)(r,e);var t=Q(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).items=null,n.open=!1,n}return Object(o.a)(r,[{key:"castItems",value:function(e){return e?e.map((function(e){return e instanceof Z?e:new Z(e)})):null}}]),r}(k.a);Object(p.a)([Object(O.b)()],X.prototype,"items",void 0),Object(p.a)([Object(g.a)("items")],X.prototype,"castItems",null),Object(p.a)([Object(O.b)()],X.prototype,"open",void 0);var K=X=Object(p.a)([Object(j.a)("esri.widgets.FeatureTable.Grid.support.ButtonMenuViewModel")],X),Y=r("xZtp"),ee=r("c+HS"),te=r("mjOD");function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var ne="esri-button-menu",ie="esri-button-menu__content",ae="esri-button-menu__item-wrapper",oe="esri-button-menu__icon",se="esri-button-menu__item",ce="esri-button-menu__item-label",ue="esri-button-menu__item-label-content",le="esri-button-menu__item--selectable",fe="esri-button-menu__item--selected",pe="esri-button-menu__checkbox",de="esri-button-menu__embedded-content-wrapper",he="esri-button-menu__button",be="esri-button-menu__button--selected",ye="esri-icon-menu",ve="esri-widget",me=function(e){Object(s.a)(r,e);var t=re(r);function r(e,n){var i;return Object(a.a)(this,r),(i=t.call(this,e,n))._menuContentNode=null,i._popover=null,i._rootNode=null,i.iconClass=null,i.items=null,i.label=null,i.open=!1,i.viewModel=new K,i._handleOutsideClick=i._handleOutsideClick.bind(Object(H.a)(i)),i}return Object(o.a)(r,[{key:"postInitialize",value:function(){var e=this;this._popover=new Y.a({owner:this,open:!!this.open,placement:Object(ee.h)()?"bottom-start":"bottom-end",renderContentFunction:this.renderMenuContent,anchorElement:this._rootNode}),this.handles.add([Object(v.d)(this,"open",(function(t){return e._popover.set("open",t)}))]),document.addEventListener("click",this._handleOutsideClick)}},{key:"destroy",value:function(){var e;null==(e=this._popover)||e.destroy(),this._popover=null,document.removeEventListener("click",this._handleOutsideClick)}},{key:"_handleOutsideClick",value:function(e){var t,r;if(this.open&&this._rootNode&&this._menuContentNode){var n=e.target;null!=(t=this._menuContentNode)&&t.contains(n)||null!=(r=this._rootNode)&&r.contains(n)||(this.open=!1)}}},{key:"render",value:function(){return Object(te.a)("div",{afterCreate:this._afterRootNodeCreate,bind:this,"data-node-ref":"_rootNode",class:this.classes(ne,ve),key:"menu"},this.renderMenuButton())}},{key:"renderMenuButton",value:function(){var e=this.iconClass,t=this.id,r=this.label,n=this.open,i=this.classes([he,e||ye,n?be:null]);return Object(te.a)("button",{"aria-pressed":n.toString(),"aria-controls":"".concat(t,"-menu"),"aria-expanded":n.toString(),"aria-haspopup":"true","aria-label":r,bind:this,class:i,id:"".concat(t,"-button"),title:r,selected:n,onclick:this._toggleOpen,tabindex:"0",type:"button"})}},{key:"renderMenuContent",value:function(){var e,t=this.id,r=this.open;return Object(te.a)("div",{afterCreate:this._afterMenuContentNodeCreate,bind:this,class:ie,"data-node-ref":"_menuContentNode",key:"esri-button-menu-content",hidden:!r},Object(te.a)("ul",{"aria-labelledby":"".concat(t,"-button"),bind:this,class:ae,id:"".concat(t,"-menu"),role:"menu"},(null==(e=this.items)?void 0:e.length)&&this.renderItems()))}},{key:"renderItems",value:function(){var e,t=this;return null==(e=this.items)?void 0:e.map((function(e,r){return t.renderItem(e,r)}))}},{key:"renderItem",value:function(e,t,r){var n,i=this,a=Object(W.i)(r)?"".concat(this.id,"-menu-item-").concat(t,"-").concat(r):"".concat(this.id,"-menu-item-").concat(t),o="".concat(a,"-label"),s=this.classes(se,e.selectionEnabled?le:null,e.selectionEnabled&&e.selected?fe:null);return Object(te.a)("li",{afterCreate:this._afterMenuItemCreate,bind:this,class:s,"data-item-index":t,"data-item-subIndex":r,for:a,key:a,onkeydown:function(t){return i._handleMenuItemKeydown(t,e)},onclick:function(t){return i._handleMenuItemInteraction(t,e)},role:"menuitem",tabindex:"0"},Object(te.a)("input",{disabled:!0,checked:e.selected,class:pe,id:a,name:a,tabindex:"-1",type:"checkbox"}),Object(te.a)("label",{bind:this,class:this.classes(he,ce),for:a,id:o},Object(te.a)("span",{class:this.classes(oe,e.iconClass),"aria-hidden":"true"}),Object(te.a)("span",{class:ue},e.label)),Object(te.a)("ul",{"aria-labelledby":o,class:de,id:"".concat(this.id,"-submenu"),role:"menu"},null==e||null==(n=e.items)?void 0:n.map((function(e,r){return i.renderItem(e,t,r)}))))}},{key:"_afterRootNodeCreate",value:function(e){var t;this._rootNode=e,null==(t=this._popover)||t.set("anchorElement",(function(){return e}))}},{key:"_handleMenuItemInteraction",value:function(e,t){t.selected=!t.selected,t.open=!(!t.selected||!t.items),t.autoCloseMenu&&this.set("open",!1),t.clickFunction&&t.clickFunction({event:e,item:t}),e.stopPropagation()}},{key:"_handleMenuItemKeydown",value:function(e,t){var r=Object(h.a)(e);Object(ee.f)(r)&&this._handleMenuItemInteraction(e,t),"Escape"===r&&(this.open=!1,e.preventDefault(),e.stopPropagation())}},{key:"_afterMenuContentNodeCreate",value:function(e){this._menuContentNode=e,e.focus()}},{key:"_toggleOpen",value:function(){this.open=!this.open}},{key:"_afterMenuItemCreate",value:function(e){0===e["data-item-index"]&&e.focus()}}]),r}(Object(G.b)(_.a));Object(p.a)([Object(O.b)()],me.prototype,"iconClass",void 0),Object(p.a)([Object(m.a)("viewModel.items")],me.prototype,"items",void 0),Object(p.a)([Object(O.b)()],me.prototype,"label",void 0),Object(p.a)([Object(m.a)("viewModel.open")],me.prototype,"open",void 0),Object(p.a)([Object(O.b)()],me.prototype,"viewModel",void 0);var ge=me=Object(p.a)([Object(j.a)("esri.widgets.FeatureTable.Grid.support.ButtonMenu")],me),Oe=r("foBe"),je=r("XRld"),we=r("Ykki"),_e=r("k5Cm");function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var Pe="data-bookmark-uid",Ie="esri-bookmarks esri-widget--panel",Re="esri-bookmarks__loader-container",Me="esri-bookmarks__loader",Ee="esri-bookmarks__list",Te="esri-bookmarks__list--sortable",Ae="esri-bookmarks__bookmark",Ce="esri-bookmarks__bookmark-button",De="esri-bookmarks__bookmark-image-container",Le="esri-bookmarks__bookmark-edit-button",Fe="esri-bookmarks_bookmark-drag-handle",Ne="esri-bookmarks_bookmark-drag-handle-icon",Be="esri-bookmarks__bookmark-icon",Ve="esri-bookmarks__image",Ue="esri-bookmarks__bookmark-name",ze="esri-bookmarks__bookmark--active",qe="esri-widget__content--empty",He="esri-bookmarks__no-bookmarks-heading",Ge="esri-widget__no-bookmark-icon",We="esri-bookmarks__no-bookmarks-description",Je="esri-bookmarks__adding-bookmark",$e="esri-bookmarks__add-bookmark",Ze="esri-bookmarks__add-bookmark-button",Qe="esri-bookmarks__add-bookmark-icon",Xe="esri-bookmarks__authoring-card",Ke="esri-bookmarks__authoring-container",Ye="esri-bookmarks__authoring-form",et="esri-bookmarks__authoring-label",tt="esri-bookmarks__authoring-actions",rt="esri-bookmarks__authoring-input--invalid",nt="esri-bookmarks__authoring-delete-button",it="esri-bookmarks__authoring-cancel-button",at="esri-widget",ot="esri-widget--disabled",st="esri-button",ct="esri-button--tertiary",ut="esri-input",lt="esri-icon-handle-vertical",ft="esri-icon-plus",pt="esri-icon-edit",dt="esri-icon-handle-horizontal",ht="esri-icon-refresh",bt="esri-icon-link",yt="esri-icon-erase",vt="esri-icon-bookmark",mt="esri-widget__heading",gt="esri-icon-loading-indicator",Ot="esri-rotating",jt={addBookmark:!0,thumbnail:!0},wt=/^https:\/\/.*/i,_t="esri.widgets.Bookmarks",kt=y.a.getLogger(_t),xt=function(e){Object(s.a)(u,e);var t,r,c=Se(u);function u(e,t){var r;return Object(a.a)(this,u),(r=c.call(this,e,t))._handles=new b.a,r._addInputNode=null,r._editInputNode=null,r._urlEditInputNode=null,r._addBookmarkButtonNode=null,r._focusAddBookmarkButton=!1,r._focusEditInputBox=!1,r._focusAddInputBox=!1,r._focusUrlEditInputBox=!1,r._sortable=null,r._sortableNode=null,r._focusSortUid=null,r._selectedSortUid=null,r._sortableSavedItems=null,r._userState=null,r.defaultCreateOptions=null,r.defaultEditOptions=null,r.bookmarks=null,r.disabled=!1,r.editingEnabled=!1,r.headingLevel=2,r.goToOverride=null,r.iconClass=vt,r.label=void 0,r.messages=null,r.messagesCommon=null,r.messagesUnits=null,r.view=null,r.viewModel=new q,r.visibleElements=xe({},jt),r}return Object(o.a)(u,[{key:"initialize",value:function(){var e=this;this.own([Object(v.a)(this,"viewModel.bookmarks",(function(){return e._bookmarksInitialized()})),Object(v.a)(this,"editingEnabled",(function(){return e._toggleSorting()}))])}},{key:"destroy",value:function(){this._destroySortable(),this._handles.destroy(),this._handles=null,this._editMenu.destroy()}},{key:"_editMenuItems",get:function(){var e,t,r=this,n=this.messages,i=this._userState,a=null==i||null==(e=i.editedBookmark)||null==(t=e.thumbnail)?void 0:t.url;return[new Z({label:null==n?void 0:n.menu.refreshThumbnail,iconClass:ht,clickFunction:function(){return r._refreshThumbnail()}}),new Z({label:wt.test(a)?null==n?void 0:n.menu.editImageUrl:null==n?void 0:n.menu.useImageUrl,iconClass:bt,clickFunction:function(){return r._startUseImageUrl()}}),a?new Z({label:null==n?void 0:n.menu.removeThumbnail,iconClass:yt,clickFunction:function(){return r._removeThumbnail()}}):null].filter(Boolean)}},{key:"_editMenu",get:function(){var e=this._editMenuItems,t=this.messages,r=this._get("_editMenu");r&&r.destroy();var n=new ge({iconClass:dt,label:null==t?void 0:t.menu.label});return n.items=e,n}},{key:"bookmarkCreationOptions",get:function(){return Object(d.c)(kt,"bookmarkCreationOptions",{replacement:"defaultCreateOptions",version:"4.18"}),this.viewModel.defaultCreateOptions},set:function(e){Object(d.c)(kt,"bookmarkCreationOptions",{replacement:"defaultCreateOptions",version:"4.18"}),this.viewModel.defaultCreateOptions=e}},{key:"castVisibleElements",value:function(e){return xe(xe({},jt),e)}},{key:"endAddBookmark",value:function(){this._userState=null}},{key:"goTo",value:function(e){return this.viewModel.goTo(e)}},{key:"render",value:function(){var e="loading"===this.viewModel.state?this.renderLoading():this.renderBookmarks();return Object(te.a)("div",{class:this.classes(Ie,at,Object(i.a)({},ot,this.disabled))},e)}},{key:"startAddBookmark",value:function(){this._userState=new P({state:"add"}),this._focusAddInputBox=!0,this.scheduleRender()}},{key:"renderLoading",value:function(){return Object(te.a)("div",{class:Re,key:"loader"},Object(te.a)("div",{class:Me}))}},{key:"renderNoBookmarksContainer",value:function(){var e=this.messages;return Object(te.a)("div",{class:qe,key:"no-bookmarks"},Object(te.a)("span",{"aria-hidden":"true",class:this.classes(Ge,vt)}),Object(te.a)(Oe.a,{level:this.headingLevel,class:this.classes(mt,He)},null==e?void 0:e.noBookmarksHeading),Object(te.a)("p",{class:We},null==e?void 0:e.noBookmarksDescription))}},{key:"renderAddBookmarkLoading",value:function(){var e;return Object(te.a)("div",{key:"adding-bookmark",class:Je},Object(te.a)("span",{"aria-hidden":"true",class:this.classes(gt,Ot)}),null==(e=this.messages)?void 0:e.addingBookmark)}},{key:"renderBookmarkItems",value:function(e){var t=this;if(!e)return null;var r=this._userState,n=this.editingEnabled;return e.map((function(e){return n&&e&&r&&("edit"===r.state||"edit-thumbnail"===r.state)&&r.bookmark===e?"edit-thumbnail"===r.state?t.renderEditingBookmarkUrl(r.editedBookmark):t.renderEditingBookmark(r.editedBookmark):t.renderBookmark(e)})).toArray()}},{key:"renderBookmarksContainer",value:function(e){var t,r=this._userState,n=this.editingEnabled,a="add"===(null==r?void 0:r.state),o=n&&!a?this.renderAddBookmarkButton():null,s=n?a&&r.loading?this.renderAddBookmarkLoading():"add"===(null==r?void 0:r.state)?this.renderAddingBookmark():null:null;return[Object(te.a)("ul",{key:"bookmark-list","aria-label":null==(t=this.messages)?void 0:t.widgetLabel,class:this.classes(Ee,Object(i.a)({},Te,this.editingEnabled)),afterCreate:this._sortNodeCreated,afterRemoved:this._destroySortable,"data-node-ref":"_sortableNode",bind:this},this.renderBookmarkItems(e)),o,s]}},{key:"renderAddBookmarkButton",value:function(){var e;return this.visibleElements.addBookmark?Object(te.a)("div",{key:"add-bookmark-item",class:$e},Object(te.a)("button",{class:this.classes(st,ct,Ze),onclick:this.startAddBookmark,afterCreate:this._storeAddBookmarkButton,afterUpdate:this._storeAddBookmarkButton,"data-node-ref":"_addBookmarkButtonNode",bind:this,type:"button"},Object(te.a)("span",{"aria-hidden":"true",class:this.classes(Qe,ft)}),null==(e=this.messages)?void 0:e.addBookmark)):null}},{key:"renderBookmarks",value:function(){var e=this.viewModel.bookmarks,t=e&&e.filter(Boolean),r=t&&t.length,n=r||this.editingEnabled?this.renderBookmarksContainer(t):null;return[r?null:this.renderNoBookmarksContainer(),n]}},{key:"renderEditContainer",value:function(e){var t=this.messagesCommon;return Object(te.a)("div",{key:"edit-container"},Object(te.a)("button",{title:null==t?void 0:t.edit,"aria-label":null==t?void 0:t.edit,"data-bookmark":e,onclick:this._showEditBookmarkForm,bind:this,class:Le,type:"button"},Object(te.a)("span",{"aria-hidden":"true",class:pt})))}},{key:"renderDragHandle",value:function(e){var t=this.messagesCommon,r=Object(i.a)({},Pe,e.uid);return Object(te.a)("div",xe({role:"button",tabIndex:0,key:"drag-handle",bind:this,class:Fe,onkeydown:this._dragHandleKeydown,afterCreate:this._focusDragHandle,afterUpdate:this._focusDragHandle,onblur:this._dragHandleBlur,"aria-pressed":this._selectedSortUid===e.uid?"true":"false","aria-label":null==t?void 0:t.dragHandleLabel,title:null==t?void 0:t.dragHandleTitle},r),Object(te.a)("span",{"aria-hidden":"true",class:this.classes(Ne,lt)}))}},{key:"renderBookmarkImageIcon",value:function(){return Object(te.a)("span",{"aria-hidden":"true",class:this.classes(Be,vt)})}},{key:"renderBookmarkImage",value:function(e){var t=this.visibleElements,r=e.thumbnail,n=r&&r.url||"";return t.thumbnail&&n?Object(te.a)("img",{src:n,alt:"",class:Ve}):null}},{key:"renderBookmarkButton",value:function(e){var t=this.messagesCommon,r=e.name||(null==t?void 0:t.untitled),n=Object(te.a)("div",{class:De},this.renderBookmarkImage(e)||this.renderBookmarkImageIcon());return Object(te.a)("button",{key:"bookmark-button",class:Ce,bind:this,"data-bookmark":e,onclick:this._goToBookmark,type:"button"},n,Object(te.a)("span",{class:Ue},r))}},{key:"renderBookmark",value:function(e){var t=this.viewModel.activeBookmark,r=Object(i.a)({},ze,t===e),n=this.editingEnabled?this.renderEditContainer(e):null,a=Object(i.a)({},Pe,e.uid),o=this.editingEnabled?this.renderDragHandle(e):null;return Object(te.a)("li",xe({key:e,class:this.classes(Ae,r)},a),o,this.renderBookmarkButton(e),n)}},{key:"renderEditingBookmarkName",value:function(e){var t=this.messages,r="name-required"===this._userState.validationState;return Object(te.a)("label",{class:et},null==t?void 0:t.title,r?Object(te.a)("strong",null,null==t?void 0:t.invalidTitle):null,Object(te.a)("input",{required:!0,bind:this,class:this.classes(ut,r?rt:null),type:"text",value:e.name,afterCreate:this._storeEditInput,afterUpdate:this._focusEditInput,"data-bookmark":e,"data-node-ref":"_editInputNode",placeholder:null==t?void 0:t.titlePlaceholder}))}},{key:"renderEditingBookmarkUrlActions",value:function(){var e=this.messagesCommon;return Object(te.a)("div",{class:tt},Object(te.a)("input",{type:"button",value:null==e?void 0:e.back,class:this.classes(st,ct),onclick:this._closeUrlEditBookmarkForm,bind:this}),Object(te.a)("input",{class:st,type:"submit",value:null==e?void 0:e.add}))}},{key:"renderEditingBookmarkActions",value:function(){var e=this.messagesCommon,t=this._userState.bookmark;return Object(te.a)("div",{class:tt},Object(te.a)("input",{type:"button",value:null==e?void 0:e.delete,class:this.classes(st,ct,nt),"data-bookmark":t,onclick:this._deleteBookmark,bind:this}),Object(te.a)("input",{type:"button",value:null==e?void 0:e.cancel,class:this.classes(st,ct),onclick:this._closeEditBookmarkForm,bind:this}),Object(te.a)("input",{class:st,type:"submit",value:null==e?void 0:e.save}))}},{key:"renderEditingBookmarkUrlInput",value:function(e){var t,r=this.messages,n=this._userState,i=null==(t=e.thumbnail)?void 0:t.url,a=wt.test(i)?i:null,o="absolute-url-required"===n.validationState;return Object(te.a)("label",{class:et},o?Object(te.a)("strong",null,null==r?void 0:r.invalidImageUrl):null,Object(te.a)("input",{required:!0,bind:this,class:this.classes(ut,o?rt:null),type:"text",value:a,afterCreate:this._storeUrlEditInput,afterUpdate:this._focusUrlEditInput,"data-bookmark":e,"data-node-ref":"_urlEditInputNode",title:null==r?void 0:r.imageUrlTooltip,placeholder:null==r?void 0:r.imageUrlPlaceholder}))}},{key:"renderEditingBookmarkUrl",value:function(e){var t=Object(i.a)({},Pe,e.uid);return Object(te.a)("li",xe({key:"edit-bookmark-url-form",class:Xe},t),Object(te.a)("form",{class:Ye,onsubmit:this._editBookmarkUrlSubmit,bind:this},this.renderEditingBookmarkUrlInput(e),this.renderEditingBookmarkUrlActions()))}},{key:"renderEditingBookmark",value:function(e){var t=Object(i.a)({},Pe,e.uid);return Object(te.a)("li",xe({key:"edit-bookmark-form",class:Xe},t),Object(te.a)("form",{class:Ye,onsubmit:this._editBookmarkSubmit,bind:this},Object(te.a)("div",{class:Ke},Object(te.a)("div",{class:De},this.renderBookmarkImage(e),this._editMenu.render()),this.renderEditingBookmarkName(e)),this.renderEditingBookmarkActions()))}},{key:"renderAddingBookmarkName",value:function(){var e=this._userState,t=this.messages,r="name-required"===e.validationState;return Object(te.a)("label",{class:et},null==t?void 0:t.title,r?Object(te.a)("strong",null,null==t?void 0:t.invalidTitle):null,Object(te.a)("input",{required:!0,bind:this,class:this.classes(ut,r?rt:null),type:"text",afterCreate:this._storeAddInput,afterUpdate:this._focusAddInput,"data-node-ref":"_addInputNode",value:"",placeholder:null==t?void 0:t.titlePlaceholder}))}},{key:"renderAddingBookmarkActions",value:function(){var e=this.messagesCommon;return Object(te.a)("div",{class:this.classes(tt)},Object(te.a)("input",{type:"button",value:null==e?void 0:e.cancel,class:this.classes(st,ct,it),onclick:this._endAddBookmark.bind(this),bind:this}),Object(te.a)("input",{class:st,type:"submit",value:null==e?void 0:e.add}))}},{key:"renderAddingBookmark",value:function(){return Object(te.a)("div",{key:"add-bookmark-form",class:Xe},Object(te.a)("form",{class:Ye,onsubmit:this._addBookmarkSubmit,bind:this},this.renderAddingBookmarkName(),this.renderAddingBookmarkActions()))}},{key:"_dragHandleBlur",value:function(){this._selectedSortUid=null,this.scheduleRender()}},{key:"_dragHandleKeydown",value:function(e){var t=this._sortableSavedItems,r=Object(h.a)(e);if(-1!==["ArrowDown","ArrowUp","Escape","Tab"," ","Enter"].indexOf(r)){var n=this._sortable,i=this._selectedSortUid,a=n.toArray(),o=e.target.getAttribute(Pe),s=a.indexOf(o);if(Object(ee.f)(r)){var c=i&&i===o;return this._selectedSortUid=c?null:o,this._sortableSavedItems=c?null:this._sortable.toArray(),void this.scheduleRender()}if("Tab"===r)return this._selectedSortUid=null,void this.scheduleRender();if("Escape"===r&&t)return e.stopPropagation(),this._selectedSortUid=null,this._updateSortItems(t,n,o),void this.scheduleRender();if(-1!==s&&i){var u="ArrowUp"===r?s-1:s+1;u>=a.length||u<=-1||(function(e,t,r){e.splice(r,0,e.splice(t,1)[0])}(a,s,u),this._updateSortItems(a,n,o))}}}},{key:"_updateSortItems",value:function(e,t,r){t.sort(e),this._sortBookmarks(t),this._focusSortUid=r,this._selectedSortUid=r}},{key:"_focusDragHandle",value:function(e){var t=this._focusSortUid;e&&t&&e.getAttribute(Pe)===t&&(e.focus(),this._focusSortUid=null)}},{key:"_toggleSorting",value:function(){var e=this,t=this._sortable,r=this._sortableNode,n=this.editingEnabled;if(r)if(t)t.option("disabled",!n);else{var i=_e.a.create(r,{dataIdAttr:Pe,handle:".".concat(Fe),group:"bookmarks",disabled:!n,onSort:function(){return e._sortBookmarks(i)}});this._sortable=i}}},{key:"_sortNodeCreated",value:function(e){this._sortableNode=e,this._toggleSorting()}},{key:"_sortBookmarks",value:function(e){var t=this.viewModel.bookmarks;if(t){var r=e.toArray();t.sort((function(e,t){var n=r.indexOf(e.uid),i=r.indexOf(t.uid);return n>i?1:n<i?-1:0}))}}},{key:"_destroySortable",value:function(){var e=this._sortable;e&&e.destroy(),this._sortable=null}},{key:"_endAddBookmark",value:function(){this._focusAddBookmarkButton=!0,this.endAddBookmark()}},{key:"_bookmarksInitialized",value:function(){var e=this,t="bookmarks-init",r=this._handles;r.remove(t),r.add(Object(v.b)(this,"viewModel.bookmarks","change",(function(){return e._bookmarksChanged()})),t)}},{key:"_bookmarksChanged",value:function(){var e=this,t="bookmarks-change",r=this.viewModel.bookmarks,n=this._handles;n.remove(t);var i=r.map((function(t){return Object(v.d)(t,["active","name","thumbnail.url"],(function(){return e.scheduleRender()}))}));n.add(i,t),this.scheduleRender()}},{key:"_showEditBookmarkForm",value:function(e){var t=e.currentTarget["data-bookmark"];this._focusEditInputBox=!0,this._userState=new P({bookmark:t,state:"edit"}),this.viewModel.goTo(t),this.scheduleRender()}},{key:"_closeUrlEditBookmarkForm",value:function(){this._focusEditInputBox=!0,this._userState.state="edit"}},{key:"_closeEditBookmarkForm",value:function(){this._userState=null}},{key:"_addBookmarkSubmit",value:function(e){var t=this;e.preventDefault();var r=this._addInputNode,n=this._userState,i=r&&r.value.trim();i?(n.loading=!0,this.viewModel.createBookmark().then((function(e){e.name=i,t.viewModel.bookmarks.add(e),t._endAddBookmark()}))):n.validationState="name-required"}},{key:"_editBookmarkAndClose",value:(r=Object(n.a)(f.a.mark((function e(t,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.viewModel.editBookmark(t,r);case 2:this._closeEditBookmarkForm();case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"_editBookmarkSubmit",value:function(e){e.preventDefault();var t=this._editInputNode,r=this._userState,n=t&&t.value.trim();n?(r.bookmark.name=n,r.bookmark.thumbnail=r.editedBookmark.thumbnail,this._editBookmarkAndClose(r.bookmark,{takeScreenshot:!1})):r.validationState="name-required"}},{key:"_storeAddBookmarkButton",value:function(e){this._addBookmarkButtonNode=e,this._focusAddBookmark()}},{key:"_storeEditInput",value:function(e){this._editInputNode=e,this._focusEditInput()}},{key:"_storeAddInput",value:function(e){this._addInputNode=e,this._focusAddInput()}},{key:"_storeUrlEditInput",value:function(e){this._urlEditInputNode=e,this._focusUrlEditInput()}},{key:"_focusUrlEditInput",value:function(){this._urlEditInputNode&&this._focusUrlEditInputBox&&(this._focusUrlEditInputBox=!1,this._urlEditInputNode.focus())}},{key:"_focusAddInput",value:function(){this._addInputNode&&this._focusAddInputBox&&(this._focusAddInputBox=!1,this._addInputNode.focus())}},{key:"_focusAddBookmark",value:function(){this._addBookmarkButtonNode&&this._focusAddBookmarkButton&&(this._focusAddBookmarkButton=!1,this._addBookmarkButtonNode.focus())}},{key:"_focusEditInput",value:function(){this._editInputNode&&this._focusEditInputBox&&(this._focusEditInputBox=!1,this._editInputNode.focus())}},{key:"_deleteBookmark",value:function(e){var t=e.currentTarget["data-bookmark"];this.viewModel.bookmarks.remove(t)}},{key:"_goToBookmark",value:function(e){var t=e.currentTarget["data-bookmark"];this.endAddBookmark(),this._closeEditBookmarkForm(),this.viewModel.goTo(t)}},{key:"_refreshThumbnail",value:(t=Object(n.a)(f.a.mark((function e(){var t,r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._userState,r=this._editMenu,n=this.viewModel,t.validationState=void 0,e.next=4,n.editBookmark(this._userState.editedBookmark,{takeScreenshot:!0,captureViewpoint:!1,captureRotation:!1,captureScale:!1});case 4:r.open=!1,this._focusEditInputBox=!0,this.scheduleRender();case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_removeThumbnail",value:function(){var e=this._userState,t=this._editMenu;e.editedBookmark.thumbnail=null,e.validationState=void 0,t.open=!1,this._focusEditInputBox=!0,this.scheduleRender()}},{key:"_startUseImageUrl",value:function(){this._userState.state="edit-thumbnail",this._editMenu.open=!1,this._focusUrlEditInputBox=!0,this.scheduleRender()}},{key:"_editBookmarkUrlSubmit",value:function(e){e.preventDefault();var t=this._urlEditInputNode,r=this._userState,n=t.value;wt.test(n)?(n&&(r.editedBookmark.thumbnail=new w.a({url:n})),this._closeUrlEditBookmarkForm()):r.validationState="absolute-url-required"}}]),u}(_.a);Object(p.a)([Object(O.b)({type:P})],xt.prototype,"_userState",void 0),Object(p.a)([Object(O.b)({readOnly:!0})],xt.prototype,"_editMenuItems",null),Object(p.a)([Object(O.b)({readOnly:!0})],xt.prototype,"_editMenu",null),Object(p.a)([Object(O.b)()],xt.prototype,"bookmarkCreationOptions",null),Object(p.a)([Object(m.a)("viewModel.defaultCreateOptions")],xt.prototype,"defaultCreateOptions",void 0),Object(p.a)([Object(m.a)("viewModel.defaultEditOptions")],xt.prototype,"defaultEditOptions",void 0),Object(p.a)([Object(m.a)("viewModel.bookmarks")],xt.prototype,"bookmarks",void 0),Object(p.a)([Object(O.b)()],xt.prototype,"disabled",void 0),Object(p.a)([Object(O.b)()],xt.prototype,"editingEnabled",void 0),Object(p.a)([Object(O.b)()],xt.prototype,"headingLevel",void 0),Object(p.a)([Object(m.a)("viewModel.goToOverride")],xt.prototype,"goToOverride",void 0),Object(p.a)([Object(O.b)()],xt.prototype,"iconClass",void 0),Object(p.a)([Object(O.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],xt.prototype,"label",void 0),Object(p.a)([Object(O.b)()],xt.prototype,"localeStrings",void 0),Object(p.a)([Object(O.b)(),Object(je.a)("esri/widgets/Bookmarks/t9n/Bookmarks")],xt.prototype,"messages",void 0),Object(p.a)([Object(O.b)(),Object(je.a)("esri/t9n/common")],xt.prototype,"messagesCommon",void 0),Object(p.a)([Object(O.b)(),Object(je.a)("esri/core/t9n/Units")],xt.prototype,"messagesUnits",void 0),Object(p.a)([Object(m.a)("viewModel.view")],xt.prototype,"view",void 0),Object(p.a)([Object(O.b)({type:q}),Object(we.a)(["select-bookmark","bookmark-edit","bookmark-select"])],xt.prototype,"viewModel",void 0),Object(p.a)([Object(O.b)()],xt.prototype,"visibleElements",void 0),Object(p.a)([Object(g.a)("visibleElements")],xt.prototype,"castVisibleElements",null),Object(p.a)([Object(O.b)()],xt.prototype,"endAddBookmark",null),Object(p.a)([Object(O.b)()],xt.prototype,"startAddBookmark",null);var St=xt=Object(p.a)([Object(j.a)(_t)],xt);t.default=St},VNQV:function(e,t,r){var n=r("LSEb")(r("s3UK"),"DataView");e.exports=n},VSW8:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},VUGK:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("JhAV"),d=r("0n+b");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var b=n=function(e){Object(o.a)(r,e);var t=h(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).linkURL=null,n.sourceURL=null,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({linkURL:this.linkURL,sourceURL:this.sourceURL})}}]),r}(d.a);Object(u.a)([Object(l.b)({type:String,json:{write:!0}})],b.prototype,"linkURL",void 0),Object(u.a)([Object(l.b)({type:String,json:{write:!0}})],b.prototype,"sourceURL",void 0);var y,v=b=n=Object(u.a)([Object(f.a)("esri.popup.content.support.ImageMediaInfoValue")],b);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var g=y=function(e){Object(o.a)(r,e);var t=m(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).refreshInterval=null,n.type="image",n.value=null,n}return Object(a.a)(r,[{key:"clone",value:function(){return new y({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}}]),r}(p.a);Object(u.a)([Object(l.b)({type:Number,json:{write:!0}})],g.prototype,"refreshInterval",void 0),Object(u.a)([Object(l.b)({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],g.prototype,"type",void 0),Object(u.a)([Object(l.b)({type:v,json:{write:!0}})],g.prototype,"value",void 0);var O=g=y=Object(u.a)([Object(f.a)("esri.popup.content.ImageMediaInfo")],g);t.a=O},VVQW:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0n+b"),f=r("xAIp"),p=(r("J4Pc"),r("wckI")),d=(r("TM+E"),r("iaHD"));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var b={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}},y=n=function(e){Object(o.a)(r,e);var t=h(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).contentType=null,n.exifInfo=null,n.id=null,n.globalId=null,n.keywords=null,n.name=null,n.parentGlobalId=null,n.parentObjectId=null,n.size=null,n.url=null,n}return Object(a.a)(r,[{key:"orientationInfo",get:function(){var e=function(e){var t=e.exifInfo,r=e.exifName,n=e.tagName;if(!t||!r||!n)return null;var i=t.find((function(e){return e.name===r}));return i?function(e){var t=e.tagName,r=e.tags;if(!r||!t)return null;var n=r.find((function(e){return e.name===t}));return n&&n.value||null}({tagName:n,tags:i.tags}):null}({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:this.exifInfo});return b[e]||null}},{key:"clone",value:function(){return new n({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}}]),r}(l.a);Object(u.a)([Object(f.b)({type:String})],y.prototype,"contentType",void 0),Object(u.a)([Object(f.b)()],y.prototype,"exifInfo",void 0),Object(u.a)([Object(f.b)({readOnly:!0})],y.prototype,"orientationInfo",null),Object(u.a)([Object(f.b)({type:p.a})],y.prototype,"id",void 0),Object(u.a)([Object(f.b)({type:String})],y.prototype,"globalId",void 0),Object(u.a)([Object(f.b)({type:String})],y.prototype,"keywords",void 0),Object(u.a)([Object(f.b)({type:String})],y.prototype,"name",void 0),Object(u.a)([Object(f.b)({json:{read:!1}})],y.prototype,"parentGlobalId",void 0),Object(u.a)([Object(f.b)({json:{read:!1}})],y.prototype,"parentObjectId",void 0),Object(u.a)([Object(f.b)({type:p.a})],y.prototype,"size",void 0),Object(u.a)([Object(f.b)({json:{read:!1}})],y.prototype,"url",void 0);var v=y=n=Object(u.a)([Object(d.a)("esri.layers.support.AttachmentInfo")],y);t.a=v},VY7S:function(e,t,r){var n=r("WRuO"),i=r("COrk");e.exports=function(e,t,r,a){var o=r.length,s=o,c=!a;if(null==e)return!s;for(e=Object(e);o--;){var u=r[o];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var l=(u=r[o])[0],f=e[l],p=u[1];if(c&&u[2]){if(void 0===f&&!(l in e))return!1}else{var d=new n;if(a)var h=a(f,p,l,e,t,d);if(!(void 0===h?i(p,f,3,a,d):h))return!1}}return!0}},VZ8p:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("0n+b"),l=r("6J1V"),f=r("xAIp"),p=(r("J4Pc"),r("gljZ")),d=(r("TM+E"),r("mp5+")),h=r("iaHD"),b=r("jr4m"),y=r("wckI"),v=r("OTJA"),m=(r("KcHx"),r("4vgF"));var g=function(){function e(t,r){Object(n.a)(this,e),this.min=t,this.max=r,this.range=r-t}return Object(i.a)(e,[{key:"ndiff",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.ceil((e-t)/this.range)*this.range+t}},{key:"_normalize",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return(r-=n)<e?r+=this.ndiff(e-r):r>t&&(r-=this.ndiff(r-t)),i&&r===t&&(r=e),r+n}},{key:"normalize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._normalize(this.min,this.max,e,t,r)}},{key:"clamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(l.e)(e-t,this.min,this.max)+t}},{key:"monotonic",value:function(e,t,r){return e<t?t:t+this.ndiff(e-t,r)}},{key:"minimalMonotonic",value:function(e,t,r){return this._normalize(e,e+this.range,t,r)}},{key:"center",value:function(e,t,r){return t=this.monotonic(e,t,r),this.normalize((e+t)/2,r)}},{key:"diff",value:function(e,t,r){return this.monotonic(e,t,r)-e}},{key:"shortestSignedDiff",value:function(e,t){e=this.normalize(e);var r=(t=this.normalize(t))-e,n=t<e?this.minimalMonotonic(e,t)-e:t-this.minimalMonotonic(t,e);return Math.abs(r)<Math.abs(n)?r:n}},{key:"contains",value:function(e,t,r){return t=this.minimalMonotonic(e,t),(r=this.minimalMonotonic(e,r))>e&&r<t}}]),e}();Object(m.e)(),Object(m.e)();function O(e){for(var t in e){var r=e[t];r instanceof Function&&(e[t]=r.bind(e))}return e}O(new g(0,2*Math.PI)),O(new g(-Math.PI,Math.PI));var j,w=O(new g(0,360));Object(m.e)(),Object(m.e)(),Object(m.e)();function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var k=j=function(e){Object(a.a)(r,e);var t=_(r);function r(){var e;Object(n.a)(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).position=new v.a([0,0,0]),e.heading=0,e.tilt=0,e.fov=55,e}return Object(i.a)(r,[{key:"normalizeCtorArgs",value:function(e,t,r,n){if(e&&"object"==typeof e&&("x"in e||Array.isArray(e))){var i={position:e};return null!=t&&(i.heading=t),null!=r&&(i.tilt=r),null!=n&&(i.fov=n),i}return e}},{key:"writePosition",value:function(e,t,r,n){var i=e.clone();i.x=Object(y.i)(e.x||0),i.y=Object(y.i)(e.y||0),i.z=e.hasZ?Object(y.i)(e.z||0):e.z,t[r]=i.write(null,n)}},{key:"readPosition",value:function(e,t){var r=new v.a;return r.read(e,t),r.x=Object(y.i)(r.x||0),r.y=Object(y.i)(r.y||0),r.z=r.hasZ?Object(y.i)(r.z||0):r.z,r}},{key:"equals",value:function(e){return!!e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)}},{key:"clone",value:function(){return new j({position:this.position.clone(),heading:this.heading,tilt:this.tilt,fov:this.fov})}}]),r}(u.a);Object(c.a)([Object(f.b)({type:v.a,json:{write:{isRequired:!0}}})],k.prototype,"position",void 0),Object(c.a)([Object(b.a)("position")],k.prototype,"writePosition",null),Object(c.a)([Object(d.a)("position")],k.prototype,"readPosition",null),Object(c.a)([Object(f.b)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Object(p.a)((function(e){return w.normalize(Object(y.i)(e))}))],k.prototype,"heading",void 0),Object(c.a)([Object(f.b)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Object(p.a)((function(e){return Object(l.e)(Object(y.i)(e),-180,180)}))],k.prototype,"tilt",void 0),Object(c.a)([Object(f.b)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],k.prototype,"fov",void 0);var x,S=k=j=Object(c.a)([Object(h.a)("esri.Camera")],k),P=r("ZTBZ"),I=r("7im+"),R=r("aic5");function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var E=x=function(e){Object(a.a)(r,e);var t=M(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).rotation=0,i.scale=0,i.targetGeometry=null,i.camera=null,i}return Object(i.a)(r,[{key:"castRotation",value:function(e){return(e%=360)<0&&(e+=360),e}},{key:"clone",value:function(){return new x({rotation:this.rotation,scale:this.scale,targetGeometry:Object(I.i)(this.targetGeometry)?this.targetGeometry.clone():null,camera:Object(I.i)(this.camera)?this.camera.clone():null})}}]),r}(u.a);function T(){return{enabled:!this.camera}}Object(c.a)([Object(f.b)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:T}}}}})],E.prototype,"rotation",void 0),Object(c.a)([Object(p.a)("rotation")],E.prototype,"castRotation",null),Object(c.a)([Object(f.b)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:T}}}}})],E.prototype,"scale",void 0),Object(c.a)([Object(f.b)({types:P.a,json:{read:R.a,write:!0,origins:{"web-scene":{read:R.a,write:{overridePolicy:T}}}}})],E.prototype,"targetGeometry",void 0),Object(c.a)([Object(f.b)({type:S,json:{write:!0}})],E.prototype,"camera",void 0);var A=E=x=Object(c.a)([Object(h.a)("esri.Viewpoint")],E);t.a=A},VZJX:function(e,t,r){var n=r("cm7J");e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},VbZR:function(e,t){e.exports=function(e){return e!=e}},VcRG:function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},Vd3i:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("W3vo"),i=r("c0EN"),a=r("VUGK"),o=r("4GoY"),s=r("ruIw"),c={base:r("JhAV").a,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":n.a,"column-chart":i.a,"line-chart":o.a,"pie-chart":s.a,image:a.a}}},Viq4:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0n+b"),f=r("xAIp"),p=(r("J4Pc"),r("wckI")),d=(r("TM+E"),r("iaHD"));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var b=n=function(e){Object(o.a)(r,e);var t=h(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).level=0,n.levelValue=null,n.resolution=0,n.scale=0,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})}}]),r}(l.a);Object(u.a)([Object(f.b)({type:p.a,json:{write:!0}})],b.prototype,"level",void 0),Object(u.a)([Object(f.b)({type:String,json:{write:!0}})],b.prototype,"levelValue",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:!0}})],b.prototype,"resolution",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:!0}})],b.prototype,"scale",void 0);var y=b=n=Object(u.a)([Object(d.a)("esri.layers.support.LOD")],b);t.a=y},"Vs6/":function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return d}));var n,i,a,o,s,c=r("8jRW"),u=null!=(n=null==(i=c.a.esriConfig)?void 0:i.locale)?n:null==(a=c.a.dojoConfig)?void 0:a.locale;function l(){var e,t;return null!=(e=null!=u?u:null==(t=c.a.navigator)?void 0:t.language)?e:"en"}function f(){return void 0===s&&(s=l()),s}var p=[];function d(e){return p.push(e),{remove:function(){p.splice(p.indexOf(e),1)}}}var h=[];function b(e){return h.push(e),{remove:function(){p.splice(h.indexOf(e),1)}}}function y(){var e,t=null!=(e=o)?e:l();s!==t&&(s=t,[].concat(h).forEach((function(e){e.call(null,t)})),[].concat(p).forEach((function(e){e.call(null,t)})))}null==c.a.addEventListener||c.a.addEventListener("languagechange",y)},Vujp:function(e,t,r){var n=r("6iN7"),i=r("lgYy"),a=r("SyCk");e.exports=function(e){return a(e)?n(e,!0):i(e)}},VveD:function(e,t,r){var n=r("fRAL"),i=r("Sq4h"),a=r("s3UK");e.exports=function(e,t,r,o){var s=1&t,c=i(e);return function t(){for(var i=-1,u=arguments.length,l=-1,f=o.length,p=Array(f+u),d=this&&this!==a&&this instanceof t?c:e;++l<f;)p[l]=o[l];for(;u--;)p[l++]=arguments[++i];return n(d,s?r:this,p)}}},W2UA:function(e,t,r){var n=r("gDYM"),i=r("fT8P"),a=r("N1hr");e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},W3vo:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("yPX3"),d=r("iVOX");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var b=n=function(e){Object(o.a)(r,e);var t=h(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="bar-chart",n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),r}(p.a);Object(u.a)([Object(l.b)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:d.a.write}})],b.prototype,"type",void 0);var y=b=n=Object(u.a)([Object(f.a)("esri.popup.content.BarChartMediaInfo")],b);t.a=y},W9fh:function(e,t,r){var n=r("fT8P");e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},WHDv:function(e,t,r){"use strict";var n=r("tM9Q"),i=r("aD51");"undefined"!=typeof IBaseMapGalleryWidget&&IBaseMapGalleryWidget&&IBaseMapGalleryWidget===Object(IBaseMapGalleryWidget)&&Object.isExtensible(IBaseMapGalleryWidget)&&!IBaseMapGalleryWidget.hasOwnProperty("__filemeta")&&Object.defineProperty(IBaseMapGalleryWidget,"__filemeta",{configurable:!0,value:{name:"IBaseMapGalleryWidget",filename:"src/widgets/BasemapGallery.tsx"}});var a=function(e){return Object(i.c)(n.BasemapGallery,e)};t.a=a,void 0!==a&&a&&a===Object(a)&&Object.isExtensible(a)&&!a.hasOwnProperty("__filemeta")&&Object.defineProperty(a,"__filemeta",{configurable:!0,value:{name:"BasemapGalleryy",filename:"src/widgets/BasemapGallery.tsx"}})},WI9V:function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,r(t,n)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},"WMT/":function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},WRuO:function(e,t,r){var n=r("RW/s"),i=r("e1Ej"),a=r("zEvu"),o=r("Chmn"),s=r("AJMQ"),c=r("kCQp");function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=s,u.prototype.set=c,e.exports=u},WYPT:function(e,t,r){var n=r("JpX9");function i(e,t,r){var a=n(e,8,void 0,void 0,void 0,void 0,void 0,t=r?void 0:t);return a.placeholder=i.placeholder,a}i.placeholder={},e.exports=i},WYis:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("GH+e"),o=r("6J1V"),s=r("7im+"),c=r("wckI");function u(e){return Object(o.e)(Object(c.e)(e),0,255)}function l(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}var f=function(){function e(t){Object(n.a)(this,e),this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}return Object(i.a)(e,[{key:"isBright",get:function(){return.299*this.r+.587*this.g+.114*this.b>=127}},{key:"setColor",value:function(t){if("string"==typeof t)e.fromString(t,this);else if(Array.isArray(t))e.fromArray(t,this);else{var r,n,i,a;this._set(null!=(r=t.r)?r:0,null!=(n=t.g)?n:0,null!=(i=t.b)?i:0,null!=(a=t.a)?a:1),t instanceof e||this._sanitize()}return this}},{key:"toRgb",value:function(){return[this.r,this.g,this.b]}},{key:"toRgba",value:function(){return[this.r,this.g,this.b,this.a]}},{key:"toHex",value:function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return"#".concat(e.length<2?"0"+e:e).concat(t.length<2?"0"+t:t).concat(r.length<2?"0"+r:r)}},{key:"toCss",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.r+", "+this.g+", "+this.b;return e?"rgba(".concat(t,", ").concat(this.a,")"):"rgb(".concat(t,")")}},{key:"toString",value:function(){return this.toCss(!0)}},{key:"toJSON",value:function(){return this.toArray()}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=u(this.r),r=u(this.g),n=u(this.b);return 0===e||1!==this.a?[t,r,n,u(255*this.a)]:[t,r,n]}},{key:"clone",value:function(){return new e(this.toRgba())}},{key:"hash",value:function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}},{key:"_sanitize",value:function(){return this.r=Math.round(l(this.r,0,255)),this.g=Math.round(l(this.g,0,255)),this.b=Math.round(l(this.b,0,255)),this.a=l(this.a,0,1),this}},{key:"_set",value:function(e,t,r,n){this.r=e,this.g=t,this.b=r,this.a=n}}],[{key:"blendColors",value:function(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new e;return i.r=Math.round(t.r+(r.r-t.r)*n),i.g=Math.round(t.g+(r.g-t.g)*n),i.b=Math.round(t.b+(r.b-t.b)*n),i.a=t.a+(r.a-t.a)*n,i._sanitize()}},{key:"fromRgb",value:function(t,r){var n=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(n){var i=n[2].split(/\s*,\s*/),o=n[1];if("rgb"===o&&3===i.length||"rgba"===o&&4===i.length){var s=i[0];if("%"===s.charAt(s.length-1)){var c=i.map((function(e){return 2.56*parseFloat(e)}));return 4===i.length&&(c[3]=parseFloat(i[3])),e.fromArray(c,r)}return e.fromArray(i.map((function(e){return parseFloat(e)})),r)}if("hsl"===o&&3===i.length||"hsla"===o&&4===i.length)return e.fromArray(Object(a.d)(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])),r)}return null}},{key:"fromHex",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new e;if(4!==t.length&&7!==t.length||"#"!==t[0])return null;var n=4===t.length?4:8,i=(1<<n)-1,a=Number("0x"+t.substr(1));return isNaN(a)?null:(["b","g","r"].forEach((function(e){var t=a&i;a>>=n,r[e]=4===n?17*t:t})),r.a=1,r)}},{key:"fromArray",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new e;return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}},{key:"fromString",value:function(t,r){var n=Object(a.a)(t);return n&&e.fromArray(n,r)||e.fromRgb(t,r)||e.fromHex(t,r)}},{key:"fromJSON",value:function(t){return t&&new e([t[0],t[1],t[2],t[3]/255])}},{key:"toUnitRGB",value:function(e){return Object(s.i)(e)?[e.r/255,e.g/255,e.b/255]:null}},{key:"toUnitRGBA",value:function(e){return Object(s.i)(e)?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}}]),e}();f.prototype.declaredClass="esri.Color",t.a=f},Wbzz:function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u}));var n=r("ERkP"),i=r.n(n),a=r("SDHo"),o=r.n(a);r.d(t,"a",(function(){return o.a}));r("5LHb"),r("lw3w");var s=r("emEt"),c=(r("aD51"),s.default.enqueue,i.a.createContext({}));var u=function(e){var t;i.a.useContext;var r=i.a.useContext(c);if(isNaN(Number(e)))throw new Error("useStaticQuery was called with a string but expects to be called using `graphql`. Try this:\n\nimport { useStaticQuery, graphql } from 'gatsby';\n\nuseStaticQuery(graphql`"+e+"`);\n");if(null!==(t=r[e])&&void 0!==t&&t.data)return r[e].data;throw new Error("The result of this StaticQuery could not be fetched.\n\nThis is likely a bug in Gatsby and if refreshing the page does not fix it, please open an issue in https://github.com/gatsbyjs/gatsby/issues")}},WcPO:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0n+b"),f=r("xAIp"),p=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var h=n=function(e){Object(o.a)(r,e);var t=d(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).name=null,n.title=null,n.expression=null,n.returnType=null,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}}]),r}(l.a);Object(u.a)([Object(f.b)({type:String,json:{write:!0}})],h.prototype,"name",void 0),Object(u.a)([Object(f.b)({type:String,json:{write:!0}})],h.prototype,"title",void 0),Object(u.a)([Object(f.b)({type:String,json:{write:!0}})],h.prototype,"expression",void 0),Object(u.a)([Object(f.b)({type:["string","number"],json:{write:!0}})],h.prototype,"returnType",void 0);var b=h=n=Object(u.a)([Object(p.a)("esri.popup.ExpressionInfo")],h);t.a=b},WjON:function(e,t,r){var n=r("zcvR");e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},"X/0h":function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},X3Hh:function(e,t,r){var n=r("QDPn"),i=r("iZmY");function a(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}a.prototype=n(i.prototype),a.prototype.constructor=a,e.exports=a},X6u8:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return b})),r.d(t,"f",(function(){return s})),r.d(t,"g",(function(){return c})),r.d(t,"h",(function(){return f})),r.d(t,"i",(function(){return g})),r.d(t,"j",(function(){return y})),r.d(t,"k",(function(){return m}));var n=r("hisu"),i=r("7im+"),a=r("NtCB");function o(e,t,r){if(Object(i.h)(e)&&Object(i.h)(t))return!0;if(Object(i.h)(e)||Object(i.h)(t)||e.length!==t.length)return!1;if(r){for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}function s(e,t,r){return e&&t?r?e.filter((function(e){return t.findIndex((function(t){return r(e,t)}))>-1})):e.filter((function(e){return t.indexOf(e)>-1})):[]}function c(e){return e&&"number"==typeof e.length}var u=!!Array.prototype.fill;function l(e,t){if(u)return new Array(e).fill(t);for(var r=new Array(e),n=0;n<e;n++)r[n]=t;return r}function f(e,t){void 0===t&&(t=e,e=0);for(var r=new Array(t-e),n=e;n<t;n++)r[n-e]=n;return r}function p(e){return e.reduce((function(e,t){return e.concat(t||[])}),[])}var d=function e(){Object(n.a)(this,e),this.last=0},h=new d;function b(e,t,r,n){n=n||h;for(var i=Math.max(0,n.last-10),a=i;a<r;++a)if(e[a]===t)return n.last=a,a;for(var o=Math.min(i,r),s=0;s<o;++s)if(e[s]===t)return n.last=s,s;return-1}function y(e,t,r,n){var i=null==r?e.length:r,a=b(e,t,i,n);if(-1!==a)return e[a]=e[i-1],null==r&&e.pop(),t}var v=new Set;function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(0===n||0===r)return r;v.clear();for(var o=0;o<n;++o)v.add(t[o]);i=i||h;for(var s=Math.max(0,i.last-10),c=s;c<r;++c)if(v.has(e[c])&&(a&&a.push(e[c]),v.delete(e[c]),e[c]=e[r-1],--r,--c,0===v.size||0===r))return v.clear(),r;for(var u=0;u<s;++u)if(v.has(e[u])&&(a&&a.push(e[u]),v.delete(e[u]),e[u]=e[r-1],--r,--u,0===v.size||0===r))return v.clear(),r;return v.clear(),r}new a.a;function g(e,t){var r=e.indexOf(t);return-1!==r?(e.splice(r,1),t):null}},X9uN:function(e,t,r){"use strict";r.d(t,"a",(function(){return _}));var n=r("hisu"),i=r("yBJb"),a=r("0942"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("kDog"),f=r("LuB+"),p=r("TM+E"),d=r("IH5m"),h=r("xAIp"),b=(r("J4Pc"),r("wckI"),r("iaHD")),y=r("QZQ7");function v(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}function O(e){return e&&"group"===e.type}function j(e,t,r){var n,i;if(e)for(var a=0,o=e.length;a<o;a++){if((n=e.getItemAt(a))[t]===r)return n;if(O(n)&&(i=j(n.layers,t,r)))return i}}var w=p.a.getLogger("esri.support.LayersMixin"),_=function(e){var t=function(e){Object(o.a)(r,e);var t=g(r);function r(){var e;Object(n.a)(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];(e=t.call.apply(t,[this].concat(o))).layers=new l.a;var c=function(e){e.parent&&"remove"in e.parent&&e.parent.remove(e)},u=function(t){t.parent=Object(a.a)(e),e.layerAdded(t),"elevation"!==t.type&&"base-elevation"!==t.type||w.error("Layer 'title:".concat(t.title,", id:").concat(t.id,"' of type '").concat(t.type,"' is not supported as an operational layer and will therefore be ignored."))},f=function(t){t.parent=null,e.layerRemoved(t)};return e.layers.on("before-add",(function(e){return c(e.item)})),e.layers.on("after-add",(function(e){return u(e.item)})),e.layers.on("after-remove",(function(e){return f(e.item)})),e}return Object(i.a)(r,[{key:"destroy",value:function(){var e,t=v(this.layers.removeAll());try{for(t.s();!(e=t.n()).done;){var r=e.value;this.layerRemoved(r),r.destroy()}}catch(n){t.e(n)}finally{t.f()}this.layers.destroy()}},{key:"layers",set:function(e){this._set("layers",Object(f.b)(e,this._get("layers")))}},{key:"add",value:function(e,t){var r=this,n=this.layers;if(t=n.getNextIndex(t),e instanceof y.a){var i=e;i.parent===this?this.reorder(i,t):n.add(i,t)}else Object(d.p)(e)?e.then((function(e){r.destroyed||r.add(e,t)})):w.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}},{key:"addMany",value:function(e,t){var r=this,n=this.layers;t=n.getNextIndex(t),e.slice().forEach((function(e){e.parent!==r?(n.add(e,t),t+=1):r.reorder(e,t)}))}},{key:"findLayerById",value:function(e){return j(this.layers,"id",e)}},{key:"findLayerByUid",value:function(e){return j(this.layers,"uid",e)}},{key:"remove",value:function(e){return this.layers.remove(e)}},{key:"removeMany",value:function(e){return this.layers.removeMany(e)}},{key:"removeAll",value:function(){return this.layers.removeAll()}},{key:"reorder",value:function(e,t){return this.layers.reorder(e,t)}},{key:"layerAdded",value:function(e){}},{key:"layerRemoved",value:function(e){}}]),r}(e);return Object(u.a)([Object(h.b)()],t.prototype,"layers",null),t=Object(u.a)([Object(b.a)("esri.support.LayersMixin")],t)}},XA32:function(e,t){e.exports=function(e){return e.placeholder}},XBS7:function(e,t,r){"use strict";r.r(t);var n=r("ZFoC"),i=r("tM9Q"),a=r("4pFD"),o=r("ERkP");t.default={Playground:n.c,Props:n.d,Map:i.Map,Directions:a.a,React:o}},XHox:function(e,t,r){var n=r("+dZb")("head",r("9lU+"),r("hgXp"));n.placeholder=r("IOY3"),e.exports=n},XKgO:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return y})),r.d(t,"d",(function(){return h}));var n=r("aNYv");function i(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function a(e){return void 0!==e.points}function o(e){return void 0!==e.x&&void 0!==e.y}function s(e){return void 0!==e.paths}function c(e){return void 0!==e.rings}function u(e){return function(t,r){return null==t?r:null==r?t:e(t,r)}}var l=u(Math.min),f=u(Math.max);function p(e,t){return s(t)?h(e,t.paths,!1,!1):c(t)?h(e,t.rings,!1,!1):a(t)?y(e,t.points,!1,!1,!1,!1):i(t)?b(e,t):(o(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function d(e,t){return s(t)?h(e,t.paths,!0,!1):c(t)?h(e,t.rings,!0,!1):a(t)?y(e,t.points,!0,!1,!0,!1):i(t)?b(e,t,!0,!1,!0,!1):(o(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function h(e,t,r,i){var a=r?3:2;if(!t.length||!t[0].length)return null;for(var o,s,c,u,p=Object(n.a)(t[0][0],2),d=p[0],h=p[1],b=Object(n.a)(t[0][0],2),y=b[0],v=b[1],m=0;m<t.length;m++)for(var g=t[m],O=0;O<g.length;O++){var j=g[O],w=Object(n.a)(j,2),_=w[0],k=w[1];if(d=l(d,_),h=l(h,k),y=f(y,_),v=f(v,k),r&&j.length>2){var x=j[2];o=l(o,x),s=f(s,x)}if(i&&j.length>a){var S=j[a];c=l(o,S),u=f(s,S)}}return r?i?(e[0]=d,e[1]=h,e[2]=o,e[3]=c,e[4]=y,e[5]=v,e[6]=s,e[7]=u,e.length=8,e):(e[0]=d,e[1]=h,e[2]=o,e[3]=y,e[4]=v,e[5]=s,e.length=6,e):i?(e[0]=d,e[1]=h,e[2]=c,e[3]=y,e[4]=v,e[5]=u,e.length=6,e):(e[0]=d,e[1]=h,e[2]=y,e[3]=v,e.length=4,e)}function b(e,t,r,n,i,a){var o=t.xmin,s=t.xmax,c=t.ymin,u=t.ymax,l=t.zmin,f=t.zmax,p=t.mmin,d=t.mmax;return i?(l=l||0,f=f||0,a?(p=p||0,d=d||0,e[0]=o,e[1]=c,e[2]=l,e[3]=p,e[4]=s,e[5]=u,e[6]=f,e[7]=d,e):(e[0]=o,e[1]=c,e[2]=l,e[3]=s,e[4]=u,e[5]=f,e)):a?(p=p||0,d=d||0,e[0]=o,e[1]=c,e[2]=p,e[3]=s,e[4]=u,e[5]=d,e):(e[0]=o,e[1]=c,e[2]=s,e[3]=u,e)}function y(e,t,r,i,a,o){var s=r?3:2,c=i&&o,u=r&&a;if(!t.length||!t[0].length)return null;for(var p,d,h,b,y=Object(n.a)(t[0],2),v=y[0],m=y[1],g=Object(n.a)(t[0],2),O=g[0],j=g[1],w=0;w<t.length;w++){var _=t[w],k=Object(n.a)(_,2),x=k[0],S=k[1];if(v=l(v,x),m=l(m,S),O=f(O,x),j=f(j,S),u&&_.length>2){var P=_[2];p=l(p,P),d=f(d,P)}if(c&&_.length>s){var I=_[s];h=l(p,I),b=f(d,I)}}return a?(p=p||0,d=d||0,o?(h=h||0,b=b||0,e[0]=v,e[1]=m,e[2]=p,e[3]=h,e[4]=O,e[5]=j,e[6]=d,e[7]=b,e):(e[0]=v,e[1]=m,e[2]=p,e[3]=O,e[4]=j,e[5]=d,e)):o?(h=h||0,b=b||0,e[0]=v,e[1]=m,e[2]=h,e[3]=O,e[4]=j,e[5]=b,e):(e[0]=v,e[1]=m,e[2]=O,e[3]=j,e)}},XRld:function(e,t,r){"use strict";function n(e){return function(t,r){t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}r.d(t,"a",(function(){return n}))},XWqC:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("U95q");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var h=n=function(e){Object(o.a)(r,e);var t=d(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).description=null,n.displayType=null,n.title=null,n.type="attachments",n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({description:this.description,displayType:this.displayType,title:this.title})}}]),r}(p.a);Object(u.a)([Object(l.b)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],h.prototype,"description",void 0),Object(u.a)([Object(l.b)({type:["preview","list"],json:{write:!0}})],h.prototype,"displayType",void 0),Object(u.a)([Object(l.b)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],h.prototype,"title",void 0),Object(u.a)([Object(l.b)({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],h.prototype,"type",void 0);var b=h=n=Object(u.a)([Object(f.a)("esri.popup.content.AttachmentsContent")],h);t.a=b},XXCu:function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},XeQg:function(e,t,r){"use strict";var n,i=r("aNYv"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("dQW7"),f=r("0fJP"),p=r("xAIp"),d=(r("wckI"),r("J4Pc"),r("TM+E"),r("iaHD")),h=r("jr4m"),b=r("nd5+"),y=r("DjXQ"),v=r("OTJA"),m=r("ZPUJ");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}function O(e){return function(t,r){return null==t?r:null==r?t:e(t,r)}}var j=n=function(e){Object(s.a)(r,e);var t=g(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).points=[],e.type="multipoint",e}return Object(o.a)(r,[{key:"normalizeCtorArgs",value:function(e,t){if(!e&&!t)return null;var r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):function(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));var n=r.points&&r.points[0];return n&&(void 0===r.hasZ&&void 0===r.hasM?(r.hasZ=n.length>2,r.hasM=!1):void 0===r.hasZ?r.hasZ=n.length>3:void 0===r.hasM&&(r.hasM=n.length>3)),r}},{key:"cache",get:function(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}},{key:"extent",get:function(){var e=this.points;if(!e.length)return null;for(var t,r,n,a,o=new b.a,s=this.hasZ,c=this.hasM,u=s?3:2,l=e[0],f=O(Math.min),p=O(Math.max),d=Object(i.a)(l,2),h=d[0],y=d[1],v=Object(i.a)(l,2),m=v[0],g=v[1],j=0,w=e.length;j<w;j++){var _=e[j],k=Object(i.a)(_,2),x=k[0],S=k[1];if(h=f(h,x),y=f(y,S),m=p(m,x),g=p(g,S),s&&_.length>2){var P=_[2];t=f(t,P),n=p(n,P)}if(c&&_.length>u){var I=_[u];r=f(r,I),a=p(a,I)}}return o.xmin=h,o.ymin=y,o.xmax=m,o.ymax=g,o.spatialReference=this.spatialReference,s?(o.zmin=t,o.zmax=n):(o.zmin=null,o.zmax=null),c?(o.mmin=r,o.mmax=a):(o.mmin=null,o.mmax=null),o}},{key:"writePoints",value:function(e,t){t.points=Object(f.a)(this.points)}},{key:"addPoint",value:function(e){return Object(m.a)(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}},{key:"clone",value:function(){var e={points:Object(f.a)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new n(e)}},{key:"getPoint",value:function(e){if(!this._validateInputs(e))return null;var t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference},n=2;return this.hasZ&&(r.z=t[2],n=3),this.hasM&&(r.m=t[n]),new v.a(r)}},{key:"removePoint",value:function(e){if(!this._validateInputs(e))return null;var t=new v.a(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}},{key:"setPoint",value:function(e,t){return this._validateInputs(e)?(Object(m.a)(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}},{key:"toJSON",value:function(e){return this.write(null,e)}},{key:"_validateInputs",value:function(e){return null!=e&&e>=0&&e<this.points.length}}]),r}(y.a);Object(l.a)([Object(p.b)({readOnly:!0})],j.prototype,"cache",null),Object(l.a)([Object(p.b)()],j.prototype,"extent",null),Object(l.a)([Object(p.b)({type:[[Number]],json:{write:{isRequired:!0}}})],j.prototype,"points",void 0),Object(l.a)([Object(h.a)("points")],j.prototype,"writePoints",null),(j=n=Object(l.a)([Object(d.a)("esri.geometry.Multipoint")],j)).prototype.toJSON.isDefaultToJSON=!0;var w=j;t.a=w},XfeU:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return s}));var n=r("fb8N"),i=r("R0ka"),a=r("ursF"),o=r("jVPL"),s={types:n.i,json:{write:{writer:i.b},origins:{"web-scene":{types:n.j,write:{writer:i.b}}}}},c={types:{base:a.a,key:"type",typeMap:{"simple-fill":n.e.typeMap["simple-fill"],"picture-fill":n.e.typeMap["picture-fill"],"polygon-3d":n.e.typeMap["polygon-3d"]}},json:{write:{writer:i.b},origins:{"web-scene":{type:o.a,write:{writer:i.b}}}}}},XoOG:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return c}));var n=r("eijD"),i=r("NthX"),a=r.n(i),o=r("e6DO"),s=r("iW9l");function c(e){return u.apply(this,arguments)}function u(){return(u=Object(n.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=t.indexOf("-vector")>-1?t.slice(0,t.indexOf("-vector")):t,e.next=5,Object(s.a)("esri/t9n/basemaps");case 5:return n=e.sent,e.abrupt("return",n[t]||n[r]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l={streets:{id:"streets",get thumbnailUrl(){return Object(o.a)("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",get thumbnailUrl(){return Object(o.a)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",get thumbnailUrl(){return Object(o.a)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",get thumbnailUrl(){return Object(o.a)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",get thumbnailUrl(){return Object(o.a)("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",get thumbnailUrl(){return Object(o.a)("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",get thumbnailUrl(){return Object(o.a)("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",get thumbnailUrl(){return Object(o.a)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",get thumbnailUrl(){return Object(o.a)("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",get thumbnailUrl(){return Object(o.a)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",get thumbnailUrl(){return Object(o.a)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",get thumbnailUrl(){return Object(o.a)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",get thumbnailUrl(){return Object(o.a)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",get thumbnailUrl(){return Object(o.a)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",get thumbnailUrl(){return Object(o.a)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",get thumbnailUrl(){return Object(o.a)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",get thumbnailUrl(){return Object(o.a)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return Object(o.a)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return Object(o.a)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return Object(o.a)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return Object(o.a)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return Object(o.a)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return Object(o.a)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return Object(o.a)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return Object(o.a)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return Object(o.a)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return Object(o.a)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}}},Xr9Q:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i}));var n=r("WYis"),i=new n.a("white"),a=(new n.a("black"),new n.a([255,255,255,0]));function o(e){return 0===e.r&&0===e.g&&0===e.b}},Y8sq:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return p}));var n=r("aNYv"),i=r("yBJb"),a=r("hisu"),o=(r("7im+"),r("6N4x"));function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r,n,i,a){var o=r-i;if(o>=0)return(t>>o)+(n-(a<<o))*(e>>o);var s=-o;return t-(a-(n<<s))*(e>>s)<<s}var l=function(){function e(t,r,n){Object(a.a)(this,e),this._rows=Math.ceil(r/n),this._columns=Math.ceil(t/n),this._cellSize=n,this.cells=new Array(this._rows);for(var i=0;i<this._rows;i++){this.cells[i]=new Array(this._columns);for(var o=0;o<this._columns;o++)this.cells[i][o]=[]}}return Object(i.a)(e,[{key:"getCell",value:function(e,t){var r=Math.min(Math.max(Math.floor(t/this._cellSize),0),this._rows-1),n=Math.min(Math.max(Math.floor(e/this._cellSize),0),this._columns-1);return this.cells[r]&&this.cells[r][n]||null}},{key:"getCellSpan",value:function(e,t,r,n){return[Math.min(Math.max(Math.floor(e/this._cellSize),0),this.columns-1),Math.min(Math.max(Math.floor(t/this._cellSize),0),this.rows-1),Math.min(Math.max(Math.floor(r/this._cellSize),0),this.columns-1),Math.min(Math.max(Math.floor(n/this._cellSize),0),this.rows-1)]}},{key:"cellSize",get:function(){return this._cellSize}},{key:"columns",get:function(){return this._columns}},{key:"rows",get:function(){return this._rows}}]),e}();function f(e,t,r,n,i,a){for(var s=t[n++],c=0;c<s;c++){var u=new o.a(a);u.xTile=t[n++],u.yTile=t[n++],u.hash=t[n++],u.priority=t[n++];for(var l=t[n++],f=0;f<l;f++){var p=t[n++],d=t[n++],h=t[n++],b=t[n++],y=!!t[n++],v=t[n++],m=r[n++],g=r[n++],O=t[n++],j=t[n++];u.colliders.push({xTile:p,yTile:d,dxPixels:h,dyPixels:b,hard:y,partIndex:v,width:O,height:j,minLod:m,maxLod:g})}for(var w=e[n++],_=0;_<w;_++)u.textVertexRanges.push([e[n++],e[n++]]);for(var k=e[n++],x=0;x<k;x++)u.iconVertexRanges.push([e[n++],e[n++]]);i.push(u)}return n}function p(e,t,r){var i,a=s(e.symbols);try{for(a.s();!(i=a.n()).done;){var o=Object(n.a)(i.value,2),c=o[0];d(e,t,r,o[1],c)}}catch(u){a.e(u)}finally{a.f()}}function d(e,t,r,i,a){var o=e.layerData.get(a);if(3===o.type){var c,u=s(i);try{for(u.s();!(c=u.n()).done;){var l=c.value,f=l.unique,p=void 0;if(l.selectedForRendering){var d=f.parts[0],h=d.startOpacity,b=d.targetOpacity;e.allSymbolsFadingOut=e.allSymbolsFadingOut&&0===b;var y=r?Math.floor(127*h)|b<<7:b?255:0;p=y<<24|y<<16|y<<8|y}else p=0;var v,m=s(l.iconVertexRanges);try{for(m.s();!(v=m.n()).done;)for(var g=Object(n.a)(v.value,2),O=g[0],j=g[1],w=O;w<O+j;w+=4)o.iconOpacity[w/4]=p}catch(A){m.e(A)}finally{m.f()}if(l.selectedForRendering){var _=f.parts[1],k=_.startOpacity,x=_.targetOpacity;e.allSymbolsFadingOut=e.allSymbolsFadingOut&&0===x;var S=r?Math.floor(127*k)|x<<7:x?255:0;p=S<<24|S<<16|S<<8|S}else p=0;var P,I=s(l.textVertexRanges);try{for(I.s();!(P=I.n()).done;)for(var R=Object(n.a)(P.value,2),M=R[0],E=R[1],T=M;T<M+E;T+=4)o.textOpacity[T/4]=p}catch(A){I.e(A)}finally{I.f()}}}catch(A){u.e(A)}finally{u.f()}o.lastOpacityUpdate=t,o.opacityChanged=!0}}},YC9x:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return v})),r.d(t,"c",(function(){return w})),r.d(t,"d",(function(){return g})),r.d(t,"e",(function(){return j}));var n=r("aNYv"),i=r("IZpe");function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){return Object(i.e)(e,t)}function c(e,t){var r,n,i,a=e.hasZ&&t.hasZ;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(n=t.ymin,e.ymax<n)return!1}else if(n=e.ymin,t.ymax<n)return!1;if(a&&t.hasZ)if(e.zmin<=t.zmin){if(i=t.zmin,e.zmax<i)return!1}else if(i=e.zmin,t.zmax<i)return!1;return!0}function u(e,t){var r,n=t.points,o=t.hasZ?i.b:i.a,s=a(n);try{for(s.s();!(r=s.n()).done;){if(o(e,r.value))return!0}}catch(c){s.e(c)}finally{s.f()}return!1}var l=[0,0],f=[0,0],p=[0,0],d=[0,0],h=[l,f,p,d],b=[[p,l],[l,f],[f,d],[d,p]];function y(e,t){l[0]=e.xmin,l[1]=e.ymax,f[0]=e.xmax,f[1]=e.ymax,p[0]=e.xmin,p[1]=e.ymin,d[0]=e.xmax,d[1]=e.ymin;var r,n=a(h);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(Object(i.f)(t,o))return!0}}catch(g){n.e(g)}finally{n.f()}var s,c=a(t.rings);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(u.length){var y=u[0];if(Object(i.a)(e,y))return!0;for(var v=1;v<u.length;v++){var m=u[v];if(Object(i.a)(e,m)||O(y,m,b))return!0;y=m}}}}catch(g){c.e(g)}finally{c.f()}return!1}function v(e,t){l[0]=e.xmin,l[1]=e.ymax,f[0]=e.xmax,f[1]=e.ymax,p[0]=e.xmin,p[1]=e.ymin,d[0]=e.xmax,d[1]=e.ymin;var r,n=t.paths,o=a(n);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(n.length){var c=s[0];if(Object(i.a)(e,c))return!0;for(var u=1;u<s.length;u++){var h=s[u];if(Object(i.a)(e,h)||O(c,h,b))return!0;c=h}}}}catch(y){o.e(y)}finally{o.f()}return!1}var m=[0,0];function g(e){for(var t=0;t<e.length;t++){for(var r=e[t],n=0;n<r.length-1;n++)for(var i=r[n],a=r[n+1],o=t+1;o<e.length;o++)for(var s=0;s<e[o].length-1;s++){var c=e[o][s],u=e[o][s+1];if(j(i,a,c,u,m)&&!(m[0]===i[0]&&m[1]===i[1]||m[0]===c[0]&&m[1]===c[1]||m[0]===a[0]&&m[1]===a[1]||m[0]===u[0]&&m[1]===u[1]))return!0}var l=r.length;if(!(l<=4))for(var f=0;f<l-3;f++){var p=l-1;0===f&&(p=l-2);for(var d=r[f],h=r[f+1],b=f+2;b<p;b++){var y=r[b],v=r[b+1];if(j(d,h,y,v,m)&&!(m[0]===d[0]&&m[1]===d[1]||m[0]===y[0]&&m[1]===y[1]||m[0]===h[0]&&m[1]===h[1]||m[0]===v[0]&&m[1]===v[1]))return!0}}}return!1}function O(e,t,r){for(var n=0;n<r.length;n++)if(j(e,t,r[n][0],r[n][1]))return!0;return!1}function j(e,t,r,i,a){var o=Object(n.a)(e,2),s=o[0],c=o[1],u=Object(n.a)(t,2),l=u[0],f=u[1],p=Object(n.a)(r,2),d=p[0],h=p[1],b=Object(n.a)(i,2),y=b[0]-d,v=s-d,m=l-s,g=b[1]-h,O=c-h,j=f-c,w=g*m-y*j;if(0===w)return!1;var _=(y*O-g*v)/w,k=(m*O-j*v)/w;return _>=0&&_<=1&&k>=0&&k<=1&&(a&&(a[0]=s+_*(l-s),a[1]=c+_*(f-c)),!0)}function w(e){switch(e){case"esriGeometryEnvelope":case"extent":return c;case"esriGeometryMultipoint":case"multipoint":return u;case"esriGeometryPoint":case"point":return s;case"esriGeometryPolygon":case"polygon":return y;case"esriGeometryPolyline":case"polyline":return v}}},YHXj:function(e,t,r){"use strict";var n,i=r("mK0O"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("dQW7"),f=r("0n+b"),p=r("0fJP"),d=r("wckI"),h=r("xAIp"),b=r("iaHD"),y=r("jr4m"),v=r("12QT");function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var g=n=function(e){Object(s.a)(r,e);var t=m(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).latestWkid=null,n.wkid=null,n.wkt=null,n.vcsWkid=null,n.latestVcsWkid=null,n.imageCoordinateSystem=null,n}return Object(o.a)(r,[{key:"normalizeCtorArgs",value:function(e){return e&&"object"==typeof e?e:Object(i.a)({},"string"==typeof e?"wkt":"wkid",e)}},{key:"isWGS84",get:function(){return Object(v.k)(this)}},{key:"isWebMercator",get:function(){return Object(v.n)(this)}},{key:"isGeographic",get:function(){return Object(v.g)(this)}},{key:"isWrappable",get:function(){return Object(v.o)(this)}},{key:"writeWkt",value:function(e,t){this.wkid||(t.wkt=e)}},{key:"clone",value:function(){if(this===n.WGS84)return n.WGS84;if(this===n.WebMercator)return n.WebMercator;var e=new n;return null!=this.wkid?(e.wkid=this.wkid,null!=this.latestWkid&&(e.latestWkid=this.latestWkid),null!=this.vcsWkid&&(e.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(e.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=Object(p.a)(this.imageCoordinateSystem)),e}},{key:"equals",value:function(e){if(null==e)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==e.imageCoordinateSystem)return!1;var t=e.imageCoordinateSystem,r=t.id,n=t.referenceServiceName,i=e.imageCoordinateSystem.geodataXform,a=this.imageCoordinateSystem;return null==r||i?JSON.stringify(a)===JSON.stringify(e.imageCoordinateSystem):n?a.id===r&&a.referenceServiceName===n:a.id===r}return Object(v.c)(this,e)}},{key:"toJSON",value:function(e){return this.write(void 0,e)}}],[{key:"fromJSON",value:function(e){if(!e)return null;if(e.wkid){if(102100===e.wkid)return n.WebMercator;if(4326===e.wkid)return n.WGS84}var t=new n;return t.read(e),t}}]),r}(f.a);g.GCS_NAD_1927=null,g.WGS84=null,g.WebMercator=null,Object(l.a)([Object(h.b)({readOnly:!0})],g.prototype,"isWGS84",null),Object(l.a)([Object(h.b)({readOnly:!0})],g.prototype,"isWebMercator",null),Object(l.a)([Object(h.b)({readOnly:!0})],g.prototype,"isGeographic",null),Object(l.a)([Object(h.b)({readOnly:!0})],g.prototype,"isWrappable",null),Object(l.a)([Object(h.b)({type:d.a,json:{write:!0}})],g.prototype,"latestWkid",void 0),Object(l.a)([Object(h.b)({type:d.a,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt}}}}}}})],g.prototype,"wkid",void 0),Object(l.a)([Object(h.b)({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid}}}}}}})],g.prototype,"wkt",void 0),Object(l.a)([Object(y.a)("wkt"),Object(y.a)("web-scene","wkt")],g.prototype,"writeWkt",null),Object(l.a)([Object(h.b)({type:d.a,json:{write:!0}})],g.prototype,"vcsWkid",void 0),Object(l.a)([Object(h.b)({type:d.a,json:{write:!0}})],g.prototype,"latestVcsWkid",void 0),Object(l.a)([Object(h.b)()],g.prototype,"imageCoordinateSystem",void 0),(g=n=Object(l.a)([Object(b.a)("esri.geometry.SpatialReference")],g)).prototype.toJSON.isDefaultToJSON=!0,g.GCS_NAD_1927=new g({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),g.WGS84=new g(v.a),g.WebMercator=new g(v.b),Object.freeze&&(Object.freeze(g.GCS_NAD_1927),Object.freeze(g.WGS84),Object.freeze(g.WebMercator));var O=g;t.a=O},YI5O:function(e,t,r){"use strict";var n=r("NthX"),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r("ERkP"),l=c(r("lZ6b")),f=r("pjU7"),p=c(r("wvjj"));t.default=function(e){var t=e.expander,i=void 0===t?p.default.expander:t,a=e.expanderDefaultOpen,c=void 0===a?p.default.expanderDefaultOpen:a,d=e.position,h=void 0===d?p.default.position:d,b=e.widgetArgs,y=void 0===b?p.default.widgetArgs:b,v=e.expandWidgetArgs,m=void 0===v?p.default.expandWidgetArgs:v,g=e.expandIconClass,O=void 0===g?"esri-icon-home":g,j=l.default().view;return u.useEffect((function(){var e,t,a=!0;return(null==j?void 0:j.ready)&&s(void 0,void 0,void 0,n.mark((function s(){var u,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return o(r("S83v"))}));case 2:if(u=n.sent,l=u.default,e=new l(Object.assign({view:j},y)),!i){n.next=11;break}return n.next=8,f.addExpander({view:j,widgetContent:e,expandIconClass:O,position:h,defaultOpen:c,expandWidgetArgs:m});case 8:t=n.sent,n.next=12;break;case 11:a&&(null==j||j.ui.add(e,h));case 12:case"end":return n.stop()}}),s)}))),function(){a=!1,null==e||e.destroy(),null==t||t.destroy()}}),[j,i,h]),null}},"YLt+":function(e){e.exports=JSON.parse("[]")},YO7g:function(e,t){var r=Object.prototype.toString;e.exports=function(e){var t=typeof e;return"undefined"===t?"undefined":null===e?"null":!0===e||!1===e||e instanceof Boolean?"boolean":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?void 0!==e.constructor.name&&"Generator"===e.constructor.name.slice(0,9)?"generatorfunction":"function":void 0!==Array.isArray&&Array.isArray(e)?"array":e instanceof RegExp?"regexp":e instanceof Date?"date":"[object RegExp]"===(t=r.call(e))?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":"[object Promise]"===t?"promise":function(e){return e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Map Iterator]"===t?"mapiterator":"[object Set Iterator]"===t?"setiterator":"[object String Iterator]"===t?"stringiterator":"[object Array Iterator]"===t?"arrayiterator":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}},YODn:function(e,t,r){var n=r("JpX9"),i=r("yF7r"),a=i((function(e,t){return n(e,256,void 0,void 0,void 0,t)}));e.exports=a},YRFe:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0fJP"),f=r("xAIp"),p=(r("wckI"),r("J4Pc"),r("TM+E"),r("iaHD")),d=r("a93R"),h=r("7Oqd");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var y=n=function(e){Object(o.a)(r,e);var t=b(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).colorRamps=null,n.type="multipart",n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({colorRamps:Object(l.a)(this.colorRamps)})}}]),r}(h.a);Object(u.a)([Object(f.b)({type:[d.a],json:{write:!0}})],y.prototype,"colorRamps",void 0),Object(u.a)([Object(f.b)({type:["multipart"]})],y.prototype,"type",void 0);var v=y=n=Object(u.a)([Object(p.a)("esri.rest.support.MultipartColorRamp")],y);t.a=v},YRYL:function(e,t,r){"use strict";var n,i=r("6CzD"),a=r("mK0O"),o=r("eijD"),s=r("hisu"),c=r("yBJb"),u=r("CHlC"),l=r("kMo5"),f=r("P+uj"),p=r("NthX"),d=r.n(p),h=r("dQW7"),b=r("fb8N"),y=r("7i+s"),v=r("0fJP"),m=r("TM+E"),g=r("7im+"),O=r("xAIp"),j=r("gljZ"),w=(r("J4Pc"),r("vo12")),_=r("mp5+"),k=r("iaHD"),x=r("jr4m"),S=r("wckI"),P=r("DuP7"),I=r("6yFL"),R=r("ql4C"),M=r("ZAfR"),E=r("XfeU"),T=r("d7QU"),A=r("DE4D");function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var F=m.a.getLogger("esri.renderers.ClassBreaksRenderer"),N="percent-of-total",B="field",V=new y.a({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:N,esriNormalizeByField:B}),U=Object(S.m)(M.a),z=n=function(e){Object(u.a)(p,e);var t,r,a,l,f=L(p);function p(e){var t;return Object(s.a)(this,p),(t=f.call(this,e))._compiledValueExpression={valueExpression:null,compiledFunction:null},t.backgroundFillSymbol=null,t.classBreakInfos=null,t.defaultLabel=null,t.defaultSymbol=null,t.field=null,t.isMaxInclusive=!0,t.legendOptions=null,t.normalizationField=null,t.normalizationTotal=null,t.type="class-breaks",t.valueExpression=null,t.valueExpressionTitle=null,t._set("classBreakInfos",[]),t}return Object(c.a)(p,[{key:"readClassBreakInfos",value:function(e,t,r){if(Array.isArray(e)){var n=t.minValue;return e.map((function(e){var t=new M.a;return t.read(e,r),null==t.minValue&&(t.minValue=n),null==t.maxValue&&(t.maxValue=t.minValue),n=t.maxValue,t}))}}},{key:"writeClassBreakInfos",value:function(e,t,r,n){var i=e.map((function(e){return e.write({},n)}));this._areClassBreaksConsecutive()&&i.forEach((function(e){return delete e.classMinValue})),t[r]=i}},{key:"castField",value:function(e){return null==e?e:"function"==typeof e?(F.error(".field: field must be a string value"),null):Object(S.l)(e)}},{key:"minValue",get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}},{key:"normalizationType",get:function(){var e=this._get("normalizationType"),t=!!this.normalizationField,r=null!=this.normalizationTotal;return t||r?(e=(t?B:r&&N)||null,t&&r&&F.warn("warning: both normalizationField and normalizationTotal are set!")):e!==B&&e!==N||(e=null),e},set:function(e){this._set("normalizationType",e)}},{key:"addClassBreakInfo",value:function(e,t,r){var n;n="number"==typeof e?new M.a({minValue:e,maxValue:t,symbol:Object(b.a)(r)}):U(Object(v.a)(e)),this.classBreakInfos.push(n),1===this.classBreakInfos.length&&this.notifyChange("minValue")}},{key:"removeClassBreakInfo",value:function(e,t){for(var r=this.classBreakInfos.length,n=0;n<r;n++){var i=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(i[0]===e&&i[1]===t){this.classBreakInfos.splice(n,1);break}}}},{key:"getBreakIndex",value:function(e,t){return this.valueExpression&&(Object(g.h)(t)||Object(g.h)(t.arcade))&&F.warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}},{key:"getClassBreakInfo",value:(l=Object(o.a)(d.a.mark((function e(t,r){var n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r,e.t0=this.valueExpression&&(Object(g.h)(r)||Object(g.h)(r.arcade)),!e.t0){e.next=11;break}return e.t1=D,e.t2=D({},n),e.t3={},e.next=8,Object(A.e)();case 8:e.t4=e.sent,e.t5={arcade:e.t4},n=(0,e.t1)(e.t2,e.t3,e.t5);case 11:return i=this.getBreakIndex(t,n),e.abrupt("return",-1!==i?this.classBreakInfos[i]:null);case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"getSymbol",value:function(e,t){if(!this.valueExpression||!Object(g.h)(t)&&!Object(g.h)(t.arcade)){var r=this.getBreakIndex(e,t);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}F.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used")}},{key:"getSymbolAsync",value:(a=Object(o.a)(d.a.mark((function e(t,r){var n,i,a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r,!this.valueExpression||!Object(g.h)(r)&&!Object(g.h)(r.arcade)){e.next=11;break}return e.next=4,Object(A.e)();case 4:if(i=e.sent,a=i.arcadeUtils,e.t0=a.hasGeometryOperations(this.valueExpression),!e.t0){e.next=10;break}return e.next=10,a.enableGeometryOperations();case 10:n=D(D({},n),{},{arcade:i});case 11:return o=this.getBreakIndex(t,n),e.abrupt("return",o>-1?this.classBreakInfos[o].symbol:this.defaultSymbol);case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"getSymbols",value:function(){var e=[];return this.classBreakInfos.forEach((function(t){t.symbol&&e.push(t.symbol)})),this.defaultSymbol&&e.push(this.defaultSymbol),e}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){var e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r="".concat(this.normalizationField,".").concat(this.normalizationType,".").concat(this.normalizationTotal);return"".concat(e,".").concat(t,".").concat(this.classBreakInfos.reduce((function(e,t){return e+t.getMeshHash()}),""),".").concat(r,".").concat(this.field,".").concat(this.valueExpression)}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}},{key:"clone",value:function(){return new n({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:Object(v.a)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:Object(v.a)(this.visualVariables),legendOptions:Object(v.a)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}},{key:"collectRequiredFields",value:(r=Object(o.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[this.collectVVRequiredFields(t,r),this.collectSymbolFields(t,r)],e.next=3,Promise.all(n);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"collectSymbolFields",value:(t=Object(o.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[].concat(Object(i.a)(this.getSymbols().map((function(e){return e.collectRequiredFields(t,r)}))),[Object(P.a)(t,r,this.valueExpression)]),Object(P.d)(t,r,this.field),Object(P.d)(t,r,this.normalizationField),e.next=5,Promise.all(n);case 5:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"_getBreakIndexForExpression",value:function(e,t){var r=Object(g.q)(t,{}),n=r.viewingMode,i=r.scale,a=r.spatialReference,o=r.arcade,s=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null,c=Object(g.p)(o).arcadeUtils;if(!s){var u=c.createSyntaxTree(this.valueExpression);s=c.createFunction(u),this._compiledValueExpression.compiledFunction=s}this._compiledValueExpression.valueExpression=this.valueExpression;var l=c.executeFunction(s,c.createExecContext(e,c.getViewInfo({viewingMode:n,scale:i,spatialReference:a})));return this._getBreakIndexfromInfos(l)}},{key:"_getBreakIndexForField",value:function(e){var t=this.field,r=e.attributes,n=this.normalizationType,i=parseFloat(r[t]);if(n){var a=this.normalizationTotal,o=parseFloat(r[this.normalizationField]);if("log"===n)i=Math.log(i)*Math.LOG10E;else if(n!==N||isNaN(a)){if(n===B&&!isNaN(o)){if(isNaN(i)||isNaN(o))return-1;i/=o}}else i=i/a*100}return this._getBreakIndexfromInfos(i)}},{key:"_getBreakIndexfromInfos",value:function(e){var t=this.isMaxInclusive;if(null!=e&&"number"==typeof e&&!isNaN(e))for(var r=0;r<this.classBreakInfos.length;r++){var n=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(n[0]<=e&&(t?e<=n[1]:e<n[1]))return r}return-1}},{key:"_areClassBreaksConsecutive",value:function(){for(var e=this.classBreakInfos,t=e.length,r=1;r<t;r++)if(e[r-1].maxValue!==e[r].minValue)return!1;return!0}}]),p}(Object(R.a)(I.a));Object(h.a)([Object(O.b)(E.a)],z.prototype,"backgroundFillSymbol",void 0),Object(h.a)([Object(O.b)({type:[M.a]})],z.prototype,"classBreakInfos",void 0),Object(h.a)([Object(_.a)("classBreakInfos")],z.prototype,"readClassBreakInfos",null),Object(h.a)([Object(x.a)("classBreakInfos")],z.prototype,"writeClassBreakInfos",null),Object(h.a)([Object(O.b)({type:String,json:{write:!0}})],z.prototype,"defaultLabel",void 0),Object(h.a)([Object(O.b)(E.b)],z.prototype,"defaultSymbol",void 0),Object(h.a)([Object(O.b)({type:String,json:{write:!0}})],z.prototype,"field",void 0),Object(h.a)([Object(j.a)("field")],z.prototype,"castField",null),Object(h.a)([Object(O.b)({type:Boolean})],z.prototype,"isMaxInclusive",void 0),Object(h.a)([Object(O.b)({type:T.a,json:{write:!0}})],z.prototype,"legendOptions",void 0),Object(h.a)([Object(O.b)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy:function(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],z.prototype,"minValue",null),Object(h.a)([Object(O.b)({type:String,json:{write:!0}})],z.prototype,"normalizationField",void 0),Object(h.a)([Object(O.b)({type:Number,cast:function(e){return Object(S.i)(e)},json:{write:!0}})],z.prototype,"normalizationTotal",void 0),Object(h.a)([Object(O.b)({type:V.apiValues,value:null,json:{type:V.jsonValues,read:V.read,write:V.write}})],z.prototype,"normalizationType",null),Object(h.a)([Object(w.a)({classBreaks:"class-breaks"})],z.prototype,"type",void 0),Object(h.a)([Object(O.b)({type:String,json:{write:!0}})],z.prototype,"valueExpression",void 0),Object(h.a)([Object(O.b)({type:String,json:{write:!0}})],z.prototype,"valueExpressionTitle",void 0);var q=z=n=Object(h.a)([Object(k.a)("esri.renderers.ClassBreaksRenderer")],z);t.a=q},YZeP:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},Ya6V:function(e,t,r){var n=r("nEaP"),i=r("nHIk");e.exports=function(e,t){try{i(n,e,t)}catch(r){n[e]=t}return t}},YaJL:function(e,t,r){var n=r("LSEb"),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},Yejw:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u}));var n=r("hisu"),i=r("yBJb"),a=(r("6J1V"),r("AjSt"),r("EOw0"),r("MJqN"),r("4vgF"),r("ccBF"),r("MPZ8")),o=(Object(a.b)(),function(){function e(t){Object(n.a)(this,e),this.message=t}return Object(i.a)(e,[{key:"toString",value:function(){return"AssertException: ".concat(this.message)}}]),e}());function s(e,t){if(!e){t=t||"assert";var r=new Error(t);throw r.stack&&console.log(r.stack),new o(t)}}function c(e,t,r,n){e[12]=t,e[13]=r,e[14]=n}function u(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0,n=0;n<4;n++)r+=e[t+n]*l[n];return r}var l=[1/256,1/65536,1/16777216,1/4294967296];u(new Uint8ClampedArray([255,255,255,255]))},YgI4:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n=r("hisu"),i=r("yBJb"),a=r("4Mpa"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("kDog"),f=r("233l"),p=r("Mp7X"),d=r("TM+E"),h=r("xAIp"),b=(r("J4Pc"),r("F1Bx")),y=(r("wckI"),r("iaHD")),v=r("ddfG"),m=r("1XGP"),g=r("wetf");function O(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var _=d.a.getLogger("esri.layers.TileLayer");var k=l.a.ofType(m.a);var x=function(e){var t=function(e){Object(o.a)(r,e);var t=w(r);function r(){var e;Object(n.a)(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).allSublayers=new f.a({getCollections:function(){return[e.sublayers]},getChildrenFunction:function(e){return e.sublayers}}),e.sublayersSourceJSON={2:{},3:{},4:{},5:{}},e.handles.add(e.watch("sublayers",(function(t,r){return e._handleSublayersChange(t,r)}),!0)),e}return Object(i.a)(r,[{key:"readSublayers",value:function(e,t){if(t&&e){var r=this.sublayersSourceJSON,n=Object(v.d)(t.origin);if(!(n<2||(r[n]={context:t,visibleLayers:e.visibleLayers||r[n].visibleLayers,layers:e.layers||r[n].layers},n>2))){this._set("serviceSublayers",this.createSublayersForOrigin("service").sublayers);var i=this.createSublayersForOrigin("web-document"),a=i.sublayers,o=i.origin,s=Object(b.a)(this);s.setDefaultOrigin(o),this._set("sublayers",new k(a)),s.setDefaultOrigin("user")}}}},{key:"findSublayerById",value:function(e){return this.allSublayers.find((function(t){return t.id===e}))}},{key:"createServiceSublayers",value:function(){return this.createSublayersForOrigin("service").sublayers}},{key:"createSublayersForOrigin",value:function(e){var t,r=Object(v.d)("web-document"===e?"web-map":e),n=2,i=this.sublayersSourceJSON[2].layers,a=this.sublayersSourceJSON[2].context,o=null,s=O([3,4,5].filter((function(e){return e<=r})));try{for(s.s();!(t=s.n()).done;){var c=t.value,u=this.sublayersSourceJSON[c];Object(g.b)(u.layers)&&(n=c,i=u.layers,a=u.context,u.visibleLayers&&(o={visibleLayers:u.visibleLayers,context:u.context}))}}catch(A){s.e(A)}finally{s.f()}var l,f=[3,4,5].filter((function(e){return e>n&&e<=r})),p=null,d=O(f);try{for(d.s();!(l=d.n()).done;){var h=l.value,b=this.sublayersSourceJSON[h],y=b.layers,j=b.visibleLayers,w=b.context;y&&(p={layers:y,context:w}),j&&(o={visibleLayers:j,context:w})}}catch(A){d.e(A)}finally{d.f()}var _=function(e,t){var r=[],n={};return e?(e.forEach((function(e){var i=new m.a;if(i.read(e,t),n[i.id]=i,null!=e.parentLayerId&&-1!==e.parentLayerId){var a=n[e.parentLayerId];a.sublayers||(a.sublayers=[]),a.sublayers.unshift(i)}else r.unshift(i)})),r):r}(i,a),x=new Map,S=new Set;if(p){var P,I=O(p.layers);try{for(I.s();!(P=I.n()).done;){var R=P.value;x.set(R.id,R)}}catch(A){I.e(A)}finally{I.f()}}if(o){var M,E=O(o.visibleLayers);try{for(E.s();!(M=E.n()).done;){var T=M.value;S.add(T)}}catch(A){E.e(A)}finally{E.f()}}return function e(t,r){t&&t.forEach((function(t){r(t),t.sublayers&&t.sublayers.length&&e(t.sublayers,r)}))}(_,(function(e){p&&e.read(x.get(e.id),p.context),o&&e.read({defaultVisibility:S.has(e.id)},o.context)})),{origin:Object(v.b)(n),sublayers:new k({items:_})}}},{key:"read",value:function(e,t){Object(a.a)(Object(c.a)(r.prototype),"read",this).call(this,e,t),this.readSublayers(e,t)}},{key:"_handleSublayersChange",value:function(e,t){var r=this;t&&(t.forEach((function(e){e.parent=null,e.layer=null})),this.handles.remove("sublayers-owner")),e&&(e.forEach((function(e){e.parent=r,e.layer=r})),this.handles.add([e.on("after-add",(function(e){var t=e.item;t.parent=r,t.layer=r})),e.on("after-remove",(function(e){var t=e.item;t.parent=null,t.layer=null}))],"sublayers-owner"),"tile"===this.type&&this.handles.add(e.on("before-changes",(function(e){_.error(new p.a("tilelayer:sublayers-non-modifiable","ISublayer can't be added, moved, or removed from the layer's sublayers",{layer:r})),e.preventDefault()})),"sublayers-owner"))}}]),r}(e);return Object(u.a)([Object(h.b)({readOnly:!0})],t.prototype,"allSublayers",void 0),Object(u.a)([Object(h.b)({readOnly:!0,type:l.a.ofType(m.a)})],t.prototype,"serviceSublayers",void 0),Object(u.a)([Object(h.b)({value:null,type:k,json:{read:!1,write:{allowNull:!0,ignoreOrigin:!0}}})],t.prototype,"sublayers",void 0),Object(u.a)([Object(h.b)({readOnly:!0})],t.prototype,"sublayersSourceJSON",void 0),t=Object(u.a)([Object(y.a)("esri.layers.mixins.SublayersOwner")],t),t}},Ykki:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("6CzD");function i(e){return function(t){t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);var r=t._delegatedEventNames,i=Array.isArray(e)?e:function(e){return e.split(",").map((function(e){return e.trim()}))}(e);r.push.apply(r,Object(n.a)(i))}}},YrWv:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("z9dv"),i=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function a(e){var t=Object(n.m)(e,!0);return t&&t.endsWith(".arcgis.com")&&!i.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}},YwDY:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return l}));var n=r("mK0O"),i=r("J4Pc"),a=r("0fJP"),o=r("t+pe"),s=r("wYF9");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?s.a:"esriGeometryPolyline"===e?s.c:s.b}}}function f(e,t){if(Object(i.a)("csp-restrictions"))return function(){return u(Object(n.a)({},t,null),e)};try{var r="this.".concat(t," = null;");for(var a in e)r+="this".concat(a.indexOf(".")?'["'.concat(a,'"]'):".".concat(a)," = ").concat(JSON.stringify(e[a]),";");var o=new Function(r);return function(){return new o}}catch(s){return function(){return u(Object(n.a)({},t,null),e)}}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:Object(a.a)(e)}}]}function d(e,t){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:o.a,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},Yzgk:function(e,t,r){var n=r("RqPZ"),i=r("zc1V"),a=r("9aUh"),o=r("bE7W"),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(n(e)?p:s).test(o(e))}},Z8Iu:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("d7QU");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var h=n=function(e){Object(o.a)(r,e);var t=d(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).showLegend=null,e}return Object(a.a)(r,[{key:"clone",value:function(){return new n({title:this.title,showLegend:this.showLegend})}}]),r}(p.a);Object(u.a)([Object(l.b)({type:Boolean,json:{write:!0}})],h.prototype,"showLegend",void 0);var b=h=n=Object(u.a)([Object(f.a)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],h);t.a=b},ZAfR:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("fb8N"),f=r("0n+b"),p=r("xAIp"),d=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),h=r("R0ka");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var y=n=function(e){Object(o.a)(r,e);var t=b(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).description=null,n.label=null,n.minValue=null,n.maxValue=0,n.symbol=null,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}},{key:"getMeshHash",value:function(){var e=JSON.stringify(this.symbol);return"".concat(this.minValue,".").concat(this.maxValue,".").concat(e)}}]),r}(f.a);Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],y.prototype,"description",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],y.prototype,"label",void 0),Object(u.a)([Object(p.b)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],y.prototype,"minValue",void 0),Object(u.a)([Object(p.b)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],y.prototype,"maxValue",void 0),Object(u.a)([Object(p.b)({types:l.i,json:{origins:{"web-scene":{types:l.j,write:h.b}},write:h.b}})],y.prototype,"symbol",void 0);var v=y=n=Object(u.a)([Object(d.a)("esri.renderers.support.ClassBreakInfo")],y);t.a=v},ZFo3:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return l}));var n=r("aNYv"),i=r("hisu"),a=r("yBJb"),o=r("DVFM");function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=function(){function e(t,r,n){Object(i.a)(this,e),this._namespace=t,this._storage=r,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",n&&(this._storage.registerRemoveFunc(this._namespace,n),this._removeFunc=!0)}return Object(a.a)(e,[{key:"destroy",value:function(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}},{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}},{key:"resetHitRate",value:function(){this._hit=this._miss=0}},{key:"put",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._storage.put(this._namespace+e,t,r,n)}},{key:"get",value:function(e){var t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"pop",value:function(e){var t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"updateSize",value:function(e,t,r){this._storage.updateSize(this._namespace+e,t,r)}},{key:"clear",value:function(){this._storage.clear(this._namespace)}},{key:"clearAll",value:function(){this._storage.clearAll()}},{key:"getStats",value:function(){return this._storage.getStats()}},{key:"resetStats",value:function(){this._storage.resetStats()}}]),e}(),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;Object(i.a)(this,e),this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new o.a,this._users=new o.a}return Object(a.a)(e,[{key:"destroy",value:function(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}},{key:"register",value:function(e){this._users.push(e)}},{key:"deregister",value:function(e){this._users.removeUnordered(e)}},{key:"registerRemoveFunc",value:function(e,t){this._removeFuncs.push([e,t])}},{key:"deregisterRemoveFunc",value:function(e){this._removeFuncs.filterInPlace((function(t){return t[0]!==e}))}},{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}},{key:"put",value:function(e,t,r,n){var i=this._db.get(e);if(i&&(this._size-=i.size,this._db.delete(e),i.entry!==t&&this._notifyRemoved(e,i.entry)),r>this._maxSize)this._notifyRemoved(e,t);else if(void 0!==t)if(!r||r<0)console.warn("Refusing to cache entry with invalid size "+r);else{var a=1+Math.max(n,-3)- -3;this._db.set(e,{entry:t,size:r,lifetime:a,lives:a}),this._size+=r,this._checkSizeLimit()}else console.warn("Refusing to cache undefined entry ")}},{key:"updateSize",value:function(e,t,r){var n=this._db.get(e);if(n&&n.entry===t){if(this._size-=n.size,r>this._maxSize)return this._db.delete(e),void this._notifyRemoved(e,t);n.size=r,this._size+=r,this._checkSizeLimit()}}},{key:"pop",value:function(e){var t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}},{key:"get",value:function(e){var t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}},{key:"getStats",value:function(){var e=this,t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},n=new Array;this._db.forEach((function(t,i){var a=t.lifetime;n[a]=(n[a]||0)+t.size,e._users.forAll((function(e){var n=e.namespace;if(i.startsWith(n)){var a=r[n]||0;r[n]=a+t.size}}))}));var i={};this._users.forAll((function(e){var t=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){var n=r[t]||0;r[t]=n,i[t]=Math.round(100*e.hitRate)+"%"}else i[t]="0%"}));var a=Object.keys(r);a.forEach((function(t){return r[t]=r[t]/e._size*100})),a.sort((function(e,t){return r[t]-r[e]})),a.forEach((function(e){return t[e]=Math.round(r[e])+"% / "+i[e]}));for(var o=n.length-1;o>=0;--o){var s=n[o];s&&(t["Priority "+(o+-3-1)]=Math.round(s/this.size*100)+"%")}return t}},{key:"resetStats",value:function(){this._hit=this._miss=0,this._users.forAll((function(e){return e.resetHitRate()}))}},{key:"clear",value:function(e){var t=this;this._db.forEach((function(r,n){n.startsWith(e)&&(t._size-=r.size,t._db.delete(n),t._notifyRemoved(n,r.entry))}))}},{key:"clearAll",value:function(){var e=this;this._db.forEach((function(t,r){return e._notifyRemoved(r,t.entry)})),this._size=0,this._db.clear()}},{key:"_getHitRate",value:function(){return this._hit/(this._hit+this._miss)}},{key:"_notifyRemoved",value:function(e,t){this._removeFuncs.forAll((function(r){e.startsWith(r[0])&&r[1](t)}))}},{key:"_checkSizeLimit",value:function(){if(!(this._size<=this._maxSize)){var e,t=s(this._db);try{for(t.s();!(e=t.n()).done;){var r=Object(n.a)(e.value,2),i=r[0],a=r[1];if(this._db.delete(i),a.lives<=1?(this._size-=a.size,this._notifyRemoved(i,a.entry)):(--a.lives,this._db.set(i,a)),this._size<=.9*this.maxSize)return}}catch(o){t.e(o)}finally{t.f()}}}}]),e}()},ZFoC:function(e,t,r){"use strict";r.d(t,"b",(function(){return i.a})),r.d(t,"a",(function(){return Oe})),r.d(t,"c",(function(){return We})),r.d(t,"d",(function(){return Qe})),r.d(t,"e",(function(){return Xe})),r.d(t,"f",(function(){return je})),r.d(t,"g",(function(){return Pe})),r.d(t,"h",(function(){return Re})),r.d(t,"i",(function(){return Ae})),r.d(t,"j",(function(){return Ue}));var n=r("7L9N"),i=r("Wbzz"),a=r("ERkP"),o=r("PbS7"),s=r.n(o),c=r("OoM2"),u=r.n(c),l=r("RhEf"),f=r.n(l),p=r("3GNe"),d=r.n(p),h=r("mwLw"),b=r.n(h),y=r("dYK0"),v=r.n(y),m=r("EqhP"),g=r.n(m);var O=function(){return(O=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.create;Object.create;function j(e){return e.toLowerCase()}var w=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],_=/[^A-Z0-9]+/gi;function k(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce((function(e,t){return e.replace(t,r)}),e)}function x(e,t){var r=e.charAt(0),n=e.substr(1).toLowerCase();return t>0&&r>="0"&&r<="9"?"_"+r+n:""+r.toUpperCase()+n}function S(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,n=void 0===r?w:r,i=t.stripRegexp,a=void 0===i?_:i,o=t.transform,s=void 0===o?j:o,c=t.delimiter,u=void 0===c?" ":c,l=k(k(e,n,"$1\0$2"),a,"\0"),f=0,p=l.length;"\0"===l.charAt(f);)f++;for(;"\0"===l.charAt(p-1);)p--;return l.slice(f,p).split("\0").map(s).join(u)}(e,O({delimiter:"",transform:x},t))}var P=r("HcYh"),I=r.n(P),R=r("9xxD"),M=r.n(R),E=r("knvM"),T=r.n(E),A=r("GC0P"),C=r.n(A),D=r("G4dw"),L=r.n(D),F=r("eciW"),N=r.n(F);function B(e){var t=new Error(e);return t.source="ulid",t}var V="0123456789ABCDEFGHJKMNPQRSTVWXYZ",U=V.length,z=Math.pow(2,48)-1;function q(e){var t=Math.floor(e()*U);return t===U&&(t=U-1),V.charAt(t)}function H(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>z)throw B("cannot encode time greater than "+z);if(e<0)throw B("time must be positive");if(!1===Number.isInteger(e))throw B("time must be an integer");for(var r=void 0,n="";t>0;t--)n=V.charAt(r=e%U)+n,e=(e-r)/U;return n}function G(e,t){for(var r="";e>0;e--)r=q(t)+r;return r}function W(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];t||(t="undefined"!=typeof window?window:null);var n=t&&(t.crypto||t.msCrypto);if(n)return function(){var e=new Uint8Array(1);return n.getRandomValues(e),e[0]/255};try{var i=r("DGBo");return function(){return i.randomBytes(1).readUInt8()/255}}catch(a){}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch(a){}return function(){return Math.random()}}throw B("secure crypto unusable, insecure Math.random not allowed")}var J,$=(J||(J=W()),function(e){return isNaN(e)&&(e=Date.now()),H(e,10)+G(16,J)}),Z={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"A","":"A","":"A","":"C","":"C","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"a","":"a","":"a","":"c","":"c","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"C","":"c","":"C","":"c","C":"C","c":"c","":"D","":"d","":"D","":"d","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"G","":"G","":"g","":"g","":"G","":"g","":"G","":"g","":"G","":"g","":"H","":"h","":"H","":"h","":"H","":"h","":"I","":"i","":"I","":"i","":"I","":"i","":"I","":"i","":"I","":"i","":"IJ","":"ij","":"J","":"j","":"K","":"k","":"K","":"k","K":"K","k":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"L","":"l","":"l","":"l","":"M","":"m","M":"M","m":"m","":"N","":"n","":"N","":"n","":"N","":"n","":"n","N":"N","n":"n","":"O","":"o","":"O","":"o","":"O","":"o","":"OE","":"oe","P":"P","p":"p","":"R","":"r","":"R","":"r","":"R","":"r","R":"R","r":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"S","":"s","":"s","":"S","":"s","":"T","":"t","":"t","":"T","":"T","":"t","":"T","":"t","T":"T","t":"t","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","V":"V","v":"v","":"W","":"w","":"W","":"w","X":"X","x":"x","":"Y","":"y","":"Y","Y":"Y","y":"y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"s","":"f","":"O","":"o","":"U","":"u","":"A","":"a","":"I","":"i","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"A","":"a","":"AE","":"ae","":"O","":"o","":"TH","":"th","":"P","":"p","":"S","":"s","X":"X","x":"x","":"","":"","":"","":"","A":"A","a":"a","E":"E","e":"e","I":"I","i":"i","":"N","":"n","":"O","":"o","":"O","":"o","":"U","":"u","":"W","":"w","":"Y","":"y","":"A","":"a","":"E","":"e","":"I","":"i","":"O","":"o","":"R","":"r","":"U","":"u","B":"B","b":"b","":"C","":"c","":"E","":"e","F":"F","f":"f","":"G","":"g","":"H","":"h","J":"J","":"j","":"K","":"k","M":"M","m":"m","P":"P","p":"p","Q":"Q","q":"q","":"R","":"r","":"S","":"s","V":"V","v":"v","W":"W","w":"w","X":"X","x":"x","Y":"Y","y":"y","A":"A","a":"a","B":"B","b":"b","":"D","":"d","":"E","":"e","":"E","":"e","":"H","":"h","I":"I","i":"i","":"I","":"i","M":"M","m":"m","O":"O","o":"o","Q":"Q","q":"q","U":"U","u":"u","X":"X","x":"x","Z":"Z","z":"z"},Q=Object.keys(Z).join("|"),X=new RegExp(Q,"g"),K=new RegExp(Q,""),Y=function(e){return e.replace(X,(function(e){return Z[e]}))},ee=Y,te=function(e){return!!e.match(K)},re=Y;ee.has=te,ee.remove=re;var ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ae={CASE_SENSITIVE_EQUAL:9,EQUAL:8,STARTS_WITH:7,WORD_STARTS_WITH:6,STRING_CASE:5,STRING_CASE_ACRONYM:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0},oe={CAMEL:.8,PASCAL:.6,KEBAB:.4,SNAKE:.2,NO_CASE:0};function se(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return e;var n=r.keys,i=r.threshold,a=void 0===i?ae.MATCHES:i,o=e.reduce((function(e,i,o){var s=ce(i,n,t,r),c=s.rankedItem,u=s.rank,l=s.keyIndex,f=s.keyThreshold;return u>=(void 0===f?a:f)&&e.push({rankedItem:c,item:i,rank:u,index:o,keyIndex:l}),e}),[]);return o.sort(le).map((function(e){return e.item}))}function ce(e,t,r,n){return t?function(e,t){return t.reduce((function(t,r){var n=function(e,t){"object"===(void 0===t?"undefined":ne(t))&&(t=t.key);var r=void 0;r="function"==typeof t?t(e):-1!==t.indexOf(".")?t.split(".").reduce((function(e,t){return e?e[t]:null}),e):e[t];return null!=r?[].concat(r):null}(e,r);return n&&n.forEach((function(e){t.push({itemValue:e,attributes:pe(r)})})),t}),[])}(e,t).reduce((function(e,t,i){var a=e.rank,o=e.keyIndex,s=e.keyThreshold,c=t.itemValue,u=t.attributes,l=ue(c,r,n),f=u.minRanking,p=u.maxRanking,d=u.threshold;return l<f&&l>=ae.MATCHES?l=f:l>p&&(l=p),l>a&&(a=l,o=i,s=d),{rankedItem:c,rank:a,keyIndex:o,keyThreshold:s}}),{rank:ae.NO_MATCH,keyIndex:-1,keyThreshold:n.threshold}):{rankedItem:e,rank:ue(e,r,n),keyIndex:-1,keyThreshold:n.threshold}}function ue(e,t,r){if(e=fe(e,r),(t=fe(t,r)).length>e.length)return ae.NO_MATCH;if(e===t)return ae.CASE_SENSITIVE_EQUAL;var n,i,a=function(e){var t=e.toLowerCase()!==e,r=e.indexOf("-")>=0,n=e.indexOf("_")>=0;if(!t&&!n&&r)return oe.KEBAB;if(!t&&n&&!r)return oe.SNAKE;if(t&&!r&&!n){return e[0].toUpperCase()===e[0]?oe.PASCAL:oe.CAMEL}return oe.NO_CASE}(e),o=function(e,t,r){var n=e.toLowerCase().indexOf(t.toLowerCase());switch(r){case oe.SNAKE:return"_"===e[n-1];case oe.KEBAB:return"-"===e[n-1];case oe.PASCAL:case oe.CAMEL:return-1!==n&&e[n]===e[n].toUpperCase();default:return!1}}(e,t,a),s=function(e,t,r){var n=null;switch(r){case oe.SNAKE:n="_";break;case oe.KEBAB:n="-";break;case oe.PASCAL:case oe.CAMEL:n=/(?=[A-Z])/;break;default:n=null}var i=e.split(n);return t.toLowerCase().split("").reduce((function(e,t,r){var n=i[r];return e&&n&&n[0].toLowerCase()===t}),!0)}(e,t,a);return(e=e.toLowerCase())===(t=t.toLowerCase())?ae.EQUAL+a:0===e.indexOf(t)?ae.STARTS_WITH+a:-1!==e.indexOf(" "+t)?ae.WORD_STARTS_WITH+a:o?ae.STRING_CASE+a:a>0&&s?ae.STRING_CASE_ACRONYM+a:-1!==e.indexOf(t)?ae.CONTAINS+a:1===t.length?ae.NO_MATCH:-1!==(n=e,i="",n.split(" ").forEach((function(e){e.split("-").forEach((function(e){i+=e.substr(0,1)}))})),i).indexOf(t)?ae.ACRONYM+a:function(e,t){var r=0,n=0;function i(e,t,n){for(var i=n;i<t.length;i++){if(t[i]===e)return r+=1,i+1}return-1}var a=i(t[0],e,0);if(a<0)return ae.NO_MATCH;n=a;for(var o=1;o<t.length;o++){var s=t[o];if(!((n=i(s,e,n))>-1))return ae.NO_MATCH}return function(e){var n=r/t.length;return ae.MATCHES+n*(1/e)}(n-a)}(e,t)}function le(e,t){var r=e.rankedItem,n=e.rank,i=e.keyIndex,a=t.rankedItem,o=t.rank,s=t.keyIndex;return n===o?i===s?String(r).localeCompare(a):i<s?-1:1:n>o?-1:1}function fe(e,t){return e=""+e,t.keepDiacritics||(e=ee(e)),e}function pe(e){return"string"==typeof e&&(e={key:e}),ie({maxRanking:1/0,minRanking:-1/0},e)}se.rankings=ae,se.caseRankings=oe;var de=se,he=r("Egi+"),be=r.n(he);var ye=r("TE3c"),ve=r.n(ye);"undefined"!=typeof Link&&Link&&Link===Object(Link)&&Object.isExtensible(Link)&&!Link.hasOwnProperty("__filemeta")&&Object.defineProperty(Link,"__filemeta",{configurable:!0,value:{name:"Link",filename:"node_modules/docz/dist/index.esm.js"}});var me={layout:function(e){var t=e.children;return Object(a.createElement)(a.Fragment,null,t)},notFound:function(){return Object(a.createElement)(a.Fragment,null,"Not found")},playground:function(e){var t=e.component,r=e.code;return Object(a.createElement)("div",null,t,Object(a.createElement)("pre",null,r))}},ge=Object(a.createContext)(me),Oe=function(e){var t=e.components,r=void 0===t?{}:t,n=e.children;return Object(a.createElement)(ge.Provider,{value:Object.assign({},me,r)},n)},je=function(){return Object(a.useContext)(ge)};var we,_e,ke,xe,Se=(we={},ke=Object(a.createContext)(we),xe=new Set,{context:ke,set:function(e){return function(e){xe.forEach((function(t){return t(e)}))}(e)},Provider:(_e=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).state=t.props.initial||we||{},t}Object(n.a)(t,e),t.getDerivedStateFromProps=function(e,t){return u()(e.initial,t)?null:e.initial};var r=t.prototype;return r.componentDidMount=function(){var e=this;xe.add((function(t){return e.setState(t)}))},r.componentWillUnmount=function(){xe.clear()},r.render=function(){return Object(a.createElement)(ke.Provider,{value:this.state},this.props.children)},t}(a.Component),_e.displayName="DoczStateProvider",_e)}),Pe=function(){var e=Object(a.useContext)(Se.context),t=e.transform,r=e.config,n=e.themeConfig,i=void 0===n?{}:n,o=s()(i,r?r.themeConfig:{}),c=t?t(o):o;return Object.assign({},r,{themeConfig:c})},Ie=function(e){var t=e.componentName,r=e.fileName,n=je(),i=Object(a.useContext)(Se.context).props,o=i&&i.length>0&&i.find((function(e){return function(e,t){return!![r,"/"+e+".","/"+f()(e)+".","/"+S(e)+"."].find((function(e){return t.key.includes(e)}))}(t,e)})),s=b()("value",o)||[],c=v()(s),u=s.find((function(e){return e.displayName===t})),l=Object(a.useMemo)((function(){return I()({createElement:a.createElement,elements:n})}),[n]);return Object(a.useMemo)((function(){var e=b()("props",u||c);return d()((function(e){var t=b()("description",e);return t?g()("description",l(t).tree,e):e}))(e)}),[l,u||c])},Re=function(){var e=Object(a.useContext)(Se.context);return b()("currentEntry.value",e)},Me=function(e){var t=JSON.parse(e.data),r=t.type,n=t.payload,i=r.startsWith("state.")&&r.split(".")[1];i&&Se.set((function(e){var t;return Object.assign({},e,((t={})[i]=n,t))}))},Ee=function(e){Object(a.useEffect)((function(){if(e){var t=new WebSocket(e);return t.onmessage=Me,function(){return t.close()}}}),[])};function Te(e,t,r){return e<t?r?1:-1:e>t?r?-1:1:0}var Ae=function(){var e=Object(a.useContext)(Se.context).entries,t=(void 0===e?[]:e).map((function(e){return e.value}));return M()(t,(function(e,t){return Te(e.name,t.name)}))},Ce=function(e){return!e.menu},De=function(e,t){return t.filter(function(e){return function(t){return t.menu===e}}(e))},Le=function(e){var t,r,n=e.filter(Ce),i=(t=e,r="menu",Array.from(new Set(t.reduce((function(e,t){var n=b()(r)(t);return n?e.concat([n]):e}),[])))).map(function(e){return function(t){return{name:t,menu:De(t,e)}}}(e));return T()("name",i,n)},Fe=N()((function e(t){var r=function(e){return"string"==typeof e?{name:e}:e}(t);return Object.assign({},r,{id:r.id||$(),parent:b()("parent",r)||b()("parent",t),menu:Array.isArray(r.menu)?r.menu.map(e):r.menu})}),(function(e){return e.href||e.route?L()("menu",e):e})),Ne=function(e,t){void 0===t&&(t=[]);var r="string"!=typeof e?b()("name",e):e,n=t.findIndex((function(e){return e===r}));return-1!==n?n:1/0},Be=function(e,t){return e.name<t.name?-1:e.name>t.name?1:0},Ve=function e(t,r){var n;return void 0===r&&(r=[]),M()(t,(void 0===(n=r)&&(n=[]),function(e,t){var r=n.map((function(e){return e.name||e}));return Te(Ne(e,r),Ne(t,r))}),Be).map((function(t){if(!t.menu)return t;var n=r.find((function(e){return e.name===t.name})),i=n&&n.menu;return Object.assign({},t,{menu:i?e(t.menu,i):M()(t.menu,Be)})}))},Ue=function(e){var t=(e||{}).query,r=void 0===t?"":t,n=Object(a.useContext)(Se.context),i=n.entries,o=n.config;if(!i)return null;var s,c,u,l,f=i.map((function(e){return e.value})),p=Le(f),d=Object(a.useMemo)((function(){var t,r,n=function e(t,r){var n=t.map(Fe),i=r.map(Fe);return T()("name",n,i).map((function(t){if(!t.menu)return t;var r=i.find((function(e){return e.name===t.name})),n=r&&r.menu;return Object.assign({},t,{menu:n?e(t.menu,n):t.menu||r.menu})}))}(p,o.menu),i=Ve(n,o.menu);return t=i,(r=e&&e.filter)?t.filter(r).map((function(e){return e.menu?Object.assign({},e,{menu:e.menu.filter(r)}):e})):t}),[i,o]);return r&&r.length>0?(s=r,c=d.map((function(e){return[e].concat(e.menu||[])})),u=C()(2,c),l=Array.from(new Set(u)),de(l,s,{keys:["name"]})):d},ze=function(e,t){var r=Object(a.useRef)(t);return Object(a.useEffect)((function(){r.current=e})),r.current},qe="object"==typeof window,He=function(e,t){return{innerHeight:qe?window.innerHeight:t,innerWidth:qe?window.innerWidth:e,outerHeight:qe?window.outerHeight:t,outerWidth:qe?window.outerWidth:e}},Ge=function(e,t,r){void 0===e&&(e=300),void 0===t&&(t=1/0),void 0===r&&(r=1/0);var n=Object(a.useState)(He(r,r)),i=n[0],o=n[1],s=be()(e,(function(){return o(He(r,r))}));return Object(a.useEffect)((function(){return window.addEventListener("resize",s),function(){window.removeEventListener("resize",s)}}),[]),i},We=function(e){var t=e.className,r=e.children,n=e.style,i=e.wrapper,o=e.__scope,s=e.__position,c=e.__code,u=e.language,l=e.useScoping,f=je(),p=f.playground;return p?Object(a.createElement)(p,{components:f,component:r,className:t,style:n,wrapper:i,scope:o,position:s,code:c,language:u,useScoping:l}):null},Je=/(?:React\.)?(?:PropTypes\.)?objectOf\((?:React\.)?(?:PropTypes\.)?(\w+)\)/,$e=function(e){return function e(t){switch(t.name.toLowerCase()){case"instanceof":return"Class("+t.value+")";case"enum":return t.computed?t.value:t.value?t.value.map((function(e){return""+e.value})).join("  "):t.raw;case"union":return t.value?t.value.map((function(t){return""+e(t)})).join("  "):t.raw;case"array":return t.raw;case"arrayof":return"Array<"+e(t.value)+">";case"custom":if(-1!==t.raw.indexOf("function")||-1!==t.raw.indexOf("=>"))return"Custom(Function)";if(-1!==t.raw.toLowerCase().indexOf("objectof")){var r=t.raw.match(Je);return r&&r[1]?"ObjectOf("+ve()(r[1])+")":"ObjectOf"}return"Custom";case"bool":return"Boolean";case"func":return"Function";case"shape":var n=t.value,i={};return Object.keys(n).forEach((function(t){i[t]=e(n[t])})),JSON.stringify(i,null,2);default:return t.name}}(e)},Ze=function(e){var t=b()("name",e.flowType||e.type);if(!t)return null;var r=t.startsWith('"')||"enum"===t,n=r?"enum":t,i=b()("type.value",e);return n?r&&"string"==typeof i||!e.flowType&&!r&&!i||e.flowType&&!e.flowType.elements?n:e.flowType?$e(e.flowType):$e(e.type):null},Qe=function(e){var t=e.title,r=e.isToggle,n=e.isRaw,i=e.of,o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(e,["title","isToggle","isRaw","of"]),s=je().props,c=b()("__filemeta.filename",i),u=b()("__filemeta.name",i)||b()("displayName",i)||b()("name",i),l=Ie({componentName:u,fileName:c});return s?Object(a.createElement)(s,Object.assign({title:t,isRaw:n,isToggle:r,props:l,getPropType:Ze,of:i},o)):null};function Xe(e,t){return void 0===t&&(t=function(e){return e}),function(r){var n=Object(a.memo)((function(n){var i=n.db,o=n.currentEntry,s=n.children,c=Object.assign({},i,{currentEntry:o,themeConfig:e,transform:t});return Object(a.createElement)(Se.Provider,{initial:c},Object(a.createElement)(r,null,s))}));return n.displayName=r.displayName||"DoczTheme",n}}void 0!==Ge&&Ge&&Ge===Object(Ge)&&Object.isExtensible(Ge)&&!Ge.hasOwnProperty("__filemeta")&&Object.defineProperty(Ge,"__filemeta",{configurable:!0,value:{name:"useWindowSize",filename:"node_modules/docz/dist/index.esm.js"}}),void 0!==ze&&ze&&ze===Object(ze)&&Object.isExtensible(ze)&&!ze.hasOwnProperty("__filemeta")&&Object.defineProperty(ze,"__filemeta",{configurable:!0,value:{name:"usePrevious",filename:"node_modules/docz/dist/index.esm.js"}}),void 0!==Ue&&Ue&&Ue===Object(Ue)&&Object.isExtensible(Ue)&&!Ue.hasOwnProperty("__filemeta")&&Object.defineProperty(Ue,"__filemeta",{configurable:!0,value:{name:"useMenus",filename:"node_modules/docz/dist/index.esm.js"}}),void 0!==Ae&&Ae&&Ae===Object(Ae)&&Object.isExtensible(Ae)&&!Ae.hasOwnProperty("__filemeta")&&Object.defineProperty(Ae,"__filemeta",{configurable:!0,value:{name:"useDocs",filename:"node_modules/docz/dist/index.esm.js"}}),void 0!==Ee&&Ee&&Ee===Object(Ee)&&Object.isExtensible(Ee)&&!Ee.hasOwnProperty("__filemeta")&&Object.defineProperty(Ee,"__filemeta",{configurable:!0,value:{name:"useDataServer",filename:"node_modules/docz/dist/index.esm.js"}}),void 0!==Re&&Re&&Re===Object(Re)&&Object.isExtensible(Re)&&!Re.hasOwnProperty("__filemeta")&&Object.defineProperty(Re,"__filemeta",{configurable:!0,value:{name:"useCurrentDoc",filename:"node_modules/docz/dist/index.esm.js"}}),void 0!==Pe&&Pe&&Pe===Object(Pe)&&Object.isExtensible(Pe)&&!Pe.hasOwnProperty("__filemeta")&&Object.defineProperty(Pe,"__filemeta",{configurable:!0,value:{name:"useConfig",filename:"node_modules/docz/dist/index.esm.js"}}),void 0!==je&&je&&je===Object(je)&&Object.isExtensible(je)&&!je.hasOwnProperty("__filemeta")&&Object.defineProperty(je,"__filemeta",{configurable:!0,value:{name:"useComponents",filename:"node_modules/docz/dist/index.esm.js"}}),void 0!==Ie&&Ie&&Ie===Object(Ie)&&Object.isExtensible(Ie)&&!Ie.hasOwnProperty("__filemeta")&&Object.defineProperty(Ie,"__filemeta",{configurable:!0,value:{name:"useComponentProps",filename:"node_modules/docz/dist/index.esm.js"}}),void 0!==Xe&&Xe&&Xe===Object(Xe)&&Object.isExtensible(Xe)&&!Xe.hasOwnProperty("__filemeta")&&Object.defineProperty(Xe,"__filemeta",{configurable:!0,value:{name:"theme",filename:"node_modules/docz/dist/index.esm.js"}}),void 0!==Se&&Se&&Se===Object(Se)&&Object.isExtensible(Se)&&!Se.hasOwnProperty("__filemeta")&&Object.defineProperty(Se,"__filemeta",{configurable:!0,value:{name:"doczState",filename:"node_modules/docz/dist/index.esm.js"}}),void 0!==Qe&&Qe&&Qe===Object(Qe)&&Object.isExtensible(Qe)&&!Qe.hasOwnProperty("__filemeta")&&Object.defineProperty(Qe,"__filemeta",{configurable:!0,value:{name:"Props",filename:"node_modules/docz/dist/index.esm.js"}}),void 0!==We&&We&&We===Object(We)&&Object.isExtensible(We)&&!We.hasOwnProperty("__filemeta")&&Object.defineProperty(We,"__filemeta",{configurable:!0,value:{name:"Playground",filename:"node_modules/docz/dist/index.esm.js"}}),void 0!==Oe&&Oe&&Oe===Object(Oe)&&Object.isExtensible(Oe)&&!Oe.hasOwnProperty("__filemeta")&&Object.defineProperty(Oe,"__filemeta",{configurable:!0,value:{name:"ComponentsProvider",filename:"node_modules/docz/dist/index.esm.js"}})},ZFoF:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return o}));r("J4Pc");var n=r("7im+");function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){return e.vertexBuffers[t].size/function(e){return e[0].stride}(e.layout[t])}function s(e,t,r,n,a){var o=e.gl,s=e.capabilities.instancing;e.bindBuffer(r);var c,u=i(n);try{for(u.s();!(c=u.n()).done;){var l=c.value,f=t.get(l.name);void 0===f&&console.error("There is no location for vertex attribute '".concat(l.name,"' defined.")),l.baseInstance&&!l.divisor&&console.error("Vertex attribute '".concat(l.name,"' uses baseInstanceOffset without divisor."));var p=(a||(0+l.baseInstance?l.baseInstance:0))*l.stride;if(l.count<=4)o.vertexAttribPointer(f,l.count,l.type,l.normalized,l.stride,l.offset+p),o.enableVertexAttribArray(f),l.divisor>0&&s&&s.vertexAttribDivisor(f,l.divisor);else if(9===l.count)for(var d=0;d<3;d++)o.vertexAttribPointer(f+d,3,l.type,l.normalized,l.stride,l.offset+12*d+p),o.enableVertexAttribArray(f+d),l.divisor>0&&s&&s.vertexAttribDivisor(f+d,l.divisor);else if(16===l.count)for(var h=0;h<4;h++)o.vertexAttribPointer(f+h,4,l.type,l.normalized,l.stride,l.offset+16*h+p),o.enableVertexAttribArray(f+h),l.divisor>0&&s&&s.vertexAttribDivisor(f+h,l.divisor);else console.error("Unsupported vertex attribute element count: "+l.count)}}catch(b){u.e(b)}finally{u.f()}}function c(e,t,r,n){var a=e.gl,o=e.capabilities.instancing;e.bindBuffer(r);var s,c=i(n);try{for(c.s();!(s=c.n()).done;){var u=s.value,l=t.get(u.name);if(u.count<=4)a.disableVertexAttribArray(l),u.divisor&&u.divisor>0&&o&&o.vertexAttribDivisor(l,0);else if(9===u.count)for(var f=0;f<3;f++)a.disableVertexAttribArray(l+f),u.divisor&&u.divisor>0&&o&&o.vertexAttribDivisor(l+f,0);else if(16===u.count)for(var p=0;p<4;p++)a.disableVertexAttribArray(l+p),u.divisor&&u.divisor>0&&o&&o.vertexAttribDivisor(l+p,0);else console.error("Unsupported vertex attribute element count: "+u.count)}}catch(d){c.e(d)}finally{c.f()}e.unbindBuffer(34962)}function u(e){switch(e){case 6406:case 6409:case 36168:return 1;case 6410:case 32854:case 33325:case 32854:case 33189:return 2;case 6407:case 6402:return 3;case 6408:case 34041:case 33326:case 35898:case 33327:case 34041:return 4;case 33328:case 34842:return 8;case 34836:return 16;case 33776:case 33777:return.5;case 33778:case 33779:return 1;case 37488:case 37489:case 37492:case 37493:case 37494:case 37495:return.5;case 37490:case 37491:case 37496:case 37497:return 1}return 0}function l(e){if(Object(n.h)(e))return 0;if("descriptor"in e)return e.glName?l(e.descriptor):0;var t=e.internalFormat||"pixelFormat"in e&&e.pixelFormat;if(!t)return 0;var r="hasMipmap"in e&&e.hasMipmap?1.3:1,i=e.width*e.height;return u(t)*i*r}},ZOZe:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=(r("ZTBZ"),r("4VMI")),l=r("7im+"),f=r("xAIp"),p=(r("J4Pc"),r("wckI"),r("TM+E"),r("mp5+")),d=r("iaHD"),h=r("kJId"),b=r("YHXj"),y=r("OTJA"),v=r("AQ8/"),m=r("nd5+");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var O=function(e){Object(a.a)(r,e);var t=g(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).extent=null,i.features=null,i.geometryType="polyline",i.routeId=null,i.routeName=null,i.totalDriveTime=null,i.totalLength=null,i.totalTime=null,i}return Object(i.a)(r,[{key:"readFeatures",value:function(e,t){var r=this;(e||[]).forEach((function(e){r._decompressFeatureGeometry(e,t.summary.envelope.spatialReference)}));var n=b.a.fromJSON(t.spatialReference);return e.map((function(e){var t=u.a.fromJSON(e),r=e.geometry&&e.geometry.spatialReference;return t.geometry&&!r&&(Object(l.p)(t.geometry).spatialReference=n),t.strings=e.strings,t.events=(e.events||[]).map((function(t){var r=new u.a({geometry:new y.a({x:t.point.x,y:t.point.y,z:t.point.z,hasZ:void 0!==t.point.z,spatialReference:e.geometry&&e.geometry.spatialReference}),attributes:{ETA:t.ETA,arriveTimeUTC:t.arriveTimeUTC}});return r.strings=t.strings,r})),t}))}},{key:"mergedGeometry",get:function(){if(!this.features)return null;var e=this.features.map((function(e){var t=e.geometry;return Object(l.p)(t)})),t=this.get("extent.spatialReference");return this._mergePolylinesToSinglePath(e,t)}},{key:"strings",get:function(){return this.features.map((function(e){return e.strings}))}},{key:"_decompressFeatureGeometry",value:function(e,t){e.geometry=this._decompressGeometry(e.compressedGeometry,t)}},{key:"_decompressGeometry",value:function(e,t){var r,n,i,a,o,s,c,u,l=0,f=0,p=0,d=0,h=[],b=0,y=0,v=0;if((o=e.match(/((\+|\-)[^\+\-\|]+|\|)/g))||(o=[]),0===parseInt(o[b],32)){b=2;var m=parseInt(o[b],32);b++,s=parseInt(o[b],32),b++,1&m&&(y=o.indexOf("|")+1,c=parseInt(o[y],32),y++),2&m&&(v=o.indexOf("|",y)+1,u=parseInt(o[v],32),v++)}else s=parseInt(o[b],32),b++;for(;b<o.length&&"|"!==o[b];){r=parseInt(o[b],32)+l,b++,l=r,n=parseInt(o[b],32)+f,b++,f=n;var g=[r/s,n/s];y&&(a=parseInt(o[y],32)+p,y++,p=a,g.push(a/c)),v&&(i=parseInt(o[v],32)+d,v++,d=i,g.push(i/u)),h.push(g)}return{paths:[h],hasZ:y>0,hasM:v>0,spatialReference:t}}},{key:"_mergePolylinesToSinglePath",value:function(e,t){var r=[];(e||[]).forEach((function(e){e.paths.forEach((function(e){r=r.concat(e)}))}));var n=[],i=[0,0];return r.forEach((function(e){e[0]===i[0]&&e[1]===i[1]||(n.push(e),i=e)})),new v.a({paths:[n]},t)}}]),r}(h.default);Object(c.a)([Object(f.b)({type:m.a,json:{read:{source:"summary.envelope"}}})],O.prototype,"extent",void 0),Object(c.a)([Object(f.b)()],O.prototype,"features",void 0),Object(c.a)([Object(p.a)("features")],O.prototype,"readFeatures",null),Object(c.a)([Object(f.b)()],O.prototype,"geometryType",void 0),Object(c.a)([Object(f.b)({readOnly:!0})],O.prototype,"mergedGeometry",null),Object(c.a)([Object(f.b)()],O.prototype,"routeId",void 0),Object(c.a)([Object(f.b)()],O.prototype,"routeName",void 0),Object(c.a)([Object(f.b)({value:null,readOnly:!0})],O.prototype,"strings",null),Object(c.a)([Object(f.b)({json:{read:{source:"summary.totalDriveTime"}}})],O.prototype,"totalDriveTime",void 0),Object(c.a)([Object(f.b)({json:{read:{source:"summary.totalLength"}}})],O.prototype,"totalLength",void 0),Object(c.a)([Object(f.b)({json:{read:{source:"summary.totalTime"}}})],O.prototype,"totalTime",void 0);var j=O=Object(c.a)([Object(d.a)("esri.rest.support.DirectionsFeatureSet")],O);t.a=j},ZPUJ:function(e,t,r){"use strict";function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.hasM,i=e.hasZ;Array.isArray(t)?4!==t.length||n||i?3===t.length&&r&&!n?(i=!0,n=!1):3===t.length&&n&&i&&(n=!1,i=!1):(n=!0,i=!0):(i=!i&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=n}r.d(t,"a",(function(){return n}))},ZPhZ:function(e,t,r){var n=r("fRAL"),i=r("Sq4h"),a=r("ySkN"),o=r("97Yx"),s=r("XA32"),c=r("cud3"),u=r("s3UK");e.exports=function(e,t,r){var l=i(e);return function i(){for(var f=arguments.length,p=Array(f),d=f,h=s(i);d--;)p[d]=arguments[d];var b=f<3&&p[0]!==h&&p[f-1]!==h?[]:c(p,h);if((f-=b.length)<r)return o(e,t,a,i.placeholder,void 0,p,b,void 0,void 0,r-f);var y=this&&this!==u&&this instanceof i?l:e;return n(y,this,p)}}},ZTBZ:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("wckI"),i=r("nd5+"),a=r("DjXQ"),o=r("XeQg"),s=r("OTJA"),c=r("cFtQ"),u=r("AQ8/");r("YHXj"),r("lrNM"),r("aic5");var l={base:a.a,key:"type",typeMap:{extent:i.a,multipoint:o.a,point:s.a,polyline:u.a,polygon:c.a}};Object(n.k)(l)},ZV4S:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("WYis"),f=r("0n+b"),p=r("0fJP"),d=r("xAIp"),h=(r("wckI"),r("J4Pc"),r("TM+E"),r("iaHD"));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var y=n=function(e){Object(o.a)(r,e);var t=b(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).color=new l.a([0,0,0,1]),n}return Object(a.a)(r,[{key:"clone",value:function(){return new n(Object(p.a)({color:this.color}))}}]),r}(f.a);Object(u.a)([Object(d.b)({type:l.a,json:{write:!0}})],y.prototype,"color",void 0);var v=y=n=Object(u.a)([Object(h.a)("esri.webmap.background.ColorBackground")],y);t.a=v},ZWAC:function(e,t,r){"use strict";r.d(t,"a",(function(){return U}));var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("7i+s"),f=r("0n+b"),p=r("xAIp"),d=(r("J4Pc"),r("gljZ")),h=(r("TM+E"),r("vo12")),b=r("mp5+"),y=r("iaHD"),v=r("wckI"),m=r("s9cN"),g=r("SPOG"),O=r("+rqd"),j=(r("ZTBZ"),r("YHXj")),w=r("lrNM");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var k,x=n=function(e){Object(o.a)(r,e);var t=_(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="query-table",n}return Object(a.a)(r,[{key:"clone",value:function(){var e,t=this.workspaceId,r=this.query,i=this.oidFields,a=this.spatialReference,o=this.geometryType,s={workspaceId:t,query:r,oidFields:i,spatialReference:null!=(e=null==a?void 0:a.clone())?e:void 0,geometryType:o};return new n(s)}}]),r}(f.a);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}Object(u.a)([Object(h.a)({queryTable:"query-table"})],x.prototype,"type",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],x.prototype,"workspaceId",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],x.prototype,"query",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],x.prototype,"oidFields",void 0),Object(u.a)([Object(p.b)({type:j.a,json:{write:!0}})],x.prototype,"spatialReference",void 0),Object(u.a)([Object(h.a)(w.a)],x.prototype,"geometryType",void 0),x=n=Object(u.a)([Object(y.a)("esri.layers.support.source.QueryTableDataSource")],x);var P,I=k=function(e){Object(o.a)(r,e);var t=S(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="raster",n}return Object(a.a)(r,[{key:"clone",value:function(){var e=this.workspaceId,t=this.dataSourceName;return new k({workspaceId:e,dataSourceName:t})}}]),r}(f.a);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}Object(u.a)([Object(h.a)({raster:"raster"})],I.prototype,"type",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],I.prototype,"dataSourceName",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],I.prototype,"workspaceId",void 0),I=k=Object(u.a)([Object(y.a)("esri.layers.support.source.RasterDataSource")],I);var M,E,T=P=function(e){Object(o.a)(r,e);var t=R(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="table",n}return Object(a.a)(r,[{key:"clone",value:function(){var e=this.workspaceId,t=this.gdbVersion,r=this.dataSourceName;return new P({workspaceId:e,gdbVersion:t,dataSourceName:r})}}]),r}(f.a);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}Object(u.a)([Object(h.a)({table:"table"})],T.prototype,"type",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],T.prototype,"workspaceId",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],T.prototype,"gdbVersion",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],T.prototype,"dataSourceName",void 0),T=P=Object(u.a)([Object(y.a)("esri.layers.support.source.TableDataSource")],T);var C=Object(l.b)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"}),D=M=function(e){Object(o.a)(r,e);var t=A(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="join-table",n}return Object(a.a)(r,[{key:"readLeftTableSource",value:function(e,t,r){return F()(e,t,r)}},{key:"castLeftTableSource",value:function(e){return Object(v.k)(B(),e)}},{key:"readRightTableSource",value:function(e,t,r){return F()(e,t,r)}},{key:"castRightTableSource",value:function(e){return Object(v.k)(B(),e)}},{key:"clone",value:function(){var e,t,r=this.leftTableKey,n=this.rightTableKey,i=this.leftTableSource,a=this.rightTableSource,o=this.joinType,s={leftTableKey:r,rightTableKey:n,leftTableSource:null!=(e=null==i?void 0:i.clone())?e:void 0,rightTableSource:null!=(t=null==a?void 0:a.clone())?t:void 0,joinType:o};return new M(s)}}]),r}(f.a);Object(u.a)([Object(h.a)({joinTable:"join-table"})],D.prototype,"type",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],D.prototype,"leftTableKey",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],D.prototype,"rightTableKey",void 0),Object(u.a)([Object(p.b)({json:{write:!0}})],D.prototype,"leftTableSource",void 0),Object(u.a)([Object(b.a)("leftTableSource")],D.prototype,"readLeftTableSource",null),Object(u.a)([Object(d.a)("leftTableSource")],D.prototype,"castLeftTableSource",null),Object(u.a)([Object(p.b)({json:{write:!0}})],D.prototype,"rightTableSource",void 0),Object(u.a)([Object(b.a)("rightTableSource")],D.prototype,"readRightTableSource",null),Object(u.a)([Object(d.a)("rightTableSource")],D.prototype,"castRightTableSource",null),Object(u.a)([Object(h.a)(C)],D.prototype,"joinType",void 0),D=M=Object(u.a)([Object(y.a)("esri.layers.support.source.JoinTableDataSource")],D);var L=null;function F(){return L||(L=Object(m.b)({types:B()})),L}var N=null;function B(){return N||(N={key:"type",base:null,typeMap:{"data-layer":U,"map-layer":O.a}}),N}var V={key:"type",base:null,typeMap:{"join-table":D,"query-table":x,raster:I,table:T}},U=E=function(e){Object(o.a)(r,e);var t=A(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="data-layer",n}return Object(a.a)(r,[{key:"clone",value:function(){var e=this.fields,t=this.dataSource;return new E({fields:e,dataSource:t})}}]),r}(f.a);Object(u.a)([Object(h.a)({dataLayer:"data-layer"})],U.prototype,"type",void 0),Object(u.a)([Object(p.b)({type:[g.a],json:{write:!0}})],U.prototype,"fields",void 0),Object(u.a)([Object(p.b)({types:V,json:{write:!0}})],U.prototype,"dataSource",void 0),(U=E=Object(u.a)([Object(y.a)("esri.layers.support.source.DataLayerSource")],U)).from=Object(v.m)(U)},Zexz:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return o}));var n=r("a93R"),i=r("7Oqd"),a=r("YRFe"),o={key:"type",base:i.a,typeMap:{algorithmic:n.a,multipart:a.a}};function s(e){return e&&e.type?"algorithmic"===e.type?n.a.fromJSON(e):"multipart"===e.type?a.a.fromJSON(e):null:null}},ZjZ4:function(e,t,r){var n=r("IqJI");e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},ZkUl:function(e,t,r){"use strict";r.r(t),r.d(t,"startsWith",(function(){return a})),r.d(t,"pick",(function(){return o})),r.d(t,"match",(function(){return s})),r.d(t,"resolve",(function(){return c})),r.d(t,"insertParams",(function(){return u})),r.d(t,"validateRedirect",(function(){return l})),r.d(t,"shallowCompare",(function(){return g}));var n=r("+Ltg"),i=r.n(n),a=function(e,t){return e.substr(0,t.length)===t},o=function(e,t){for(var r=void 0,n=void 0,a=t.split("?")[0],o=y(a),s=""===o[0],c=b(e),u=0,l=c.length;u<l;u++){var p=!1,h=c[u].route;if(h.default)n={route:h,params:{},uri:t};else{for(var v=y(h.path),g={},O=Math.max(o.length,v.length),j=0;j<O;j++){var w=v[j],_=o[j];if(d(w)){g[w.slice(1)||"*"]=o.slice(j).map(decodeURIComponent).join("/");break}if(void 0===_){p=!0;break}var k=f.exec(w);if(k&&!s){-1===m.indexOf(k[1])||i()(!1);var x=decodeURIComponent(_);g[k[1]]=x}else if(w!==_){p=!0;break}}if(!p){r={route:h,params:g,uri:"/"+o.slice(0,j).join("/")};break}}}return r||n||null},s=function(e,t){return o([{path:e}],t)},c=function(e,t){if(a(e,"/"))return e;var r=e.split("?"),n=r[0],i=r[1],o=t.split("?")[0],s=y(n),c=y(o);if(""===s[0])return v(o,i);if(!a(s[0],".")){var u=c.concat(s).join("/");return v(("/"===o?"":"/")+u,i)}for(var l=c.concat(s),f=[],p=0,d=l.length;p<d;p++){var h=l[p];".."===h?f.pop():"."!==h&&f.push(h)}return v("/"+f.join("/"),i)},u=function(e,t){var r=e.split("?"),n=r[0],i=r[1],a=void 0===i?"":i,o="/"+y(n).map((function(e){var r=f.exec(e);return r?t[r[1]]:e})).join("/"),s=t.location,c=(s=void 0===s?{}:s).search,u=(void 0===c?"":c).split("?")[1]||"";return o=v(o,a,u)},l=function(e,t){var r=function(e){return p(e)};return y(e).filter(r).sort().join("/")===y(t).filter(r).sort().join("/")},f=/^:(.+)/,p=function(e){return f.test(e)},d=function(e){return e&&"*"===e[0]},h=function(e,t){return{route:e,score:e.default?0:y(e.path).reduce((function(e,t){return e+=4,!function(e){return""===e}(t)?p(t)?e+=2:d(t)?e-=5:e+=3:e+=1,e}),0),index:t}},b=function(e){return e.map(h).sort((function(e,t){return e.score<t.score?1:e.score>t.score?-1:e.index-t.index}))},y=function(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")},v=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e+((r=r.filter((function(e){return e&&e.length>0})))&&r.length>0?"?"+r.join("&"):"")},m=["uri","path"],g=function(e,t){var r=Object.keys(e);return r.length===Object.keys(t).length&&r.every((function(r){return t.hasOwnProperty(r)&&e[r]===t[r]}))}},Zs3A:function(e,t){var r="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n="["+r+"]",i="\\d+",a="[\\u2700-\\u27bf]",o="[a-z\\xdf-\\xf6\\xf8-\\xff]",s="[^\\ud800-\\udfff"+r+i+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",l="[A-Z\\xc0-\\xd6\\xd8-\\xde]",f="(?:"+o+"|"+s+")",p="(?:"+l+"|"+s+")",d="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",h="[\\ufe0e\\ufe0f]?"+d+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",c,u].join("|")+")[\\ufe0e\\ufe0f]?"+d+")*"),b="(?:"+[a,c,u].join("|")+")"+h,y=RegExp([l+"?"+o+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[n,l,"$"].join("|")+")",p+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[n,l+f,"$"].join("|")+")",l+"?"+f+"+(?:['](?:d|ll|m|re|s|t|ve))?",l+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",i,b].join("|"),"g");e.exports=function(e){return e.match(y)||[]}},a1Tm:function(e,t,r){"use strict";r.d(t,"a",(function(){return U})),r.d(t,"b",(function(){return x})),r.d(t,"c",(function(){return F})),r.d(t,"d",(function(){return L})),r.d(t,"e",(function(){return C})),r.d(t,"f",(function(){return N})),r.d(t,"g",(function(){return D})),r.d(t,"h",(function(){return p})),r.d(t,"i",(function(){return T})),r.d(t,"j",(function(){return z})),r.d(t,"k",(function(){return E})),r.d(t,"l",(function(){return I})),r.d(t,"m",(function(){return R})),r.d(t,"n",(function(){return M})),r.d(t,"o",(function(){return S})),r.d(t,"p",(function(){return P})),r.d(t,"q",(function(){return A}));var n=r("mK0O"),i=(r("J4Pc"),r("7i+s")),a=r("mHKk"),o=r("YHXj"),s=r("1xKk"),c=r("12QT"),u=r("tv5O");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=39.37,d=s.a.radius*Math.PI/200,h=/UNIT\[([^\]]+)\]\]$/i,b=u.a,y=/UNIT\[([^\]]+)\]/i,v=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),m=Object(i.b)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),g=function(e){return e*e},O=function(e){return e*e*e},j={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:g(.001)},"square-centimeters":{inBaseUnits:g(.01)},"square-decimeters":{inBaseUnits:g(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:g(1e3)},"square-inches":{inBaseUnits:g(.0254)},"square-feet":{inBaseUnits:g(.3048)},"square-yards":{inBaseUnits:g(.9144)},"square-miles":{inBaseUnits:g(1609.344)},"square-us-feet":{inBaseUnits:g(1200/3937)},acres:{inBaseUnits:.0015625*g(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*O(.001)},"cubic-centimeters":{inBaseUnits:1e3*O(.01)},"cubic-decimeters":{inBaseUnits:1e3*O(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*O(1e3)},"cubic-inches":{inBaseUnits:1e3*O(.0254)},"cubic-feet":{inBaseUnits:1e3*O(.3048)},"cubic-yards":{inBaseUnits:1e3*O(.9144)},"cubic-miles":{inBaseUnits:1e3*O(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},w=function(){var e={};for(var t in j)for(var r in j[t].units)e[r]=t;return e}();function _(e){var t=w[e];if(t)return t;throw new Error("unknown measure")}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t=t||_(e),j[t].baseUnit===e}function x(e,t,r){if(t===r)return e;var n=_(t);if(n!==_(r))throw new Error("incompatible units");var i=k(t,n)?e:function(e,t,r){return e*j[r].units[t].inBaseUnits}(e,t,n);return k(r,n)?i:function(e,t,r){return e/j[r].units[t].inBaseUnits}(i,r,n)}function S(e,t){return x(e,t,"meters")<3e3?"meters":"kilometers"}function P(e,t){return x(e,t,"meters")<1e5?"meters":"kilometers"}function I(e,t){return x(e,t,"feet")<1e3?"feet":"miles"}function R(e,t){return x(e,t,"feet")<1e5?"feet":"miles"}function M(e,t){return x(e,t,"square-meters")<3e6?"square-meters":"square-kilometers"}function E(e,t){return x(e,t,"square-feet")<1e6?"square-feet":"square-miles"}function T(e,t,r){return x(e,t,"meters")/(r*Math.PI/180)}function A(e){return m.fromJSON(e.toLowerCase())||null}function C(e){if(e&&"object"==typeof e&&!Object(c.f)(e))return 1;var t=L(e);return t>1e5?1:t}function D(e){return L(e)>=(e instanceof o.a?Object(a.e)(e).metersPerDegree:1e5)?"meters":N(e)}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.a.metersPerDegree;return F(e,!0)||t}function F(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=null;if(null!=e&&("object"==typeof e?(t=e.wkid,r=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(r=e)),t){if(Object(c.l)(t))return s.b.metersPerDegree;if(Object(c.m)(t))return s.c.metersPerDegree;!(i=b.values[b[t]])&&n&&v.has(t)&&(i=d)}else if(r)if(-1!==r.search(/^PROJCS/i)){var a=h.exec(r);a&&a[1]&&(i=parseFloat(a[1].split(",")[1]))}else if(-1!==r.search(/^GEOCCS/i)){var o=y.exec(r);o&&o[1]&&(i=parseFloat(o[1].split(",")[1]))}return i}function N(e){var t,r,n=null;if(null!=e&&("object"==typeof e?(t=e.wkid,r=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(r=e)),t)n=b.units[b[t]];else if(r&&-1!==r.search(/^PROJCS/i)){var i=h.exec(r);i&&i[1]&&(n=(i=/[\\"\\']{1}([^\\"\\']+)/.exec(i[1]))&&i[1])}return n?A(n):null}var B={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},V={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},U=Object(i.b)()(B),z=Object(i.b)()(V);Object(i.b)()(f(f({},B),V))},a1c8:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("TM+E"),o=r("pYN/"),s=r("Mp7X"),c=r("cY28"),u=a.a.getLogger("esri/views/webgl");function l(e){if(Object(c.b)()){var t=e.getError();if(t){var r=function(e,t){switch(t){case e.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case e.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case e.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case e.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case e.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case e.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}(e,t),n=(new Error).stack;u.error(new s.a("webgl-error","WebGL error occured",{message:r,stack:n}))}}}var f=r("B2Uc"),p=a.a.getLogger("esri.views.webgl.BufferObject"),d=function(){function e(t,r,i,a,o){Object(n.a)(this,e),this._context=t,this.bufferType=r,this.usage=i,this._glName=null,this._size=-1,this._indexType=void 0,t.instanceCounter.increment(f.b.Buffer,this),this._glName=this._context.gl.createBuffer(),l(this._context.gl),a&&this.setData(a,o)}return Object(i.a)(e,[{key:"glName",get:function(){return this._glName}},{key:"size",get:function(){return this._size}},{key:"indexType",get:function(){return this._indexType}},{key:"byteSize",get:function(){return 34962===this.bufferType?this._size:5125===this._indexType?4*this._size:2*this._size}},{key:"dispose",value:function(){var e;null!=(e=this._context)&&e.gl?(this._glName&&(this._context.gl.deleteBuffer(this._glName),this._glName=null),this._context.instanceCounter.decrement(f.b.Buffer,this),this._context=null):this._glName&&p.warn("Leaked WebGL buffer object")}},{key:"setData",value:function(e,t){if(e){if("number"==typeof e){if(e<0&&p.error("Buffer size cannot be negative!"),34963===this.bufferType&&t)switch(this._indexType=t,this._size=e,t){case 5123:e*=2;break;case 5125:e*=4}}else{var r=e.byteLength;Object(o.i)(e)&&(r/=2,this._indexType=5123),Object(o.j)(e)&&(r/=4,this._indexType=5125),this._size=r}var n=this._context.getBoundVAO();this._context.bindVAO(null),this._context.bindBuffer(this);var i=this._context.gl;i.bufferData(this.bufferType,e,this.usage),l(i),this._context.bindVAO(n)}}},{key:"setSubData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.byteLength;if(e){(t<0||t>=this._size)&&p.error("offset is out of range!");var i=t,a=r,s=n,c=e.byteLength;Object(o.i)(e)&&(c/=2,i*=2,a*=2,s*=2),Object(o.j)(e)&&(c/=4,i*=4,a*=4,s*=4),void 0===n&&(n=c-1),r>=n&&p.error("end must be bigger than start!"),t+r-n>this._size&&p.error("An attempt to write beyond the end of the buffer!");var u=this._context.getBoundVAO();this._context.bindVAO(null),this._context.bindBuffer(this);var f=this._context.gl,d=ArrayBuffer.isView(e)?e.buffer:e,h=0===a&&s===e.byteLength?d:d.slice(a,s);f.bufferSubData(this.bufferType,i,h),l(f),this._context.bindVAO(u)}}}],[{key:"createIndex",value:function(t,r,n,i){return new e(t,34963,r,n,i)}},{key:"createVertex",value:function(t,r,n){return new e(t,34962,r,n)}}]),e}();t.a=d},a7YA:function(e,t){e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},a93R:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("WYis"),f=r("0fJP"),p=r("xAIp"),d=r("wckI"),h=(r("J4Pc"),r("TM+E"),r("vo12")),b=r("iaHD"),y=r("7Oqd");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var m=n=function(e){Object(o.a)(r,e);var t=v(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).algorithm=null,n.fromColor=null,n.toColor=null,n.type="algorithmic",n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({fromColor:Object(f.a)(this.fromColor),toColor:Object(f.a)(this.toColor),algorithm:this.algorithm})}}]),r}(y.a);Object(u.a)([Object(h.a)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],m.prototype,"algorithm",void 0),Object(u.a)([Object(p.b)({type:l.a,json:{type:[d.a],write:!0}})],m.prototype,"fromColor",void 0),Object(u.a)([Object(p.b)({type:l.a,json:{type:[d.a],write:!0}})],m.prototype,"toColor",void 0),Object(u.a)([Object(p.b)({type:["algorithmic"]})],m.prototype,"type",void 0);var g=m=n=Object(u.a)([Object(b.a)("esri.rest.support.AlgorithmicColorRamp")],m);t.a=g},aBIM:function(e,t,r){var n=r("zcvR");e.exports=function(e){return n(this,e).get(e)}},aBkb:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("hisu"),i=r("1Y4V"),a=function e(t,r,i,a,o,s,c,u){Object(n.a)(this,e),this.createQuery=t,this.resultAvailable=r,this.getResult=i,this.disjoint=a,this.beginTimeElapsed=o,this.endTimeElapsed=s,this.createTimestamp=c,this.timestampBits=u};function o(e,t){if(t.disjointTimerQuery)return null;var r=e.getExtension("EXT_disjoint_timer_query_webgl2");return r&&Object(i.a)(e)?new a((function(){return e.createQuery()}),(function(t){return e.getQueryParameter(t,e.QUERY_RESULT_AVAILABLE)}),(function(t){return e.getQueryParameter(t,e.QUERY_RESULT)}),(function(){return e.getParameter(r.GPU_DISJOINT_EXT)}),(function(t){return e.beginQuery(r.TIME_ELAPSED_EXT,t)}),(function(){return e.endQuery(r.TIME_ELAPSED_EXT)}),(function(e){return r.queryCounterEXT(e,r.TIMESTAMP_EXT)}),(function(){return e.getQuery(r.TIMESTAMP_EXT,r.QUERY_COUNTER_BITS_EXT)})):(r=e.getExtension("EXT_disjoint_timer_query"))?new a((function(){return r.createQueryEXT()}),(function(e){return r.getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT)}),(function(e){return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)}),(function(){return e.getParameter(r.GPU_DISJOINT_EXT)}),(function(e){return r.beginQueryEXT(r.TIME_ELAPSED_EXT,e)}),(function(){return r.endQueryEXT(r.TIME_ELAPSED_EXT)}),(function(e){return r.queryCounterEXT(e,r.TIMESTAMP_EXT)}),(function(){return r.getQueryEXT(r.TIMESTAMP_EXT,r.QUERY_COUNTER_BITS_EXT)})):null}},aCmY:function(e,t){e.exports=function(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}},aD51:function(e,t,r){"use strict";r.d(t,"b",(function(){return I})),r.d(t,"a",(function(){return D})),r.d(t,"c",(function(){return C}));var n=r("7L9N"),i=r("ERkP");var a=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,r=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,t),this.tags.push(r)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{var a=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,a?0:i.cssRules.length)}catch(o){0}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var o=function(e){function t(e,t,n){var i=t.trim().split(h);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var c=s=0;for(t=[];s<a;++s)for(var u=0;u<o;++u)t[c++]=r(e[u]+" ",i[s],n).trim()}return t}function r(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(b,"$1"+e.trim());case 58:return e.trim()+t.replace(b,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(b,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function n(e,t,r,a){var o=e+";",s=2*t+3*r+4*a;if(944===s){e=o.indexOf(":",9)+1;var c=o.substring(e,o.length-1).trim();return c=o.substring(0,e).trim()+c+";",1===R||2===R&&i(c,1)?"-webkit-"+c+c:c}if(0===R||2===R&&!i(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(x,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(c=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+c+o;case 1005:return p.test(o)?o.replace(f,":-webkit-")+o.replace(f,":-moz-")+o:o;case 1e3:switch(t=(c=o.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=o.replace(g,"tb");break;case 232:c=o.replace(g,"tb-rl");break;case 220:c=o.replace(g,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+c+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(c=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:o=o.replace(c,"-webkit-"+c)+";"+o;break;case 207:case 102:o=o.replace(c,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(c,"-webkit-"+c)+";"+o.replace(c,"-ms-"+c+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return c=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+c+"-ms-flex-"+c+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(w,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(w,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?n(e.replace("stretch","fill-available"),t,r,a).replace(":fill-available",":stretch"):o.replace(c,"-webkit-"+c)+o.replace(c,"-moz-"+c.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===r+a&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+o}return o}function i(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),A(2!==t?n:n.replace(_,"$1"),r,t)}function a(e,t){var r=n(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(j," or ($1)").substring(4):"("+t+")"}function o(e,t,r,n,i,a,o,s,u,l){for(var f,p=0,d=t;p<T;++p)switch(f=E[p].call(c,e,d,r,n,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(A=null,e?"function"!=typeof e?R=1:(R=2,A=e):R=0),s}function c(e,r){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<T){var c=o(-1,r,s,s,P,S,0,0,0,0);void 0!==c&&"string"==typeof c&&(r=c)}var f=function e(r,s,c,f,p){for(var d,h,b,g,j,w=0,_=0,k=0,x=0,E=0,A=0,D=b=d=0,L=0,F=0,N=0,B=0,V=c.length,U=V-1,z="",q="",H="",G="";L<V;){if(h=c.charCodeAt(L),L===U&&0!==_+x+k+w&&(0!==_&&(h=47===_?10:47),x=k=w=0,V++,U++),0===_+x+k+w){if(L===U&&(0<F&&(z=z.replace(l,"")),0<z.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:z+=c.charAt(L)}h=59}switch(h){case 123:for(d=(z=z.trim()).charCodeAt(0),b=1,B=++L;L<V;){switch(h=c.charCodeAt(L)){case 123:b++;break;case 125:b--;break;case 47:switch(h=c.charCodeAt(L+1)){case 42:case 47:e:{for(D=L+1;D<U;++D)switch(c.charCodeAt(D)){case 47:if(42===h&&42===c.charCodeAt(D-1)&&L+2!==D){L=D+1;break e}break;case 10:if(47===h){L=D+1;break e}}L=D}}break;case 91:h++;case 40:h++;case 34:case 39:for(;L++<U&&c.charCodeAt(L)!==h;);}if(0===b)break;L++}switch(b=c.substring(B,L),0===d&&(d=(z=z.replace(u,"").trim()).charCodeAt(0)),d){case 64:switch(0<F&&(z=z.replace(l,"")),h=z.charCodeAt(1)){case 100:case 109:case 115:case 45:F=s;break;default:F=M}if(B=(b=e(s,F,b,h,p+1)).length,0<T&&(j=o(3,b,F=t(M,z,N),s,P,S,B,h,p,f),z=F.join(""),void 0!==j&&0===(B=(b=j.trim()).length)&&(h=0,b="")),0<B)switch(h){case 115:z=z.replace(O,a);case 100:case 109:case 45:b=z+"{"+b+"}";break;case 107:b=(z=z.replace(y,"$1 $2"))+"{"+b+"}",b=1===R||2===R&&i("@"+b,3)?"@-webkit-"+b+"@"+b:"@"+b;break;default:b=z+b,112===f&&(q+=b,b="")}else b="";break;default:b=e(s,t(s,z,N),b,f,p+1)}H+=b,b=N=F=D=d=0,z="",h=c.charCodeAt(++L);break;case 125:case 59:if(1<(B=(z=(0<F?z.replace(l,""):z).trim()).length))switch(0===D&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(B=(z=z.replace(" ",":")).length),0<T&&void 0!==(j=o(1,z,s,r,P,S,q.length,f,p,f))&&0===(B=(z=j.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),h=z.charCodeAt(1),d){case 0:break;case 64:if(105===h||99===h){G+=z+c.charAt(L);break}default:58!==z.charCodeAt(B-1)&&(q+=n(z,d,h,z.charCodeAt(2)))}N=F=D=d=0,z="",h=c.charCodeAt(++L)}}switch(h){case 13:case 10:47===_?_=0:0===1+d&&107!==f&&0<z.length&&(F=1,z+="\0"),0<T*C&&o(0,z,s,r,P,S,q.length,f,p,f),S=1,P++;break;case 59:case 125:if(0===_+x+k+w){S++;break}default:switch(S++,g=c.charAt(L),h){case 9:case 32:if(0===x+w+_)switch(E){case 44:case 58:case 9:case 32:g="";break;default:32!==h&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===x+_+w&&(F=N=1,g="\f"+g);break;case 108:if(0===x+_+w+I&&0<D)switch(L-D){case 2:112===E&&58===c.charCodeAt(L-3)&&(I=E);case 8:111===A&&(I=A)}break;case 58:0===x+_+w&&(D=L);break;case 44:0===_+k+x+w&&(F=1,g+="\r");break;case 34:case 39:0===_&&(x=x===h?0:0===x?h:x);break;case 91:0===x+_+k&&w++;break;case 93:0===x+_+k&&w--;break;case 41:0===x+_+w&&k--;break;case 40:if(0===x+_+w){if(0===d)switch(2*E+3*A){case 533:break;default:d=1}k++}break;case 64:0===_+k+x+w+D+b&&(b=1);break;case 42:case 47:if(!(0<x+w+k))switch(_){case 0:switch(2*h+3*c.charCodeAt(L+1)){case 235:_=47;break;case 220:B=L,_=42}break;case 42:47===h&&42===E&&B+2!==L&&(33===c.charCodeAt(B+2)&&(q+=c.substring(B,L+1)),g="",_=0)}}0===_&&(z+=g)}A=E,E=h,L++}if(0<(B=q.length)){if(F=s,0<T&&(void 0!==(j=o(2,q,F,r,P,S,B,f,p,f))&&0===(q=j).length))return G+q+H;if(q=F.join(",")+"{"+q+"}",0!=R*I){switch(2!==R||i(q,2)||(I=0),I){case 111:q=q.replace(m,":-moz-$1")+q;break;case 112:q=q.replace(v,"::-webkit-input-$1")+q.replace(v,"::-moz-$1")+q.replace(v,":-ms-input-$1")+q}I=0}}return G+q+H}(M,s,r,0,0);return 0<T&&(void 0!==(c=o(-2,f,s,s,P,S,f.length,0,0,0))&&(f=c)),"",I=0,S=P=1,f}var u=/^\0+/g,l=/[\0\r\f]/g,f=/: */g,p=/zoo|gra/,d=/([,: ])(transform)/g,h=/,\r+?/g,b=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,m=/:(read-only)/g,g=/[svh]\w+-[tblr]{2}/,O=/\(\s*(.*)\s*\)/g,j=/([\s\S]*?);/g,w=/-self|flex-/g,_=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,x=/([^-])(image-set\()/,S=1,P=1,I=0,R=1,M=[],E=[],T=0,A=null,C=0;return c.use=function e(t){switch(t){case void 0:case null:T=E.length=0;break;default:if("function"==typeof t)E[T++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else C=0|!!t}return e},c.set=s,void 0!==e&&s(e),c};function s(e){e&&c.current.insert(e+"}")}var c={current:null},u=function(e,t,r,n,i,a,o,u,l,f){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return c.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===u)return t+"/*|*/";break;case 3:switch(u){case 102:case 112:return c.current.insert(r[0]+t),"";default:return t+(0===f?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(s)}},l=function(e){void 0===e&&(e={});var t,r=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var n=new o(t);var i,s={};i=e.container||document.head;var l,f=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(f,(function(e){e.getAttribute("data-emotion-"+r).split(" ").forEach((function(e){s[e]=!0})),e.parentNode!==i&&i.appendChild(e)})),n.use(e.stylisPlugins)(u),l=function(e,t,r,i){var a=t.name;c.current=r,n(e,t.styles),i&&(p.inserted[a]=!0)};var p={key:r,sheet:new a({key:r,container:i,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p};r("QKC2");function f(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]):n+=r+" "})),n}var p=function(e,t,r){var n=e.key+"-"+t.name;if(!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+n,i,e.sheet,!0);i=i.next}while(void 0!==i)}};var d=function(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},h={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},b=r("M8e6"),y=/[A-Z]|^ms/g,v=/_EMO_([^_]+?)_([^]*?)_EMO_/g,m=function(e){return 45===e.charCodeAt(1)},g=function(e){return null!=e&&"boolean"!=typeof e},O=Object(b.a)((function(e){return m(e)?e:e.replace(y,"-$&").toLowerCase()})),j=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(v,(function(e,t,r){return _={name:t,styles:r,next:_},t}))}return 1===h[e]||m(e)||"number"!=typeof t||0===t?t:t+"px"};function w(e,t,r,n){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return _={name:r.name,styles:r.styles,next:_},r.name;if(void 0!==r.styles){var i=r.next;if(void 0!==i)for(;void 0!==i;)_={name:i.name,styles:i.styles,next:_},i=i.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=w(e,t,r[i],!1);else for(var a in r){var o=r[a];if("object"!=typeof o)null!=t&&void 0!==t[o]?n+=a+"{"+t[o]+"}":g(o)&&(n+=O(a)+":"+j(a,o)+";");else if(!Array.isArray(o)||"string"!=typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=w(e,t,o,!1);switch(a){case"animation":case"animationName":n+=O(a)+":"+s+";";break;default:n+=a+"{"+s+"}"}}else for(var c=0;c<o.length;c++)g(o[c])&&(n+=O(a)+":"+j(a,o[c])+";")}return n}(e,t,r);case"function":if(void 0!==e){var a=_,o=r(e);return _=a,w(e,t,o,n)}break;case"string":}if(null==t)return r;var s=t[r];return void 0===s||n?r:s}var _,k=/label:\s*([^\s;\n{]+)\s*;/g;var x=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,i="";_=void 0;var a=e[0];null==a||void 0===a.raw?(n=!1,i+=w(r,t,a,!1)):i+=a[0];for(var o=1;o<e.length;o++)i+=w(r,t,e[o],46===i.charCodeAt(i.length-1)),n&&(i+=a[o]);k.lastIndex=0;for(var s,c="";null!==(s=k.exec(i));)c+="-"+s[1];return{name:d(i)+c,styles:i,next:_}},S=Object.prototype.hasOwnProperty,P=Object(i.createContext)("undefined"!=typeof HTMLElement?l():null),I=Object(i.createContext)({}),R=(P.Provider,function(e){var t=function(t,r){return Object(i.createElement)(P.Consumer,null,(function(n){return e(t,n,r)}))};return Object(i.forwardRef)(t)}),M="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",E=function(e,t){var r={};for(var n in t)S.call(t,n)&&(r[n]=t[n]);return r[M]=e,r},T=function(e,t,r,n){var a=null===r?t.css:t.css(r);"string"==typeof a&&void 0!==e.registered[a]&&(a=e.registered[a]);var o=t[M],s=[a],c="";"string"==typeof t.className?c=f(e.registered,s,t.className):null!=t.className&&(c=t.className+" ");var u=x(s);p(e,u,"string"==typeof o);c+=e.key+"-"+u.name;var l={};for(var d in t)S.call(t,d)&&"css"!==d&&d!==M&&(l[d]=t[d]);return l.ref=n,l.className=c,Object(i.createElement)(o,l)},A=R((function(e,t,r){return"function"==typeof e.css?Object(i.createElement)(I.Consumer,null,(function(n){return T(t,e,n,r)})):T(t,e,null,r)}));var C=function(e,t){var r=arguments;if(null==t||!S.call(t,"css"))return i.createElement.apply(void 0,r);var n=r.length,a=new Array(n);a[0]=A,a[1]=E(e,t);for(var o=2;o<n;o++)a[o]=r[o];return i.createElement.apply(null,a)},D=R((function(e,t){var r=e.styles;if("function"==typeof r)return Object(i.createElement)(I.Consumer,null,(function(e){var n=x([r(e)]);return Object(i.createElement)(L,{serialized:n,cache:t})}));var n=x([r]);return Object(i.createElement)(L,{serialized:n,cache:t})})),L=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}Object(n.a)(t,e);var r=t.prototype;return r.componentDidMount=function(){this.sheet=new a({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},r.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},r.insertStyles=function(){if(void 0!==this.props.serialized.next&&p(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},r.componentWillUnmount=function(){this.sheet.flush()},r.render=function(){return null},t}(i.Component),F=function e(t){for(var r=t.length,n=0,i="";n<r;n++){var a=t[n];if(null!=a){var o=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))o=e(a);else for(var s in o="",a)a[s]&&s&&(o&&(o+=" "),o+=s);break;default:o=a}o&&(i&&(i+=" "),i+=o)}}return i};function N(e,t,r){var n=[],i=f(e,n,r);return n.length<2?r:i+t(n)}R((function(e,t){return Object(i.createElement)(I.Consumer,null,(function(r){var n=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=x(r,t.registered);return p(t,i,!1),t.key+"-"+i.name},i={css:n,cx:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return N(t.registered,n,F(r))},theme:r},a=e.children(i);return!0,a}))}))},aNYv:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("Cpn1");var i=r("TJjZ"),a=r("IoK0");function o(e,t){return Object(n.a)(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(c){s=!0,i=c}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},aZWO:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("hisu"),i=r("yBJb"),a=r("X6u8"),o=function(){function e(t,r){Object(n.a)(this,e),this._observers=t,this._observer=r}return Object(i.a)(e,[{key:"remove",value:function(){Object(a.i)(this._observers,this._observer)}}]),e}()},adv5:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r("Mp7X"),i=r("0fJP"),a=r("7im+"),o=r("67w/"),s=r("otWl"),c=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile"]),u=new Set(["csv","feature","geo-rss","group","imagery","imagery-tile","kml","map-image","map-notes","ogc-feature","tile","unknown","unsupported","vector-tile","web-tile","wfs"]);function l(e){return!("feature"!==e.type||e.url||!e.source||"memory"!==e.source.type)}function f(e,t){if(t.restrictedWebMapWriting){var r=function(e){return"basemap"===e.layerContainerType?c:"operational-layers"===e.layerContainerType?u:null}(t);return!Object(a.i)(r)||r.has(e.type)&&!l(e)}return!0}function p(e,t){"maxScale"in e&&(t.maxScale=Object(s.b)(e.maxScale)),"minScale"in e&&(t.minScale=Object(s.b)(e.minScale))}function d(e,t){if(function(e,t){if(l(e)){var r=Object(o.b)("featureCollection.layers",t),n=r&&r[0]&&r[0].layerDefinition;n&&p(e,n)}else"stream"===e.type?p(e,t.layerDefinition=t.layerDefinition||{}):"group"!==e.type&&p(e,t)}(e,t),"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=Object(s.b)(e.opacity),t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type)if(l(e)){var r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function h(e,t,r){if(!("write"in e)||!e.write)return r&&r.messages&&r.messages.push(new n.a("layer:unsupported","Layers (".concat(e.title,", ").concat(e.id,") of type '").concat(e.declaredClass,"' cannot be persisted"),{layer:e})),null;if(f(e,r)){var o={};return e.write(o,r)?o:null}return Object(a.i)(t)&&d(e,t=Object(i.a)(t)),t}},aic5:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return v})),r.d(t,"c",(function(){return b})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return d})),r.d(t,"h",(function(){return p}));var n=r("nd5+"),i=r("DjXQ"),a=r("XeQg"),o=r("OTJA"),s=r("cFtQ"),c=r("AQ8/");function u(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function l(e){return void 0!==e.points}function f(e){return void 0!==e.x&&void 0!==e.y}function p(e){return void 0!==e.paths}function d(e){return void 0!==e.rings}function h(e){return e?e instanceof i.a?e:f(e)?o.a.fromJSON(e):p(e)?c.a.fromJSON(e):d(e)?s.a.fromJSON(e):l(e)?a.a.fromJSON(e):u(e)?n.a.fromJSON(e):null:null}function b(e){return e?f(e)?"esriGeometryPoint":p(e)?"esriGeometryPolyline":d(e)?"esriGeometryPolygon":u(e)?"esriGeometryEnvelope":l(e)?"esriGeometryMultipoint":null:null}var y={esriGeometryPoint:o.a,esriGeometryPolyline:c.a,esriGeometryPolygon:s.a,esriGeometryEnvelope:n.a,esriGeometryMultipoint:a.a};function v(e){return e&&y[e]||null}},ajvB:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("EOw0");function o(e,t){e.delete(t)}var s=function(){function e(t,r,i){Object(n.a)(this,e),this.maxSize=t,this.tileInfoView=r,this.removedFunc=i,this._tilePerId=new Map,this._tileKeysPerLevel=[]}return Object(i.a)(e,[{key:"has",value:function(e){return this._tilePerId.has(e)}},{key:"get",value:function(e){return this._tilePerId.get(e)}},{key:"pop",value:function(e){var t=this._tilePerId.get(e);if(!t)return null;var r=t.key.level,n=this._tileKeysPerLevel[r];o(this._tilePerId,e);for(var i=0;i<n.length;i++)if(n[i].id===e){n.splice(i,1);break}return t.visible=!0,t}},{key:"add",value:function(e){e.visible=!1;var t=e.key,r=t.id;if(!this._tilePerId.has(r)){this._tilePerId.set(r,e);var n=t.level;this._tileKeysPerLevel[n]||(this._tileKeysPerLevel[n]=[]),this._tileKeysPerLevel[n].push(t)}}},{key:"prune",value:function(e,t,r){var n=this._tilePerId.size;if(!(n<=this.maxSize)){for(var i=this._tileKeysPerLevel.length-1;n>this.maxSize&&i>=0;)i!==e&&(n=this._pruneAroundCenterTile(n,t,r,i)),i--;n>this.maxSize&&(n=this._pruneAroundCenterTile(n,t,r,e))}}},{key:"_pruneAroundCenterTile",value:function(e,t,r,n){var i=this._tileKeysPerLevel[n];if(!i||0===i.length)return e;var o=this.tileInfoView.tileInfo,s=o.size,c=o.origin,u=r*s[0],l=r*s[1],f=[0,0],p=[0,0];for(i.sort((function(e,r){return f[0]=c.x+u*(e.col+.5),f[1]=c.y-l*(e.row+.5),p[0]=c.x+u*(r.col+.5),p[1]=c.y-l*(r.row+.5),Object(a.j)(f,t)-Object(a.j)(p,t)}));i.length>0;){var d=i.pop();if(this._removeTile(d.id),--e===this.maxSize)break}return e}},{key:"_removeTile",value:function(e){var t=this._tilePerId.get(e);this.removedFunc&&this.removedFunc(t),o(this._tilePerId,e)}}]),e}(),c=r("EGWc");function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=new(r("60x+").a)(0,0,0,0),p=new Map,d=[],h=[],b=function(){function e(t){var r=this;Object(n.a)(this,e),this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,this.resampling=null==t.resampling||!!t.resampling,t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),null!=t.buffer&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new s(t.cacheSize,this.tileInfoView,(function(e){r.releaseTile(e)})))}return Object(i.a)(e,[{key:"destroy",value:function(){this.tileIndex.clear()}},{key:"update",value:function(e){var t=this,r=this.resampling,n=this.tileIndex,i=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.coveragePolicy);if(h.length=0,d.length=0,p.clear(),i){var a=this.tileInfoView.tileInfo,o=a.minScale,s=a.maxScale,l=i.spans,b=i.lodInfo,y=b.level,v=e.state,m=v.scale,g=v.center,O=v.resolution,j=!e.stationary&&m>this._previousScale;if(this._previousScale=m,this.tiles.length=0,!r&&(m>o||m<s))return this.tiles.length=0,p.clear(),n.forEach((function(e){t.releaseTile(e)})),n.clear(),h.length=0,d.length=0,p.clear(),c.a.pool.release(i),!0;n.forEach((function(e){return e.visible=!0}));var w=0,_=0;if(l.length>0){var k,x=u(l);try{for(x.s();!(k=x.n()).done;)for(var S=k.value,P=S.row,I=S.colFrom,R=S.colTo,M=I;M<=R;M++){w++;var E=f.set(y,P,b.normalizeCol(M),b.getWorldForColumn(M)).id;if(n.has(E)){var T=n.get(E);T.isReady?(p.set(E,T),_++):j||this._addParentTile(E,p)}else{var A=void 0;if(this._tileCache&&this._tileCache.has(E)){if(A=this._tileCache.pop(E),this.tileIndex.set(E,A),A.isReady){p.set(E,A),_++;continue}}else A=this.acquireTile(f),this.tileIndex.set(E,A);j||this._addParentTile(E,p)}}}catch(q){x.e(q)}finally{x.f()}}var C=_===w;n.forEach((function(e,r){if(f.set(r),!p.has(r)){var n=t.tileInfoView.intersects(i,f),a="purge"===t.cachePolicy?f.level!==y:f.level>y;!n||!j&&C?!a&&n||d.push(r):e.isReady?h.push(r):a&&d.push(r)}}));var D,L=u(h);try{for(L.s();!(D=L.n()).done;){var F=D.value,N=n.get(F);N&&N.isReady&&p.set(F,N)}}catch(q){L.e(q)}finally{L.f()}var B,V=u(d);try{for(V.s();!(B=V.n()).done;){var U=B.value,z=n.get(U);this._tileCache?this._tileCache.add(z):this.releaseTile(z),n.delete(U)}}catch(q){V.e(q)}finally{V.f()}return p.forEach((function(e){return t.tiles.push(e)})),n.forEach((function(e){p.has(e.key.id)||(e.visible=!1)})),this._tileCache&&this._tileCache.prune(y,g,O),c.a.pool.release(i),p.clear(),C}}},{key:"clear",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.tileIndex;t&&r.forEach((function(t){e.releaseTile(t)})),r.clear()}},{key:"updateCacheSize",value:function(e){this._tileCache&&(this._tileCache.maxSize=e)}},{key:"_addParentTile",value:function(e,t){for(var r=e,n=null;r=this.tileInfoView.getTileParentId(r);)if(this.tileIndex.has(r)){if((n=this.tileIndex.get(r))&&n.isReady){t.has(n.key.id)||t.set(n.key.id,n);break}}else if(this._tileCache&&this._tileCache.has(r)&&(n=this._tileCache.pop(r),this.tileIndex.set(r,n),n&&n.isReady)){t.has(n.key.id)||t.set(n.key.id,n);break}}}]),e}();t.a=b},ax7y:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=(r("ZTBZ"),r("0n+b")),f=r("0fJP"),p=r("xAIp"),d=r("wckI"),h=(r("J4Pc"),r("TM+E"),r("iaHD")),b=r("jr4m"),y=r("ZWAC"),v=r("YHXj");function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var g=n=function(e){Object(o.a)(r,e);var t=m(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).dynamicDataSource=void 0,n.gdbVersion=null,n.geometryPrecision=void 0,n.historicMoment=null,n.maxAllowableOffset=void 0,n.objectIds=null,n.orderByFields=null,n.outFields=null,n.outSpatialReference=null,n.relationshipId=void 0,n.start=void 0,n.num=void 0,n.returnGeometry=!1,n.returnM=void 0,n.returnZ=void 0,n.where=null,n}return Object(a.a)(r,[{key:"_writeHistoricMoment",value:function(e,t){t.historicMoment=e&&e.getTime()}},{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}},{key:"clone",value:function(){return new n(Object(f.a)({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}}]),r}(l.a);Object(u.a)([Object(p.b)({type:y.a,json:{write:!0}})],g.prototype,"dynamicDataSource",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],g.prototype,"gdbVersion",void 0),Object(u.a)([Object(p.b)({type:Number,json:{write:!0}})],g.prototype,"geometryPrecision",void 0),Object(u.a)([Object(p.b)({type:Date})],g.prototype,"historicMoment",void 0),Object(u.a)([Object(b.a)("historicMoment")],g.prototype,"_writeHistoricMoment",null),Object(u.a)([Object(p.b)({type:Number,json:{write:!0}})],g.prototype,"maxAllowableOffset",void 0),Object(u.a)([Object(p.b)({type:[Number],json:{write:!0}})],g.prototype,"objectIds",void 0),Object(u.a)([Object(p.b)({type:[String],json:{write:!0}})],g.prototype,"orderByFields",void 0),Object(u.a)([Object(p.b)({type:[String],json:{write:!0}})],g.prototype,"outFields",void 0),Object(u.a)([Object(p.b)({type:v.a,json:{read:{source:"outSR"},write:{target:"outSR"}}})],g.prototype,"outSpatialReference",void 0),Object(u.a)([Object(p.b)({json:{write:!0}})],g.prototype,"relationshipId",void 0),Object(u.a)([Object(p.b)({type:Number,json:{read:{source:"resultOffset"}}})],g.prototype,"start",void 0),Object(u.a)([Object(b.a)("start"),Object(b.a)("num")],g.prototype,"writeStart",null),Object(u.a)([Object(p.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],g.prototype,"num",void 0),Object(u.a)([Object(p.b)({json:{write:!0}})],g.prototype,"returnGeometry",void 0),Object(u.a)([Object(p.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],g.prototype,"returnM",void 0),Object(u.a)([Object(p.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],g.prototype,"returnZ",void 0),Object(u.a)([Object(p.b)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],g.prototype,"where",void 0),(g=n=Object(u.a)([Object(h.a)("esri.rest.support.RelationshipQuery")],g)).from=Object(d.m)(g);var O=g;t.a=O},b2OE:function(e,t,r){var n=r("LSEb")(r("s3UK"),"Set");e.exports=n},bE7W:function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},bQwG:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return o}));var n=!0,i=32,a=1.5,o=200},bYeG:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return c}));var n=r("aNYv");r("12QT");function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){var r=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){var i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}return Math.sqrt(r*r+n*n)}function s(e,t,r){var n=e[0]+r*(t[0]-e[0]),i=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[n,i,e[2]+r*(t[2]-e[2])]:[n,i]}function c(e,t,r,i){var a=Object(n.a)(t,2),o=a[0],s=a[1],c=Object(n.a)(r[i],2),u=c[0],l=c[1],f=Object(n.a)(r[i+1],2),p=f[0]-u,d=f[1]-l,h=p*p+d*d,b=(o-u)*p+(s-l)*d,y=Math.min(1,Math.max(0,b/h));return e[0]=u+p*y,e[1]=l+d*y,e}function u(e,t){return s(e,t,.5)}function l(e,t,r){for(var n=e.length,i=0,a=0,o=0,s=0;s<n;s++){var c=e[s],u=e[(s+1)%n],l=2;i+=c[0]*u[1]-u[0]*c[1],c.length>2&&u.length>2&&r&&(a+=c[0]*u[2]-u[0]*c[2],l=3),c.length>l&&u.length>l&&t&&(o+=c[0]*u[l]-u[0]*c[l])}return i<=0&&a<=0&&o<=0}function f(e){if("rings"in e){var t,r=i(e.rings);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.length<3||n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]||n.push([n[0][0],n[0][1]])}}catch(o){r.e(o)}finally{r.f()}if(e.rings.length>0&&!l(e.rings[0],e.hasM,e.hasZ))for(var a=0;a<e.rings.length;++a)e.rings[a]=e.rings[a].reverse()}}},bim0:function(e,t,r){var n=r("yoW1"),i=r("B4Jh"),a=r("yqAG");e.exports=function(e,t){return a(i(e,t,n),e+"")}},bw5k:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("hZBP"),f=r("xAIp"),p=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var h=n=function(e){Object(o.a)(r,e);var t=d(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).x=0,e.y=0,e}return Object(a.a)(r,[{key:"clone",value:function(){return new n({x:this.x,y:this.y})}}]),r}(l.a);Object(u.a)([Object(f.b)({type:Number})],h.prototype,"x",void 0),Object(u.a)([Object(f.b)({type:Number})],h.prototype,"y",void 0);var b=h=n=Object(u.a)([Object(p.a)("esri.symbols.support.Symbol3DAnchorPosition2D")],h);t.b=b},"c+HS":function(e,t,r){"use strict";r.d(t,"a",(function(){return je})),r.d(t,"b",(function(){return xe})),r.d(t,"c",(function(){return _e})),r.d(t,"d",(function(){return Ae})),r.d(t,"e",(function(){return Ee})),r.d(t,"f",(function(){return Me})),r.d(t,"g",(function(){return Te})),r.d(t,"h",(function(){return we})),r.d(t,"i",(function(){return Re})),r.d(t,"j",(function(){return Ie})),r.d(t,"k",(function(){return ke}));r("F28z");var n,i,a=Function.prototype,o=Object.prototype,s=a.toString,c=o.hasOwnProperty,u=s.call(Object),l=o.toString,f=(n=Object.getPrototypeOf,i=Object,function(e){return n(i(e))});var p=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=l.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}(e))return!1;var t=f(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==u},d={exports:{}},h={},b={exports:{}},y={};function v(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var m=/javascript\s*\:/gim;y.whiteList=v(),y.getDefaultWhiteList=v,y.onAttr=function(e,t,r){},y.onIgnoreAttr=function(e,t,r){},y.safeAttrValue=function(e,t){return m.test(t)?"":t};var g={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}};var O=y,j=function(e,t){";"!==(e=g.trimRight(e))[e.length-1]&&(e+=";");var r=e.length,n=!1,i=0,a=0,o="";function s(){if(!n){var r=g.trim(e.slice(i,a)),s=r.indexOf(":");if(-1!==s){var c=g.trim(r.slice(0,s)),u=g.trim(r.slice(s+1));if(c){var l=t(i,o.length,c,u,r);l&&(o+=l+"; ")}}}i=a+1}for(;a<r;a++){var c=e[a];if("/"===c&&"*"===e[a+1]){var u=e.indexOf("*/",a+2);if(-1===u)break;i=(a=u+1)+1,n=!1}else"("===c?n=!0:")"===c?n=!1:";"===c?n||s():"\n"===c&&s()}return g.trim(o)};function w(e){return null==e}function _(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).whiteList=e.whiteList||O.whiteList,e.onAttr=e.onAttr||O.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||O.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||O.safeAttrValue,this.options=e}_.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onAttr,i=t.onIgnoreAttr,a=t.safeAttrValue;return j(e,(function(e,t,o,s,c){var u=r[o],l=!1;if(!0===u?l=u:"function"==typeof u?l=u(s):u instanceof RegExp&&(l=u.test(s)),!0!==l&&(l=!1),s=a(o,s)){var f,p={position:t,sourcePosition:e,source:c,isWhite:l};return l?w(f=n(o,s,p))?o+":"+s:f:w(f=i(o,s,p))?void 0:f}}))};var k=_;!function(e,t){var r=y,n=k;for(var i in(t=e.exports=function(e,t){return new n(t).process(e)}).FilterCSS=n,r)t[i]=r[i]}(b,b.exports);var x={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}},S=b.exports.FilterCSS,P=b.exports.getDefaultWhiteList,I=x;function R(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var M=new S;function E(e){return e.replace(T,"&lt;").replace(A,"&gt;")}var T=/</g,A=/>/g,C=/"/g,D=/&quot;/g,L=/&#([a-zA-Z0-9]*);?/gim,F=/&colon;?/gim,N=/&newline;?/gim,B=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,V=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,U=/u\s*r\s*l\s*\(.*/gi;function z(e){return e.replace(C,"&quot;")}function q(e){return e.replace(D,'"')}function H(e){return e.replace(L,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function G(e){return e.replace(F,":").replace(N," ")}function W(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return I.trim(t)}function J(e){return e=W(e=G(e=H(e=q(e))))}function $(e){return e=E(e=z(e))}var Z=/<!--[\s\S]*?-->/g;h.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},h.getDefaultWhiteList=R,h.onTag=function(e,t,r){},h.onIgnoreTag=function(e,t,r){},h.onTagAttr=function(e,t,r){},h.onIgnoreTagAttr=function(e,t,r){},h.safeAttrValue=function(e,t,r,n){if(r=J(r),"href"===t||"src"===t){if("#"===(r=I.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(B.lastIndex=0,B.test(r))return""}else if("style"===t){if(V.lastIndex=0,V.test(r))return"";if(U.lastIndex=0,U.test(r)&&(B.lastIndex=0,B.test(r)))return"";!1!==n&&(r=(n=n||M).process(r))}return r=$(r)},h.escapeHtml=E,h.escapeQuote=z,h.unescapeQuote=q,h.escapeHtmlEntities=H,h.escapeDangerHtml5Entities=G,h.clearNonPrintableCharacter=W,h.friendlyAttrValue=J,h.escapeAttrValue=$,h.onIgnoreTagStripAll=function(){return""},h.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),n=[],i=!1;return{onIgnoreTag:function(a,o,s){if(function(t){return!!r||-1!==I.indexOf(e,t)}(a)){if(s.isClosing){var c="[/removed]",u=s.position+c.length;return n.push([!1!==i?i:s.position,u]),i=!1,c}return i||(i=s.position),"[removed]"}return t(a,o,s)},remove:function(e){var t="",r=0;return I.forEach(n,(function(n){t+=e.slice(r,n[0]),r=n[1]})),t+=e.slice(r)}}},h.stripCommentTag=function(e){return e.replace(Z,"")},h.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},h.cssFilter=M,h.getDefaultCSSWhiteList=P;var Q={},X=x;function K(e){var t=X.spaceIndex(e);if(-1===t)var r=e.slice(1,-1);else r=e.slice(1,t+1);return"/"===(r=X.trim(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function Y(e){return"</"===e.slice(0,2)}var ee=/[^a-zA-Z0-9_:\.\-]/gim;function te(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function re(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function ne(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}Q.parseTag=function(e,t,r){var n="",i=0,a=!1,o=!1,s=0,c=e.length,u="",l="";e:for(s=0;s<c;s++){var f=e.charAt(s);if(!1===a){if("<"===f){a=s;continue}}else if(!1===o){if("<"===f){n+=r(e.slice(i,s)),a=s,i=s;continue}if(">"===f){n+=r(e.slice(i,a)),u=K(l=e.slice(a,s+1)),n+=t(a,n.length,u,l,Y(l)),i=s+1,a=!1;continue}if('"'===f||"'"===f)for(var p=1,d=e.charAt(s-p);""===d.trim()||"="===d;){if("="===d){o=f;continue e}d=e.charAt(s-++p)}}else if(f===o){o=!1;continue}}return i<e.length&&(n+=r(e.substr(i))),n},Q.parseAttr=function(e,t){var r=0,n=[],i=!1,a=e.length;function o(e,r){if(!((e=(e=X.trim(e)).replace(ee,"").toLowerCase()).length<1)){var i=t(e,r||"");i&&n.push(i)}}for(var s=0;s<a;s++){var c,u=e.charAt(s);if(!1!==i||"="!==u)if(!1===i||s!==r||'"'!==u&&"'"!==u||"="!==e.charAt(s-1))if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(c=te(e,s))){o(X.trim(e.slice(r,s))),i=!1,r=s+1;continue}s=c-1;continue}if(-1===(c=re(e,s-1))){o(i,ne(X.trim(e.slice(r,s)))),i=!1,r=s+1;continue}}else;else{if(-1===(c=e.indexOf(u,s+1)))break;o(i,X.trim(e.slice(r+1,c))),i=!1,r=(s=c)+1}else i=e.slice(r,s),r=s+1}return r<e.length&&(!1===i?o(e.slice(r)):o(i,ne(X.trim(e.slice(r))))),X.trim(n.join(" "))};var ie=b.exports.FilterCSS,ae=h,oe=Q,se=oe.parseTag,ce=oe.parseAttr,ue=x;function le(e){return null==e}function fe(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=ae.onIgnoreTagStripAll),e.whiteList=e.whiteList||ae.whiteList,e.onTag=e.onTag||ae.onTag,e.onTagAttr=e.onTagAttr||ae.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||ae.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||ae.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||ae.safeAttrValue,e.escapeHtml=e.escapeHtml||ae.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new ie(e.css))}fe.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onTag,i=t.onIgnoreTag,a=t.onTagAttr,o=t.onIgnoreTagAttr,s=t.safeAttrValue,c=t.escapeHtml,u=this.cssFilter;t.stripBlankChar&&(e=ae.stripBlankChar(e)),t.allowCommentTag||(e=ae.stripCommentTag(e));var l=!1;if(t.stripIgnoreTagBody){l=ae.StripTagBody(t.stripIgnoreTagBody,i);i=l.onIgnoreTag}var f=se(e,(function(e,t,l,f,p){var d,h={sourcePosition:e,position:t,isClosing:p,isWhite:r.hasOwnProperty(l)};if(!le(d=n(l,f,h)))return d;if(h.isWhite){if(h.isClosing)return"</"+l+">";var b=function(e){var t=ue.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=ue.trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=ue.trim(e.slice(0,-1))),{html:e,closing:r}}(f),y=r[l],v=ce(b.html,(function(e,t){var r,n=-1!==ue.indexOf(y,e);return le(r=a(l,e,t,n))?n?(t=s(l,e,t,u))?e+'="'+t+'"':e:le(r=o(l,e,t,n))?void 0:r:r}));f="<"+l;return v&&(f+=" "+v),b.closing&&(f+=" /"),f+=">"}return le(d=i(l,f,h))?c(f):d}),c);return l&&(f=l.remove(f)),f};var pe=fe;!function(e,t){var r=h,n=Q,i=pe;function a(e,t){return new i(t).process(e)}for(var o in(t=e.exports=a).filterXSS=a,t.FilterXSS=i,r)t[o]=r[o];for(var o in n)t[o]=n[o];"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(d,d.exports);var de,he,be=function(){function e(e,t){var r,n=this;this.arcgisWhiteList={a:["href","target","style"],abbr:["title"],img:["src","width","height","border","alt","style"],video:["autoplay","controls","height","loop","muted","poster","preload","width"],audio:["autoplay","controls","loop","muted","preload"],source:["media","src","type"],span:["style"],table:["width","height","cellpadding","cellspacing","border","style"],div:["style","align"],font:["size","color","style"],tr:["height","valign","align","style"],td:["height","width","valign","align","colspan","rowspan","nowrap","style"],th:["height","width","valign","align","colspan","rowspan","nowrap","style"],p:["style"],b:[],strong:[],i:[],em:[],u:[],br:[],li:[],ul:[],ol:[],hr:[],tbody:[]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,r,i){return"a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?n.sanitizeUrl(r):d.exports.safeAttrValue(e,t,r,i)}},e&&!t?r=e:e&&t?(r=Object.create(this.arcgisFilterOptions),Object.keys(e).forEach((function(t){"whiteList"===t?r.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,e.whiteList||{}]):r[t]=e[t]}))):(r=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=r,this._xssFilter=new d.exports.FilterXSS(r)}return e.prototype.sanitize=function(e,t){switch(void 0===t&&(t={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,t);default:if(t.allowUndefined&&void 0===e)return;return null}},e.prototype.sanitizeUrl=function(e){var t=this._trim(e.substring(0,e.indexOf(":")));return"/"===e||"#"===e||"#"===e[0]||this.allowedProtocols.indexOf(t.toLowerCase())>-1?d.exports.escapeAttrValue(e):""},e.prototype.sanitizeHTMLAttribute=function(e,t,r,n){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(e,t,r,n):d.exports.safeAttrValue(e,t,r,n)},e.prototype.validate=function(e,t){void 0===t&&(t={});var r=this.sanitize(e,t);return{isValid:e===r,sanitized:r}},e.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(r){Array.isArray(e[r])&&Array.isArray(t[r])?t[r]=t[r].concat(e[r]):t[r]=e[r]}))})),t},e.prototype._iterateOverObject=function(e,t){var r=this;void 0===t&&(t={});try{var n=!1,i=void 0;if(Array.isArray(e))i=e.reduce((function(e,i){var a=r.validate(i,t);return a.isValid?e.concat([i]):(n=!0,e.concat([a.sanitized]))}),[]);else{if(!p(e)){if(t.allowUndefined&&void 0===e)return;return null}i=Object.keys(e).reduce((function(i,a){var o=e[a],s=r.validate(o,t);return s.isValid?i[a]=o:(n=!0,i[a]=s.sanitized),i}),{})}return n?i:e}catch(a){return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},e}(),ye=r("p/dP"),ve=(r("J4Pc"),r("TM+E")),me=function(e){de||function(e){if("WebkitTransition"in e.style)de="webkitTransitionEnd",he="webkitAnimationEnd";else{if(!("transition"in e.style))throw new Error("Your browser is not supported!");de="transitionend",he="animationend"}}(e)},ge=function(e,t){return void 0===t&&(t=e+"-active"),function(r){me(r);var n=!1,i=function i(a){n||(n=!0,r.removeEventListener(de,i),r.removeEventListener(he,i),r.classList.remove(e),r.classList.remove(t))};r.classList.add(e),r.addEventListener(de,i),r.addEventListener(he,i),requestAnimationFrame((function(){r.classList.add(t)}))}},Oe=function(e,t){return void 0===t&&(t=e+"-active"),function(r,n){me(r);var i=!1,a=function e(t){i||(i=!0,r.removeEventListener(de,e),r.removeEventListener(he,e),n())};r.classList.add(e),r.addEventListener(de,a),r.addEventListener(he,a),requestAnimationFrame((function(){r.classList.add(t)}))}};function je(e){for(var t=ye.a.acquire(),r=0;r<arguments.length;r++){var n=arguments[r],i=typeof n;if("string"===i)t.push(n);else if(Array.isArray(n))t.push.apply(t,n);else if("object"===i)for(var a in n)n[a]&&t.push(a)}var o=t.join(" ");return ye.a.release(t),o}function we(){return"rtl"===document.dir}function _e(e){this[e.getAttribute("data-node-ref")]=null}function ke(e){this[e.getAttribute("data-node-ref")]=e}function xe(e,t){return("enter"===e?ge:Oe)(t)}ve.a.getLogger("esri.widgets.support.widgetUtils");var Se=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup"].concat(["animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"]).reduce((function(e,t){return e[t]=[],e}),{}),Pe=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Ie=new be({whiteList:Se,onTagAttr:function(e,t,r){var n="".concat(t,'="').concat(r,'"');if(Pe.includes(t))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Re(e,t){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),i=r.top+r.height,a=n.top+n.height,o=r.top,s=n.top;(i>a||o<s)&&e.scrollIntoView({block:"end"})}function Me(e){return"Enter"===e||" "===e}function Ee(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}function Te(){return Ee().startsWith("dark")}function Ae(){return"calcite-theme-"+(Te()?"dark":"light")}},c0EN:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("yPX3"),d=r("iVOX");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var b=n=function(e){Object(o.a)(r,e);var t=h(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="column-chart",n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),r}(p.a);Object(u.a)([Object(l.b)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:d.a.write}})],b.prototype,"type",void 0);var y=b=n=Object(u.a)([Object(f.a)("esri.popup.content.ColumnChartMediaInfo")],b);t.a=y},c2OK:function(e,t,r){var n=r("fVd2"),i=r("BKxz"),a=r("yqAG"),o=r("KAl/");e.exports=function(e,t,r){var s=t+"";return a(e,i(s,o(n(s),r)))}},c6bU:function(e,t,r){"use strict";var n,i=r("eijD"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("NthX"),f=r.n(l),p=r("dQW7"),d=r("WYis"),h=r("0fJP"),b=r("PVS0"),y=r("wckI"),v=(r("J4Pc"),r("TM+E")),m=r("vo12"),g=r("xAIp"),O=r("iaHD"),j=r("DuP7"),w=r("6yFL"),_=r("ql4C"),k=r("0n+b"),x=r("gljZ");function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var P=v.a.getLogger("esri.renderers.support.AttributeColorInfo"),I=n=function(e){Object(s.a)(r,e);var t=S(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).color=null,n.field=null,n.label=null,n.valueExpression=null,n.valueExpressionTitle=null,n}return Object(o.a)(r,[{key:"castField",value:function(e){return null==e?e:"function"==typeof e?(P.error(".field: field must be a string value"),null):Object(y.l)(e)}},{key:"getAttributeHash",value:function(){return"".concat(this.field,"-").concat(this.valueExpression)}},{key:"clone",value:function(){return new n({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}}]),r}(k.a);Object(p.a)([Object(g.b)({type:d.a,json:{type:[Number],write:!0}})],I.prototype,"color",void 0),Object(p.a)([Object(g.b)({type:String,json:{write:!0}})],I.prototype,"field",void 0),Object(p.a)([Object(x.a)("field")],I.prototype,"castField",null),Object(p.a)([Object(g.b)({type:String,json:{write:!0}})],I.prototype,"label",void 0),Object(p.a)([Object(g.b)({type:String,json:{write:!0}})],I.prototype,"valueExpression",void 0),Object(p.a)([Object(g.b)({type:String,json:{write:!0}})],I.prototype,"valueExpressionTitle",void 0);var R,M=I=n=Object(p.a)([Object(O.a)("esri.renderers.support.AttributeColorInfo")],I);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var T=R=function(e){Object(s.a)(r,e);var t=E(r);function r(){var e;return Object(a.a)(this,r),(e=t.apply(this,arguments)).unit=null,e}return Object(o.a)(r,[{key:"clone",value:function(){return new R({unit:this.unit})}}]),r}(k.a);Object(p.a)([Object(g.b)({type:String,json:{write:!0}})],T.prototype,"unit",void 0);var A,C=T=R=Object(p.a)([Object(O.a)("esri.renderers.support.DotDensityLegendOptions")],T),D=r("2d0T"),L=r("DKWO");function F(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var V=A=function(e){Object(s.a)(c,e);var t,r,n=B(c);function c(e){var t;return Object(a.a)(this,c),(t=n.call(this,e)).attributes=null,t.backgroundColor=new d.a([0,0,0,0]),t.blendDots=!0,t.dotBlendingEnabled=!0,t.dotShape="square",t.dotSize=1,t.legendOptions=null,t.outline=new L.a,t.dotValue=null,t.referenceDotValue=null,t.referenceScale=null,t.seed=1,t.type="dot-density",t}return Object(o.a)(c,[{key:"calculateDotValue",value:function(e){if(null==this.referenceScale)return this.dotValue;var t=e/this.referenceScale*this.dotValue;return t<1?1:t}},{key:"getSymbol",value:function(){return new D.a({outline:this.outline})}},{key:"getSymbolAsync",value:(r=Object(i.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getSymbol());case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getSymbols",value:function(){return[this.getSymbol()]}},{key:"getAttributeHash",value:function(){return this.attributes&&this.attributes.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return JSON.stringify(this.outline)}},{key:"clone",value:function(){return new A({attributes:Object(h.a)(this.attributes),backgroundColor:Object(h.a)(this.backgroundColor),dotBlendingEnabled:Object(h.a)(this.dotBlendingEnabled),dotShape:Object(h.a)(this.dotShape),dotSize:Object(h.a)(this.dotSize),dotValue:Object(h.a)(this.dotValue),legendOptions:Object(h.a)(this.legendOptions),outline:Object(h.a)(this.outline),referenceScale:Object(h.a)(this.referenceScale),visualVariables:Object(h.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}},{key:"getControllerHash",value:function(){return"".concat(this.attributes.map((function(e){return e.field||e.valueExpression||""})),"-").concat(this.outline&&JSON.stringify(this.outline.toJSON())||"")}},{key:"collectRequiredFields",value:(t=Object(i.a)(f.a.mark((function e(t,r){var n,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collectVVRequiredFields(t,r);case 2:n=F(this.attributes),e.prev=3,n.s();case 5:if((i=n.n()).done){e.next=14;break}if(a=i.value,e.t0=a.valueExpression,!e.t0){e.next=11;break}return e.next=11,Object(j.a)(t,r,a.valueExpression);case 11:a.field&&t.add(a.field);case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(3),n.e(e.t1);case 19:return e.prev=19,n.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[3,16,19,22]])}))),function(e,r){return t.apply(this,arguments)})}]),c}(Object(_.a)(w.a));Object(p.a)([Object(g.b)({type:[M],json:{write:!0}})],V.prototype,"attributes",void 0),Object(p.a)([Object(g.b)({type:d.a,json:{write:!0}})],V.prototype,"backgroundColor",void 0),Object(p.a)([Object(g.b)({type:Boolean}),Object(b.a)("dotBlendingEnabled")],V.prototype,"blendDots",void 0),Object(p.a)([Object(g.b)({type:Boolean,json:{write:!0}})],V.prototype,"dotBlendingEnabled",void 0),Object(p.a)([Object(g.b)({type:String,json:{write:!1}})],V.prototype,"dotShape",void 0),Object(p.a)([Object(g.b)({type:Number,json:{write:!1}})],V.prototype,"dotSize",void 0),Object(p.a)([Object(g.b)({type:C,json:{write:!0}})],V.prototype,"legendOptions",void 0),Object(p.a)([Object(g.b)({type:L.a,json:{default:null,write:!0}})],V.prototype,"outline",void 0),Object(p.a)([Object(g.b)({type:Number,json:{write:!0}})],V.prototype,"dotValue",void 0),Object(p.a)([Object(g.b)({type:Number}),Object(b.a)("dotValue")],V.prototype,"referenceDotValue",void 0),Object(p.a)([Object(g.b)({type:Number,json:{write:!0}})],V.prototype,"referenceScale",void 0),Object(p.a)([Object(g.b)({type:Number,json:{write:!0}})],V.prototype,"seed",void 0),Object(p.a)([Object(m.a)({dotDensity:"dot-density"})],V.prototype,"type",void 0);var U=V=A=Object(p.a)([Object(O.a)("esri.renderers.DotDensityRenderer")],V);t.a=U},cEAa:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r("mK0O"),i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("hZBP"),f=r("FYmP"),p=r("xAIp"),d=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),h=r("NRoO"),b=r("wetf");function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var g={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"},O=function(e){Object(o.a)(r,e);var t=m(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).scale=0,n}return Object(a.a)(r,[{key:"destroy",value:function(){this.layer=null}},{key:"dynamicLayers",get:function(){if(!this.hasDynamicLayers)return null;var e=this.visibleSublayers.map((function(e){return e.toExportImageJSON()}));return e.length?JSON.stringify(e):null}},{key:"hasDynamicLayers",get:function(){return this.layer&&Object(b.a)(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}},{key:"layer",set:function(e){var t=this;this._get("layer")!==e&&(this._set("layer",e),this.handles.remove("layer"),e&&this.handles.add([e.allSublayers.on("change",(function(){return t.notifyChange("visibleSublayers")})),e.on("sublayer-update",(function(e){return t.notifyChange(g[e.propertyName])}))],"layer"))}},{key:"layers",get:function(){var e=this.visibleSublayers;return e?e.length?"show:"+e.map((function(e){return e.id})).join(","):"show:-1":null}},{key:"layerDefs",get:function(){var e=this.visibleSublayers.filter((function(e){return null!=e.definitionExpression}));return e.length?JSON.stringify(e.reduce((function(e,t){return e[t.id]=t.definitionExpression,e}),{})):null}},{key:"version",get:function(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers"),this.commitProperty("timeExtent");var e=this.layer;return e&&(e.commitProperty("dpi"),e.commitProperty("imageFormat"),e.commitProperty("imageTransparency"),e.commitProperty("gdbVersion")),(this._get("version")||0)+1}},{key:"visibleSublayers",get:function(){var e=this,t=[];if(!this.layer)return t;var r=this.layer.sublayers;r&&r.forEach((function r(n){var i=e.scale,a=0===i,o=0===n.minScale||i<=n.minScale,s=0===n.maxScale||i>=n.maxScale;n.visible&&(a||o&&s)&&(n.sublayers?n.sublayers.forEach(r):t.unshift(n))}));var n=this._get("visibleSublayers");return!n||n.length!==t.length||n.some((function(e,r){return t[r]!==e}))?t:n}},{key:"toJSON",value:function(){var e=this.layer,t={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?t.dynamicLayers=this.dynamicLayers:t=v(v({},t),{},{layers:this.layers,layerDefs:this.layerDefs}),t}}]),r}(Object(f.b)(l.a));Object(u.a)([Object(p.b)({readOnly:!0})],O.prototype,"dynamicLayers",null),Object(u.a)([Object(p.b)({readOnly:!0})],O.prototype,"hasDynamicLayers",null),Object(u.a)([Object(p.b)()],O.prototype,"layer",null),Object(u.a)([Object(p.b)({readOnly:!0})],O.prototype,"layers",null),Object(u.a)([Object(p.b)({readOnly:!0})],O.prototype,"layerDefs",null),Object(u.a)([Object(p.b)({type:Number})],O.prototype,"scale",void 0),Object(u.a)([Object(p.b)(h.a)],O.prototype,"timeExtent",void 0),Object(u.a)([Object(p.b)({readOnly:!0})],O.prototype,"version",null),Object(u.a)([Object(p.b)({readOnly:!0})],O.prototype,"visibleSublayers",null),O=Object(u.a)([Object(d.a)("esri.layers.mixins.ExportImageParameters")],O)},cFtQ:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0fJP"),f=r("xAIp"),p=(r("wckI"),r("J4Pc"),r("TM+E"),r("iaHD")),d=r("jr4m"),h=r("nd5+"),b=r("DjXQ"),y=r("OTJA"),v=r("YHXj"),m=r("UjQs"),g=r("IZpe"),O=r("bYeG"),j=r("qCPK"),w=r("YC9x"),_=r("3p7a"),k=r("ZPUJ");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}function S(e){return!Array.isArray(e[0])}var P=n=function(e){Object(o.a)(r,e);var t=x(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).rings=[],e.type="polygon",e}return Object(a.a)(r,[{key:"normalizeCtorArgs",value:function(e,t){var r,n,i,a=null;return e&&!Array.isArray(e)?(a=e.rings?e.rings:null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,n=e.hasM):a=e,a=a||[],t=t||v.a.WGS84,a.length&&a[0]&&null!=a[0][0]&&"number"==typeof a[0][0]&&(a=[a]),(i=a[0]&&a[0][0])&&(void 0===r&&void 0===n?(r=i.length>2,n=i.length>3):void 0===r?r=n?i.length>3:i.length>2:void 0===n&&(n=r?i.length>3:i.length>2)),{rings:a,spatialReference:t,hasZ:r,hasM:n}}},{key:"cache",get:function(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}},{key:"centroid",get:function(){var e=Object(m.a)(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;var t=new y.a;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}},{key:"extent",get:function(){var e=this.spatialReference,t=Object(j.b)(this);if(!t)return null;var r=new h.a(t);return r.spatialReference=e,r}},{key:"isSelfIntersecting",get:function(){return Object(w.d)(this.rings)}},{key:"writeRings",value:function(e,t){t.rings=Object(l.a)(this.rings)}},{key:"addRing",value:function(e){if(e){var t=this.rings,r=t.length;if(S(e)){for(var n=[],i=0,a=e.length;i<a;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.concat();return this.notifyChange("rings"),this}}},{key:"clone",value:function(){var e=new n;return e.spatialReference=this.spatialReference,e.rings=Object(l.a)(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}},{key:"contains",value:function(e){return!!e&&(Object(_.a)(e,this.spatialReference)&&(e=Object(_.d)(e,this.spatialReference)),Object(g.g)(this,e))}},{key:"isClockwise",value:function(e){var t,r=this;return t=S(e)?e.map((function(e){return r.hasZ?r.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y]})):e,Object(O.d)(t,this.hasM,this.hasZ)}},{key:"getPoint",value:function(e,t){if(!this._validateInputs(e,t))return null;var r=this.rings[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new y.a(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new y.a(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new y.a(r[0],r[1],r[2],r[3],this.spatialReference):new y.a(r[0],r[1],this.spatialReference)}},{key:"insertPoint",value:function(e,t,r){return this._validateInputs(e,t,!0)?(Object(k.a)(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}},{key:"removePoint",value:function(e,t){if(!this._validateInputs(e,t))return null;var r=new y.a(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}},{key:"removeRing",value:function(e){if(!this._validateInputs(e,null))return null;var t=this.rings.splice(e,1)[0],r=this.spatialReference,n=t.map((function(e){return new y.a(e,r)}));return this.notifyChange("rings"),n}},{key:"setPoint",value:function(e,t,r){return this._validateInputs(e,t)?(Object(k.a)(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}},{key:"_validateInputs",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||e<0||e>=this.rings.length)return!1;if(null!=t){var n=this.rings[e];if(r&&(t<0||t>n.length))return!1;if(!r&&(t<0||t>=n.length))return!1}return!0}},{key:"toJSON",value:function(e){return this.write(null,e)}}],[{key:"fromExtent",value:function(e){var t=e.clone().normalize(),r=e.spatialReference,i=!1,a=!1;t.map((function(e){e.hasZ&&(i=!0),e.hasM&&(a=!0)}));var o={rings:t.map((function(e){var t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(i&&e.hasZ)for(var r=e.zmin+.5*(e.zmax-e.zmin),n=0;n<t.length;n++)t[n].push(r);if(a&&e.hasM)for(var o=e.mmin+.5*(e.mmax-e.mmin),s=0;s<t.length;s++)t[s].push(o);return t})),spatialReference:r};return i&&(o.hasZ=!0),a&&(o.hasM=!0),new n(o)}}]),r}(b.a);Object(u.a)([Object(f.b)({readOnly:!0})],P.prototype,"cache",null),Object(u.a)([Object(f.b)({readOnly:!0})],P.prototype,"centroid",null),Object(u.a)([Object(f.b)({readOnly:!0})],P.prototype,"extent",null),Object(u.a)([Object(f.b)({readOnly:!0})],P.prototype,"isSelfIntersecting",null),Object(u.a)([Object(f.b)({type:[[[Number]]],json:{write:{isRequired:!0}}})],P.prototype,"rings",void 0),Object(u.a)([Object(d.a)("rings")],P.prototype,"writeRings",null),(P=n=Object(u.a)([Object(p.a)("esri.geometry.Polygon")],P)).prototype.toJSON.isDefaultToJSON=!0;var I=P;t.a=I},cKN8:function(e,t,r){"use strict";r.d(t,"b",(function(){return g}));var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("7i+s"),f=r("0n+b"),p=r("xAIp"),d=(r("J4Pc"),r("wckI"),r("TM+E"),r("vo12")),h=r("iaHD"),b=r("9jes");function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var v=Object(l.b)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"}),m=n=function(e){Object(o.a)(r,e);var t=y(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(a.a)(r,[{key:"clone",value:function(){return new n({href:this.href,primitive:this.primitive})}}]),r}(f.a);Object(u.a)([Object(p.b)({type:String,json:{read:b.d,write:b.f}})],m.prototype,"href",void 0),Object(u.a)([Object(d.a)(v)],m.prototype,"primitive",void 0),m=n=Object(u.a)([Object(h.a)("esri.symbols.support.ObjectSymbol3DLayerResource")],m);var g="sphere",O=m;t.a=O},cSJ8:function(e,t,r){"use strict";function n(e,t){return void 0===t&&(t=""),t?e===t?"/":e.startsWith(t+"/")?e.slice(t.length):e:e}r.d(t,"a",(function(){return n}))},cTHi:function(e,t,r){var n=r("zXe4");e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},"cX/Y":function(e,t,r){"use strict";r.r(t);var n=r("ZFoC"),i=r("ueY8"),a=r("ERkP");t.default={Playground:n.c,Props:n.d,Map:i.a,React:a}},cY28:function(e,t,r){"use strict";r.d(t,"b",(function(){return j})),r.d(t,"c",(function(){return w}));var n=r("hisu"),i=r("yBJb"),a=r("J4Pc"),o=r("7im+"),s=r("B2Uc"),c=function(){function e(){for(Object(n.a)(this,e),this._current=new Array,this._max=new Array,this._allocations=new Map;this._current.length<s.b.COUNT;)this._current.push(0),this._max.push(0)}return Object(i.a)(e,[{key:"resetMax",value:function(){for(this._max.length=0;this._max.length<this._current.length;)this._max.push(0)}},{key:"increment",value:function(e,t){var r=++this._current[e];this._max[e]=Math.max(r,this._max[e])}},{key:"decrement",value:function(e,t){--this._current[e]}},{key:"max",get:function(){return this._max}},{key:"current",get:function(){return this._current}},{key:"total",get:function(){return this.current.reduce((function(e,t){return e+t}),0)}},{key:"printResourceCount",value:function(){if(this.total>0){console.log("Live objects:");for(var e=0;e<s.b.COUNT;++e){var t=this._current[e];t>0&&console.log("".concat(s.b[e],": ").concat(t))}}if(this._allocations.size>0){console.log("".concat(this._allocations.size," live object allocations:"));var r=new Map;this._allocations.forEach((function(e){var t;r.set(e,(null!=(t=r.get(e))?t:0)+1)})),r.forEach((function(e,t){return console.log(e," : ",t)}))}}}]),e}(),u=r("erkm"),l=r("0fR5"),f=r("1Y4V"),p=r("aBkb");function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){var r,n,i,a,o,s,c,u,l,d,h,b=t.disabledExtensions||{},v=t.debugWebGLExtensions||{},m=null,g=null,O=null,j=null;return{get drawBuffers(){return h||(h=function(e,t){if(t.disjointTimerQuery)return null;if(Object(f.a)(e))return{drawBuffers:e.drawBuffers.bind(e),MAX_DRAW_BUFFERS:e.MAX_DRAW_BUFFERS,MAX_COLOR_ATTACHMENTS:e.MAX_COLOR_ATTACHMENTS};if(t.drawBuffers)return null;var r=e.getExtension("WEBGL_draw_buffers");return r?{drawBuffers:r.drawBuffersWEBGL.bind(r),MAX_DRAW_BUFFERS:r.MAX_DRAW_BUFFERS_WEBGL,MAX_COLOR_ATTACHMENTS:r.MAX_COLOR_ATTACHMENTS_WEBGL}:null}(e,b)),h},get instancing(){return r||(r=function(e){if(Object(f.a)(e))return{drawArraysInstanced:e.drawArraysInstanced.bind(e),drawElementsInstanced:e.drawElementsInstanced.bind(e),vertexAttribDivisor:e.vertexAttribDivisor.bind(e)};var t=e.getExtension("ANGLE_instanced_arrays");return t?{drawArraysInstanced:t.drawArraysInstancedANGLE.bind(t),drawElementsInstanced:t.drawElementsInstancedANGLE.bind(t),vertexAttribDivisor:t.vertexAttribDivisorANGLE.bind(t)}:null}(e)),r},get vao(){return n||(n=function(e,t){if(Object(f.a)(e))return{createVertexArray:e.createVertexArray.bind(e),deleteVertexArray:e.deleteVertexArray.bind(e),bindVertexArray:e.bindVertexArray.bind(e)};if(t.vao)return null;var r=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object");return r?{createVertexArray:r.createVertexArrayOES.bind(r),deleteVertexArray:r.deleteVertexArrayOES.bind(r),bindVertexArray:r.bindVertexArrayOES.bind(r)}:null}(e,b)),n},get compressedTextureETC(){return i||(i=function(e,t){if(t.compressedTextureETC)return null;var r=e.getExtension("WEBGL_compressed_texture_etc");return r?{COMPRESSED_R11_EAC:r.COMPRESSED_R11_EAC,COMPRESSED_SIGNED_R11_EAC:r.COMPRESSED_SIGNED_R11_EAC,COMPRESSED_RG11_EAC:r.COMPRESSED_RG11_EAC,COMPRESSED_SIGNED_RG11_EAC:r.COMPRESSED_SIGNED_RG11_EAC,COMPRESSED_RGB8_ETC2:r.COMPRESSED_RGB8_ETC2,COMPRESSED_SRGB8_ETC2:r.COMPRESSED_SRGB8_ETC2,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:r.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:r.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,COMPRESSED_RGBA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC}:null}(e,b)),i},get compressedTextureS3TC(){return a||(a=function(e,t){if(t.compressedTextureS3TC)return null;var r=e.getExtension("WEBGL_compressed_texture_s3tc");return r?{COMPRESSED_RGB_S3TC_DXT1:r.COMPRESSED_RGB_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT1:r.COMPRESSED_RGBA_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT3:r.COMPRESSED_RGBA_S3TC_DXT3_EXT,COMPRESSED_RGBA_S3TC_DXT5:r.COMPRESSED_RGBA_S3TC_DXT5_EXT}:null}(e,b)),a},get textureFilterAnisotropic(){return o||(o=function(e,t){if(t.textureFilterAnisotropic)return null;var r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");return r?{MAX_TEXTURE_MAX_ANISOTROPY:r.MAX_TEXTURE_MAX_ANISOTROPY_EXT,TEXTURE_MAX_ANISOTROPY:r.TEXTURE_MAX_ANISOTROPY_EXT}:null}(e,b)),o},get disjointTimerQuery(){return s||(s=Object(p.a)(e,b)),s},get textureFloat(){return c||(c=function(e,t){if(Object(f.a)(e))return{textureFloat:!0,textureFloatLinear:!t.textureFloatLinear&&!!e.getExtension("OES_texture_float_linear"),textureHalfFloat:!0,textureHalfFloatLinear:!t.textureHalfFloatLinear&&!!e.getExtension("OES_texture_half_float_linear"),HALF_FLOAT:e.HALF_FLOAT};if(e instanceof WebGLRenderingContext){var r=!t.textureHalfFloat&&e.getExtension("OES_texture_half_float");return{textureFloat:!t.textureFloat&&!!e.getExtension("OES_texture_float"),textureFloatLinear:!t.textureFloatLinear&&!!e.getExtension("OES_texture_float_linear"),textureHalfFloat:!!r,textureHalfFloatLinear:!t.textureHalfFloatLinear&&!!e.getExtension("OES_texture_half_float_linear"),HALF_FLOAT:r?r.HALF_FLOAT_OES:void 0}}return null}(e,b)),c},get colorBufferFloat(){return u||(u=function(e,t){if(Object(f.a)(e)){var r=!t.colorBufferFloat&&e.getExtension("EXT_color_buffer_half_float"),n=!t.colorBufferFloat&&e.getExtension("EXT_color_buffer_float"),i=!t.colorBufferFloat&&e.getExtension("EXT_float_blend");return r||n||i?{textureFloat:!!n,textureHalfFloat:!!r,R16F:e.R16F,RG16F:e.RG16F,RGBA16F:e.RGBA16F,R32F:e.R32F,RG32F:e.RG32F,RGBA32F:e.RGBA32F,R11F_G11F_B10F:e.R11F_G11F_B10F,RGB16F:e.RGB16F}:null}if(e instanceof WebGLRenderingContext){var a=!t.colorBufferFloat&&e.getExtension("EXT_color_buffer_half_float"),o=!t.colorBufferFloat&&e.getExtension("WEBGL_color_buffer_float"),s=!t.colorBufferFloat&&e.getExtension("EXT_float_blend");return a||o||s?{textureFloat:!!o,textureHalfFloat:!!a,RGBA16F:a?a.RGBA16F_EXT:void 0,RGB16F:a?a.RGB16F_EXT:void 0,RGBA32F:o?o.RGBA32F_EXT:void 0}:null}return null}(e,b)),u},get blendMinMax(){return l||(l=function(e,t){if(Object(f.a)(e))return{MIN:e.MIN,MAX:e.MAX};if(t.blendMinMax)return null;var r=e.getExtension("EXT_blend_minmax");return r?{MIN:r.MIN_EXT,MAX:r.MAX_EXT}:null}(e,b)),l},get depthTexture(){return null===m&&(m=y(e,b,"depthTexture",!0,["WEBGL_depth_texture","MOZ_WEBGL_depth_texture","WEBKIT_WEBGL_depth_texture"])),m},get standardDerivatives(){return null===g&&(g=y(e,b,"standardDerivatives",!0,["OES_standard_derivatives"])),g},get shaderTextureLOD(){return null===O&&(O=y(e,b,"shaderTextureLOD",!0,["EXT_shader_texture_lod"])),O},get fragDepth(){return null===j&&(j=y(e,b,"fragDepth",!0,["EXT_frag_depth"])),j},get loseContext(){return d||(t=e,r=v.loseContext&&t.getExtension("WEBGL_lose_context"),d=r?{loseRenderingContext:function(){return r.loseContext()}}:null),d;var t,r},enable:function(e){return this[e]}}}function y(e,t,r,n,i){if(n&&Object(f.a)(e))return!0;if(t[r])return!1;var a,o=d(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(e.getExtension(s))return!0}}catch(c){o.e(c)}finally{o.f()}return!1}var v=function(){function e(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n.a)(this,e),this.gl=t,this.instanceCounter=new c,this._blendEnabled=!1,this._blendColorState={r:0,g:0,b:0,a:0},this._blendFunctionState={srcRGB:1,dstRGB:0,srcAlpha:1,dstAlpha:0},this._blendEquationState={mode:32774,modeAlpha:32774},this._colorMaskState={r:!0,g:!0,b:!0,a:!0},this._polygonCullingEnabled=!1,this._cullFace=1029,this._frontFace=2305,this._scissorTestEnabled=!1,this._scissorRect={x:0,y:0,width:0,height:0},this._depthTestEnabled=!1,this._depthFunction=513,this._clearDepth=1,this._depthWriteEnabled=!0,this._depthRange={zNear:0,zFar:1},this._viewport=null,this._stencilTestEnabled=!1,this._polygonOffsetFillEnabled=!1,this._polygonOffset=[0,0],this._stencilFunction={face:1032,func:519,ref:0,mask:1},this._clearStencil=0,this._stencilWriteMask=1,this._stencilOperation={face:1032,fail:7680,zFail:7680,zPass:7680},this._clearColor={r:0,g:0,b:0,a:0},this._activeShaderProgram=null,this._activeVertexBuffer=null,this._activeIndexBuffer=null,this._activeFramebuffer=null,this._activeRenderbuffer=null,this._activeTextureUnit=0,this._textureUnitMap=new Array,this._numOfDrawCalls=0,this._numOfTriangles=0,this.webglVersion=Object(f.a)(t)?"webgl2":"webgl",t instanceof WebGLRenderingContext&&this.gl.getExtension("OES_element_index_uint"),this._capabilities=b(t,i),this._parameters=this._loadParameters(i);var a=this.gl.getParameter(this.gl.VIEWPORT);this._viewport={x:a[0],y:a[1],width:a[2],height:a[3]},this._stateTracker=new u.a({setBlending:function(e){if(e){r.setBlendingEnabled(!0),r.setBlendEquationSeparate(e.opRgb,e.opAlpha),r.setBlendFunctionSeparate(e.srcRgb,e.dstRgb,e.srcAlpha,e.dstAlpha);var t=e.color;r.setBlendColor(t.r,t.g,t.b,t.a)}else r.setBlendingEnabled(!1)},setCulling:function(e){e?(r.setFaceCullingEnabled(!0),r.setCullFace(e.face),r.setFrontFace(e.mode)):r.setFaceCullingEnabled(!1)},setPolygonOffset:function(e){e?(r.setPolygonOffsetFillEnabled(!0),r.setPolygonOffset(e.factor,e.units)):r.setPolygonOffsetFillEnabled(!1)},setDepthTest:function(e){e?(r.setDepthTestEnabled(!0),r.setDepthFunction(e.func)):r.setDepthTestEnabled(!1)},setStencilTest:function(e){if(e){r.setStencilTestEnabled(!0);var t=e.function;r.setStencilFunction(t.func,t.ref,t.mask);var n=e.operation;r.setStencilOp(n.fail,n.zFail,n.zPass)}else r.setStencilTestEnabled(!1)},setDepthWrite:function(e){e?(r.setDepthWriteEnabled(!0),r.setDepthRange(e.zNear,e.zFar)):r.setDepthWriteEnabled(!1)},setColorWrite:function(e){e?r.setColorMask(e.r,e.g,e.b,e.a):r.setColorMask(!1,!1,!1,!1)},setStencilWrite:function(e){e?r.setStencilWriteMask(e.mask):r.setStencilWriteMask(0)}}),this.enforceState()}return Object(i.a)(e,[{key:"contextAttributes",get:function(){return this.gl.getContextAttributes()}},{key:"parameters",get:function(){return this._parameters}},{key:"dispose",value:function(){this.bindVAO(null),this.unbindBuffer(34962),this.unbindBuffer(34963),this._textureUnitMap.length=0,j()&&this.instanceCounter.printResourceCount()}},{key:"setPipelineState",value:function(e){this._stateTracker.setPipeline(e)}},{key:"setBlendingEnabled",value:function(e){this._blendEnabled!==e&&(!0===e?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND),this._blendEnabled=e,this._stateTracker.invalidateBlending())}},{key:"externalTextureUnitUpdate",value:function(e,t){for(var r=0;r<e.length;++r)this._textureUnitMap[e[r]]=null;t>=0&&(this._activeTextureUnit=t)}},{key:"externalVertexArrayObjectUpdate",value:function(){var e=this.capabilities.vao;e&&(e.bindVertexArray(null),this._activeVertexArrayObject=null),this._activeVertexBuffer=null,this._activeIndexBuffer=null}},{key:"externalVertexBufferUpdate",value:function(){this._activeVertexBuffer=null}},{key:"externalIndexBufferUpdate",value:function(){this._activeIndexBuffer=null}},{key:"setBlendColor",value:function(e,t,r,n){e===this._blendColorState.r&&t===this._blendColorState.g&&r===this._blendColorState.b&&n===this._blendColorState.a||(this.gl.blendColor(e,t,r,n),this._blendColorState.r=e,this._blendColorState.g=t,this._blendColorState.b=r,this._blendColorState.a=n,this._stateTracker.invalidateBlending())}},{key:"setBlendFunction",value:function(e,t){e===this._blendFunctionState.srcRGB&&t===this._blendFunctionState.dstRGB||(this.gl.blendFunc(e,t),this._blendFunctionState.srcRGB=e,this._blendFunctionState.srcAlpha=e,this._blendFunctionState.dstRGB=t,this._blendFunctionState.dstAlpha=t,this._stateTracker.invalidateBlending())}},{key:"setBlendFunctionSeparate",value:function(e,t,r,n){this._blendFunctionState.srcRGB===e&&this._blendFunctionState.srcAlpha===r&&this._blendFunctionState.dstRGB===t&&this._blendFunctionState.dstAlpha===n||(this.gl.blendFuncSeparate(e,t,r,n),this._blendFunctionState.srcRGB=e,this._blendFunctionState.srcAlpha=r,this._blendFunctionState.dstRGB=t,this._blendFunctionState.dstAlpha=n,this._stateTracker.invalidateBlending())}},{key:"setBlendEquation",value:function(e){this._blendEquationState.mode!==e&&(this.gl.blendEquation(e),this._blendEquationState.mode=e,this._blendEquationState.modeAlpha=e,this._stateTracker.invalidateBlending())}},{key:"setBlendEquationSeparate",value:function(e,t){this._blendEquationState.mode===e&&this._blendEquationState.modeAlpha===t||(this.gl.blendEquationSeparate(e,t),this._blendEquationState.mode=e,this._blendEquationState.modeAlpha=t,this._stateTracker.invalidateBlending())}},{key:"setColorMask",value:function(e,t,r,n){this._colorMaskState.r===e&&this._colorMaskState.g===t&&this._colorMaskState.b===r&&this._colorMaskState.a===n||(this.gl.colorMask(e,t,r,n),this._colorMaskState.r=e,this._colorMaskState.g=t,this._colorMaskState.b=r,this._colorMaskState.a=n,this._stateTracker.invalidateColorWrite())}},{key:"setClearColor",value:function(e,t,r,n){this._clearColor.r===e&&this._clearColor.g===t&&this._clearColor.b===r&&this._clearColor.a===n||(this.gl.clearColor(e,t,r,n),this._clearColor.r=e,this._clearColor.g=t,this._clearColor.b=r,this._clearColor.a=n)}},{key:"setFaceCullingEnabled",value:function(e){this._polygonCullingEnabled!==e&&(!0===e?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this._polygonCullingEnabled=e,this._stateTracker.invalidateCulling())}},{key:"setPolygonOffsetFillEnabled",value:function(e){this._polygonOffsetFillEnabled!==e&&(!0===e?this.gl.enable(this.gl.POLYGON_OFFSET_FILL):this.gl.disable(this.gl.POLYGON_OFFSET_FILL),this._polygonOffsetFillEnabled=e,this._stateTracker.invalidatePolygonOffset())}},{key:"setPolygonOffset",value:function(e,t){this._polygonOffset[0]===e&&this._polygonOffset[1]===t||(this._polygonOffset[0]=e,this._polygonOffset[1]=t,this.gl.polygonOffset(e,t),this._stateTracker.invalidatePolygonOffset())}},{key:"setCullFace",value:function(e){this._cullFace!==e&&(this.gl.cullFace(e),this._cullFace=e,this._stateTracker.invalidateCulling())}},{key:"setFrontFace",value:function(e){this._frontFace!==e&&(this.gl.frontFace(e),this._frontFace=e,this._stateTracker.invalidateCulling())}},{key:"setScissorTestEnabled",value:function(e){this._scissorTestEnabled!==e&&(!0===e?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this._scissorTestEnabled=e)}},{key:"setScissorRect",value:function(e,t,r,n){this._scissorRect.x===e&&this._scissorRect.y===t&&this._scissorRect.width===r&&this._scissorRect.height===n||(this.gl.scissor(e,t,r,n),this._scissorRect.x=e,this._scissorRect.y=t,this._scissorRect.width=r,this._scissorRect.height=n)}},{key:"setDepthTestEnabled",value:function(e){this._depthTestEnabled!==e&&(!0===e?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST),this._depthTestEnabled=e,this._stateTracker.invalidateDepthTest())}},{key:"setClearDepth",value:function(e){this._clearDepth!==e&&(this.gl.clearDepth(e),this._clearDepth=e)}},{key:"setDepthFunction",value:function(e){this._depthFunction!==e&&(this.gl.depthFunc(e),this._depthFunction=e,this._stateTracker.invalidateDepthTest())}},{key:"setDepthWriteEnabled",value:function(e){this._depthWriteEnabled!==e&&(this.gl.depthMask(e),this._depthWriteEnabled=e,this._stateTracker.invalidateDepthWrite())}},{key:"setDepthRange",value:function(e,t){this._depthRange.zNear===e&&this._depthRange.zFar===t||(this.gl.depthRange(e,t),this._depthRange.zNear=e,this._depthRange.zFar=t,this._stateTracker.invalidateDepthWrite())}},{key:"setStencilTestEnabled",value:function(e){this._stencilTestEnabled!==e&&(!0===e?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST),this._stencilTestEnabled=e,this._stateTracker.invalidateStencilTest())}},{key:"setClearStencil",value:function(e){e!==this._clearStencil&&(this.gl.clearStencil(e),this._clearStencil=e)}},{key:"setStencilFunction",value:function(e,t,r){this._stencilFunction.func===e&&this._stencilFunction.ref===t&&this._stencilFunction.mask===r||(this.gl.stencilFunc(e,t,r),this._stencilFunction.face=1032,this._stencilFunction.func=e,this._stencilFunction.ref=t,this._stencilFunction.mask=r,this._stateTracker.invalidateStencilTest())}},{key:"setStencilFunctionSeparate",value:function(e,t,r,n){this._stencilFunction.face===e&&this._stencilFunction.func===t&&this._stencilFunction.ref===r&&this._stencilFunction.mask===n||(this.gl.stencilFuncSeparate(e,t,r,n),this._stencilFunction.face=e,this._stencilFunction.func=t,this._stencilFunction.ref=r,this._stencilFunction.mask=n,this._stateTracker.invalidateStencilTest())}},{key:"setStencilWriteMask",value:function(e){this._stencilWriteMask!==e&&(this.gl.stencilMask(e),this._stencilWriteMask=e,this._stateTracker.invalidateStencilWrite())}},{key:"setStencilOp",value:function(e,t,r){this._stencilOperation.fail===e&&this._stencilOperation.zFail===t&&this._stencilOperation.zPass===r||(this.gl.stencilOp(e,t,r),this._stencilOperation.face=1032,this._stencilOperation.fail=e,this._stencilOperation.zFail=t,this._stencilOperation.zPass=r,this._stateTracker.invalidateStencilTest())}},{key:"setStencilOpSeparate",value:function(e,t,r,n){this._stencilOperation.face===e&&this._stencilOperation.fail===t&&this._stencilOperation.zFail===r&&this._stencilOperation.zPass===n||(this.gl.stencilOpSeparate(e,t,r,n),this._stencilOperation.face=e,this._stencilOperation.face=e,this._stencilOperation.fail=t,this._stencilOperation.zFail=r,this._stencilOperation.zPass=n,this._stateTracker.invalidateStencilTest())}},{key:"setActiveTexture",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this._activeTextureUnit;return e>=0&&(t||e!==this._activeTextureUnit)&&(this.gl.activeTexture(s.a+e),this._activeTextureUnit=e),r}},{key:"clear",value:function(e){e&&this.gl.clear(e)}},{key:"clearSafe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;e&&(16384&e&&this.setColorMask(!0,!0,!0,!0),256&e&&this.setDepthWriteEnabled(!0),1024&e&&this.setStencilWriteMask(t),this.gl.clear(e))}},{key:"drawArrays",value:function(e,t,r){j()&&(this._numOfDrawCalls++,this._numOfTriangles+=g(e,r)),this.gl.drawArrays(e,t,r)}},{key:"drawElements",value:function(e,t,r,n){j()&&(this._numOfDrawCalls++,this._numOfTriangles+=g(e,t)),this.gl.drawElements(e,t,r,n)}},{key:"logIno",value:function(){j()&&console.log("DrawCalls: ".concat(this._numOfDrawCalls,", Triangles: ").concat(this._numOfTriangles))}},{key:"capabilities",get:function(){return this._capabilities}},{key:"setViewport",value:function(e,t,r,n){r=Math.max(Math.round(r),1),n=Math.max(Math.round(n),1);var i=this._viewport;i.x===e&&i.y===t&&i.width===r&&i.height===n||(i.x=e,i.y=t,i.width=r,i.height=n,this.gl.viewport(e,t,r,n))}},{key:"getViewport",value:function(){return{x:this._viewport.x,y:this._viewport.y,width:this._viewport.width,height:this._viewport.height}}},{key:"useProgram",value:function(e){var t,r;if(!e)return null==(r=this._activeShaderProgram)||r.stop(),this._activeShaderProgram=null,void this.gl.useProgram(null);this._activeShaderProgram!==e&&(null==(t=this._activeShaderProgram)||t.stop(),this._activeShaderProgram=e,this.gl.useProgram(e.glName))}},{key:"bindTexture",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(t>=this.parameters.maxTextureImageUnits||t<0)&&console.error("Input texture unit is out of range of available units!");var n=this._textureUnitMap[t];return this.setActiveTexture(t,r),Object(o.h)(e)||null==e.glName?(Object(o.i)(n)&&this.gl.bindTexture(n.descriptor.target,null),this._textureUnitMap[t]=null,n):r||n!==e?(this.gl.bindTexture(e.descriptor.target,e.glName),e.applyChanges(),this._textureUnitMap[t]=e,n):(e.applyChanges(),n)}},{key:"unbindTextureAllUnits",value:function(e){for(var t=0;t<this.parameters.maxTextureImageUnits;t++)this._textureUnitMap[t]===e&&(this.bindTexture(null,t),this._textureUnitMap[t]=null)}},{key:"bindFramebuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Object(o.h)(e))return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),void(this._activeFramebuffer=null);(t||this._activeFramebuffer!==e)&&(e.initializeAndBind(),this._activeFramebuffer=e)}},{key:"bindBuffer",value:function(e){e&&(34962===e.bufferType?this._activeVertexBuffer=m(this.gl,e,e.bufferType,this._activeVertexBuffer):this._activeIndexBuffer=m(this.gl,e,e.bufferType,this._activeIndexBuffer))}},{key:"bindRenderbuffer",value:function(e){var t=this.gl;e||(t.bindRenderbuffer(t.RENDERBUFFER,null),this._activeRenderbuffer=null),this._activeRenderbuffer!==e&&(t.bindRenderbuffer(t.RENDERBUFFER,e.glName),this._activeRenderbuffer=e)}},{key:"unbindBuffer",value:function(e){34962===e?this._activeVertexBuffer=m(this.gl,null,e,this._activeVertexBuffer):this._activeIndexBuffer=m(this.gl,null,e,this._activeIndexBuffer)}},{key:"bindVAO",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(o.h)(e)?this._activeVertexArrayObject&&(this._activeVertexArrayObject.unbind(),this._activeVertexArrayObject=null):this._activeVertexArrayObject!==e&&(e.bind(),this._activeVertexArrayObject=e)}},{key:"getBoundFramebufferObject",value:function(){return this._activeFramebuffer}},{key:"getBoundVAO",value:function(){return this._activeVertexArrayObject}},{key:"resetState",value:function(){this.useProgram(null),this.bindVAO(null),this.bindFramebuffer(null),this.unbindBuffer(34962),this.unbindBuffer(34963);for(var e=0;e<this.parameters.maxTextureImageUnits;++e)this.bindTexture(null,e);this.setBlendingEnabled(!1),this.setBlendFunction(1,0),this.setBlendEquation(32774),this.setBlendColor(0,0,0,0),this.setFaceCullingEnabled(!1),this.setCullFace(1029),this.setFrontFace(2305),this.setPolygonOffsetFillEnabled(!1),this.setPolygonOffset(0,0),this.setScissorTestEnabled(!1),this.setScissorRect(0,0,this.gl.canvas.width,this.gl.canvas.height),this.setDepthTestEnabled(!1),this.setDepthFunction(513),this.setDepthRange(0,1),this.setStencilTestEnabled(!1),this.setStencilFunction(519,0,0),this.setStencilOp(7680,7680,7680),this.setClearColor(0,0,0,0),this.setClearDepth(1),this.setClearStencil(0),this.setColorMask(!0,!0,!0,!0),this.setStencilWriteMask(4294967295),this.setDepthWriteEnabled(!0),this.setViewport(0,0,this.gl.canvas.width,this.gl.canvas.height)}},{key:"enforceState",value:function(){var e=this.gl,t=this.capabilities.vao;t&&t.bindVertexArray(null);for(var r=0;r<this.parameters.maxVertexAttributes;r++)e.disableVertexAttribArray(r);if(this._activeVertexBuffer?e.bindBuffer(this._activeVertexBuffer.bufferType,this._activeVertexBuffer.glName):e.bindBuffer(34962,null),this._activeIndexBuffer?e.bindBuffer(this._activeIndexBuffer.bufferType,this._activeIndexBuffer.glName):e.bindBuffer(34963,null),t&&this._activeVertexArrayObject){var n=this._activeVertexArrayObject;this._activeVertexArrayObject&&(this._activeVertexArrayObject.unbind(),this._activeVertexArrayObject=null),this.bindVAO(n)}e.bindFramebuffer(e.FRAMEBUFFER,this._activeFramebuffer?this._activeFramebuffer.glName:null),e.useProgram(this._activeShaderProgram?this._activeShaderProgram.glName:null),e.blendColor(this._blendColorState.r,this._blendColorState.g,this._blendColorState.b,this._blendColorState.a),e.bindRenderbuffer(e.RENDERBUFFER,this._activeRenderbuffer?this._activeRenderbuffer.glName:null),!0===this._blendEnabled?e.enable(this.gl.BLEND):e.disable(this.gl.BLEND),e.blendEquationSeparate(this._blendEquationState.mode,this._blendEquationState.modeAlpha),e.blendFuncSeparate(this._blendFunctionState.srcRGB,this._blendFunctionState.dstRGB,this._blendFunctionState.srcAlpha,this._blendFunctionState.dstAlpha),e.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a),e.clearDepth(this._clearDepth),e.clearStencil(this._clearStencil),e.colorMask(this._colorMaskState.r,this._colorMaskState.g,this._colorMaskState.b,this._colorMaskState.a),e.cullFace(this._cullFace),e.depthFunc(this._depthFunction),e.depthRange(this._depthRange.zNear,this._depthRange.zFar),!0===this._depthTestEnabled?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),e.depthMask(this._depthWriteEnabled),e.frontFace(this._frontFace),e.lineWidth(1),!0===this._polygonCullingEnabled?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),e.polygonOffset(this._polygonOffset[0],this._polygonOffset[1]),!0===this._polygonOffsetFillEnabled?e.enable(e.POLYGON_OFFSET_FILL):e.disable(e.POLYGON_OFFSET_FILL),e.scissor(this._scissorRect.x,this._scissorRect.y,this._scissorRect.width,this._scissorRect.height),!0===this._scissorTestEnabled?e.enable(e.SCISSOR_TEST):e.disable(e.SCISSOR_TEST),e.stencilFunc(this._stencilFunction.func,this._stencilFunction.ref,this._stencilFunction.mask),e.stencilOpSeparate(this._stencilOperation.face,this._stencilOperation.fail,this._stencilOperation.zFail,this._stencilOperation.zPass),!0===this._stencilTestEnabled?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),e.stencilMask(this._stencilWriteMask);for(var i=0;i<this.parameters.maxTextureImageUnits;i++){e.activeTexture(s.a+i),e.bindTexture(3553,null),Object(f.a)(e)&&e.bindTexture(32879,null);var a=this._textureUnitMap[i];Object(o.i)(a)&&e.bindTexture(a.descriptor.target,a.glName)}e.activeTexture(s.a+this._activeTextureUnit),e.viewport(this._viewport.x,this._viewport.y,this._viewport.width,this._viewport.height),j()&&(this._numOfDrawCalls=0,this._numOfTriangles=0)}},{key:"_loadParameters",value:function(e){var t,r=this.capabilities.textureFilterAnisotropic,n=null!=(t=e.maxAnisotropy)?t:1/0,i={versionString:this.gl.getParameter(this.gl.VERSION),maxVertexTextureImageUnits:this.gl.getParameter(this.gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxVertexAttributes:this.gl.getParameter(this.gl.MAX_VERTEX_ATTRIBS),maxMaxAnisotropy:r?Math.min(this.gl.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY),n):1,maxTextureImageUnits:this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),maxTextureSize:this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE)};return l.a.TEXTURE_UNIT_FOR_UPDATES=i.maxTextureImageUnits-1,i}}]),e}();function m(e,t,r,n){return t?n!==t&&e.bindBuffer(r,t.glName):e.bindBuffer(r,null),t}function g(e,t){switch(e){case 0:return 2*t;case 4:return t/3;case 5:case 6:return t-2;default:return 0}}var O=!!Object(a.a)("enable-feature:webgl-debug");function j(){return O}function w(){return O}t.a=v},ccBF:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return y})),r.d(t,"e",(function(){return d})),r.d(t,"f",(function(){return h})),r.d(t,"g",(function(){return g})),r.d(t,"h",(function(){return O})),r.d(t,"i",(function(){return v})),r.d(t,"j",(function(){return b})),r.d(t,"k",(function(){return a})),r.d(t,"l",(function(){return m}));var n=r("p0eS");function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function a(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function o(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function s(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function c(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function u(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function l(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function f(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+a*a)}function p(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return r*r+n*n+i*i+a*a}function d(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function h(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function b(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r*r+n*n+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=r*o,e[1]=n*o,e[2]=i*o,e[3]=a*o),e}function y(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function v(e,t,r,n){var i=t[0],a=t[1],o=t[2],s=t[3];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e[2]=o+n*(r[2]-o),e[3]=s+n*(r[3]-s),e}function m(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,e[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,e[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,e[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,e}function g(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function O(e,t){var r=e[0],i=e[1],a=e[2],o=e[3],s=t[0],c=t[1],u=t[2],l=t[3];return Math.abs(r-s)<=n.a*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-c)<=n.a*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-u)<=n.a*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(o-l)<=n.a*Math.max(1,Math.abs(o),Math.abs(l))}var j=s,w=c,_=u,k=f,x=p,S=d,P=h;Object.freeze({__proto__:null,copy:i,set:a,add:o,subtract:s,multiply:c,divide:u,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:l,scaleAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e},distance:f,squaredDistance:p,length:d,squaredLength:h,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},normalize:b,dot:y,lerp:v,random:function(e,t){var r,i,a,o,s,c;t=t||1;do{s=(r=2*Object(n.b)()-1)*r+(i=2*Object(n.b)()-1)*i}while(s>=1);do{c=(a=2*Object(n.b)()-1)*a+(o=2*Object(n.b)()-1)*o}while(c>=1);var u=Math.sqrt((1-s)/c);return e[0]=t*r,e[1]=t*i,e[2]=t*a*u,e[3]=t*o*u,e},transformMat4:m,transformQuat:function(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],s=r[1],c=r[2],u=r[3],l=u*n+s*a-c*i,f=u*i+c*n-o*a,p=u*a+o*i-s*n,d=-o*n-s*i-c*a;return e[0]=l*u+d*-o+f*-c-p*-s,e[1]=f*u+d*-s+p*-o-l*-c,e[2]=p*u+d*-c+l*-s-f*-o,e[3]=t[3],e},str:function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},exactEquals:g,equals:O,sub:j,mul:w,div:_,dist:k,sqrDist:x,len:S,sqrLen:P})},ckUF:function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},clxC:function(e,t,r){var n=r("G5hJ"),i=r("+iL7");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},cm7J:function(e,t,r){var n=r("dIZa");e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},cud3:function(e,t){e.exports=function(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r];o!==t&&"__lodash_placeholder__"!==o||(e[r]="__lodash_placeholder__",a[i++]=r)}return a}},czn3:function(e,t,r){"use strict";var n=r("vdEC"),i=r("63Ad");t.__esModule=!0,t.ScrollHandler=t.ScrollContext=void 0;var a=i(r("T1e2")),o=i(r("QKC2")),s=n(r("ERkP")),c=i(r("W0B4")),u=r("TRAi"),l=s.createContext(new u.SessionStorage);t.ScrollContext=l,l.displayName="GatsbyScrollContext";var f=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this)._stateStorage=new u.SessionStorage,t.scrollListener=function(){var e=t.props.location.key;e&&t._stateStorage.save(t.props.location,e,window.scrollY)},t.windowScroll=function(e,r){t.shouldUpdateScroll(r,t.props)&&window.scrollTo(0,e)},t.scrollToHash=function(e,r){var n=document.getElementById(e.substring(1));n&&t.shouldUpdateScroll(r,t.props)&&n.scrollIntoView()},t.shouldUpdateScroll=function(e,r){var n=t.props.shouldUpdateScroll;return!n||n.call((0,a.default)(t),e,r)},t}(0,o.default)(t,e);var r=t.prototype;return r.componentDidMount=function(){var e;window.addEventListener("scroll",this.scrollListener);var t=this.props.location,r=t.key,n=t.hash;r&&(e=this._stateStorage.read(this.props.location,r)),e?this.windowScroll(e,void 0):n&&this.scrollToHash(decodeURI(n),void 0)},r.componentWillUnmount=function(){window.removeEventListener("scroll",this.scrollListener)},r.componentDidUpdate=function(e){var t,r=this.props.location,n=r.hash,i=r.key;i&&(t=this._stateStorage.read(this.props.location,i)),n?this.scrollToHash(decodeURI(n),e):this.windowScroll(t,e)},r.render=function(){return s.createElement(l.Provider,{value:this._stateStorage},this.props.children)},t}(s.Component);t.ScrollHandler=f,f.propTypes={shouldUpdateScroll:c.default.func,children:c.default.element.isRequired,location:c.default.object.isRequired}},d1lM:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},d4jZ:function(e,t,r){"use strict";r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return O}));var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("hZBP"),l=r("78YZ"),f=r("ddfG"),p=r("F1Bx"),d=r("tZTS"),h=r("iaHD");function b(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}function m(e){return Object(p.a)(e).store}var g=function(e){var t=function(e){Object(a.a)(r,e);var t=v(r);function r(){Object(n.a)(this,r);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return t.call.apply(t,[this].concat(i))}return r}(function(e){var t=function(e){Object(a.a)(r,e);var t=v(r);function r(){Object(n.a)(this,r);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return t.call.apply(t,[this].concat(i))}return Object(i.a)(r,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user";return m(this).delete(e,Object(f.d)(t))}},{key:"write",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(d.b)(this,e=e||{},t),e}},{key:"setAtOrigin",value:function(e,t,r){Object(p.a)(this).setAtOrigin(e,t,Object(f.d)(r))}},{key:"removeOrigin",value:function(e){var t,r=m(this),n=Object(f.d)(e),i=b(r.keys(n));try{for(i.s();!(t=i.n()).done;){var a=t.value;r.originOf(a)===n&&r.set(a,r.get(a,n),6)}}catch(o){i.e(o)}finally{i.f()}}},{key:"updateOrigin",value:function(e,t){for(var r=m(this),n=Object(f.d)(t),i=this.get(e),a=n+1;a<f.a;++a)r.delete(e,a);r.set(e,i,n)}},{key:"toJSON",value:function(e){return this.write({},e)}}]),r}(e);return(t=Object(c.a)([Object(h.a)("esri.core.WriteableMultiOriginJSONSupport")],t)).prototype.toJSON.isDefaultToJSON=!0,t}(Object(l.a)(e)));return t=Object(c.a)([Object(h.a)("esri.core.MultiOriginJSONSupport")],t)},O=function(e){Object(a.a)(r,e);var t=v(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return r}(g(u.a));O=Object(c.a)([Object(h.a)("esri.core.MultiOriginJSONSupport")],O)},d5Xc:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0n+b"),f=r("0fJP"),p=r("xAIp"),d=(r("wckI"),r("J4Pc"),r("TM+E"),r("vo12")),h=r("iaHD"),b=r("GeRv");function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var v=n=function(e){Object(o.a)(r,e);var t=y(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).attributeParameterValues=null,n.description=null,n.distanceAttributeName=null,n.id=null,n.impedanceAttributeName=null,n.name=null,n.restrictionAttributeNames=null,n.simplificationTolerance=null,n.simplificationToleranceUnits=null,n.timeAttributeName=null,n.type=null,n.useHierarchy=null,n.uturnAtJunctions=null,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n(Object(f.a)({attributeParameterValues:this.attributeParameterValues,description:this.description,distanceAttributeName:this.distanceAttributeName,id:this.id,impedanceAttributeName:this.impedanceAttributeName,name:this.name,restrictionAttributeNames:this.restrictionAttributeNames,simplificationTolerance:this.simplificationTolerance,simplificationToleranceUnits:this.simplificationToleranceUnits,timeAttributeName:this.timeAttributeName,type:this.type,useHierarchy:this.useHierarchy,uturnAtJunctions:this.uturnAtJunctions}))}}]),r}(l.a);Object(u.a)([Object(p.b)({type:[Object],json:{write:!0}})],v.prototype,"attributeParameterValues",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],v.prototype,"description",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],v.prototype,"distanceAttributeName",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],v.prototype,"id",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],v.prototype,"impedanceAttributeName",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],v.prototype,"name",void 0),Object(u.a)([Object(p.b)({type:[String],json:{write:!0}})],v.prototype,"restrictionAttributeNames",void 0),Object(u.a)([Object(p.b)({type:Number,json:{write:!0}})],v.prototype,"simplificationTolerance",void 0),Object(u.a)([Object(d.a)(b.c)],v.prototype,"simplificationToleranceUnits",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],v.prototype,"timeAttributeName",void 0),Object(u.a)([Object(d.a)(b.f)],v.prototype,"type",void 0),Object(u.a)([Object(p.b)({type:Boolean,json:{write:!0}})],v.prototype,"useHierarchy",void 0),Object(u.a)([Object(d.a)(b.e)],v.prototype,"uturnAtJunctions",void 0);var m=v=n=Object(u.a)([Object(h.a)("esri.rest.support.TravelMode")],v);t.a=m},d6Vr:function(e,t,r){var n=r("s3UK")["__core-js_shared__"];e.exports=n},d7QU:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0n+b"),f=r("xAIp"),p=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var h=n=function(e){Object(o.a)(r,e);var t=d(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).title=null,e}return Object(a.a)(r,[{key:"clone",value:function(){return new n({title:this.title})}}]),r}(l.a);Object(u.a)([Object(f.b)({type:String,json:{write:!0}})],h.prototype,"title",void 0);var b=h=n=Object(u.a)([Object(p.a)("esri.renderers.support.LegendOptions")],h);t.a=b},dIZa:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},dQW7:function(e,t,r){"use strict";function n(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}r.d(t,"a",(function(){return n}))},dYK0:function(e,t,r){e.exports=r("XHox")},ddfG:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return a}));var n=r("7im+"),i=7;function a(e){switch(e){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"user":return 6}}function o(e){switch(e){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}return Object(n.c)(void 0)}function s(e){return o(e)}},dtdj:function(e,t,r){var n=r("d1lM"),i=r("BW49");e.exports=function(e,t){return null!=e&&i(e,t,n)}},"e+GP":function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},e1Ej:function(e,t,r){var n=r("RW/s");e.exports=function(){this.__data__=new n,this.size=0}},e6DO:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("sc0P"),i=(r("DGz/"),r("Mp7X")),a=r("TM+E"),o=r("z9dv"),s=a.a.getLogger("esri.assets");function c(e){if(!n.a.assetsPath)throw s.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new i.a("assets:path-not-set","config.assetsPath is not set");return Object(o.z)(n.a.assetsPath,e)}},e766:function(e,t){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},eDEE:function(e,t,r){"use strict";var n,i=r("mK0O"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("dQW7"),f=r("7i+s"),p=r("0n+b"),d=r("a1Tm"),h=r("xAIp"),b=(r("J4Pc"),r("wckI")),y=(r("TM+E"),r("mp5+")),v=r("iaHD"),m=r("jr4m"),g=r("OTJA"),O=r("YHXj"),j=r("+MdM"),w=r("12QT"),_=r("3p7a"),k=r("Viq4");function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var P=new f.a({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"}),I=n=function(e){Object(s.a)(r,e);var t=S(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).dpi=96,n.format=null,n.origin=null,n.minScale=0,n.maxScale=0,n.size=null,n.spatialReference=null,n}return Object(o.a)(r,[{key:"isWrappable",get:function(){var e=this.spatialReference,t=this.origin;if(e&&t){var r=Object(w.d)(e);return e.isWrappable&&Math.abs(r.origin[0]-t.x)<=r.dx}return!1}},{key:"readOrigin",value:function(e,t){return g.a.fromJSON(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({spatialReference:t.spatialReference},e))}},{key:"lods",set:function(e){var t=this,r=0,n=0,i=[];this._levelToLOD={},e&&(r=-1/0,n=1/0,e.forEach((function(e){i.push(e.scale),r=e.scale>r?e.scale:r,n=e.scale<n?e.scale:n,t._levelToLOD[e.level]=e}))),this._set("scales",i),this._set("minScale",r),this._set("maxScale",n),this._set("lods",e),this._initializeUpsampleLevels()}},{key:"readSize",value:function(e,t){return[t.cols,t.rows]}},{key:"writeSize",value:function(e,t){t.cols=e[0],t.rows=e[0]}},{key:"zoomToScale",value:function(e){var t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];var r=Math.floor(e),n=r+1;return t[r]/Math.pow(t[r]/t[n],e-r)}},{key:"scaleToZoom",value:function(e){for(var t=this.scales,r=t.length-1,n=0;n<r;n++){var i=t[n],a=t[n+1];if(i<=e)return n;if(a===e)return n+1;if(i>e&&a<e)return n+Math.log(i/e)/Math.log(i/a)}return n}},{key:"snapScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,r=this.scaleToZoom(e);return r%Math.floor(r)>=t?this.zoomToScale(Math.ceil(r)):this.zoomToScale(Math.floor(r))}},{key:"tileAt",value:function(e,t,r,n){var i,a,o=this.lodAt(e);if(!o)return null;if("number"==typeof t)i=t,a=r;else if(Object(w.c)(t.spatialReference,this.spatialReference))i=t.x,a=t.y,n=r;else{var s=Object(_.d)(t,this.spatialReference);if(!s)return null;i=s.x,a=s.y,n=r}var c=o.resolution*this.size[0],u=o.resolution*this.size[1];return n||(n={id:null,level:0,row:0,col:0,extent:Object(j.g)()}),n.level=e,n.row=Math.floor((this.origin.y-a)/u+.001),n.col=Math.floor((i-this.origin.x)/c+.001),this.updateTileInfo(n),n}},{key:"updateTileInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.lodAt(e.level);if(!r&&1===t){var n=this.lods[this.lods.length-1];n.level<e.level&&(r=n)}if(r){var i=e.level-r.level,a=r.resolution*this.size[0]/Math.pow(2,i),o=r.resolution*this.size[1]/Math.pow(2,i);e.id="".concat(e.level,"/").concat(e.row,"/").concat(e.col),e.extent||(e.extent=Object(j.g)()),e.extent[0]=this.origin.x+e.col*a,e.extent[1]=this.origin.y-(e.row+1)*o,e.extent[2]=e.extent[0]+a,e.extent[3]=e.extent[1]+o}}},{key:"upsampleTile",value:function(e){var t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel||(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),0))}},{key:"getTileBounds",value:function(e,t){var r=this.lodAt(t.level).resolution,n=r*this.size[0],i=r*this.size[1];return e[0]=this.origin.x+t.col*n,e[1]=this.origin.y-(t.row+1)*i,e[2]=e[0]+n,e[3]=e[1]+i,e}},{key:"lodAt",value:function(e){return this._levelToLOD&&this._levelToLOD[e]||null}},{key:"clone",value:function(){return n.fromJSON(this.write({}))}},{key:"_initializeUpsampleLevels",value:function(){var e=this.lods;this._upsampleLevels=[];for(var t=null,r=0;r<e.length;r++){var n=e[r];this._upsampleLevels[n.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/n.resolution:0},t=n}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resolutionFactor,r=void 0===t?1:t,i=e.scales,a=e.size,o=void 0===a?256:a,s=e.spatialReference,c=void 0===s?O.a.WebMercator:s,u=e.numLODs,l=void 0===u?24:u;if(!Object(w.j)(c)){var f=[];if(i)for(var p=0;p<i.length;p++){var h=i[p];f.push({level:p,scale:h,resolution:h})}else for(var b=5e-4,y=l-1;y>=0;y--)f.unshift({level:y,scale:b,resolution:b}),b*=2;return new n({dpi:96,lods:f,origin:new g.a(0,0,c),size:[o,o],spatialReference:c})}var v=Object(w.d)(c),m=e.origin?new g.a({x:e.origin.x,y:e.origin.y,spatialReference:c}):new g.a(v?{x:v.origin[0],y:v.origin[1],spatialReference:c}:{x:0,y:0,spatialReference:c}),j=96,_=1/(39.37*Object(d.d)(c)*j),k=[];if(i)for(var x=0;x<i.length;x++){var S=i[x],P=S*_;k.push({level:x,scale:S,resolution:P})}else{var I=Object(w.g)(c)?512/o*591657527.5917094:256/o*591657527.591555,R=Math.ceil(l/r);k.push({level:0,scale:I,resolution:I*_});for(var M=1;M<R;M++){var E=I/Math.pow(2,r),T=E*_;k.push({level:M,scale:E,resolution:T}),I=E}}return new n({dpi:j,lods:k,origin:m,size:[o,o],spatialReference:c})}}]),r}(p.a);Object(l.a)([Object(h.b)({type:Number,json:{write:!0}})],I.prototype,"compressionQuality",void 0),Object(l.a)([Object(h.b)({type:Number,json:{write:!0}})],I.prototype,"dpi",void 0),Object(l.a)([Object(h.b)({type:String,json:{read:P.read,write:P.write,origins:{"web-scene":{read:!1,write:!1}}}})],I.prototype,"format",void 0),Object(l.a)([Object(h.b)({readOnly:!0})],I.prototype,"isWrappable",null),Object(l.a)([Object(h.b)({type:g.a,json:{write:!0}})],I.prototype,"origin",void 0),Object(l.a)([Object(y.a)("origin")],I.prototype,"readOrigin",null),Object(l.a)([Object(h.b)({type:[k.a],value:null,json:{write:!0}})],I.prototype,"lods",null),Object(l.a)([Object(h.b)({readOnly:!0})],I.prototype,"minScale",void 0),Object(l.a)([Object(h.b)({readOnly:!0})],I.prototype,"maxScale",void 0),Object(l.a)([Object(h.b)({readOnly:!0})],I.prototype,"scales",void 0),Object(l.a)([Object(h.b)({cast:function(e){return Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]}})],I.prototype,"size",void 0),Object(l.a)([Object(y.a)("size",["rows","cols"])],I.prototype,"readSize",null),Object(l.a)([Object(m.a)("size",{cols:{type:b.a},rows:{type:b.a}})],I.prototype,"writeSize",null),Object(l.a)([Object(h.b)({type:O.a,json:{write:!0}})],I.prototype,"spatialReference",void 0);var R=I=n=Object(l.a)([Object(v.a)("esri.layers.support.TileInfo")],I);t.a=R},eEPp:function(e,t,r){"use strict";e.exports=Object.assign},eEf8:function(e,t,r){var n=r("yoW1"),i=r("EKeD"),a=i?function(e,t){return i.set(e,t),e}:n;e.exports=a},eLT7:function(e,t,r){"use strict";r.r(t);var n=r("mK0O"),i=r("hisu"),a=r("yBJb"),o=r("0942"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("dQW7"),f=r("PVS0"),p=(r("J4Pc"),r("wckI"),r("TM+E"),r("xAIp")),d=r("iaHD"),h=r("IXv3"),b=r("hZBP"),y=r("UfAV"),v=r("j56I");function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var g=function(e){Object(s.a)(r,e);var t=m(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e))._viewpointHandle=null,n._handles=new y.a,n.group=null,n}return Object(a.a)(r,[{key:"initialize",value:function(){var e=this;this._handles.add(Object(v.b)(this,"view.ui","expand",(function(t){var r=t.target;r&&r!==e&&r.expanded&&r.group&&r.group===e.group&&e._collapse()})))}},{key:"destroy",value:function(){this._viewpointHandle=null,this.view=null,this._handles.destroy(),this._handles=null}},{key:"autoCollapse",set:function(e){this._set("autoCollapse",e),this._watchViewpoint()}},{key:"expanded",set:function(e){var t=!!e;this._set("expanded",t);var r=this.get("view.ui");r&&r.emit("expand",{target:this}),this._viewpointHandleChange(t)}},{key:"state",get:function(){return this.get("view.ready")?"ready":"disabled"}},{key:"view",set:function(e){var t=this;this._get("view")!==e&&(this._set("view",e),e&&Object(v.l)(e,"ready",(function(){t.view===e&&t._watchViewpoint()})))}},{key:"_viewpointHandleChange",value:function(e){var t=this;this._viewpointHandle&&(e?Object(v.l)(this.view,"stationary",(function(){return t._viewpointHandle.resume()})):this._viewpointHandle.pause())}},{key:"_watchViewpoint",value:function(){var e=this,t="viewpoint";this._handles.remove(t),this._viewpointHandle=null;var r=this.autoCollapse,n=this.view;if(n&&r){var i="3d"===n.type?"camera":"viewpoint",a=Object(v.c)(n,i,(function(){return e._collapse()}));this._handles.add(a,t),this._viewpointHandle=a}}},{key:"_collapse",value:function(){this.expanded=!1}}]),r}(b.a);Object(l.a)([Object(p.b)({value:!1})],g.prototype,"autoCollapse",null),Object(l.a)([Object(p.b)({value:!1})],g.prototype,"expanded",null),Object(l.a)([Object(p.b)()],g.prototype,"group",void 0),Object(l.a)([Object(p.b)({readOnly:!0})],g.prototype,"state",null),Object(l.a)([Object(p.b)({value:null})],g.prototype,"view",null);var O=g=Object(l.a)([Object(d.a)("esri.widgets.Expand.ExpandViewModel")],g),j=r("kpMX"),w=r("mjOD"),_=r("XRld"),k=r("Q7Dg");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var S="esri-expand esri-widget",P="esri-expand--auto",I="esri-expand--drawer",R="esri-expand--floating",M="esri-expand__container",E="esri-expand__container--expanded",T="esri-expand__panel",A="esri-widget--button",C="esri-icon-font-fallback-text",D="esri-collapse__icon",L="esri-expand__icon--expanded",F="esri-expand__icon-number",N="esri-expand__icon-number--expanded",B="esri-icon-expand",V="esri-icon-collapse",U="esri-expand__content",z="esri-expand__content--expanded",q="esri-expand__mask",H="esri-expand__mask--expanded",G=function(e){Object(s.a)(r,e);var t=x(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n)).autoCollapse=null,a.closeOnEsc=!0,a.collapseTooltip="",a.content="",a.expanded=null,a.expandTooltip="",a.group=null,a.iconNumber=0,a.label=void 0,a.messages=null,a.messagesCommon=null,a.mode="auto",a.view=null,a.viewModel=new O,a._handleKeyDown=function(e){var t=Object(o.a)(a),r=t.closeOnEsc,n=t._toggleButtonEl;t.expanded&&r&&e.target!==n&&"Escape"===e.key&&("function"==typeof r?r(e):r)&&(a.expanded=!1,null==n||n.focus())},a}return Object(a.a)(r,[{key:"contentId",get:function(){return"".concat(this.id,"_controls_content")}},{key:"expandTitle",get:function(){var e=this.expanded,t=this.messagesCommon,r=this.collapseTooltip,n=this.expandTooltip;return e?r||t.collapse:n||t.expand}},{key:"collapseIconClass",get:function(){return V},set:function(e){e?this._override("collapseIconClass",e):this._clearOverride("collapseIconClass")}},{key:"expandIconClass",get:function(){return Object(j.b)(this.content)?this.content.iconClass:B},set:function(e){e?this._override("expandIconClass",e):this._clearOverride("expandIconClass")}},{key:"expand",value:function(){this.viewModel.expanded=!0}},{key:"collapse",value:function(){this.viewModel.expanded=!1}},{key:"toggle",value:function(){this.viewModel.expanded=!this.viewModel.expanded}},{key:"render",value:function(){var e,t=this.mode,r=(e={},Object(n.a)(e,P,"auto"===t),Object(n.a)(e,I,"drawer"===t),Object(n.a)(e,R,"floating"===t),e);return Object(w.a)("div",{class:this.classes(S,r),onkeydown:this._handleKeyDown},this.renderMask(),this.renderContainer())}},{key:"renderContainer",value:function(){var e=this.expanded,t=Object(n.a)({},E,e);return Object(w.a)("div",{class:this.classes(M,t)},this.renderPanel(),this.renderContent())}},{key:"renderMask",value:function(){var e=this.expanded,t=Object(n.a)({},H,e);return Object(w.a)("div",{bind:this,onclick:this._toggle,class:this.classes(q,t)})}},{key:"renderBadgeNumber",value:function(){var e=this.expanded,t=this.iconNumber;return t&&!e?Object(w.a)("span",{key:"expand__icon-number",class:F},t):null}},{key:"renderPanelNumber",value:function(){var e=this.iconNumber,t=this.expanded;return e&&t?Object(w.a)("span",{key:"expand__expand-icon-number",class:this.classes(F,N)},e):null}},{key:"renderIcon",value:function(){var e,t=this.collapseIconClass,r=this.expandIconClass,i=this.expanded,a=(e={},Object(n.a)(e,L,i),Object(n.a)(e,t,i),Object(n.a)(e,r,!i),e);return t===r&&(a[t]=!0),Object(w.a)("span",{"aria-hidden":"true",class:this.classes(D,a)})}},{key:"renderTitle",value:function(){return Object(w.a)("span",{class:C},this.expandTitle)}},{key:"renderExpandButton",value:function(){var e=this.expanded,t=this.expandTitle,r=this.contentId;return Object(w.a)("div",{afterCreate:this._storeToggleButtonEl,"aria-controls":r,"aria-expanded":e?"true":"false",bind:this,class:A,onclick:this._toggle,onkeydown:this._toggle,role:"button",tabindex:"0",title:t},this.renderBadgeNumber(),this.renderIcon(),this.renderTitle())}},{key:"renderPanel",value:function(){return Object(w.a)("div",{class:T},this.renderExpandButton(),this.renderPanelNumber())}},{key:"renderContent",value:function(){var e=this.expanded,t=this.contentId,r=Object(n.a)({},z,e);return Object(w.a)("div",{id:t,role:"region",class:this.classes(U,r)},this.renderContentContainer())}},{key:"renderContentContainer",value:function(){var e=this.content;return"string"==typeof e?Object(w.a)("div",{innerHTML:e}):Object(j.b)(e)?e.render():e instanceof HTMLElement?Object(w.a)("div",{bind:e,afterCreate:this._attachToNode}):Object(j.a)(e)?Object(w.a)("div",{bind:e.domNode,afterCreate:this._attachToNode}):null}},{key:"_toggle",value:function(){this.toggle()}},{key:"_attachToNode",value:function(e){e.appendChild(this)}},{key:"_storeToggleButtonEl",value:function(e){this._toggleButtonEl=e}}]),r}(h.a);Object(l.a)([Object(p.b)({readOnly:!0})],G.prototype,"contentId",null),Object(l.a)([Object(p.b)({readOnly:!0})],G.prototype,"expandTitle",null),Object(l.a)([Object(f.a)("viewModel.autoCollapse")],G.prototype,"autoCollapse",void 0),Object(l.a)([Object(p.b)()],G.prototype,"closeOnEsc",void 0),Object(l.a)([Object(p.b)()],G.prototype,"collapseIconClass",null),Object(l.a)([Object(p.b)()],G.prototype,"collapseTooltip",void 0),Object(l.a)([Object(p.b)()],G.prototype,"content",void 0),Object(l.a)([Object(f.a)("viewModel.expanded")],G.prototype,"expanded",void 0),Object(l.a)([Object(p.b)()],G.prototype,"expandIconClass",null),Object(l.a)([Object(p.b)()],G.prototype,"expandTooltip",void 0),Object(l.a)([Object(f.a)("viewModel.group")],G.prototype,"group",void 0),Object(l.a)([Object(p.b)()],G.prototype,"iconNumber",void 0),Object(l.a)([Object(p.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],G.prototype,"label",void 0),Object(l.a)([Object(p.b)(),Object(_.a)("esri/widgets/Expand/t9n/Expand")],G.prototype,"messages",void 0),Object(l.a)([Object(p.b)(),Object(_.a)("esri/t9n/common")],G.prototype,"messagesCommon",void 0),Object(l.a)([Object(p.b)()],G.prototype,"mode",void 0),Object(l.a)([Object(f.a)("viewModel.view")],G.prototype,"view",void 0),Object(l.a)([Object(p.b)({type:O})],G.prototype,"viewModel",void 0),Object(l.a)([Object(k.a)()],G.prototype,"_toggle",null);var W=G=Object(l.a)([Object(d.a)("esri.widgets.Expand")],G);t.default=W},eNTD:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("7i+s"),i=r("aic5"),a=new n.a({esriGeometryRelationCross:"cross",esriGeometryRelationDisjoint:"disjoint",esriGeometryRelationIn:"in",esriGeometryRelationInteriorIntersection:"interior-intersection",esriGeometryRelationIntersection:"intersection",esriGeometryRelationLineCoincidence:"line-coincidence",esriGeometryRelationLineTouch:"line-touch",esriGeometryRelationOverlap:"overlap",esriGeometryRelationPointTouch:"point-touch",esriGeometryRelationTouch:"touch",esriGeometryRelationWithin:"within",esriGeometryRelationRelation:"relation"});function o(e){var t=e.toJSON(),r=t.geometries1,n=t.geometries2,o=t.relation,s=t.relationParameter,c={};if(r&&r.length){c.geometries1=JSON.stringify({geometryType:Object(i.c)(r[0]),geometries:r});var u=r[0].spatialReference;c.sr=u.wkid?u.wkid:JSON.stringify(u)}return n&&n.length>0&&(c.geometries2=JSON.stringify({geometryType:Object(i.c)(n[0]),geometries:n})),o&&(c.relation=a.toJSON(o)),s&&(c.relationParam=s),c}},eOCM:function(e,t,r){"use strict";r("ERkP");var n=r("tM9Q"),i=r("aD51"),a=function(e){return Object(i.c)(n.GraphicsLayer,e)};t.a=a,void 0!==a&&a&&a===Object(a)&&Object.isExtensible(a)&&!a.hasOwnProperty("__filemeta")&&Object.defineProperty(a,"__filemeta",{configurable:!0,value:{name:"GraphicsLayer_",filename:"src/Map Layers/GraphicsLayer.tsx"}})},eTmm:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("0942"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=(r("QDHd"),r("dQW7")),l=r("Mp7X"),f=r("t4nU"),p=r("IH5m"),d=r("8N15"),h=r("xAIp"),b=r("iaHD");function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var v,m="not-loaded",g="loading",O="failed",j="loaded",w=function(e){var t=function(e){Object(o.a)(r,e);var t=y(r);function r(){var e;Object(n.a)(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o)))._loadController=null,e.loadError=null,e.loadStatus="not-loaded",e._set("loadWarnings",[]),e.addResolvingPromise(new Promise((function(t){var r=e.load.bind(Object(a.a)(e));e.load=function(n){var i=new Promise((function(t,r){var i=Object(p.r)(n,r);e.destroyed&&r(new l.a("load:instance-destroyed","Instance of '".concat(e.declaredClass||e.constructor.name,"' is already destroyed"),{instance:Object(a.a)(e)})),e._promiseProps.when(t,r).finally((function(){i&&i.remove()}))}));if(e.loadStatus===m){e._set("loadStatus",g);var o=e._loadController=Object(p.d)();r({signal:o.signal}),Object(p.q)(o.signal,(function(){e._promiseProps.abort()}))}return t(),i}}))),e.when((function(){e._set("loadStatus",j),e._loadController=null}),(function(t){e._set("loadStatus",O),e._set("loadError",t),e._loadController=null})),e}return Object(i.a)(r,[{key:"loaded",get:function(){return this.loadStatus===j}},{key:"loadWarnings",get:function(){return this._get("loadWarnings")}},{key:"load",value:function(){return null}},{key:"cancelLoad",value:function(){var e;return this.isFulfilled()||(this._set("loadError",new l.a("load:cancelled","Cancelled")),null==(e=this._loadController)||e.abort()),this}}]),r}(e);return Object(u.a)([Object(h.b)({readOnly:!0})],t.prototype,"loaded",null),Object(u.a)([Object(h.b)({readOnly:!0})],t.prototype,"loadError",void 0),Object(u.a)([Object(h.b)()],t.prototype,"loadStatus",void 0),Object(u.a)([Object(h.b)({type:[d.a],readOnly:!0})],t.prototype,"loadWarnings",null),t=Object(u.a)([Object(b.a)("esri.core.Loadable")],t),t},_=function(e){Object(o.a)(r,e);var t=y(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return r}(w(f.a));_=Object(u.a)([Object(b.a)("esri.core.Loadable")],_),(v=_||(_={})).LoadableMixin=w,v.isLoadable=function(e){return!(!e||!e.load)};var k=_;t.a=k},eUOF:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("7i+s"),l=r("0n+b"),f=r("0fJP"),p=r("xAIp"),d=(r("wckI"),r("J4Pc"),r("TM+E"),r("iaHD")),h=r("jr4m");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var y=new u.a({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"}),v=function(e){Object(a.a)(r,e);var t=b(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).name=null,i.description=null,i.drawingTool=null,i.prototype=null,i.thumbnail=null,i}return Object(i.a)(r,[{key:"writeDrawingTool",value:function(e,t){t.drawingTool=y.toJSON(e)}},{key:"writePrototype",value:function(e,t){t.prototype=Object(f.c)(Object(f.a)(e),!0)}},{key:"writeThumbnail",value:function(e,t){t.thumbnail=Object(f.c)(Object(f.a)(e))}}]),r}(l.a);Object(c.a)([Object(p.b)({json:{write:!0}})],v.prototype,"name",void 0),Object(c.a)([Object(p.b)({json:{write:!0}})],v.prototype,"description",void 0),Object(c.a)([Object(p.b)({json:{read:y.read,write:y.write}})],v.prototype,"drawingTool",void 0),Object(c.a)([Object(h.a)("drawingTool")],v.prototype,"writeDrawingTool",null),Object(c.a)([Object(p.b)({json:{write:!0}})],v.prototype,"prototype",void 0),Object(c.a)([Object(h.a)("prototype")],v.prototype,"writePrototype",null),Object(c.a)([Object(p.b)({json:{write:!0}})],v.prototype,"thumbnail",void 0),Object(c.a)([Object(h.a)("thumbnail")],v.prototype,"writeThumbnail",null);var m=v=Object(c.a)([Object(d.a)("esri.layers.support.FeatureTemplate")],v);t.a=m},eciW:function(e,t,r){e.exports=r("eyzW")},edSL:function(e,t,r){var n=r("Exs5");e.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},efmi:function(e,t,r){"use strict";r.r(t);var n=r("ZFoC"),i=r("tM9Q"),a=r("eOCM"),o=r("ERkP");t.default={Playground:n.c,Props:n.d,Map:i.Map,LayerList:i.LayerList,Zoom:i.Zoom,GraphicsLayer:a.a,React:o}},eijD:function(e,t,r){"use strict";function n(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,c,"next",e)}function c(e){n(o,i,a,s,c,"throw",e)}s(void 0)}))}}r.d(t,"a",(function(){return i}))},"ek/P":function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},emEt:function(e,t,r){"use strict";r.r(t),r.d(t,"PageResourceStatus",(function(){return d})),r.d(t,"BaseLoader",(function(){return g})),r.d(t,"ProdLoader",(function(){return j})),r.d(t,"setLoader",(function(){return w})),r.d(t,"publicLoader",(function(){return _})),r.d(t,"getStaticQueryResults",(function(){return k}));var n=r("7L9N"),i=r("6CzD"),a=r("mK0O"),o=function(e){if("undefined"==typeof document)return!1;var t=document.createElement("link");try{if(t.relList&&"function"==typeof t.relList.supports)return t.relList.supports(e)}catch(r){return!1}return!1}("prefetch")?function(e,t){return new Promise((function(r,n){if("undefined"!=typeof document){var i=document.createElement("link");i.setAttribute("rel","prefetch"),i.setAttribute("href",e),Object.keys(t).forEach((function(e){i.setAttribute(e,t[e])})),i.onload=r,i.onerror=n,(document.getElementsByTagName("head")[0]||document.getElementsByName("script")[0].parentNode).appendChild(i)}else n()}))}:function(e){return new Promise((function(t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=function(){200===n.status?t():r()},n.send(null)}))},s={},c=function(e,t){return new Promise((function(r){s[e]?r():o(e,t).then((function(){r(),s[e]=!0})).catch((function(){}))}))},u=r("5yr3"),l=r("30RF");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={Error:"error",Success:"success"},h=function(e){return e&&e.default||e},b=function(e){var t;return"/react-ags-maps/page-data/"+("/"===e?"index":t=(t="/"===(t=e)[0]?t.slice(1):t).endsWith("/")?t.slice(0,-1):t)+"/page-data.json"};function y(e,t){return void 0===t&&(t="GET"),new Promise((function(r,n){var i=new XMLHttpRequest;i.open(t,e,!0),i.onreadystatechange=function(){4==i.readyState&&r(i)},i.send(null)}))}var v,m=function(e,t){void 0===t&&(t=null);var r={componentChunkName:e.componentChunkName,path:e.path,webpackCompilationHash:e.webpackCompilationHash,matchPath:e.matchPath,staticQueryHashes:e.staticQueryHashes};return{component:t,json:e.result,page:r}},g=function(){function e(e,t){this.inFlightNetworkRequests=new Map,this.pageDb=new Map,this.inFlightDb=new Map,this.staticQueryDb={},this.pageDataDb=new Map,this.prefetchTriggered=new Set,this.prefetchCompleted=new Set,this.loadComponent=e,Object(l.d)(t)}var t=e.prototype;return t.memoizedGet=function(e){var t=this,r=this.inFlightNetworkRequests.get(e);return r||(r=y(e,"GET"),this.inFlightNetworkRequests.set(e,r)),r.then((function(r){return t.inFlightNetworkRequests.delete(e),r})).catch((function(r){throw t.inFlightNetworkRequests.delete(e),r}))},t.setApiRunner=function(e){this.apiRunner=e,this.prefetchDisabled=e("disableCorePrefetching").some((function(e){return e}))},t.fetchPageDataJson=function(e){var t=this,r=e.pagePath,n=e.retries,i=void 0===n?0:n,a=b(r);return this.memoizedGet(a).then((function(n){var a=n.status,o=n.responseText;if(200===a)try{var s=JSON.parse(o);if(void 0===s.path)throw new Error("not a valid pageData response");return Object.assign(e,{status:d.Success,payload:s})}catch(c){}return 404===a||200===a?"/404.html"===r?Object.assign(e,{status:d.Error}):t.fetchPageDataJson(Object.assign(e,{pagePath:"/404.html",notFound:!0})):500===a?Object.assign(e,{status:d.Error}):i<3?t.fetchPageDataJson(Object.assign(e,{retries:i+1})):Object.assign(e,{status:d.Error})}))},t.loadPageDataJson=function(e){var t=this,r=Object(l.b)(e);if(this.pageDataDb.has(r)){var n=this.pageDataDb.get(r);return Promise.resolve(n)}return this.fetchPageDataJson({pagePath:r}).then((function(e){return t.pageDataDb.set(r,e),e}))},t.findMatchPath=function(e){return Object(l.a)(e)},t.loadPage=function(e){var t=this,r=Object(l.b)(e);if(this.pageDb.has(r)){var n=this.pageDb.get(r);return Promise.resolve(n.payload)}if(this.inFlightDb.has(r))return this.inFlightDb.get(r);var i=Promise.all([this.loadAppData(),this.loadPageDataJson(r)]).then((function(e){var n=e[1];if(n.status===d.Error)return{status:d.Error};var i=n.payload,a=i,o=a.componentChunkName,s=a.staticQueryHashes,c=void 0===s?[]:s,l={},f=t.loadComponent(o).then((function(t){var r;return l.createdAt=new Date,t?(l.status=d.Success,!0===n.notFound&&(l.notFound=!0),i=Object.assign(i,{webpackCompilationHash:e[0]?e[0].webpackCompilationHash:""}),r=m(i,t)):l.status=d.Error,r})),h=Promise.all(c.map((function(e){if(t.staticQueryDb[e]){var r=t.staticQueryDb[e];return{staticQueryHash:e,jsonPayload:r}}return t.memoizedGet("/react-ags-maps/page-data/sq/d/"+e+".json").then((function(t){var r=JSON.parse(t.responseText);return{staticQueryHash:e,jsonPayload:r}}))}))).then((function(e){var r={};return e.forEach((function(e){var n=e.staticQueryHash,i=e.jsonPayload;r[n]=i,t.staticQueryDb[n]=i})),r}));return Promise.all([f,h]).then((function(e){var n,i=e[0],a=e[1];return i&&(n=p(p({},i),{},{staticQueryResults:a}),l.payload=n,u.a.emit("onPostLoadPageResources",{page:n,pageResources:n})),t.pageDb.set(r,l),n}))}));return i.then((function(e){t.inFlightDb.delete(r)})).catch((function(e){throw t.inFlightDb.delete(r),e})),this.inFlightDb.set(r,i),i},t.loadPageSync=function(e){var t=Object(l.b)(e);if(this.pageDb.has(t))return this.pageDb.get(t).payload},t.shouldPrefetch=function(e){return!!function(){if("connection"in navigator&&void 0!==navigator.connection){if((navigator.connection.effectiveType||"").includes("2g"))return!1;if(navigator.connection.saveData)return!1}return!0}()&&!this.pageDb.has(e)},t.prefetch=function(e){var t=this;if(!this.shouldPrefetch(e))return!1;if(this.prefetchTriggered.has(e)||(this.apiRunner("onPrefetchPathname",{pathname:e}),this.prefetchTriggered.add(e)),this.prefetchDisabled)return!1;var r=Object(l.b)(e);return this.doPrefetch(r).then((function(){t.prefetchCompleted.has(e)||(t.apiRunner("onPostPrefetchPathname",{pathname:e}),t.prefetchCompleted.add(e))})),!0},t.doPrefetch=function(e){var t=this,r=b(e);return c(r,{crossOrigin:"anonymous",as:"fetch"}).then((function(){return t.loadPageDataJson(e)}))},t.hovering=function(e){this.loadPage(e)},t.getResourceURLsForPathname=function(e){var t=Object(l.b)(e),r=this.pageDataDb.get(t);if(r){var n=m(r.payload);return[].concat(Object(i.a)(O(n.page.componentChunkName)),[b(t)])}return null},t.isPageNotFound=function(e){var t=Object(l.b)(e),r=this.pageDb.get(t);return!r||r.notFound},t.loadAppData=function(e){var t=this;return void 0===e&&(e=0),this.memoizedGet("/react-ags-maps/page-data/app-data.json").then((function(r){var n,i=r.status,a=r.responseText;if(200!==i&&e<3)return t.loadAppData(e+1);if(200===i)try{var o=JSON.parse(a);if(void 0===o.webpackCompilationHash)throw new Error("not a valid app-data response");n=o}catch(s){}return n}))},e}(),O=function(e){return(window.___chunkMapping[e]||[]).map((function(e){return"/react-ags-maps"+e}))},j=function(e){function t(t,r){return e.call(this,(function(e){return t.components[e]?t.components[e]().then(h).catch((function(){return null})):Promise.resolve()}),r)||this}Object(n.a)(t,e);var r=t.prototype;return r.doPrefetch=function(t){return e.prototype.doPrefetch.call(this,t).then((function(e){if(e.status!==d.Success)return Promise.resolve();var t=e.payload,r=t.componentChunkName,n=O(r);return Promise.all(n.map(c)).then((function(){return t}))}))},r.loadPageDataJson=function(t){return e.prototype.loadPageDataJson.call(this,t).then((function(e){return e.notFound?y(t,"HEAD").then((function(t){return 200===t.status?{status:d.Error}:e})):e}))},t}(g),w=function(e){v=e},_={getResourcesForPathname:function(e){return console.warn("Warning: getResourcesForPathname is deprecated. Use loadPage instead"),v.i.loadPage(e)},getResourcesForPathnameSync:function(e){return console.warn("Warning: getResourcesForPathnameSync is deprecated. Use loadPageSync instead"),v.i.loadPageSync(e)},enqueue:function(e){return v.prefetch(e)},getResourceURLsForPathname:function(e){return v.getResourceURLsForPathname(e)},loadPage:function(e){return v.loadPage(e)},loadPageSync:function(e){return v.loadPageSync(e)},prefetch:function(e){return v.prefetch(e)},isPageNotFound:function(e){return v.isPageNotFound(e)},hovering:function(e){return v.hovering(e)},loadAppData:function(){return v.loadAppData()}};t.default=_;function k(){return v?v.staticQueryDb:{}}},eoZi:function(e,t,r){"use strict";var n=r("mK0O"),i=r("eijD"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("NthX"),f=r.n(l),p=r("dQW7"),d=r("sc0P"),h=(r("U7uu"),r("g+AA")),b=r("DGz/"),y=r("Mp7X"),v=r("0n+b"),m=r("eTmm"),g=r("7im+"),O=r("IH5m"),j=r("xAIp"),w=(r("J4Pc"),r("wckI")),_=(r("TM+E"),r("mp5+")),k=r("iaHD"),x=r("nd5+"),S=r("kRu0");function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var I=function(e){Object(s.a)(r,e);var t=P(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).nextQueryParams=null,n.queryParams=null,n.results=null,n.total=null,n}return r}(r("hZBP").a);Object(p.a)([Object(j.b)()],I.prototype,"nextQueryParams",void 0),Object(p.a)([Object(j.b)()],I.prototype,"queryParams",void 0),Object(p.a)([Object(j.b)()],I.prototype,"results",void 0),Object(p.a)([Object(j.b)()],I.prototype,"total",void 0);var R,M,E=I=Object(p.a)([Object(k.a)("esri.portal.PortalQueryResult")],I),T=r("0kP4"),A=r("Vs6/");function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var B={PortalGroup:function(){return Promise.resolve().then(r.bind(null,"h/NC"))},PortalItem:function(){return Promise.resolve().then(r.bind(null,"OYdn"))},PortalUser:function(){return Promise.resolve().then(r.bind(null,"0kP4"))}},V=R=function(e){Object(s.a)(m,e);var t,n,c,u,l,p,v=N(m);function m(e){var t;return Object(a.a)(this,m),(t=v.call(this,e)).access=null,t.allSSL=!1,t.authMode="auto",t.authorizedCrossOriginDomains=null,t.basemapGalleryGroupQuery=null,t.bingKey=null,t.canListApps=!1,t.canListData=!1,t.canListPreProvisionedItems=!1,t.canProvisionDirectPurchase=!1,t.canSearchPublic=!0,t.canShareBingPublic=!1,t.canSharePublic=!1,t.canSignInArcGIS=!1,t.canSignInIDP=!1,t.colorSetsGroupQuery=null,t.commentsEnabled=!1,t.created=null,t.culture=null,t.customBaseUrl=null,t.defaultBasemap=null,t.defaultExtent=null,t.defaultVectorBasemap=null,t.description=null,t.eueiEnabled=null,t.featuredGroups=null,t.featuredItemsGroupQuery=null,t.galleryTemplatesGroupQuery=null,t.livingAtlasGroupQuery=null,t.hasCategorySchema=!1,t.helperServices=null,t.homePageFeaturedContent=null,t.homePageFeaturedContentCount=null,t.httpPort=null,t.httpsPort=null,t.id=null,t.ipCntryCode=null,t.isPortal=!1,t.isReadOnly=!1,t.layerTemplatesGroupQuery=null,t.maxTokenExpirationMinutes=null,t.modified=null,t.name=null,t.portalHostname=null,t.portalMode=null,t.portalProperties=null,t.region=null,t.rotatorPanels=null,t.showHomePageDescription=!1,t.sourceJSON=null,t.supportsHostedServices=!1,t.symbolSetsGroupQuery=null,t.templatesGroupQuery=null,t.units=null,t.url=d.a.portalUrl,t.urlKey=null,t.user=null,t.useStandardizedQuery=!1,t.useVectorBasemaps=!1,t.vectorBasemapGalleryGroupQuery=null,t}return Object(o.a)(m,[{key:"normalizeCtorArgs",value:function(e){return"string"==typeof e?{url:e}:e}},{key:"destroy",value:function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}},{key:"readAuthorizedCrossOriginDomains",value:function(e){if(e){var t,r=L(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;-1===d.a.request.trustedServers.indexOf(n)&&d.a.request.trustedServers.push(n)}}catch(i){r.e(i)}finally{r.f()}}return e}},{key:"readDefaultBasemap",value:function(e){if(e){var t=M.fromJSON(e);return t.portalItem={portal:this},t}return null}},{key:"readDefaultVectorBasemap",value:function(e){if(e){var t=M.fromJSON(e);return t.portalItem={portal:this},t}return null}},{key:"extraQuery",get:function(){var e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?" AND orgid:".concat(this.id):null}},{key:"isOrganization",get:function(){return!!this.access}},{key:"restUrl",get:function(){var e=this.url;if(e){var t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}},{key:"thumbnailUrl",get:function(){var e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}},{key:"readUrlKey",value:function(e){return e?e.toLowerCase():e}},{key:"readUser",value:function(e){var t=null;return e&&((t=T.default.fromJSON(e)).portal=this),t}},{key:"load",value:function(e){var t=this,n=Promise.resolve().then(r.bind(null,"o3y2")).then((function(t){var r=t.default;Object(O.v)(e),M=r})).then((function(){return t.sourceJSON?t.sourceJSON:t._fetchSelf(t.authMode,!1,e)})).then((function(e){if(h.b){var r=h.b;t.credential=r.findCredential(t.restUrl),t.credential||t.authMode!==R.AUTH_MODE_AUTO||(t._esriId_credentialCreateHandle=r.on("credential-create",(function(){r.findCredential(t.restUrl)&&t._signIn()})))}t.sourceJSON=e,t.read(e)}));return this.addResolvingPromise(n),Promise.resolve(this)}},{key:"createClosestFacilityTask",value:(p=Object(i.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return t=this._getHelperServiceUrl("closestFacility"),e.next=6,r.e(151).then(r.bind(null,"RbZK"));case 6:return e.t0=e.sent.default,e.t1=t,e.abrupt("return",new e.t0(e.t1));case 9:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"createElevationLayers",value:(l=Object(i.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return t=this._getHelperService("defaultElevationLayers"),e.next=5,Promise.all([r.e(3),r.e(17)]).then(r.bind(null,"BGIR"));case 5:return n=e.sent.default,e.abrupt("return",t?t.map((function(e){return new n({id:e.id,url:e.url})})):[]);case 7:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"createGeometryService",value:(u=Object(i.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return t=this._getHelperServiceUrl("geometry"),e.next=6,r.e(14).then(r.bind(null,"Yras"));case 6:return e.t0=e.sent.default,e.t1={url:t},e.abrupt("return",new e.t0(e.t1));case 9:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"createPrintTask",value:(c=Object(i.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return t=this._getHelperServiceUrl("printTask"),e.next=6,r.e(152).then(r.bind(null,"lIN5"));case 6:return e.t0=e.sent.default,e.t1=t,e.abrupt("return",new e.t0(e.t1));case 9:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"createRouteTask",value:(n=Object(i.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return t=this._getHelperServiceUrl("route"),e.next=6,Promise.resolve().then(r.bind(null,"o7RH"));case 6:return e.t0=e.sent.default,e.t1=t,e.abrupt("return",new e.t0(e.t1));case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"createServiceAreaTask",value:(t=Object(i.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return t=this._getHelperServiceUrl("serviceArea"),e.next=6,r.e(153).then(r.bind(null,"6OeE"));case 6:return e.t0=e.sent.default,e.t1=t,e.abrupt("return",new e.t0(e.t1));case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"fetchBasemaps",value:function(e,t){var r=new S.a;return r.query=e||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,t).then((function(e){if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',e.total){var n=e.results[0];return r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc",n.queryItems(r,t)}return null})).then((function(e){return e&&e.total?e.results.filter((function(e){return"Web Map"===e.type})).map((function(e){return new M({portalItem:e})})):[]}))}},{key:"fetchCategorySchema",value:function(e){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",e).then((function(e){return e.categorySchema})):Object(O.n)(e)?Promise.reject(Object(O.e)()):Promise.resolve([])}},{key:"fetchFeaturedGroups",value:function(e){var t=this.featuredGroups,r=new S.a;if(r.num=100,r.sortField="title",t&&t.length){var n,i=[],a=L(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;i.push('(title:"'.concat(o.title,'" AND owner:').concat(o.owner,")"))}}catch(s){a.e(s)}finally{a.f()}return r.query=i.join(" OR "),this.queryGroups(r,e).then((function(e){return e.results}))}return Object(O.n)(e)?Promise.reject(Object(O.e)()):Promise.resolve([])}},{key:"fetchRegions",value:function(e){var t=this.user&&this.user.culture||this.culture||Object(A.b)();return this._request(this.restUrl+"/portals/regions",D(D({},e),{},{query:{culture:t}}))}},{key:"queryGroups",value:function(e,t){return this._queryPortal("/community/groups",e,"PortalGroup",t)}},{key:"queryItems",value:function(e,t){return this._queryPortal("/search",e,"PortalItem",t)}},{key:"queryUsers",value:function(e,t){return e.sortField||(e.sortField="username"),this._queryPortal("/community/users",e,"PortalUser",t)}},{key:"toJSON",value:function(){throw new y.a("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}},{key:"_getHelperService",value:function(e){var t=this.helperServices&&this.helperServices[e];if(!t)throw new y.a("portal:service-not-found",'The `helperServices` do not include an entry named "'.concat(e,'"'));return t}},{key:"_getHelperServiceUrl",value:function(e){var t=this._getHelperService(e);if(!t.url)throw new y.a("portal:service-url-not-found",'The `helperServices` entry "'.concat(e,'" does not include a `url` value'));return t.url}},{key:"_fetchSelf",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.authMode,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,n=this.restUrl+"/portals/self",i=D({authMode:e,query:{culture:Object(A.b)().toLowerCase()}},r);return"auto"===i.authMode&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this._request(n,i)}},{key:"_queryPortal",value:function(e,t,r,n){var i=this,a=Object(w.m)(S.a,t),o=function(t){return i._request(i.restUrl+e,D(D({},a.toRequestOptions(i)),n)).then((function(e){var r=a.clone();return r.start=e.nextStart,new E({nextQueryParams:r,queryParams:a,total:e.total,results:R._resultsToTypedArray(t,{portal:i},e,n)})})).then((function(e){return Promise.all(e.results.map((function(t){return"function"==typeof t.when?t.when():e}))).then((function(){return e}),(function(t){return Object(O.u)(t),e}))}))};return r&&B[r]?B[r]().then((function(e){var t=e.default;return Object(O.v)(n),o(t)})):o()}},{key:"_signIn",value:function(){var e=this;if(this.authMode===R.AUTH_MODE_ANONYMOUS)return Promise.reject(new y.a("portal:invalid-auth-mode",'Current "authMode"\' is "'.concat(this.authMode,'"')));if("failed"===this.loadStatus)return Promise.reject(this.loadError);var t=function(t){return Promise.resolve().then((function(){return"not-loaded"===e.loadStatus?(t||(e.authMode="immediate"),e.load().then((function(){return null}))):"loading"===e.loadStatus?e.load().then((function(){return e.credential?null:(e.credential=t,e._fetchSelf("immediate"))})):e.user&&e.credential===t?null:(e.credential=t,e._fetchSelf("immediate"))})).then((function(t){t&&(e.sourceJSON=t,e.read(t))}))};return h.b?h.b.getCredential(this.restUrl).then((function(e){return t(e)})):t(this.credential)}},{key:"_normalizeSSL",value:function(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}},{key:"_normalizeUrl",value:function(e){var t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.indexOf("?")>-1?"&":"?")+"token="+t:e)}},{key:"_requestToTypedArray",value:function(e,t,r){var n=this;return this._request(e,t).then((function(e){var t=R._resultsToTypedArray(r,{portal:n},e);return Promise.all(t.map((function(t){return"function"==typeof t.when?t.when():e}))).then((function(){return t}),(function(){return t}))}))}},{key:"_request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=D({f:"json"},t.query),n=t.authMode,i=void 0===n?this.authMode===R.AUTH_MODE_ANONYMOUS?"anonymous":"auto":n,a=t.body,o=void 0===a?null:a,s=t.cacheBust,c=void 0!==s&&s,u=t.method,l=void 0===u?"auto":u,f=t.responseType,p=void 0===f?"json":f,d=t.signal,h={authMode:i,body:o,cacheBust:c,method:l,query:r,responseType:p,timeout:0,signal:d};return Object(b.default)(this._normalizeSSL(e),h).then((function(e){return e.data}))}}],[{key:"getDefault",value:function(){return R._default&&!R._default.destroyed||(R._default=new R),R._default}},{key:"fromJSON",value:function(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new R({sourceJSON:e})}},{key:"_resultsToTypedArray",value:function(e,t,r,n){var i;if(r){var a=Object(g.i)(n)?n.signal:null;i=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(i=i.map((function(r){var n=Object.assign(e?e.fromJSON(r):r,t);return"function"==typeof n.load&&n.load(a),n})))}else i=[];return i}}]),m}(Object(v.b)(m.a));V.AUTH_MODE_ANONYMOUS="anonymous",V.AUTH_MODE_AUTO="auto",V.AUTH_MODE_IMMEDIATE="immediate",Object(p.a)([Object(j.b)()],V.prototype,"access",void 0),Object(p.a)([Object(j.b)()],V.prototype,"allSSL",void 0),Object(p.a)([Object(j.b)()],V.prototype,"authMode",void 0),Object(p.a)([Object(j.b)()],V.prototype,"authorizedCrossOriginDomains",void 0),Object(p.a)([Object(_.a)("authorizedCrossOriginDomains")],V.prototype,"readAuthorizedCrossOriginDomains",null),Object(p.a)([Object(j.b)()],V.prototype,"basemapGalleryGroupQuery",void 0),Object(p.a)([Object(j.b)()],V.prototype,"bingKey",void 0),Object(p.a)([Object(j.b)()],V.prototype,"canListApps",void 0),Object(p.a)([Object(j.b)()],V.prototype,"canListData",void 0),Object(p.a)([Object(j.b)()],V.prototype,"canListPreProvisionedItems",void 0),Object(p.a)([Object(j.b)()],V.prototype,"canProvisionDirectPurchase",void 0),Object(p.a)([Object(j.b)()],V.prototype,"canSearchPublic",void 0),Object(p.a)([Object(j.b)()],V.prototype,"canShareBingPublic",void 0),Object(p.a)([Object(j.b)()],V.prototype,"canSharePublic",void 0),Object(p.a)([Object(j.b)()],V.prototype,"canSignInArcGIS",void 0),Object(p.a)([Object(j.b)()],V.prototype,"canSignInIDP",void 0),Object(p.a)([Object(j.b)()],V.prototype,"colorSetsGroupQuery",void 0),Object(p.a)([Object(j.b)()],V.prototype,"commentsEnabled",void 0),Object(p.a)([Object(j.b)({type:Date})],V.prototype,"created",void 0),Object(p.a)([Object(j.b)()],V.prototype,"credential",void 0),Object(p.a)([Object(j.b)()],V.prototype,"culture",void 0),Object(p.a)([Object(j.b)()],V.prototype,"currentVersion",void 0),Object(p.a)([Object(j.b)()],V.prototype,"customBaseUrl",void 0),Object(p.a)([Object(j.b)()],V.prototype,"defaultBasemap",void 0),Object(p.a)([Object(_.a)("defaultBasemap")],V.prototype,"readDefaultBasemap",null),Object(p.a)([Object(j.b)({type:x.a})],V.prototype,"defaultExtent",void 0),Object(p.a)([Object(j.b)()],V.prototype,"defaultVectorBasemap",void 0),Object(p.a)([Object(_.a)("defaultVectorBasemap")],V.prototype,"readDefaultVectorBasemap",null),Object(p.a)([Object(j.b)()],V.prototype,"description",void 0),Object(p.a)([Object(j.b)()],V.prototype,"eueiEnabled",void 0),Object(p.a)([Object(j.b)({readOnly:!0})],V.prototype,"extraQuery",null),Object(p.a)([Object(j.b)()],V.prototype,"featuredGroups",void 0),Object(p.a)([Object(j.b)()],V.prototype,"featuredItemsGroupQuery",void 0),Object(p.a)([Object(j.b)()],V.prototype,"galleryTemplatesGroupQuery",void 0),Object(p.a)([Object(j.b)()],V.prototype,"livingAtlasGroupQuery",void 0),Object(p.a)([Object(j.b)()],V.prototype,"hasCategorySchema",void 0),Object(p.a)([Object(j.b)()],V.prototype,"helpBase",void 0),Object(p.a)([Object(j.b)()],V.prototype,"helperServices",void 0),Object(p.a)([Object(j.b)()],V.prototype,"helpMap",void 0),Object(p.a)([Object(j.b)()],V.prototype,"homePageFeaturedContent",void 0),Object(p.a)([Object(j.b)()],V.prototype,"homePageFeaturedContentCount",void 0),Object(p.a)([Object(j.b)()],V.prototype,"httpPort",void 0),Object(p.a)([Object(j.b)()],V.prototype,"httpsPort",void 0),Object(p.a)([Object(j.b)()],V.prototype,"id",void 0),Object(p.a)([Object(j.b)()],V.prototype,"ipCntryCode",void 0),Object(p.a)([Object(j.b)({readOnly:!0})],V.prototype,"isOrganization",null),Object(p.a)([Object(j.b)()],V.prototype,"isPortal",void 0),Object(p.a)([Object(j.b)()],V.prototype,"isReadOnly",void 0),Object(p.a)([Object(j.b)()],V.prototype,"layerTemplatesGroupQuery",void 0),Object(p.a)([Object(j.b)()],V.prototype,"maxTokenExpirationMinutes",void 0),Object(p.a)([Object(j.b)({type:Date})],V.prototype,"modified",void 0),Object(p.a)([Object(j.b)()],V.prototype,"name",void 0),Object(p.a)([Object(j.b)()],V.prototype,"portalHostname",void 0),Object(p.a)([Object(j.b)()],V.prototype,"portalMode",void 0),Object(p.a)([Object(j.b)()],V.prototype,"portalProperties",void 0),Object(p.a)([Object(j.b)()],V.prototype,"region",void 0),Object(p.a)([Object(j.b)({readOnly:!0})],V.prototype,"restUrl",null),Object(p.a)([Object(j.b)()],V.prototype,"rotatorPanels",void 0),Object(p.a)([Object(j.b)()],V.prototype,"showHomePageDescription",void 0),Object(p.a)([Object(j.b)()],V.prototype,"sourceJSON",void 0),Object(p.a)([Object(j.b)()],V.prototype,"staticImagesUrl",void 0),Object(p.a)([Object(j.b)()],V.prototype,"stylesGroupQuery",void 0),Object(p.a)([Object(j.b)()],V.prototype,"supportsHostedServices",void 0),Object(p.a)([Object(j.b)()],V.prototype,"symbolSetsGroupQuery",void 0),Object(p.a)([Object(j.b)()],V.prototype,"templatesGroupQuery",void 0),Object(p.a)([Object(j.b)()],V.prototype,"thumbnail",void 0),Object(p.a)([Object(j.b)({readOnly:!0})],V.prototype,"thumbnailUrl",null),Object(p.a)([Object(j.b)()],V.prototype,"units",void 0),Object(p.a)([Object(j.b)()],V.prototype,"url",void 0),Object(p.a)([Object(j.b)()],V.prototype,"urlKey",void 0),Object(p.a)([Object(_.a)("urlKey")],V.prototype,"readUrlKey",null),Object(p.a)([Object(j.b)()],V.prototype,"user",void 0),Object(p.a)([Object(_.a)("user")],V.prototype,"readUser",null),Object(p.a)([Object(j.b)()],V.prototype,"useStandardizedQuery",void 0),Object(p.a)([Object(j.b)()],V.prototype,"useVectorBasemaps",void 0),Object(p.a)([Object(j.b)()],V.prototype,"vectorBasemapGalleryGroupQuery",void 0);var U=V=R=Object(p.a)([Object(k.a)("esri.portal.Portal")],V);t.a=U},erkm:function(e,t,r){"use strict";r.d(t,"a",(function(){return q})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return _})),r.d(t,"f",(function(){return u})),r.d(t,"g",(function(){return c}));var n=r("mK0O"),i=r("hisu"),a=r("yBJb");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32774,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0,0,0];return{srcRgb:e,srcAlpha:e,dstRgb:t,dstAlpha:t,opRgb:r,opAlpha:r,color:{r:n[0],g:n[1],b:n[2],a:n[3]}}}function u(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:32774,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:32774,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[0,0,0,0];return{srcRgb:e,srcAlpha:t,dstRgb:r,dstAlpha:n,opRgb:i,opAlpha:a,color:{r:o[0],g:o[1],b:o[2],a:o[3]}}}var l={face:1029,mode:2305},f={face:1028,mode:2305},p=function(e){return 2===e?l:1===e?f:null},d={zNear:0,zFar:1},h={r:!0,g:!0,b:!0,a:!0};function b(e){return S.intern(e)}function y(e){return I.intern(e)}function v(e){return M.intern(e)}function m(e){return T.intern(e)}function g(e){return C.intern(e)}function O(e){return L.intern(e)}function j(e){return N.intern(e)}function w(e){return V.intern(e)}function _(e){return z.intern(e)}var k=function(){function e(t,r){Object(i.a)(this,e),this.makeKey=t,this.makeRef=r,this.interns=new Map}return Object(a.a)(e,[{key:"intern",value:function(e){if(!e)return null;var t=this.makeKey(e),r=this.interns;return r.has(t)||r.set(t,this.makeRef(e)),r.get(t)}}]),e}();function x(e){return"["+e.join(",")+"]"}var S=new k(P,(function(e){return s({__tag:"Blending"},e)}));function P(e){return e?x([e.srcRgb,e.srcAlpha,e.dstRgb,e.dstAlpha,e.opRgb,e.opAlpha,e.color.r,e.color.g,e.color.b,e.color.a]):null}var I=new k(R,(function(e){return s({__tag:"Culling"},e)}));function R(e){return e?x([e.face,e.mode]):null}var M=new k(E,(function(e){return s({__tag:"PolygonOffset"},e)}));function E(e){return e?x([e.factor,e.units]):null}var T=new k(A,(function(e){return s({__tag:"DepthTest"},e)}));function A(e){return e?x([e.func]):null}var C=new k(D,(function(e){return s({__tag:"StencilTest"},e)}));function D(e){return e?x([e.function.func,e.function.ref,e.function.mask,e.operation.fail,e.operation.zFail,e.operation.zPass]):null}var L=new k(F,(function(e){return s({__tag:"DepthWrite"},e)}));function F(e){return e?x([e.zNear,e.zFar]):null}var N=new k(B,(function(e){return s({__tag:"ColorWrite"},e)}));function B(e){return e?x([e.r,e.g,e.b,e.a]):null}var V=new k(U,(function(e){return s({__tag:"StencilWrite"},e)}));function U(e){return e?x([e.mask]):null}var z=new k((function(e){return e?x([P(e.blending),R(e.culling),E(e.polygonOffset),A(e.depthTest),D(e.stencilTest),F(e.depthWrite),B(e.colorWrite),U(e.stencilWrite)]):null}),(function(e){return{blending:b(e.blending),culling:y(e.culling),polygonOffset:v(e.polygonOffset),depthTest:m(e.depthTest),stencilTest:g(e.stencilTest),depthWrite:O(e.depthWrite),colorWrite:j(e.colorWrite),stencilWrite:w(e.stencilWrite)}}));var q=function(){function e(t){Object(i.a)(this,e),this._pipelineInvalid=!0,this._blendingInvalid=!0,this._cullingInvalid=!0,this._polygonOffsetInvalid=!0,this._depthTestInvalid=!0,this._stencilTestInvalid=!0,this._depthWriteInvalid=!0,this._colorWriteInvalid=!0,this._stencilWriteInvalid=!0,this._stateSetters=t}return Object(a.a)(e,[{key:"setPipeline",value:function(e){(this._pipelineInvalid||e!==this._pipeline)&&(this.setBlending(e.blending),this.setCulling(e.culling),this.setPolygonOffset(e.polygonOffset),this.setDepthTest(e.depthTest),this.setStencilTest(e.stencilTest),this.setDepthWrite(e.depthWrite),this.setColorWrite(e.colorWrite),this.setStencilWrite(e.stencilWrite),this._pipeline=e),this._pipelineInvalid=!1}},{key:"invalidateBlending",value:function(){this._blendingInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateCulling",value:function(){this._cullingInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidatePolygonOffset",value:function(){this._polygonOffsetInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateDepthTest",value:function(){this._depthTestInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateStencilTest",value:function(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateDepthWrite",value:function(){this._depthWriteInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateColorWrite",value:function(){this._colorWriteInvalid=!0,this._pipelineInvalid=!0}},{key:"invalidateStencilWrite",value:function(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}},{key:"setBlending",value:function(e){this._blending=this.setSubState(e,this._blending,this._blendingInvalid,this._stateSetters.setBlending),this._blendingInvalid=!1}},{key:"setCulling",value:function(e){this._culling=this.setSubState(e,this._culling,this._cullingInvalid,this._stateSetters.setCulling),this._cullingInvalid=!1}},{key:"setPolygonOffset",value:function(e){this._polygonOffset=this.setSubState(e,this._polygonOffset,this._polygonOffsetInvalid,this._stateSetters.setPolygonOffset),this._polygonOffsetInvalid=!1}},{key:"setDepthTest",value:function(e){this._depthTest=this.setSubState(e,this._depthTest,this._depthTestInvalid,this._stateSetters.setDepthTest),this._depthTestInvalid=!1}},{key:"setStencilTest",value:function(e){this._stencilTest=this.setSubState(e,this._stencilTest,this._stencilTestInvalid,this._stateSetters.setStencilTest),this._stencilTestInvalid=!1}},{key:"setDepthWrite",value:function(e){this._depthWrite=this.setSubState(e,this._depthWrite,this._depthWriteInvalid,this._stateSetters.setDepthWrite),this._depthWriteInvalid=!1}},{key:"setColorWrite",value:function(e){this._colorWrite=this.setSubState(e,this._colorWrite,this._colorWriteInvalid,this._stateSetters.setColorWrite),this._colorWriteInvalid=!1}},{key:"setStencilWrite",value:function(e){this._stencilWrite=this.setSubState(e,this._stencilWrite,this._stencilWriteInvalid,this._stateSetters.setStencilWrite),this._stencilTestInvalid=!1}},{key:"setSubState",value:function(e,t,r,n){return(r||e!==t)&&(n(e),this._pipelineInvalid=!0),e}}]),e}()},exBb:function(e,t,r){var n=r("+dZb")("set",r("H034"));n.placeholder=r("IOY3"),e.exports=n},eyzW:function(e,t,r){var n=r("+dZb")("flow",r("nbiN"));n.placeholder=r("IOY3"),e.exports=n},ezQG:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r("mK0O"),i=r("eijD"),a=r("NthX"),o=r.n(a),s=r("DGz/"),c=r("wckI"),u=r("aic5"),l=r("/xo8"),f=r("IXSo"),p=r("lh74");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=Object(c.m)(p.a);function y(e,t,r){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(o.a.mark((function e(t,r,n){var i,a,c,p,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b(r),i=Object(l.c)(t),a=h(h({},i.query),{},{f:"json"},r.toJSON()),c=r.outSpatialReference,p=Object(u.c)(r.geometries[0]),d=Object(l.a)(a,n),e.abrupt("return",Object(s.default)(i.path+"/project",d).then((function(e){var t=e.data.geometries;return Object(f.a)(t,p,c)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},"f/Xo":function(e,t){e.exports=function(e){return function(){return e}}},f2JV:function(e,t,r){"use strict";r.r(t);var n=r("ZFoC"),i=r("tM9Q"),a=r("6FhD"),o=r("ERkP");t.default={Playground:n.c,Props:n.d,Map:i.Map,Home:a.a,React:o}},f3A3:function(e,t,r){"use strict";function n(){var e=new Float32Array(6);return e[0]=1,e[3]=1,e}function i(e,t,r,n){var i=t[n],a=t[n+1];e[n]=r[0]*i+r[2]*a+r[4],e[n+1]=r[1]*i+r[3]*a+r[5]}function a(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2,s=a||t.length/o,c=n;c<s;c++)i(e,t,r,c*o)}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));Object.freeze({__proto__:null,create:n,clone:function(e){var t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},fromValues:function(e,t,r,n,i,a){var o=new Float32Array(6);return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=i,o[5]=a,o},createView:function(e,t){return new Float32Array(e,t,6)},transform:i,transformMany:a})},f6f6:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("hZBP"),f=r("QSFP"),p=r("xAIp"),d=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var b=n=function(e){Object(o.a)(r,e);var t=h(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).active=!1,n.className=null,n.disabled=!1,n.id=null,n.indicator=!1,n.title=null,n.type=null,n.visible=!0,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}}]),r}(Object(f.a)(l.a));Object(u.a)([Object(p.b)()],b.prototype,"active",void 0),Object(u.a)([Object(p.b)()],b.prototype,"className",void 0),Object(u.a)([Object(p.b)()],b.prototype,"disabled",void 0),Object(u.a)([Object(p.b)()],b.prototype,"id",void 0),Object(u.a)([Object(p.b)()],b.prototype,"indicator",void 0),Object(u.a)([Object(p.b)()],b.prototype,"title",void 0),Object(u.a)([Object(p.b)()],b.prototype,"type",void 0),Object(u.a)([Object(p.b)()],b.prototype,"visible",void 0);var y=b=n=Object(u.a)([Object(d.a)("esri.support.actions.ActionBase")],b);t.a=y},f6ty:function(e,t,r){"use strict";r.r(t);var n=r("ZFoC"),i=r("tM9Q"),a=r("WHDv"),o=r("ERkP");t.default={Playground:n.c,Props:n.d,Map:i.Map,BasemapGallery:a.a,React:o}},fDX0:function(e,t,r){"use strict";function n(e,t){if(!i(e,t)){var r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function i(e,t){return!!e.typeKeywords&&e.typeKeywords.indexOf(t)>-1}function a(e,t){var r=e.typeKeywords;if(r){var n=r.indexOf(t);n>-1&&r.splice(n,1)}}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a}))},fHEz:function(e,t,r){"use strict";function n(){return[1,0,0,1,0,0]}r.d(t,"a",(function(){return n}));Object.freeze({__proto__:null,create:n,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]},fromValues:function(e,t,r,n,i,a){return[e,t,r,n,i,a]},createView:function(e,t){return new Float64Array(e,t,6)}})},fLrv:function(e,t,r){"use strict";var n=r("NthX"),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("ERkP"),f=u(r("lZ6b"));t.default=function(e){var t=c(e,[]),i=f.default(),a=i.map,u=i.view;return l.useEffect((function(){return u&&u.ready&&s(void 0,void 0,void 0,n.mark((function e(){var i,s,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return o(r("HnKO"))}));case 2:i=e.sent,s=i.default,c=new s(t),null==a||a.layers.add(c);case 6:case"end":return e.stop()}}),e)}))),function(){!1,null==a||a.layers.remove(void 0)}}),[a,u]),null}},fRAL:function(e,t){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},fRhz:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("hisu"),i=r("yBJb"),a=r("aNYv"),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n.a)(this,e),this._options=t}return Object(i.a)(e,[{key:"toQueryParams",value:function(e){var t=this;if(!e)return null;var r=e.toJSON(),n={};return Object.keys(r).forEach((function(e){var i=t._options[e];if(i){var o="boolean"!=typeof i&&i.name?i.name:e,s="boolean"!=typeof i&&i.getter?i.getter(r):r[e];null!=s&&(n[o]=function(e){if(!Array.isArray(e))return!1;var t=Object(a.a)(e,1)[0];return"number"==typeof t||"string"==typeof t}(s)?s.join(","):"object"==typeof s?JSON.stringify(s):s)}else n[e]=r[e]}),this),n}}]),e}();function s(e){return new o(e)}},fRsQ:function(e,t,r){"use strict";var n=r("hisu"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("dQW7"),c=r("0n+b"),u=r("xAIp"),l=(r("J4Pc"),r("wckI")),f=(r("TM+E"),r("iaHD")),p=r("aic5");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var h=function(e){Object(i.a)(r,e);var t=d(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).deviationUnit=null,i.geometries=null,i.maxDeviation=null,i}return r}(c.a);Object(s.a)([Object(u.b)({type:String,json:{write:!0}})],h.prototype,"deviationUnit",void 0),Object(s.a)([Object(u.b)({json:{read:{reader:function(e){return e?e.map((function(e){return Object(p.a)(e)})):null}},write:{writer:function(e,t){t.geometries=e.map((function(e){return e.toJSON()}))}}}})],h.prototype,"geometries",void 0),Object(s.a)([Object(u.b)({type:Number,json:{write:!0}})],h.prototype,"maxDeviation",void 0),(h=Object(s.a)([Object(f.a)("esri.rest.support.GeneralizeParameters")],h)).from=Object(l.m)(h);var b=h;t.a=b},fSIz:function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},fT8P:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},fVET:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return b}));var n=r("e6DO"),i=r("WYis"),a=r("DGz/"),o=r("5iHx"),s=r("frPA"),c=r("+3Lk"),u="picture-fill",l="simple-fill",f="simple-marker",p=new o.a(1e3);function d(e){var t=e.style,r=null;if(e)switch(e.type){case f:"cross"!==t&&"x"!==t&&(r=e.color);break;case l:"solid"===t?r=e.color:"none"!==t&&(r={type:"pattern",x:0,y:0,src:Object(n.a)("esri/symbols/patterns/".concat(t,".png")),width:5,height:5});break;case u:r={type:"pattern",src:e.url,width:Object(s.c)(e.width)*e.xscale,height:Object(s.c)(e.height)*e.yscale,x:Object(s.c)(e.xoffset),y:Object(s.c)(e.yoffset)};break;case"text":r=e.color;break;case"cim":r=Object(c.b)(e)}return r}function h(e,t){var r=e+"-"+t;return void 0!==p.get(r)?Promise.resolve(p.get(r)):Object(a.default)(e,{responseType:"image"}).then((function(e){var n=e.data,i=n.naturalWidth,a=n.naturalHeight,o=document.createElement("canvas");o.width=i,o.height=a;var s=o.getContext("2d");s.fillStyle=t,s.fillRect(0,0,i,a),s.globalCompositeOperation="destination-in",s.drawImage(n,0,0);var c=o.toDataURL();return p.put(r,c),c}))}function b(e){if(!e)return null;var t;switch(e.type){case l:case u:case f:t=b(e.outline);break;case"simple-line":var r=Object(s.c)(e.width);"none"!==e.style&&0!==r&&(t={color:e.color,style:v(e.style),width:r,cap:e.cap,join:"miter"===e.join?Object(s.c)(e.miterLimit):e.join});break;default:t=null}return t}var y,v=(y={},function(e){if(y[e])return y[e];var t=e.replace(/-/g,"");return y[e]=t,t}),m=new i.a([128,128,128])},fVd2:function(e,t){var r=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;e.exports=function(e){var t=e.match(r);return t?t[1].split(n):[]}},fb8N:function(e,t,r){"use strict";r.d(t,"a",(function(){return K})),r.d(t,"b",(function(){return q})),r.d(t,"c",(function(){return H})),r.d(t,"d",(function(){return J})),r.d(t,"e",(function(){return G})),r.d(t,"f",(function(){return W})),r.d(t,"g",(function(){return Z})),r.d(t,"h",(function(){return X})),r.d(t,"i",(function(){return $})),r.d(t,"j",(function(){return Q}));var n,i=r("wckI"),a=r("s9cN"),o=r("oLNL"),s=(r("HWYy"),r("iKWD")),c=r("5kin"),u=(r("oRkd"),r("RIHA"),r("+JFt")),l=r("lvFO"),f=(r("UKs3"),r("5Xgy"),r("hisu")),p=r("yBJb"),d=r("CHlC"),h=r("kMo5"),b=r("P+uj"),y=r("dQW7"),v=r("kDog"),m=r("0fJP"),g=r("xAIp"),O=(r("J4Pc"),r("TM+E"),r("vo12")),j=r("iaHD"),w=r("ykrQ");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(b.a)(e);if(t){var i=Object(b.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var k=v.a.ofType({base:null,key:"type",typeMap:{fill:c.a}}),x=n=function(e){Object(d.a)(r,e);var t=_(r);function r(e){var n;return Object(f.a)(this,r),(n=t.call(this,e)).symbolLayers=new k,n.type="mesh-3d",n}return Object(p.a)(r,[{key:"clone",value:function(){return new n({styleOrigin:Object(m.a)(this.styleOrigin),symbolLayers:Object(m.a)(this.symbolLayers),thumbnail:Object(m.a)(this.thumbnail)})}}]),r}(w.a);Object(y.a)([Object(g.b)({type:k})],x.prototype,"symbolLayers",void 0),Object(y.a)([Object(O.a)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],x.prototype,"type",void 0);var S,P=x=n=Object(y.a)([Object(j.a)("esri.symbols.MeshSymbol3D")],x),I=(r("gtOA"),r("28EP"),r("4Mpa")),R=r("frPA"),M=r("3tQL");function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(b.a)(e);if(t){var i=Object(b.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var T=S=function(e){Object(d.a)(r,e);var t=E(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).type="picture-fill",e.url=null,e.xscale=1,e.yscale=1,e.width=12,e.height=12,e.xoffset=0,e.yoffset=0,e.source=null,e}return Object(p.a)(r,[{key:"normalizeCtorArgs",value:function(e,t,r,n){if(e&&"string"!=typeof e&&null==e.imageData)return e;var i={};return e&&(i.url=e),t&&(i.outline=t),null!=r&&(i.width=Object(R.e)(r)),null!=n&&(i.height=Object(R.e)(n)),i}},{key:"clone",value:function(){var e=new S({color:Object(m.a)(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",Object(m.a)(this.source)),e}},{key:"hash",value:function(){var e;return"".concat(Object(I.a)(Object(b.a)(r.prototype),"hash",this).call(this),".").concat(null==(e=this.color)?void 0:e.hash(),".").concat(this.height,".").concat(this.url,".").concat(this.width,".").concat(this.xoffset,".").concat(this.xscale,".").concat(this.yoffset,".").concat(this.yscale)}}]),r}(s.a);Object(y.a)([Object(O.a)({esriPFS:"picture-fill"},{readOnly:!0})],T.prototype,"type",void 0),Object(y.a)([Object(g.b)(M.b)],T.prototype,"url",void 0),Object(y.a)([Object(g.b)({type:Number,json:{write:!0}})],T.prototype,"xscale",void 0),Object(y.a)([Object(g.b)({type:Number,json:{write:!0}})],T.prototype,"yscale",void 0),Object(y.a)([Object(g.b)({type:Number,cast:R.e,json:{write:!0}})],T.prototype,"width",void 0),Object(y.a)([Object(g.b)({type:Number,cast:R.e,json:{write:!0}})],T.prototype,"height",void 0),Object(y.a)([Object(g.b)({type:Number,cast:R.e,json:{write:!0}})],T.prototype,"xoffset",void 0),Object(y.a)([Object(g.b)({type:Number,cast:R.e,json:{write:!0}})],T.prototype,"yoffset",void 0),Object(y.a)([Object(g.b)(M.a)],T.prototype,"source",void 0);var A=T=S=Object(y.a)([Object(j.a)("esri.symbols.PictureFillSymbol")],T),C=r("rgdf"),D=r("FFWV"),L=r("jVPL"),F=r("2d0T"),N=r("DKWO"),B=r("I5De"),V=r("ursF"),U=(r("1lXL"),r("+yVN")),z=(r("y2zH"),r("OsF9"),r("/H5Z"));r("yBbm"),r("EeA9"),r("Gz0R");function q(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function H(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}var G={base:V.a,key:"type",typeMap:{"simple-fill":F.a,"picture-fill":A,"picture-marker":C.a,"simple-line":N.a,"simple-marker":B.a,text:U.a,"label-3d":u.a,"line-3d":l.a,"mesh-3d":P,"point-3d":D.a,"polygon-3d":L.a,"web-style":z.a,cim:o.a},errorContext:"symbol"},W={base:V.a,key:"type",typeMap:{"picture-marker":C.a,"simple-marker":B.a,text:U.a,"web-style":z.a,cim:o.a},errorContext:"symbol"},J=Object(a.b)({types:G}),$={base:V.a,key:"type",typeMap:{"simple-fill":F.a,"picture-fill":A,"picture-marker":C.a,"simple-line":N.a,"simple-marker":B.a,text:U.a,"line-3d":l.a,"mesh-3d":P,"point-3d":D.a,"polygon-3d":L.a,"web-style":z.a,cim:o.a},errorContext:"symbol"},Z={base:V.a,key:"type",typeMap:{text:U.a,"label-3d":u.a},errorContext:"symbol"},Q=(V.a,u.a,l.a,D.a,L.a,z.a,{base:V.a,key:"type",typeMap:{"line-3d":l.a,"mesh-3d":P,"point-3d":D.a,"polygon-3d":L.a,"web-style":z.a},errorContext:"symbol"}),X={base:V.a,key:"type",typeMap:{"label-3d":u.a},errorContext:"symbol"},K=Object(i.k)(G)},fdVR:function(e,t,r){var n=r("NfLg");e.exports=function(e){return n(e)?void 0:e}},fjdK:function(e,t,r){var n=r("jcrF"),i=r("X3Hh"),a=r("iZmY"),o=r("PqlX"),s=r("T9Ud"),c=r("wXp5"),u=Object.prototype.hasOwnProperty;function l(e){if(s(e)&&!o(e)&&!(e instanceof n)){if(e instanceof i)return e;if(u.call(e,"__wrapped__"))return c(e)}return new i(e)}l.prototype=a.prototype,l.prototype.constructor=l,e.exports=l},foBe:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("mK0O"),i=r("6J1V"),a=r("c+HS"),o=(r("J4Pc"),r("TM+E"),r("mjOD"));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u="esri-widget__heading";function l(e,t){var r="h".concat(Object(i.e)(Math.ceil(e.level),1,6));return delete e.level,Object(o.a)(r,c(c({},e),{},{class:Object(a.a)(u,e.class)}),t)}},frPA:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return o}));var n=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;function i(e){return e?e/72*96:0}function a(e){return e?72*e/96:0}function o(e){if("string"==typeof e){if(n.test(e)){var t=e.match(n),r=Number(t[1]),i=t[3]&&t[3].toLowerCase(),o="-"===e.charAt(0),s="px"===i?a(r):r;return o?-s:s}return console.warn("screenUtils.toPt: input not recognized!"),null}return e}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{x:e,y:t}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[e,t]}},fxeQ:function(e,t,r){var n=r("LSEb")(r("s3UK"),"WeakMap");e.exports=n},"g+AA":function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return s}));var n,i=r("J4Pc"),a=r("z9dv"),o=(r("hXZc"),"4.20"),s={request:function(e,t){var n,i=null==(n=e.options)?void 0:n.responseType;return Promise.resolve().then(r.bind(null,"DGz/")).then((function(r){var n=r.default,a=e.options||{};return a.responseType="native"===i||"native-request-init"===i?"native-request-init":"array-buffer",a.signal=null==t?void 0:t.signal,n(e.url,a)})).then((function(e){var t={data:e.data,ssl:e.ssl};return"native-request-init"===e.requestOptions.responseType?(delete t.data.signal,t):{result:t,transferList:[t.data]}}))}};function c(e){n=e}function u(e){var t=n&&n.findCredential(e);return t&&t.token?Object(a.d)(e,"token",t.token):e}Object(i.a)("host-webworker")||(Object(i.a)("edge")||Object(i.a)("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser")},g4tb:function(e,t,r){"use strict";r.r(t),r.d(t,"fetchStyle",(function(){return j})),r.d(t,"fetchSymbolFromStyle",(function(){return _})),r.d(t,"resolveWebStyleSymbol",(function(){return w})),r.d(t,"styleNameFromItem",(function(){return x}));var n=r("mK0O"),i=r("DGz/"),a=r("fb8N"),o=r("+KWP"),s=r("Mp7X"),c=r("z9dv"),u=r("eoZi"),l=r("kRu0"),f=r("J4Pc"),p=r("9jes"),d=r("R0ka"),h=r("5UAi"),b=r("zOOR");function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g={};function O(e,t,r){var n,i=t.portal||u.a.getDefault(),a="".concat(i.url," - ").concat(i.user&&i.user.username," - ").concat(e);return g[a]||(g[a]=function(e,t,r){return t.load(r).then((function(){var n=new l.a({disableExtraQuery:!0,query:"owner:".concat(P," AND type:").concat(I,' AND typekeywords:"').concat(e,'"')});return t.queryItems(n,r)})).then((function(t){var n=t.results,i=null,a=e.toLowerCase();if(n&&Array.isArray(n)){var o,c=v(n);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(u.typeKeywords.some((function(e){return e.toLowerCase()===a}))&&u.type===I&&u.owner===P){i=u;break}}}catch(l){c.e(l)}finally{c.f()}}if(!i)throw new s.a("symbolstyleutils:style-not-found","The style '".concat(e,"' could not be found"),{styleName:e});return i.load(r)}))}(e,i,r).then((function(e){return n=e,e.fetchData()})).then((function(t){return{data:t,baseUrl:n.itemUrl,styleName:e}}))),g[a]}function j(e,t,r){return e.styleUrl?function(e,t){return S(e,t).then((function(t){return{data:t.data,baseUrl:Object(c.G)(e),styleUrl:e}}))}(e.styleUrl,r):e.styleName?O(e.styleName,t,r):Promise.reject(new s.a("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function w(e,t,r,n){return e.name?e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,t,r){var n=R.replace(/\{SymbolName\}/gi,e.name);return S(n,r).then((function(e){var r=k(e.data);return Object(d.a)(r,{portal:t.portal,url:Object(c.K)(Object(c.G)(n)),origin:"portal-item"})}))}(e,t,n):j(e,t,n).then((function(i){return _(i,e.name,t,r,n)})):Promise.reject(new s.a("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function _(e,t,r,n,i){var u=e.data,l={portal:r.portal,url:Object(c.K)(e.baseUrl),origin:"portal-item"},y=u.items.find((function(e){return e.name===t}));if(!y){var m="The symbol name '".concat(t,"' could not be found");return Promise.reject(new s.a("symbolstyleutils:symbol-name-not-found",m,{symbolName:t}))}var g=Object(p.a)(function(e,t){if("cimRef"===t)return e.cimRef;if(e.formatInfos&&!Object(f.a)("enable-feature:force-wosr")){var r,n=v(e.formatInfos);try{for(n.s();!(r=n.n()).done;){var i=r.value;if("gltf"===i.type)return i.href}}catch(a){n.e(a)}finally{n.f()}}return e.webRef}(y,n),l),O=y.thumbnail&&y.thumbnail.href,j=y.thumbnail&&y.thumbnail.imageData;Object(o.b)()&&(g=Object(o.a)(g),O=Object(o.a)(O));var w={portal:r.portal,url:Object(c.K)(Object(c.G)(g)),origin:"portal-item"};return S(g,i).then((function(i){var o="cimRef"===n?k(i.data):i.data,s=Object(d.a)(o,w);if(s&&Object(a.c)(s)){if(O){var c=Object(p.a)(O,l);s.thumbnail=new b.a({url:c})}else j&&(s.thumbnail=new b.a({url:"data:image/png;base64,".concat(j)}));e.styleUrl?s.styleOrigin=new h.a({portal:r.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(s.styleOrigin=new h.a({portal:r.portal,styleName:e.styleName,name:t}))}return s}))}function k(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function x(e){var t,r=v(e.typeKeywords);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(/^Esri.*Style$/.test(n)&&"Esri Style"!==n)return n}}catch(i){r.e(i)}finally{r.f()}}function S(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({responseType:"json",query:{f:"json"}},t);return Object(i.default)(Object(c.D)(e),r)}var P="esri_en",I="Style",R="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},"g9+Q":function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return f})),r.d(t,"f",(function(){return b})),r.d(t,"g",(function(){return d})),r.d(t,"h",(function(){return y})),r.d(t,"i",(function(){return h})),r.d(t,"j",(function(){return l})),r.d(t,"k",(function(){return p}));var n=r("aNYv");function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t,r,n){return function(e){return"function"==typeof e}(e)?e(t,r,n):e}function s(e){return[e.r,e.g,e.b,e.a]}function c(e,t,r){var a=function(e){for(var t=e.length;t--;)if(-1===" /-,\n".indexOf(e.charAt(t)))return!1;return!0},o=[],s=0,c=-1;do{if((c=t.indexOf("[",s))>=s){if(c>s){var l=t.substr(s,c-s);o.push([l,null,a(l)])}if(s=c+1,(c=t.indexOf("]",s))>=s){if(c>s){var f=e[t.substr(s,c-s)];f&&o.push([null,f,!1])}s=c+1}}}while(-1!==c);if(s<t.length-1){var p=t.substr(s);o.push([p,null,a(p)])}return function(e){var t,a="",s=null,c=i(o);try{for(c.s();!(t=c.n()).done;){var l=t.value,f=Object(n.a)(l,3),p=f[0],d=f[1],h=f[2];if(p)h?s=p:(s&&(a+=s,s=null),a+=p);else{var b=e.attributes[d];b&&(s&&(a+=s,s=null),a+=b)}}}catch(y){c.e(y)}finally{c.f()}return u(a,r)}}function u(e,t){switch("string"!=typeof e&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function l(e,t,r,n,i,a){for(var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=t/i,c=r/a,u=Math.ceil(s/2),l=Math.ceil(c/2),f=0;f<a;f++)for(var p=0;p<i;p++){for(var d=4*(p+(o?a-f-1:f)*i),h=0,b=0,y=0,v=0,m=0,g=0,O=0,j=(f+.5)*c,w=Math.floor(f*c);w<(f+1)*c;w++)for(var _=Math.abs(j-(w+.5))/l,k=(p+.5)*s,x=_*_,S=Math.floor(p*s);S<(p+1)*s;S++){var P=Math.abs(k-(S+.5))/u,I=Math.sqrt(x+P*P);I>=-1&&I<=1&&((h=2*I*I*I-3*I*I+1)>0&&(O+=h*e[(P=4*(S+w*t))+3],y+=h,e[P+3]<255&&(h=h*e[P+3]/250),v+=h*e[P],m+=h*e[P+1],g+=h*e[P+2],b+=h))}n[d]=v/b,n[d+1]=m/b,n[d+2]=g/b,n[d+3]=O/y}}function f(e){return e?{r:e[0],g:e[1],b:e[2],a:e[3]/255}:{r:0,g:0,b:0,a:0}}function p(e){var t;return null==(t=e.data)?void 0:t.symbol}function d(e){return"CIMVectorMarker"===e.type||"CIMPictureMarker"===e.type||"CIMBarChartMarker"===e.type||"CIMCharacterMarker"===e.type||"CIMPieChartMarker"===e.type||"CIMStackedBarChartMarker"===e.type}function h(e){return"CIMGradientStroke"===e.type||"CIMPictureStroke"===e.type||"CIMSolidStroke"===e.type}function b(e){return"CIMGradientFill"===e.type||"CIMHatchFill"===e.type||"CIMPictureFill"===e.type||"CIMSolidFill"===e.type||"CIMWaterFill"===e.type}function y(e){return"CIMMarkerPlacementAlongLineRandomSize"===e.type||"CIMMarkerPlacementAlongLineSameSize"===e.type||"CIMMarkerPlacementAlongLineVariableSize"===e.type||"CIMMarkerPlacementAtExtremities"===e.type||"CIMMarkerPlacementAtMeasuredUnits"===e.type||"CIMMarkerPlacementAtRatioPositions"===e.type||"CIMMarkerPlacementOnLine"===e.type||"CIMMarkerPlacementOnVertices"===e.type}},gCjI:function(e,t,r){"use strict";r.r(t);var n=r("mK0O"),i=r("6CzD"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("dQW7"),f=r("e6DO"),p=r("UfAV"),d=r("j56I"),h=r("PVS0"),b=(r("J4Pc"),r("wckI"),r("TM+E")),y=r("xAIp"),v=r("iaHD"),m=r("IXv3"),g=r("kDog"),O=r("eTmm"),j=r("gljZ"),w=r("zbeF"),_=r("eijD"),k=r("NthX"),x=r.n(k),S=r("Mp7X"),P=r("IH5m");function I(e){return e&&"base-tile"===e.type||"tile"===e.type||"elevation"===e.type||"imagery-tile"===e.type||"base-elevation"===e.type||"open-street-map"===e.type||"wcs"===e.type||"web-tile"===e.type||"wmts"===e.type||"vector-tile"===e.type}var R=r("7im+"),M=(r("8igk"),r("DGz/")),E=r("hZBP"),T=r("X6u8"),A=r("0fJP"),C=r("Yejw");function D(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var F=function e(t){Object(a.a)(this,e),this.client=t,this._cancelled=!1,this.size=0,this.duration=0},N=function e(t){Object(a.a)(this,e),this.typeWorkerQuota=t,this.tasks=new Array,this.numWorkers=0,this.statistics=new B},B=function e(){Object(a.a)(this,e),this.requests=0,this.size=0,this.duration=0,this.speed=0},V=function(){function e(t,r,n,i){Object(a.a)(this,e),this._workerFunc=t,this._callbackFunc=r,this._maxTotalNumWorkers=n,this._totalNumWorkers=0,this._clients=i.map((function(e){return new N(e)}))}return Object(o.a)(e,[{key:"hasQuota",value:function(e){var t=this._clients[e];return!!t&&(this._totalNumWorkers<this._maxTotalNumWorkers||t.numWorkers+t.tasks.length<t.typeWorkerQuota)}},{key:"push",value:function(e){var t=this,r=this._clients[e.client];r&&(this._totalNumWorkers<this._maxTotalNumWorkers?(r.numWorkers++,this._totalNumWorkers++,this._workerFunc(e,(function(e,r){return t._taskCallback(e,r)}))):r.tasks.push(e))}},{key:"cancel",value:function(e){this._taskFinished(e),e._cancelled=!0}},{key:"destroy",value:function(){this._clients.length=0}},{key:"_taskFinished",value:function(e){var t=this._clients[e.client];this._totalNumWorkers--,t.numWorkers--,t.statistics.requests++,t.statistics.size+=e.size||0,t.statistics.duration+=e.duration||0,t.statistics.speed=t.statistics.duration>0?t.statistics.size/t.statistics.duration:0,Object(C.a)(t.numWorkers>=0),this._next()}},{key:"_next",value:function(){var e,t=D(this._clients);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(r&&r.numWorkers<r.typeWorkerQuota&&this._processQueue(r))return}}catch(o){t.e(o)}finally{t.f()}var n,i=D(this._clients);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a&&this._processQueue(a))return}}catch(o){i.e(o)}finally{i.f()}}},{key:"_processQueue",value:function(e){for(var t=this;e.tasks.length>0;)if(this._workerFunc(e.tasks.shift(),(function(e,r){return t._taskCallback(e,r)})))return e.numWorkers++,this._totalNumWorkers++,!0;return!1}},{key:"_taskCallback",value:function(e,t){e._cancelled||(this._callbackFunc(e,t),this._taskFinished(e))}},{key:"getStatsForType",value:function(e){var t=this._clients[e];return t?{quota:t.typeWorkerQuota,workers:t.numWorkers,queueSize:t.tasks.length,requestStats:t.statistics}:null}},{key:"test",get:function(){var e=this;return{set workerFunc(t){e._workerFunc=t}}}}]),e}();function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Y){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var z=function(e){Object(s.a)(r,e);var t=U(r);function r(e,n,i,o,s){var c;return Object(a.a)(this,r),(c=t.call(this,o)).url=e,c.options=n,c.docType=i,c.key=s,c.result=null,c.status=1,c.request=null,c.abortController=null,c.resolvers=new Array,c.startTime=0,c}return r}(F),q=r("0942"),H=r("Sje8"),G=r("DVFM"),W=r("tcyg"),J=r("juU0");function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Y){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var Z=function(e){Object(s.a)(r,e);var t=$(r);function r(){var e;return Object(a.a)(this,r),(e=t.apply(this,arguments)).SCHEDULER_LOG_SLOW_TASKS=!1,e.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1,e}return r}(E.a);Object(l.a)([Object(y.b)()],Z.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),Object(l.a)([Object(y.b)()],Z.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0);var Q=new(Z=Object(l.a)([Object(v.a)("esri.views.support.DebugFlags")],Z));function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Y){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var K,Y,ee=b.a.getLogger("esri.views.support.Scheduler");(Y=K||(K={})).RESOURCE_CONTROLLER="schedule",Y.SLIDE="slide",Y.STREAM_DATA_LOADER="stream loader",Y.ELEVATION_QUERY="elevation query",Y.TERRAIN_SURFACE="terrain",Y.SURFACE_GEOMETRY_UPDATES="surface geometry updates",Y.GRAPHICS_CORE="Graphics3D",Y.I3S_CONTROLLER="I3S",Y.POINT_CLOUD_LAYER="point cloud",Y.FEATURE_TILE_FETCHER="feature fetcher",Y.STAGE="stage",Y.GRAPHICS_DECONFLICTOR="graphics deconflictor",Y.FILTER_VISIBILITY="Graphics3D filter visibility",Y.SCALE_VISIBILITY="Graphics3D scale visibility",Y.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",Y.POINT_OF_INTEREST_FREQUENT="POI frequent",Y.POINT_OF_INTEREST_INFREQUENT="POI infrequent",Y.LABELER="labeler",Y.FEATURE_QUERY_ENGINE="feature query",Y.FEATURE_TILE_TREE="feature tile tree",Y.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",Y.ELEVATION_ALIGNMENT="elevation alignment",Y.TEXT_TEXTURE_ATLAS="text texture atlas",Y.TEXTURE_UNLOAD="texture unload",Y.OVERLAY_MANAGER="overlay manager",Y.LINE_OF_SIGHT_TOOL="line of sight tool",Y.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",Y.ELEVATION_PROFILE="elevation profile",Y.SNAPPING="snapping",Y.SHADOW_ACCUMULATOR="shadow accumulator",Y[Y.TEST_PRIO=1]="TEST_PRIO";var te=new Map([[K.RESOURCE_CONTROLLER,0],[K.SLIDE,0],[K.STREAM_DATA_LOADER,0],[K.ELEVATION_QUERY,0],[K.TERRAIN_SURFACE,1],[K.SURFACE_GEOMETRY_UPDATES,1],[K.GRAPHICS_CORE,2],[K.I3S_CONTROLLER,2],[K.POINT_CLOUD_LAYER,2],[K.FEATURE_TILE_FETCHER,2],[K.STAGE,4],[K.GRAPHICS_DECONFLICTOR,4],[K.FILTER_VISIBILITY,4],[K.SCALE_VISIBILITY,4],[K.FRUSTUM_VISIBILITY,4],[K.POINT_OF_INTEREST_FREQUENT,6],[K.POINT_OF_INTEREST_INFREQUENT,30],[K.LABELER,8],[K.FEATURE_QUERY_ENGINE,8],[K.FEATURE_TILE_TREE,16],[K.FEATURE_TILE_TREE_ACTIVE,0],[K.ELEVATION_ALIGNMENT,12],[K.TEXT_TEXTURE_ATLAS,12],[K.TEXTURE_UNLOAD,12],[K.OVERLAY_MANAGER,12],[K.LINE_OF_SIGHT_TOOL,16],[K.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[K.SNAPPING,0],[K.SHADOW_ACCUMULATOR,30]]);function re(e){return te.has(e)?te.get(e):"number"==typeof e?e:1}var ne,ie,ae=Object(W.a)(6.5),oe=Object(W.a)(1),se=Object(W.a)(30),ce=Object(W.a)(1e3/30),ue=Object(W.a)(100);!function(e){var t=function(e){Object(s.a)(i,e);var t=X(i);function i(e){var r,o;Object(a.a)(this,i),(r=t.call(this,e)).updating=!0,r.performanceInfo={total:new H.a("total"),tasks:new Map},r._frameTaskTimes=new Map,r._budget=null,r._state=1,r._tasks=new G.a,r._runQueue=new G.a,r._load=0,r._idleStateCallbacks=new G.a,r._idleUpdatesStartFired=!1,r._maxReschedule=pe,r._forceTask=!1,r._debug=!1,r._debugHandle=Object(d.a)(Q,"SCHEDULER_LOG_SLOW_TASKS",(function(e){return r._debug=e})),r._budget=new n(e.nowFunc);for(var s=0,c=Object.keys(K);s<c.length;s++){var u=c[s];r.performanceInfo.tasks.set(K[u],new H.a(K[u]))}var l=Object(q.a)(r);return r._test={get state(){return Object(R.h)(o)?l._state:o},set state(e){o=e},FRAME_SAFETY_BUDGET:ae,INTERACTING_BUDGET:ce,IDLE_BUDGET:ue,get budget(){return l._budget.budget},usedBudget:0,updateTask:function(e){return r._updateTask(e)},getState:function(e){return r._getState(e)},getRuntime:function(e){return r._getRuntime(e)},resetRuntimes:function(){return r._resetRuntimes()},getRunning:function(){return r._getRunning()}},r}return Object(o.a)(i,[{key:"destroy",value:function(){this._debugHandle&&this._debugHandle.remove()}},{key:"registerTask",value:function(e,t){var n=re(e),i=new r(this,e,t,n);return this._tasks.push(i),this.performanceInfo.tasks.has(e)||this.performanceInfo.tasks.set(e,new H.a(e)),i}},{key:"registerIdleStateCallbacks",value:function(e,t){var r=this,n={idleBegin:e,idleEnd:t};this._idleStateCallbacks.push(n),2===this.state&&this._idleUpdatesStartFired&&n.idleBegin();var i=this;return{remove:function(){return r._removeIdleStateCallbacks(n)},set idleBegin(e){i._idleUpdatesStartFired&&(n.idleEnd(),2===i._state&&e()),n.idleBegin=e},set idleEnd(e){n.idleEnd=e}}}},{key:"now",get:function(){return this.nowFunc()}},{key:"load",get:function(){return this._load}},{key:"state",get:function(){return Object(R.h)(this._test.state)?this._state:this._test.state},set:function(e){this._state!==e&&(this._state=e,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll((function(e){return e.idleEnd()}))))}},{key:"updateBudget",value:function(e){this._test.usedBudget=0;var t=ae,r=e.frameDuration,n=oe;switch(this.state){case 2:t=Object(W.a)(0),r=Object(W.a)(Math.max(ue,e.frameDuration)),n=se;break;case 1:r=Object(W.a)(Math.max(ce,e.frameDuration))}return r=Object(W.a)(r-e.elapsedFrameTime-t),2!==this.state&&r<oe&&!this._forceTask?(this._forceTask=!0,!1):(r=Object(W.a)(Math.max(r,n)),this._budget.reset(r,this.state),this._maxReschedule=pe,this._updateLoad(),this._schedule())}},{key:"frame",value:function(){switch(this._forceTask=!1,this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll((function(e){return e.idleBegin()}))),this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}},{key:"stopFrame",value:function(){this._budget.reset(Object(W.a)(0),this._state),this._budget.madeProgress()}},{key:"_removeIdleStateCallbacks",value:function(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)}},{key:"removeTask",value:function(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e)}},{key:"_updateTask",value:function(e){this._tasks.forAll((function(t){t.name===e&&t.setPriority(e)}))}},{key:"_getState",value:function(e){if(this._runQueue.some((function(t){return t.name===e})))return ie.SCHEDULED;var t=ie.IDLE;return this._tasks.forAll((function(r){r.name===e&&r.needsUpdate&&(r.schedulePriority<=1?t=ie.READY:t!==ie.READY&&(t=ie.WAITING))})),t}},{key:"_getRuntime",value:function(e){var t=0;return this._tasks.forAll((function(r){r.name===e&&(t+=r.runtime)})),t}},{key:"_resetRuntimes",value:function(){this._tasks.forAll((function(e){return e.runtime=0}))}},{key:"_getRunning",value:function(){var e=new Map;if(this._tasks.forAll((function(t){t.needsUpdate&&e.set(t.name,(e.get(t.name)||0)+1)})),0===e.size)return null;var t="";return e.forEach((function(e,r){t+=e>1?" ".concat(e,"x ").concat(r):" ".concat(r)})),t}},{key:"_runIdle",value:function(){this._run()}},{key:"_runInteracting",value:function(){this._run()}},{key:"_runAnimating",value:function(){this._run()}},{key:"_updateLoad",value:function(){var e=this._tasks.reduce((function(e,t){return t.needsUpdate?++e:e}),0);this._load=.9*this._load+e*(1-.9)}},{key:"_schedule",value:function(){var e=this;if(this._maxReschedule<=0)return!1;var t=function(){var t=!1,r=0;if(e._tasks.forAll((function(n){if(n.needsUpdate&&0!==n.schedulePriority&&0!==n.basePriority)switch(t=!0,r=Math.max(r,n.basePriority),n.schedulePriority){case 1:n.schedulePriority=0,e._runQueue.push(n);break;default:--n.schedulePriority}})),!t)return{v:(e.updating=!1,!1)};e._maxReschedule===pe&&(e._maxReschedule=r),--e._maxReschedule};for(this._runQueue.filterInPlace((function(e){return!!e.needsUpdate||(e.schedulePriority=e.basePriority,!1)})),this._tasks.forAll((function(t){0===t.basePriority&&t.needsUpdate&&!e._runQueue.some((function(e){return e===t}))&&e._runQueue.unshift(t)}));0===this._runQueue.length;){var r=t();if("object"==typeof r)return r.v}return this.updating=!0,!0}},{key:"_run",value:function(){var e=this._budget.now();this._startFrameTaskTimes();do{for(;this._runQueue.length>0;){var t=this._budget.now(),r=this._runQueue.pop();this._budget.resetProgress();try{r.task.runTask(this._budget)}catch(i){ee.error('Exception in task "'.concat(r.name,'"'),i)}r.schedulePriority=r.basePriority;var n=this._budget.now()-t;if(r.runtime+=n,this._frameTaskTimes.set(r.priority,this._frameTaskTimes.get(r.priority)+n),this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",r.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return void this._recordFrameTaskTimes(this._budget.now()-e)}}while(this._schedule());this._recordFrameTaskTimes(this._budget.now()-e)}},{key:"_startFrameTaskTimes",value:function(){for(var e=0,t=Object.keys(K);e<t.length;e++){var r=t[e];this._frameTaskTimes.set(K[r],0)}}},{key:"_recordFrameTaskTimes",value:function(e){var t=this;this._frameTaskTimes.forEach((function(e,r){return t.performanceInfo.tasks.get(r).record(e)})),this.performanceInfo.total.record(e)}},{key:"test",get:function(){return this._test}}]),i}(E.a);Object(l.a)([Object(y.b)()],t.prototype,"updating",void 0),Object(l.a)([Object(y.b)()],t.prototype,"nowFunc",void 0),t=Object(l.a)([Object(v.a)("esri.views.support.Scheduler")],t),e.Scheduler=t;var r=function(e){Object(s.a)(r,e);var t=X(r);function r(e,n,i,o){var s;return Object(a.a)(this,r),(s=t.call(this,{}))._scheduler=e,s.name=n,s._basePriority=o,s.runtime=0,s._queue=new J.a,s.updating=!1,s.schedulePriority=s._basePriority,s.task=Object(R.i)(i)?i:{running:!1,runTask:function(e){return s.processQueue(e)}},s}return Object(o.a)(r,[{key:"normalizeCtorArgs",value:function(){return{}}},{key:"remove",value:function(){this.processQueue(le),this._scheduler.removeTask(this),this.schedule=fe.schedule,this.reschedule=fe.reschedule}},{key:"basePriority",get:function(){return this._basePriority}},{key:"setPriority",value:function(e){this.name=e;var t=re(e);0!==this._basePriority&&0===this.schedulePriority||(this.schedulePriority=t),this._basePriority=t}},{key:"priority",get:function(){return this.name},set:function(e){this.setPriority(e)}},{key:"needsUpdate",get:function(){return this.updating||this.task.running}},{key:"schedule",value:function(e,t,r){return this.updating=!0,this._queue.push(e,t,r)}},{key:"reschedule",value:function(e,t,r){return this.updating=!0,this._queue.unshift(e,t,r)}},{key:"processQueue",value:function(e){for(;!e.done&&this._queue.process();)e.madeProgress();this.updating=this._queue.length>0}}]),r}(E.a);Object(l.a)([Object(y.b)()],r.prototype,"updating",void 0),r=Object(l.a)([Object(v.a)("esri.views.support.SchedulerTask")],r);var n=function(){function e(t){Object(a.a)(this,e),this.now=t,this._begin=0,this._budget=0,this._state=2,this._didWork=!1,this._enabled=!0}return Object(o.a)(e,[{key:"run",value:function(e){return!this.done&&(!0===e()&&(this._didWork=!0),!0)}},{key:"done",get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}},{key:"budget",get:function(){return this._budget}},{key:"madeProgress",value:function(){this._didWork=!0}},{key:"state",get:function(){return this._state}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e}},{key:"reset",value:function(e,t){this._begin=this.now(),this._budget=e,this._state=t,this._didWork=!1}},{key:"remaining",get:function(){return Math.max(this._budget-this.elapsed,0)}},{key:"elapsed",get:function(){return this.now()-this._begin}},{key:"resetProgress",value:function(){this._didWork=!1}},{key:"hasProgressed",get:function(){return this._didWork}}]),e}();e.Budget=n}(ne||(ne={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(ie||(ie={}));var le=function(){var e=new ne.Budget((function(){return performance.now()}));return e.enabled=!1,e}(),fe=new(function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,[{key:"remove",value:function(){}},{key:"processQueue",value:function(){}},{key:"schedule",value:function(e,t,r){try{if(Object(P.n)(t)){var n=Object(P.e)();return r?Promise.resolve(r(n)):Promise.reject(n)}return Object(P.x)(e())}catch(i){return Promise.reject(i)}}},{key:"reschedule",value:function(e,t,r){return this.schedule(e,t,r)}}]),e}()),pe=Number.MAX_SAFE_INTEGER;function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function be(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return ye(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ye(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Y){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var me=function(e){Object(s.a)(r,e);var t=ve(r);function r(){var e;return Object(a.a)(this,r),(e=t.apply(this,arguments)).tasks=new Map,e.onLoadQueue=new Array,e.doneQueue=new Array,e.updating=!1,e}return Object(o.a)(r,[{key:"setup",value:function(e,t,r){var n=this;this.loadQueue=new V((function(e,t){return n.startLoading(e,t)}),(function(e,t){return n.doneLoadingCallback(e,t)}),e,t),r&&(this.taskHandle=r.registerTask(K.STREAM_DATA_LOADER,this))}},{key:"destroy",value:function(){this.taskHandle=Object(R.o)(this.taskHandle),this.tasks.forEach((function(e){e.abortController&&e.abortController.abort()})),this.loadQueue.destroy(),this.loadQueue=null,this.onLoadQueue=null,this.doneQueue=null,this.tasks=null}},{key:"hasDownloadSlots",value:function(e){return this.loadQueue.hasQuota(e)}},{key:"request",value:function(e,t,r){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=Object(P.g)();a.__signal=Object(R.i)(i)?i.signal:null;var o=this.createOrUpdateTask(e,t,r,i,a);return Object(P.q)(i,(function(){return n.cancelRequest(o,a)})),a.promise}},{key:"createTask",value:function(e,t,r,n,i,a){var o=new z(e,t,r,n,i);return this.updateTask(o,a),this.tasks.set(i,o),1===this.tasks.size&&this._set("updating",!0),this.loadQueue.push(o),o}},{key:"cancelRequest",value:function(e,t){Object(T.j)(e.resolvers,t),t.reject(Object(P.e)()),0===e.resolvers.length&&(2===e.status&&(e.status=4,this.loadQueue.cancel(e),e.abortController.abort(),e.request=null,e.abortController=null),e.status=4,this.tasks.delete(e.key),0===this.tasks.size&&this._set("updating",!1))}},{key:"taskKey",value:function(e,t,r){return"".concat(e,":").concat(t,":").concat(r)}},{key:"updateTask",value:function(e,t){e.resolvers.push(t)}},{key:"createOrUpdateTask",value:function(e,t,r,n,i){var a=Object(R.i)(n)&&n.uid||e,o=this.taskKey(a,t,r),s=this.tasks.get(o);return s?(this.updateTask(s,i),s):this.createTask(e,n,t,r,o,i)}},{key:"doneLoadingCallback",value:function(e,t){this.loadQueue&&(Object(C.a)(2===e.status),e.status=3,this.taskHandle?this.doneQueue.push({task:e,err:t}):this.doneLoading(e,t))}},{key:"running",get:function(){return this.doneQueue.length>0||this.onLoadQueue.length>0}},{key:"runTask",value:function(e){for(;!e.done&&this.onLoadQueue.length>0;){var t=this.onLoadQueue.shift();Object(P.v)(t.task.abortController),t.task.abortController=null,t.callback(t.task),e.madeProgress()}for(;!e.done&&this.doneQueue.length>0;){var r=this.doneQueue.shift();3!==r.task.status&&(r.err=r.err||Object(P.e)()),this.doneLoading(r.task,r.err),e.madeProgress()}}},{key:"doneLoading",value:function(e,t){var r,n=e.result instanceof HTMLImageElement?0:e.resolvers.length,i=be(e.resolvers);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(t)Object(P.m)(t)?a.reject(t):a.reject(new S.a("stream-data-loader:request-error","Failed to request resource at '".concat(e.url,"'. ").concat(t),{url:e.url,error:t}));else{var o=--n<=0?e.result:Object(A.a)(e.result);a.resolve(o)}}}catch(s){i.e(s)}finally{i.f()}this.tasks.delete(e.key),0===this.tasks.size&&this._set("updating",!1)}},{key:"startLoading",value:function(e,t){var r,n,i=this;if(4===e.status)return!1;switch(e.startTime=performance.now(),e.status=2,e.docType){case"binary":n="array-buffer",r=0;break;case"image":n="image";break;case"image+type":n="array-buffer";break;default:n="json"}e.abortController=Object(P.d)();var a=e.abortController.signal;e.request=Object(M.default)(e.url,he(he({},e.options),{},{responseType:n,timeout:r,signal:a}));var o=function(){},s=function(r){e.duration=performance.now()-e.startTime,e.size=r instanceof ArrayBuffer?r.byteLength:e.size||0,e.result=r,i.taskHandle?i.onLoadQueue.push({callback:t,task:e}):(e.abortController=null,t(e))},c=function(r){2===e.status&&t(e,r),o()};return"image+type"!==e.docType?(e.request.then((function(e){return s(e.data)}),c),!0):(e.request.then((function(t){var i=t.data,u=function(e){if(e.byteLength<2)return"unknown";var t=new Uint8Array(e,0,e.byteLength);return 137===t[0]&&80===t[1]?"image/png":71===t[0]&&73===t[1]?"image/gif":66===t[0]&&77===t[1]?"image/bmp":255===t[0]&&216===t[1]?"image/jpeg":"unknown"}(i);if(n="image",e.size=i.byteLength,"unknown"===u)return e.request=Object(M.default)(e.url,{responseType:n,timeout:r,signal:a}),void e.request.then((function(e){return s(e.data)}),c);var l=new Blob([i],{type:u}),f=window.URL.createObjectURL(l);o=function(){return window.URL.revokeObjectURL(f)},e.request=Object(M.default)(f,{responseType:n,timeout:r,signal:a}),e.request.then((function(e){return s(new ge(e.data,u,o))}),c)}),c),!0)}},{key:"test",get:function(){return{loadQueue:this.loadQueue}}}]),r}(E.a);Object(l.a)([Object(y.b)({readOnly:!0})],me.prototype,"updating",void 0),me=Object(l.a)([Object(v.a)("esri.views.3d.support.StreamDataLoader")],me);var ge=function(){function e(t,r,n){Object(a.a)(this,e),this.image=t,this.type=r,this.release=n}return Object(o.a)(e,[{key:"isOpaque",get:function(){return"image/jpeg"===this.type}}]),e}();r("jgfI");var Oe=r("KcHx"),je=r("4vgF"),we=r("+MdM"),_e=r("6J1V"),ke=r("a1Tm"),xe=r("nd5+"),Se=r("B9Yk"),Pe=r("YHXj"),Ie=r("12QT"),Re=r("3p7a"),Me=r("eDEE"),Ee=function(){function e(t){Object(a.a)(this,e);var r=e.checkUnsupported(t);if(r)throw r;this.spatialReference=t.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=Object(Se.a)(this.spatialReference)||Object(Ie.h)(this.spatialReference)||Object(Ie.i)(this.spatialReference),this.origin=[t.origin.x,t.origin.y],this.pixelSize=t.size[0],this.dpi=t.dpi;var n=t.lods.reduce((function(e,t,r){return t.level<e.min&&(e.min=t.level,e.minIndex=r),e.max=Math.max(e.max,t.level),e}),{min:1/0,minIndex:0,max:-1/0}),i=t.lods[n.minIndex],o=Math.pow(2,i.level),s=i.resolution*o,c=i.scale*o;this.levels=new Array(n.max+1);for(var u=0;u<this.levels.length;u++)this.levels[u]={resolution:s,scale:c,tileSize:[s*t.size[0],s*t.size[1]]},s/=2,c/=2}return Object(o.a)(e,[{key:"clone",value:function(){return new e(this.toTileInfo())}},{key:"toTileInfo",value:function(){return new Me.a({dpi:this.dpi,origin:{x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference},size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map((function(e,t){return{level:t,scale:e.scale,resolution:e.resolution}}))})}},{key:"getExtent",value:function(e,t,r,n){var i=this.levels[e],a=i.tileSize[0],o=i.tileSize[1];n[0]=this.origin[0]+r*a,n[2]=n[0]+a,n[3]=this.origin[1]-t*o,n[1]=n[3]-o}},{key:"convertExtentToRadians",value:function(e,t){this._isWebMercator?(t[0]=Object(Re.f)(e[0]),t[1]=Object(Re.h)(e[1]),t[2]=Object(Re.f)(e[2]),t[3]=Object(Re.h)(e[3])):this._isGCS&&(t[0]=Object(_e.g)(e[0]),t[1]=Object(_e.g)(e[1]),t[2]=Object(_e.g)(e[2]),t[3]=Object(_e.g)(e[3]))}},{key:"getExtentGeometry",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new xe.a;return this.getExtent(e,t,r,Te),n.spatialReference=this.spatialReference,n.xmin=Te[0],n.ymin=Te[1],n.xmax=Te[2],n.ymax=Te[3],n.zmin=void 0,n.zmax=void 0,n}},{key:"ensureMaxLod",value:function(e){if(null==e)return!1;for(var t=!1;this.levels.length<=e;){var r=this.levels[this.levels.length-1],n=r.resolution/2;this.levels.push({resolution:n,scale:r.scale/2,tileSize:[n*this.pixelSize,n*this.pixelSize]}),t=!0}return t}},{key:"capMaxLod",value:function(e){this.levels.length>e+1&&(this.levels.length=e+1)}},{key:"getMaxLod",value:function(){return this.levels.length-1}},{key:"scaleAtLevel",value:function(e){return this.levels[0].scale/Math.pow(2,e)}},{key:"levelAtScale",value:function(e){var t=this.levels[0].scale;return e>=t?0:Math.log(t/e)*Math.LOG2E}},{key:"resolutionAtLevel",value:function(e){return this.levels[0].resolution/Math.pow(2,e)}},{key:"compatibleWith",value:function(t){if(!(t instanceof e)){if(e.checkUnsupported(t))return!1;t=new e(t)}if(!t.spatialReference.equals(this.spatialReference))return!1;if(t.pixelSize!==this.pixelSize)return!1;var r=Math.min(this.levels.length,t.levels.length)-1,n=this.levels[r].resolution,i=.5*n;return!(!Object(_e.h)(t.origin[0],this.origin[0],i)||!Object(_e.h)(t.origin[1],this.origin[1],i))&&(i=.5*n/Math.pow(2,r)/this.pixelSize*12,Object(_e.h)(n,t.levels[r].resolution,i))}},{key:"rootTilesInExtent",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,i=this.levels[0].tileSize;if(0===i[0]||0===i[1])return[];e.computeRowColExtent(t,i,this.origin,Te);var a=Te[1],o=Te[3],s=Te[0],c=Te[2],u=c-s,l=o-a;if(u*l>n){var f=Math.floor(Math.sqrt(n));l>f&&(o=(a=a+Math.floor(.5*l)-Math.floor(.5*f))+f),u>f&&(c=(s=s+Math.floor(.5*u)-Math.floor(.5*f))+f)}for(var p=[],d=a;d<o;d++)for(var h=s;h<c;h++)p.push([0,d,h]);return Object(R.i)(r)&&(r[0]=this.origin[0]+s*i[0],r[1]=this.origin[1]-o*i[1],r[2]=this.origin[0]+c*i[0],r[3]=this.origin[1]-a*i[1]),p}},{key:"test",get:function(){return{isWebMercator:this._isWebMercator,isGCS:this._isGCS}}}],[{key:"computeRowColExtent",value:function(e,t,r,n){var i=.001*(e[2]-e[0]+(e[3]-e[1]));n[0]=Math.max(0,Math.floor((e[0]+i-r[0])/t[0])),n[2]=Math.max(0,Math.ceil((e[2]-i-r[0])/t[0])),n[1]=Math.max(0,Math.floor((r[1]-e[3]+i)/t[1])),n[3]=Math.max(0,Math.ceil((r[1]-e[1]-i)/t[1]))}},{key:"isPowerOfTwo",value:function(e){var t=e.lods,r=t[0].resolution*Math.pow(2,t[0].level);return!t.some((function(e){return!Object(_e.i)(e.resolution,r/Math.pow(2,e.level))}))}},{key:"hasGapInLevels",value:function(e){var t=e.lods.map((function(e){return e.level}));t.sort((function(e,t){return e-t}));for(var r=1;r<t.length;r++)if(t[r]!==t[0]+r)return!0;return!1}},{key:"tileSizeSupported",value:function(e){var t=e.size[1];return t===e.size[0]&&0==(t&t-1)&&t>=128&&t<=512}},{key:"checkUnsupported",value:function(t){return t?t.lods.length<1?new S.a("tilingscheme:generic","Tiling scheme must have at least one level"):e.isPowerOfTwo(t)?e.hasGapInLevels(t)?new S.a("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):e.tileSizeSupported(t)?null:new S.a("tilingscheme:tile-size","Tiles must be square and size must be one of [128, 256, 512]"):new S.a("tilingscheme:power-of-two","Tiling scheme must be power of two"):new S.a("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}},{key:"fromExtent",value:function(t,r){var n=t[2]-t[0],i=t[3]-t[1],a=Object(ke.d)(r),o=1.2*Math.max(n,i),s=256,c=new e(new Me.a({size:[s,s],origin:{x:t[0]-.5*(o-n),y:t[3]+.5*(o-i)},lods:[{level:0,resolution:o/s,scale:1/(s/96*.0254/(o*a))}],spatialReference:r}));return c.ensureMaxLod(20),c}},{key:"makeWebMercatorAuxiliarySphere",value:function(t){var r=new e(e.WebMercatorAuxiliarySphereTileInfo);return r.ensureMaxLod(t),r}},{key:"makeGCSWithTileSize",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,i=256/r,a=new e(new Me.a({size:[r,r],origin:{x:-180,y:90,spatialReference:t},spatialReference:t,lods:[{level:0,resolution:.703125*i,scale:295497598.570834*i}]}));return a.ensureMaxLod(n),a}}]),e}();Ee.WebMercatorAuxiliarySphereTileInfo=new Me.a({size:[256,256],origin:{x:-20037508.342787,y:20037508.342787,spatialReference:Pe.a.WebMercator},spatialReference:Pe.a.WebMercator,lods:[{level:0,resolution:156543.03392800014,scale:591657527.591555}]}),Ee.WebMercatorAuxiliarySphere=Ee.makeWebMercatorAuxiliarySphere(19);var Te=Object(we.g)(),Ae=Ee,Ce=(Object(_e.f)(_e.a/10),Object(we.g)());Ae.WebMercatorAuxiliarySphere.getExtent(0,0,0,Ce);Object(we.g)([-180,-90,180,90]);var De=Object(je.e)(),Le=Object(je.e)(),Fe=Object(je.e)(),Ne=Object(je.e)();function Be(e,t,r,n){Object(Oe.h)(De,r),De[n]=t[n];var i,a=Object(Oe.g)(De,De,t),o=Object(Oe.g)(Le,e,t),s=Object(Oe.e)(o,a),c=Object(Oe.e)(a,a);i=s<=0?t:c<=s?r:Object(Oe.c)(De,t,Object(Oe.b)(a,a,s/c));var u=Object(Oe.g)(De,e,i);return Math.PI/2-Math.atan(u[2]/Math.sqrt(u[0]*u[0]+u[1]*u[1]))}var Ve=Object.freeze({__proto__:null,isInsideExtent:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.extent;if(0===r)return Object(we.e)(n,t);var i=Math.min(n[2]-n[0],n[3]-n[1]);return Object(we.f)(n,t,r*i)},tiltToExtentEdge:function(e,t,r){var n=e.extent;Fe[0]=n[0],Fe[1]=n[1],Fe[2]=r,Ne[0]=n[2],Ne[1]=n[3],Ne[2]=r;var i=1/0,a=1/0;return t[0]<Fe[0]?i=Be(t,Fe,Ne,0):t[0]>Ne[0]&&(i=Be(t,Ne,Fe,0)),t[1]<Fe[1]?a=Be(t,Fe,Ne,1):t[1]>Ne[1]&&(a=Be(t,Ne,Fe,1)),Math.min(i,a)},checkIfTileInfoSupportedForViewSR:function(e,t,r){if(e.spatialReference.isGeographic)return new S.a("tilingscheme:local-gcs-not-supported","Geographic coordinate systems are not supported in local scenes");var n=Ae.checkUnsupported(e);return n||(function(e,t){var r=e.lods,n=r[0].resolution*Math.pow(2,r[0].level),i=[n*e.size[0],n*e.size[1]],a=[e.origin.x,e.origin.y],o=Object(we.k)(t),s=Object(we.g)();Ae.computeRowColExtent(o,i,a,s);var c=(s[2]-s[0])*(s[3]-s[1]);if(c>64){var u=r[0].scale*Math.pow(2,r[0].level),l=Math.max((o[3]-o[1])/e.size[1],(o[2]-o[0])/e.size[0])*u/n,f=Math.floor(Math.log(l)/Math.log(10));return l=Math.ceil(l/Math.pow(10,f))*Math.pow(10,f),new S.a("tilingscheme:too-many-root-tiles","Scale of level 0 of the tiling scheme (1:"+Math.floor(u).toLocaleString()+") is too large for the layer's extent. Suggested scale: 1:"+l.toLocaleString()+".",{level0Scale:u,suggestedLevel0Scale:l,requiredNumRootTiles:c,allowedNumRootTiles:64})}return null}(e,r)||(t&&!e.spatialReference.equals(t)?new S.a("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the local scene"):null))}});var Ue=Object.freeze({__proto__:null,isInsideExtent:function(){return!0},tiltToExtentEdge:function(){return 0},checkIfTileInfoSupportedForViewSR:function(e,t){var r=e.lods.length-1,n=e.spatialReference,i=Object(Se.a)(n)||Object(Ie.h)(n)||Object(Ie.i)(n);if(n.isWebMercator){if(!Ae.makeWebMercatorAuxiliarySphere(r).compatibleWith(e))return new S.a("tilingscheme:incompatible-global-web-mercator","The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme")}else{if(!i)return new S.a("tilingscheme:global-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in global scenes");if(!Ae.makeGCSWithTileSize(e.spatialReference,e.size[0],r).compatibleWith(e))return e.spatialReference.isWGS84?new S.a("tilingscheme:incompatible-global-wgs84","The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme"):new S.a("tilingscheme:incompatible-global","The tiling scheme is not compatible with the ArcGIS Online tiling scheme")}if(t&&!e.spatialReference.equals(t))return new S.a("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the global scene")}}),ze={1:Ue,2:Ve};Math.PI,Math.PI;function qe(e,t,r,n){return ze[n].checkIfTileInfoSupportedForViewSR(e,r,t)}function He(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(_.a)(x.a.mark((function e(t){var r,n=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,Ze(t,r);case 3:Object(P.v)(r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e){return Je.apply(this,arguments)}function Je(){return(Je=Object(_.a)(x.a.mark((function e(t){var r,n,i,a,o,s=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},n=t.basemap,i=t.view,e.next=4,n.load(r);case 4:if(Object(P.v)(r),0!==n.baseLayers.length){e.next=7;break}return e.abrupt("return");case 7:if(I(a=n.baseLayers.getItemAt(0))){e.next=10;break}return e.abrupt("return");case 10:if(!n.spatialReference){e.next=14;break}if(!i.spatialReference.equals(n.spatialReference)){e.next=13;break}return e.abrupt("return");case 13:$e();case 14:return e.next=16,a.load(r);case 16:Object(P.v)(r),0!==(o=(a.get("supportedSpatialReferences")||[a.get("tileInfo.spatialReference")]).filter(Boolean)).length&&o.every((function(e){return!i.spatialReference.equals(e)}))&&$e();case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(){throw new S.a("basemap-compatibility:incompatible-spatial-reference","Basemap spatial reference is not compatible with the view")}function Ze(e,t){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(_.a)(x.a.mark((function e(t,r){var n,i,a,o,s,c,u,l,f;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.basemap,i=t.view,e.next=3,n.load(r);case 3:if(0!==n.baseLayers.length){e.next=5;break}return e.abrupt("return");case 5:if(!(a=Xe(n.baseLayers.concat(n.referenceLayers))).length){e.next=8;break}throw a[0];case 8:return o=n.baseLayers.getItemAt(0),e.prev=9,e.next=12,o.load(r);case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(9),"basemap-compatibility:unknown-error","Unknown basemap compatibility error",s=e.t0.name,c=void 0===s?"basemap-compatibility:unknown-error":s,u=e.t0.message,l=void 0===u?"Unknown basemap compatibility error":u,f=e.t0.details,new S.a(c,l,f);case 18:Ke(o,i);case 19:case"end":return e.stop()}}),e,null,[[9,14]])})))).apply(this,arguments)}function Xe(e){var t=["ArcGISTiledImageServiceLayer","ArcGISTiledMapServiceLayer","OpenStreetMap","VectorTileLayer","WebTiledLayer"];return e.toArray().filter((function(e){return-1===t.indexOf(e.operationalLayerType)})).map((function(e){return new S.a("basemap-compatibility:unsupported-basemap-layer-type","Unsupported basemap layer type ${operationalLayerType}",{layer:e,operationalLayerType:e.operationalLayerType||"unknown"})}))}function Ke(e,t){var r=e.tileInfo;if(r){var n=t.viewingMode;if(n){if(i=r.spatialReference,a=n,null==i||"2d"!==a&&!("local"===a?!i.isGeographic:i.isWebMercator||i.isWGS84||4490===i.wkid||104971===i.wkid||104905===i.wkid||104903===i.wkid))throw new S.a("basemapgalleryitem:spatial-reference-unsupported-".concat(n),"Basemap spatial reference is unsupported in ".concat(n," mode"));var i,a;if("global"===n){var o=qe(r,e.fullExtent,null,1);if(o&&e.compatibleTileInfo256&&!qe(e.compatibleTileInfo256,e.fullExtent,null,1)&&(o=null),o){var s=r.spatialReference.isWebMercator?"web-mercator":"wgs84";throw new S.a("basemapgalleryitem:tiling-scheme-unsupported-".concat(s,"-global"),"Basemap tiling scheme is unsupported in global mode",{error:o})}}else if(Ae.checkUnsupported(r))throw new S.a("basemapgalleryitem:tiling-scheme-unsupported-local","Basemap tiling scheme is unsupported in local mode");var c=t.get("basemapTerrain.tilingScheme");if(c&&!c.compatibleWith(r)&&(!e.compatibleTileInfo256||!c.compatibleWith(e.compatibleTileInfo256)))throw new S.a("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view")}}}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Y){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var et=function(e){Object(s.a)(r,e);var t=Ye(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e))._handles=new p.a,n.compatibilityFunction=null,n.error=null,n.state="loading",n.view=null,n}return Object(o.a)(r,[{key:"initialize",value:function(){var e=this;this._handles.add(Object(d.a)(this,["basemap.loadStatus","compatibilityFunction","view.basemapTerrain?.tilingScheme","view.ready","view.spatialReference"],(function(){return e.refresh()})))}},{key:"destroy",value:function(){this._cancelCompatibilityCheck(),this._handles.destroy(),this._handles=null,this.basemap=null,this.compatibilityFunction=null,this.view=null}},{key:"basemap",set:function(e){var t=this._get("basemap");t&&t.cancelLoad(),e&&e.load().catch((function(){})),this._set("basemap",e)}},{key:"refresh",value:function(){var e=this;this._cancelCompatibilityCheck(),this._set("state","loading");var t=this.get("basemap.loadStatus");if("loaded"===t||"failed"===t)if(this.compatibilityFunction){var r=new AbortController,n=r.signal;this.compatibilityFunction(this,{signal:n}).then((function(){e._set("state","ready"),e._set("error",null)})).catch((function(t){Object(P.m)(t)||(e._set("state","error"),e._set("error",t))})),this._lastCompatibilityCheckController=r}else"loaded"===t?(this._set("state","ready"),this._set("error",null)):(this._set("state","error"),this._set("error",this.basemap.loadError))}},{key:"_cancelCompatibilityCheck",value:function(){this._lastCompatibilityCheckController&&(this._lastCompatibilityCheckController.abort(),this._lastCompatibilityCheckController=null)}}]),r}(E.a);Object(l.a)([Object(y.b)()],et.prototype,"basemap",null),Object(l.a)([Object(y.b)()],et.prototype,"compatibilityFunction",void 0),Object(l.a)([Object(y.b)({readOnly:!0})],et.prototype,"error",void 0),Object(l.a)([Object(y.b)({readOnly:!0})],et.prototype,"state",void 0),Object(l.a)([Object(y.b)()],et.prototype,"view",void 0);var tt=et=Object(l.a)([Object(v.a)("esri.widgets.BasemapGallery.support.BasemapGalleryItem")],et),rt=r("o3y2");function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Y){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var it=g.a.ofType(rt.default),at=function(e){Object(s.a)(r,e);var t=nt(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).basemaps=new it,n}return Object(o.a)(r,[{key:"state",get:function(){return"ready"}},{key:"refresh",value:function(){}}]),r}(E.a);Object(l.a)([Object(y.b)({type:it})],at.prototype,"basemaps",void 0),Object(l.a)([Object(y.b)({readOnly:!0})],at.prototype,"state",null);var ot=at=Object(l.a)([Object(v.a)("esri.widgets.BasemapGallery.support.LocalBasemapsSource")],at),st=r("t4nU"),ct=r("eoZi");function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Y){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var lt=g.a.ofType(rt.default),ft=b.a.getLogger("esri.widgets.BasemapGallery.support.PortalBasemapsSource"),pt=function(e){Object(s.a)(n,e);var t,r=ut(n);function n(e){var t;return Object(a.a)(this,n),(t=r.call(this,e))._handles=new p.a,t.basemaps=new lt,t.filterFunction=null,t.portal=ct.a.getDefault(),t.query=null,t.updateBasemapsCallback=null,t}return Object(o.a)(n,[{key:"initialize",value:function(){var e=this;this._handles.add([Object(d.a)(this,["filterFunction","loadStatus","portal.basemapGalleryGroupQuery","portal.user","query","updateBasemapsCallback"],(function(){return e.refresh()}))])}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null,this.filterFunction=null,this.portal=null}},{key:"state",get:function(){return"not-loaded"===this.loadStatus?"not-loaded":"loading"===this.loadStatus||this._lastPortalBasemapFetchController?"loading":"ready"}},{key:"load",value:function(e){return this.addResolvingPromise(this.portal.load(e)),this.notifyChange("state"),Promise.resolve(this)}},{key:"refresh",value:(t=Object(_.a)(x.a.mark((function e(){var t,r,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ready"===this.state){e.next=2;break}return e.abrupt("return");case 2:return this._lastPortalBasemapFetchController&&(this._lastPortalBasemapFetchController.abort(),this._lastPortalBasemapFetchController=null),t=this.portal,r=new AbortController,this._lastPortalBasemapFetchController=r,this.notifyChange("state"),e.prev=5,e.next=8,t.fetchBasemaps(this._toQueryString(this.query),r);case 8:n=e.sent,this._updateBasemaps(n),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),!Object(P.m)(e.t0)){e.next=16;break}throw e.t0;case 16:ft.warn(new S.a("basemap-source:fetch-basemaps-error","Could not fetch basemaps from portal.",{error:e.t0})),this._updateBasemaps();case 17:this._lastPortalBasemapFetchController=null,this.notifyChange("state");case 18:case"end":return e.stop()}}),e,this,[[5,12]])}))),function(){return t.apply(this,arguments)})},{key:"_toQueryString",value:function(e){return e&&"string"!=typeof e?Object.keys(e).map((function(t){return"".concat(t,":").concat(e[t])})).join(" AND "):e}},{key:"_updateBasemaps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.filterFunction?e.filter(this.filterFunction):e;t=this.updateBasemapsCallback?this.updateBasemapsCallback(t):t,this.basemaps.removeAll(),this.basemaps.addMany(t)}}]),n}(O.a.LoadableMixin(Object(st.b)(ot)));Object(l.a)([Object(y.b)({readOnly:!0,type:lt})],pt.prototype,"basemaps",void 0),Object(l.a)([Object(y.b)()],pt.prototype,"filterFunction",void 0),Object(l.a)([Object(y.b)({type:ct.a})],pt.prototype,"portal",void 0),Object(l.a)([Object(y.b)()],pt.prototype,"query",void 0),Object(l.a)([Object(y.b)({readOnly:!0})],pt.prototype,"state",null),Object(l.a)([Object(y.b)()],pt.prototype,"updateBasemapsCallback",void 0);var dt=pt=Object(l.a)([Object(v.a)("esri.widgets.BasemapGallery.support.PortalBasemapsSource")],pt);function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Y){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var bt=g.a.ofType(tt);var yt=function(e){Object(s.a)(r,e);var t=ht(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e))._handles=new p.a,n.activeBasemap=null,n.items=new bt,n.source=new dt,n.view=null,n}return Object(o.a)(r,[{key:"initialize",value:function(){var e=this,t=function(){return e._recreateItems()};this._handles.add([Object(d.d)(this,["compatibilityFunction","state"],(function(){return e._updateItems()})),Object(d.b)(this,"source.basemaps","change",t,t)])}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null}},{key:"compatibilityFunction",get:function(){return void 0===this._get("compatibilityFunction")?"3d"===this.get("view.type")?He:We:this._get("compatibilityFunction")},set:function(e){this._set("compatibilityFunction",e)}},{key:"castSource",value:function(e){return Array.isArray(e)||g.a.isCollection(e)?new ot({basemaps:e}):function(e){return e&&"esri.portal.Portal"===e.declaredClass}(e)?new dt({portal:e}):function(e){return e&&!(e instanceof dt)&&(!!e.portal||!!e.query)}(e)?new dt(e):function(e){return e&&"basemaps"in e&&"state"in e&&"refresh"in e}(e)?e:null}},{key:"state",get:function(){return this.get("view.ready")&&this.source?"ready":"disabled"}},{key:"basemapEquals",value:function(e,t){return Object(w.a)(e,t)}},{key:"refresh",value:function(){this._recreateItems()}},{key:"load",value:function(e){return this.addResolvingPromise(O.a.isLoadable(this.source)?this.source.load(e):Promise.resolve()),Promise.resolve(this)}},{key:"_recreateItems",value:function(){var e=this.get("source.basemaps"),t=this.view,r=this.compatibilityFunction;this.items.removeAll().forEach((function(e){return e.destroy()})),this.items.addMany(e.map((function(e){return new tt({basemap:e,compatibilityFunction:r,view:t})})))}},{key:"_updateItems",value:function(){var e=this;this.items.forEach((function(t){t.compatibilityFunction=e.compatibilityFunction,t.view=e.view}))}}]),r}(O.a);Object(l.a)([Object(y.b)({aliasOf:"view.map.basemap"})],yt.prototype,"activeBasemap",void 0),Object(l.a)([Object(y.b)()],yt.prototype,"compatibilityFunction",null),Object(l.a)([Object(y.b)({readOnly:!0,type:bt})],yt.prototype,"items",void 0),Object(l.a)([Object(y.b)()],yt.prototype,"source",void 0),Object(l.a)([Object(j.a)("source")],yt.prototype,"castSource",null),Object(l.a)([Object(y.b)({readOnly:!0})],yt.prototype,"state",null),Object(l.a)([Object(y.b)()],yt.prototype,"view",void 0);var vt=yt=Object(l.a)([Object(v.a)("esri.widgets.BasemapGallery.BasemapGalleryViewModel")],yt),mt=r("foBe"),gt=r("Q7Dg"),Ot=r("XRld"),jt=r("mjOD");r("c+HS");function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Y){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var _t="esri-basemap-gallery esri-widget esri-widget--panel-height-only",kt="esri-basemap-gallery--source-loading",xt="esri-basemap-gallery__loader",St="esri-basemap-gallery__item",Pt="esri-basemap-gallery__item-container",It="esri-basemap-gallery__item-title",Rt="esri-basemap-gallery__item-thumbnail",Mt="esri-basemap-gallery__item--selected",Et="esri-basemap-gallery__item--loading",Tt="esri-basemap-gallery__item--error",At="esri-widget__content--empty",Ct="esri-icon-basemap",Dt="esri-disabled",Lt=function(e){Object(s.a)(r,e);var t=wt(r);function r(e,n){var i;return Object(a.a)(this,r),(i=t.call(this,e,n))._handles=new p.a,i.activeBasemap=null,i.disabled=!1,i.headingLevel=2,i.iconClass=Ct,i.label=void 0,i.messages=null,i.source=null,i.view=null,i.viewModel=new vt,i}return Object(o.a)(r,[{key:"initialize",value:function(){var e=this,t=this._handles;this.own([Object(d.b)(this,"viewModel.items","change",(function(r){var n="basemap-gallery-item-changes",a=r.added,o=r.moved;t.remove(n),t.add([].concat(Object(i.a)(a),Object(i.a)(o)).map((function(t){return t.watch("state",(function(){return e.scheduleRender()}))})),n),e.scheduleRender()})),t,Object(d.j)(this,"source",(function(){return e.viewModel.load()}))])}},{key:"render",value:function(){var e,t="loading"===this.get("source.state"),r=this.disabled||"disabled"===this.get("viewModel.state"),i=this.get("viewModel.items").toArray().map(this._renderBasemapGalleryItem,this),a=(e={},Object(n.a)(e,kt,t),Object(n.a)(e,Dt,r),e),o=t?Object(jt.a)("div",{class:xt,key:"esri-basemap-gallery__loader"}):null,s=t?null:i.length>0?Object(jt.a)("ul",{class:Pt,key:"esri-basemap-gallery__item-container",role:"menu"},i):Object(jt.a)("div",{class:At,key:"esri-basemap-gallery__empty-message"},Object(jt.a)(mt.a,{level:this.headingLevel},this.messages.noBasemaps));return Object(jt.a)("div",{class:this.classes(_t,a)},o,s)}},{key:"_handleClick",value:function(e){var t=e.currentTarget["data-item"];"ready"===t.state&&(this.activeBasemap=t.basemap)}},{key:"_renderBasemapGalleryItem",value:function(e){var t,r=e.get("basemap.thumbnailUrl")||Object(f.a)("esri/themes/base/images/basemap-toggle-64.svg"),i=e.get("basemap.title"),a=e.get("basemap.portalItem.snippet"),o=e.get("error.message")||a||i,s=this.viewModel,c=this.disabled||"ready"!==s.state||"ready"!==e.state?-1:0,u=s.basemapEquals(e.basemap,this.activeBasemap),l=(t={},Object(n.a)(t,Mt,u),Object(n.a)(t,Et,"loading"===e.state),Object(n.a)(t,Tt,"error"===e.state),t);return Object(jt.a)("li",{"aria-selected":u.toString(),bind:this,class:this.classes(St,l),"data-item":e,onkeydown:this._handleClick,onclick:this._handleClick,role:"menuitem",tabIndex:c,title:o},Object(jt.a)("img",{alt:"",class:Rt,src:r}),Object(jt.a)("div",{class:It},i))}}]),r}(m.a);Object(l.a)([Object(h.a)("viewModel.activeBasemap")],Lt.prototype,"activeBasemap",void 0),Object(l.a)([Object(y.b)()],Lt.prototype,"disabled",void 0),Object(l.a)([Object(y.b)()],Lt.prototype,"headingLevel",void 0),Object(l.a)([Object(y.b)()],Lt.prototype,"iconClass",void 0),Object(l.a)([Object(y.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Lt.prototype,"label",void 0),Object(l.a)([Object(y.b)(),Object(Ot.a)("esri/widgets/BasemapGallery/t9n/BasemapGallery")],Lt.prototype,"messages",void 0),Object(l.a)([Object(h.a)("viewModel.source")],Lt.prototype,"source",void 0),Object(l.a)([Object(h.a)("viewModel.view")],Lt.prototype,"view",void 0),Object(l.a)([Object(y.b)()],Lt.prototype,"viewModel",void 0),Object(l.a)([Object(gt.a)()],Lt.prototype,"_handleClick",null);var Ft=Lt=Object(l.a)([Object(v.a)("esri.widgets.BasemapGallery")],Lt);t.default=Ft},gDYM:function(e,t,r){var n=r("fT8P");e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},gIo2:function(e,t,r){var n=r("PCqT"),i=r("MoOl");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.13.1",mode:n?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},gKNW:function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},gjvr:function(e,t,r){"use strict";function n(e){var t={};for(var r in e)if("declaredClass"!==r){var i=e[r];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){t[r]=[];for(var a=0;a<i.length;a++)t[r][a]=n(i[a])}else"object"==typeof i?i.toJSON&&(t[r]=JSON.stringify(i)):t[r]=i}return t}r.d(t,"a",(function(){return n}))},gljZ:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("wckI"),i=r("9ZxH"),a=Object.prototype.toString;function o(e){var t="__accessorMetadata__"in e?Object(n.m)(e):e;return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.push(t),"number"==typeof r[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return s.apply(this,r)}}function s(e,t,r,n){Object(i.b)(e,t).cast=n}function c(e){return function(t,r){Object(i.b)(t,e).cast=t[r]}}function u(){if(3!==arguments.length||"string"!=typeof(arguments.length<=1?void 0:arguments[1]))return 1===arguments.length&&"[object Function]"===a.call(arguments.length<=0?void 0:arguments[0])?o(arguments.length<=0?void 0:arguments[0]):1===arguments.length&&"string"==typeof(arguments.length<=0?void 0:arguments[0])?c(arguments.length<=0?void 0:arguments[0]):void 0}},glsI:function(e,t,r){var n=r("wTAb"),i=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):a(r,t)}},gtOA:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("7im+"),f=r("xAIp"),p=(r("J4Pc"),r("wckI"),r("TM+E"),r("vo12")),d=r("iaHD"),h=r("1lXL"),b=r("cKN8"),y=r("hZBP");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var m=n=function(e){Object(o.a)(r,e);var t=v(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).x=0,e.y=0,e.z=0,e}return Object(a.a)(r,[{key:"clone",value:function(){return new n({x:this.x,y:this.y,z:this.z})}}]),r}(y.a);Object(u.a)([Object(f.b)({type:Number})],m.prototype,"x",void 0),Object(u.a)([Object(f.b)({type:Number})],m.prototype,"y",void 0),Object(u.a)([Object(f.b)({type:Number})],m.prototype,"z",void 0);m=n=Object(u.a)([Object(d.a)("esri.symbols.support.Symbol3DAnchorPosition3D")],m);var g,O=r("y75+");function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var w=g=function(e){Object(o.a)(r,e);var t=j(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).material=null,n.castShadows=!0,n.resource=null,n.type="object",n.width=void 0,n.height=void 0,n.depth=void 0,n.anchor=void 0,n.anchorPosition=void 0,n.heading=void 0,n.tilt=void 0,n.roll=void 0,n}return Object(a.a)(r,[{key:"clone",value:function(){return new g({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:Object(l.i)(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}},{key:"isPrimitive",get:function(){return!this.resource||"string"!=typeof this.resource.href}}]),r}(h.a);Object(u.a)([Object(f.b)({type:O.a,json:{write:!0}})],w.prototype,"material",void 0),Object(u.a)([Object(f.b)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],w.prototype,"castShadows",void 0),Object(u.a)([Object(f.b)({type:b.a,json:{write:!0}})],w.prototype,"resource",void 0),Object(u.a)([Object(p.a)({Object:"object"},{readOnly:!0})],w.prototype,"type",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:!0}})],w.prototype,"width",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:!0}})],w.prototype,"height",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:!0}})],w.prototype,"depth",void 0),Object(u.a)([Object(p.a)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),Object(f.b)({json:{default:"origin"}})],w.prototype,"anchor",void 0),Object(u.a)([Object(f.b)({type:m,json:{type:[Number],read:{reader:function(e){return new m({x:e[0],y:e[1],z:e[2]})}},write:{writer:function(e,t){t.anchorPosition=[e.x,e.y,e.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],w.prototype,"anchorPosition",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:!0}})],w.prototype,"heading",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:!0}})],w.prototype,"tilt",void 0),Object(u.a)([Object(f.b)({type:Number,json:{write:!0}})],w.prototype,"roll",void 0),Object(u.a)([Object(f.b)({readOnly:!0})],w.prototype,"isPrimitive",null);var _=w=g=Object(u.a)([Object(d.a)("esri.symbols.ObjectSymbol3DLayer")],w);t.a=_},gwRl:function(e,t){e.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},"h+4S":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("7i+s"),i=r("aic5"),a=new n.a({esriGeometryOffsetBevelled:"bevelled",esriGeometryOffsetMitered:"mitered",esriGeometryOffsetRounded:"rounded"}),o=new n.a({9001:"meters",9002:"feet",9036:"kilometers",9093:"miles",109012:"nautical-miles",109001:"yards"});function s(e){var t=e.toJSON(),r=t.geometries,n=t.bevelRatio,s=t.offsetDistance,c=t.offsetHow,u=t.offsetUnit,l={bevelRatio:n,offsetDistance:s};return r&&r.length&&(l.geometries=JSON.stringify({geometryType:Object(i.c)(r[0]),geometries:r}),l.sr=JSON.stringify(r[0].spatialReference)),c&&(l.offsetHow=a.toJSON(c)),u&&(l.offsetUnit=o.toJSON(u)),l}},"h+Bk":function(e,t,r){"use strict";var n,i=r("6CzD"),a=r("mK0O"),o=r("eijD"),s=r("hisu"),c=r("yBJb"),u=r("CHlC"),l=r("kMo5"),f=r("P+uj"),p=r("NthX"),d=r.n(p),h=r("dQW7"),b=r("fb8N"),y=r("Mp7X"),v=r("0fJP"),m=r("TM+E"),g=r("7im+"),O=r("67w/"),j=r("xAIp"),w=r("gljZ"),_=(r("J4Pc"),r("vo12")),k=r("mp5+"),x=r("iaHD"),S=r("jr4m"),P=r("nk/L"),I=r("wckI"),R=r("DuP7"),M=r("eoZi"),E=r("6yFL"),T=r("ql4C"),A=r("XfeU"),C=r("d7QU"),D=r("U+6s"),L=r("DE4D"),F=r("9jes"),N=r("g4tb"),B=r("/H5Z");function V(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var G=m.a.getLogger("esri.renderers.UniqueValueRenderer"),W=Object(I.m)(D.a),J=n=function(e){Object(u.a)(p,e);var t,r,a,l,f=H(p);function p(e){var t;return Object(s.a)(this,p),(t=f.call(this,e))._valueInfoMap={},t._isDefaultSymbolDerived=!1,t.type="unique-value",t.backgroundFillSymbol=null,t.field=null,t.field2=null,t.field3=null,t.valueExpression=null,t.valueExpressionTitle=null,t.legendOptions=null,t.defaultLabel=null,t.fieldDelimiter=null,t.portal=null,t.styleOrigin=null,t.diff={uniqueValueInfos:function(e,t){if(e||t){if(!e||!t)return{type:"complete",oldValue:e,newValue:t};for(var r=!1,n={type:"collection",added:[],removed:[],changed:[],unchanged:[]},i=function(i){var a=e.find((function(e){return e.value===t[i].value}));a?Object(P.a)(a,t[i])?(n.changed.push({type:"complete",oldValue:a,newValue:t[i]}),r=!0):n.unchanged.push({oldValue:a,newValue:t[i]}):(n.added.push(t[i]),r=!0)},a=0;a<t.length;a++)i(a);for(var o=function(i){t.find((function(t){return t.value===e[i].value}))||(n.removed.push(e[i]),r=!0)},s=0;s<e.length;s++)o(s);return r?n:void 0}}},t._set("uniqueValueInfos",[]),t}return Object(c.a)(p,[{key:"_cache",get:function(){return{compiledFunc:null}}},{key:"castField",value:function(e){return null==e||"function"==typeof e?e:Object(I.l)(e)}},{key:"writeField",value:function(e,t,r,n){"string"==typeof e?t[r]=e:n&&n.messages?n.messages.push(new y.a("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):G.error(".field: cannot write field to JSON since it's not a string value")}},{key:"defaultSymbol",set:function(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}},{key:"readPortal",value:function(e,t,r){return r.portal||M.a.getDefault()}},{key:"readStyleOrigin",value:function(e,t,r){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){var n=Object(F.a)(t.styleUrl,r);return Object.freeze({styleUrl:n})}}},{key:"writeStyleOrigin",value:function(e,t,r,n){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=Object(F.e)(e.styleUrl,n))}},{key:"uniqueValueInfos",set:function(e){this.styleOrigin?G.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap())}},{key:"addUniqueValueInfo",value:function(e,t){var r;this.styleOrigin?G.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(r="object"==typeof e?W(e):new D.a({value:e,symbol:Object(b.a)(t)}),this.uniqueValueInfos.push(r),this._valueInfoMap[r.value]=r)}},{key:"removeUniqueValueInfo",value:function(e){if(this.styleOrigin)G.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(var t=0;t<this.uniqueValueInfos.length;t++)if(this.uniqueValueInfos[t].value===e+""){delete this._valueInfoMap[e],this.uniqueValueInfos.splice(t,1);break}}},{key:"getUniqueValueInfo",value:(l=Object(o.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r,e.t0=this.valueExpression&&(Object(g.h)(r)||Object(g.h)(r.arcade)),!e.t0){e.next=11;break}return e.t1=q,e.t2=q({},n),e.t3={},e.next=8,Object(L.e)();case 8:e.t4=e.sent,e.t5={arcade:e.t4},n=(0,e.t1)(e.t2,e.t3,e.t5);case 11:return e.abrupt("return",this._getUniqueValueInfo(t,n));case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"getSymbol",value:function(e,t){if(!this.valueExpression||!Object(g.h)(t)&&!Object(g.h)(t.arcade)){var r=this._getUniqueValueInfo(e,t);return r&&r.symbol||this.defaultSymbol}G.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used")}},{key:"getSymbolAsync",value:(a=Object(o.a)(d.a.mark((function e(t,r){var n,i,a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r,!this.valueExpression||!Object(g.h)(n)&&!Object(g.h)(n.arcade)){e.next=11;break}return e.next=4,Object(L.e)();case 4:if(i=e.sent,a=i.arcadeUtils,e.t0=a.hasGeometryOperations(this.valueExpression),!e.t0){e.next=10;break}return e.next=10,a.enableGeometryOperations();case 10:n=q(q({},n),{},{arcade:i});case 11:return o=this._getUniqueValueInfo(t,n),e.abrupt("return",o&&o.symbol||this.defaultSymbol);case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"getSymbols",value:function(){var e,t=[],r=V(this.uniqueValueInfos);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.symbol&&t.push(n.symbol)}}catch(i){r.e(i)}finally{r.f()}return this.defaultSymbol&&t.push(this.defaultSymbol),t}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return"".concat(JSON.stringify(this.backgroundFillSymbol),".").concat(JSON.stringify(this.defaultSymbol),".").concat(this.uniqueValueInfos.reduce((function(e,t){return e+t.getMeshHash()}),""),".","".concat(this.field,".").concat(this.field2,".").concat(this.field3,".").concat(this.fieldDelimiter),".").concat(this.valueExpression)}},{key:"clone",value:function(){var e=new n({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:Object(v.a)(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:Object(v.a)(this.visualVariables),legendOptions:Object(v.a)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:Object(v.a)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);var t=Object(v.a)(this.uniqueValueInfos);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(Object(v.a)(this.styleOrigin))),Object.freeze(t)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}},{key:"collectRequiredFields",value:(r=Object(o.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[this.collectVVRequiredFields(t,r),this.collectSymbolFields(t,r)],e.next=3,Promise.all(n);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"collectSymbolFields",value:(t=Object(o.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[].concat(Object(i.a)(this.getSymbols().map((function(e){return e.collectRequiredFields(t,r)}))),[Object(R.a)(t,r,this.valueExpression)]),Object(R.d)(t,r,this.field),Object(R.d)(t,r,this.field2),Object(R.d)(t,r,this.field3),e.next=6,Promise.all(n);case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"populateFromStyle",value:function(){var e=this;return Object(N.fetchStyle)(this.styleOrigin,{portal:this.portal}).then((function(t){var r=[];return e._valueInfoMap={},t&&t.data&&Array.isArray(t.data.items)&&t.data.items.forEach((function(n){var i=new B.a({styleUrl:t.styleUrl,styleName:t.styleName,portal:e.portal,name:n.name});e.defaultSymbol||n.name!==t.data.defaultItem||(e.defaultSymbol=i,e._isDefaultSymbolDerived=!0);var a=new D.a({value:n.name,symbol:i});r.push(a),e._valueInfoMap[n.name]=a})),e._set("uniqueValueInfos",Object.freeze(r)),!e.defaultSymbol&&e.uniqueValueInfos.length&&(e.defaultSymbol=e.uniqueValueInfos[0].symbol,e._isDefaultSymbolDerived=!0),e}))}},{key:"_updateValueInfoMap",value:function(){var e=this;this._valueInfoMap={},this.uniqueValueInfos.forEach((function(t){return e._valueInfoMap[t.value+""]=t}))}},{key:"_getUniqueValueInfo",value:function(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}},{key:"_getUnqiueValueInfoForExpression",value:function(e,t){var r=Object(g.q)(t,{}),n=r.viewingMode,i=r.scale,a=r.spatialReference,o=r.arcade,s=this._cache.compiledFunc,c=Object(g.p)(o).arcadeUtils;if(!s){var u=c.createSyntaxTree(this.valueExpression);s=c.createFunction(u),this._cache.compiledFunc=s}var l=c.executeFunction(s,c.createExecContext(e,c.getViewInfo({viewingMode:n,scale:i,spatialReference:a})));return this._valueInfoMap[l+""]}},{key:"_getUnqiueValueInfoForFields",value:function(e){var t,r=this.field,n=e.attributes;if("function"!=typeof r&&this.field2){var i=this.field2,a=this.field3,o=[];r&&o.push(n[r]),i&&o.push(n[i]),a&&o.push(n[a]),t=o.join(this.fieldDelimiter||"")}else"function"==typeof r?t=r(e):r&&(t=n[r]);return this._valueInfoMap[t+""]}}],[{key:"fromPortalStyle",value:function(e,t){var r=new n(t&&t.properties);r._set("styleOrigin",Object.freeze({styleName:e})),r._set("portal",t&&t.portal||M.a.getDefault());var i=r.populateFromStyle();return i.catch((function(t){G.error("#fromPortalStyle('".concat(e,"'[, ...])"),"Failed to create unique value renderer from style name",t)})),i}},{key:"fromStyleUrl",value:function(e,t){var r=new n(t&&t.properties);r._set("styleOrigin",Object.freeze({styleUrl:e}));var i=r.populateFromStyle();return i.catch((function(t){G.error("#fromStyleUrl('".concat(e,"'[, ...])"),"Failed to create unique value renderer from style URL",t)})),i}}]),p}(Object(T.a)(E.a));Object(h.a)([Object(j.b)({readOnly:!0})],J.prototype,"_cache",null),Object(h.a)([Object(_.a)({uniqueValue:"unique-value"})],J.prototype,"type",void 0),Object(h.a)([Object(j.b)(A.a)],J.prototype,"backgroundFillSymbol",void 0),Object(h.a)([Object(j.b)({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],J.prototype,"field",void 0),Object(h.a)([Object(w.a)("field")],J.prototype,"castField",null),Object(h.a)([Object(S.a)("field")],J.prototype,"writeField",null),Object(h.a)([Object(j.b)({type:String,json:{write:!0}})],J.prototype,"field2",void 0),Object(h.a)([Object(j.b)({type:String,json:{write:!0}})],J.prototype,"field3",void 0),Object(h.a)([Object(j.b)({type:String,json:{write:!0}})],J.prototype,"valueExpression",void 0),Object(h.a)([Object(j.b)({type:String,json:{write:!0}})],J.prototype,"valueExpressionTitle",void 0),Object(h.a)([Object(j.b)({type:C.a,json:{write:!0}})],J.prototype,"legendOptions",void 0),Object(h.a)([Object(j.b)({type:String,json:{write:!0}})],J.prototype,"defaultLabel",void 0),Object(h.a)([Object(j.b)(Object(O.a)(q({},A.b),{json:{write:{overridePolicy:function(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy:function(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],J.prototype,"defaultSymbol",null),Object(h.a)([Object(j.b)({type:String,json:{write:!0}})],J.prototype,"fieldDelimiter",void 0),Object(h.a)([Object(j.b)({type:M.a,readOnly:!0})],J.prototype,"portal",void 0),Object(h.a)([Object(k.a)("portal",["styleName"])],J.prototype,"readPortal",null),Object(h.a)([Object(j.b)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:function(){return{enabled:!0}}}}})],J.prototype,"styleOrigin",void 0),Object(h.a)([Object(k.a)("styleOrigin",["styleName","styleUrl"])],J.prototype,"readStyleOrigin",null),Object(h.a)([Object(S.a)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],J.prototype,"writeStyleOrigin",null),Object(h.a)([Object(j.b)({type:[D.a],json:{write:{overridePolicy:function(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],J.prototype,"uniqueValueInfos",null);var $=J=n=Object(h.a)([Object(x.a)("esri.renderers.UniqueValueRenderer")],J);t.a=$},"h/NC":function(e,t,r){"use strict";r.r(t);var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("Mp7X"),l=r("0n+b"),f=r("xAIp"),p=(r("J4Pc"),r("wckI")),d=(r("TM+E"),r("iaHD")),h=r("kRu0");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var y=function(e){Object(a.a)(r,e);var t=b(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).access=null,i.created=null,i.description=null,i.id=null,i.isInvitationOnly=!1,i.modified=null,i.owner=null,i.portal=null,i.snippet=null,i.sortField=null,i.sortOrder=null,i.tags=null,i.title=null,i}return Object(i.a)(r,[{key:"thumbnailUrl",get:function(){var e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl("".concat(e,"/info/").concat(t,"?f=json")):null}},{key:"url",get:function(){var e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}},{key:"fetchCategorySchema",value:function(e){var t=this;return this.portal._request(this.url+"/categorySchema",e).then((function(r){var n=r.categorySchema||[];return n.some((function(e){return"contentCategorySetsGroupQuery.LivingAtlas"===e.source}))?t._fetchCategorySchemaSet("LivingAtlas",e):n}))}},{key:"fetchMembers",value:function(e){return this.portal._request(this.url+"/users",e)}},{key:"getThumbnailUrl",value:function(e){var t=this.thumbnailUrl;return t&&e&&(t+="&w=".concat(e)),t}},{key:"toJSON",value:function(){throw new u.a("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}},{key:"queryItems",value:function(e,t){var r=Object(p.m)(h.a,e);return parseFloat(this.portal.currentVersion)>5?(r=r||new h.a,this.portal._queryPortal("/content/groups/".concat(this.id,"/search"),r,"PortalItem",t)):((r=r?r.clone():new h.a).query="group:"+this.id+(r.query?" "+r.query:""),this.portal.queryItems(r,t))}},{key:"_fetchCategorySchemaSet",value:function(e,t){var r=this;return this.portal._fetchSelf(this.portal.authMode,!0,t).then((function(e){var n=e.contentCategorySetsGroupQuery;if(n){var i=new h.a;return i.disableExtraQuery=!0,i.num=1,i.query=n,r.portal.queryGroups(i,t)}throw new u.a("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((function(r){if(r.total){var n=r.results[0],i=new h.a;return i.num=1,i.query='typekeywords:"'.concat(e,'"'),n.queryItems(i,t)}throw new u.a("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((function(e){return e.total?e.results[0].fetchData("json",t).then((function(e){var t=e&&e.categorySchema;return t&&t.length?t:[]})):[]}))}}]),r}(l.a);Object(c.a)([Object(f.b)()],y.prototype,"access",void 0),Object(c.a)([Object(f.b)({type:Date})],y.prototype,"created",void 0),Object(c.a)([Object(f.b)()],y.prototype,"description",void 0),Object(c.a)([Object(f.b)()],y.prototype,"id",void 0),Object(c.a)([Object(f.b)()],y.prototype,"isInvitationOnly",void 0),Object(c.a)([Object(f.b)({type:Date})],y.prototype,"modified",void 0),Object(c.a)([Object(f.b)()],y.prototype,"owner",void 0),Object(c.a)([Object(f.b)()],y.prototype,"portal",void 0),Object(c.a)([Object(f.b)()],y.prototype,"snippet",void 0),Object(c.a)([Object(f.b)()],y.prototype,"sortField",void 0),Object(c.a)([Object(f.b)()],y.prototype,"sortOrder",void 0),Object(c.a)([Object(f.b)()],y.prototype,"tags",void 0),Object(c.a)([Object(f.b)()],y.prototype,"thumbnail",void 0),Object(c.a)([Object(f.b)({readOnly:!0})],y.prototype,"thumbnailUrl",null),Object(c.a)([Object(f.b)()],y.prototype,"title",void 0),Object(c.a)([Object(f.b)({readOnly:!0})],y.prototype,"url",null);var v=y=Object(c.a)([Object(d.a)("esri.portal.PortalGroup")],y);t.default=v},h0av:function(e,t,r){var n=r("6iN7"),i=r("Lalj"),a=r("SyCk");e.exports=function(e){return a(e)?n(e):i(e)}},hKEQ:function(e,t,r){"use strict";var n=r("6CzD"),i=r("eijD"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("NthX"),f=r.n(l),p=r("dQW7"),d=r("kDog"),h=r("0n+b"),b=r("0fJP"),y=r("TM+E"),v=r("IH5m"),m=r("xAIp"),g=r("gljZ"),O=(r("J4Pc"),r("mp5+")),j=r("iaHD"),w=r("jr4m"),_=r("wckI"),k=r("DuP7"),x=r("XWqC"),S=r("U95q"),P=r("J+m1"),I=r("sFjk"),R=r("U5FO"),M=r("AC3/");var E,T={base:null,key:"type",typeMap:{attachment:x.a,media:R.a,text:M.a,field:I.a}},A=r("WcPO"),C=r("SLE6");function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var L=E=function(e){Object(s.a)(r,e);var t=D(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).returnTopmostRaster=null,n.showNoDataRecords=null,n}return Object(o.a)(r,[{key:"clone",value:function(){return new E({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}}]),r}(h.a);Object(p.a)([Object(m.b)({type:Boolean,json:{write:!0}})],L.prototype,"returnTopmostRaster",void 0),Object(p.a)([Object(m.b)({type:Boolean,json:{write:!0}})],L.prototype,"showNoDataRecords",void 0);var F,N=L=E=Object(p.a)([Object(j.a)("esri.popup.LayerOptions")],L),B=r("HF5h");function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var U=F=function(e){Object(s.a)(r,e);var t=V(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).showRelatedRecords=null,n.orderByFields=null,n}return Object(o.a)(r,[{key:"clone",value:function(){return new F({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?Object(b.a)(this.orderByFields):null})}}]),r}(h.a);Object(p.a)([Object(m.b)({type:Boolean,json:{write:!0}})],U.prototype,"showRelatedRecords",void 0),Object(p.a)([Object(m.b)({type:[B.a],json:{write:!0}})],U.prototype,"orderByFields",void 0);var z,q=U=F=Object(p.a)([Object(j.a)("esri.popup.RelatedRecordsInfo")],U),H=r("Vd3i"),G=r("f6f6"),W=r("5xtG"),J=r("KWbM");function $(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var X=d.a.ofType({key:"type",defaultKeyValue:"button",base:G.a,typeMap:{button:W.a,toggle:J.a}}),K={base:S.a,key:"type",typeMap:{media:R.a,custom:P.a,text:M.a,attachments:x.a,fields:I.a}},Y="esri.PopupTemplate",ee=y.a.getLogger(Y),te=["attachments","fields","media","text"],re=z=function(e){Object(s.a)(l,e);var t,r,c,u=Q(l);function l(){var e;return Object(a.a)(this,l),(e=u.apply(this,arguments)).actions=null,e.content="",e.expressionInfos=null,e.fieldInfos=null,e.layerOptions=null,e.lastEditInfoEnabled=!0,e.outFields=null,e.overwriteActions=!1,e.returnGeometry=!1,e.title="",e.relatedRecordsInfo=null,e}return Object(o.a)(l,[{key:"castContent",value:function(e){return Array.isArray(e)?e.map((function(e){return Object(_.k)(K,e)})):"string"==typeof e||"function"==typeof e||e instanceof HTMLElement||Object(v.p)(e)?e:(ee.error("content error","unsupported content value",{value:e}),null)}},{key:"readContent",value:function(e,t){var r=t.popupElements;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(t):this._readPopupInfo(t)}},{key:"writeContent",value:function(e,t,r,n){var i=this;"string"!=typeof e?Array.isArray(e)&&(t.popupElements=e.filter((function(e){return-1!==te.indexOf(e.type)})).map((function(e){return e&&e.toJSON(n)})),t.popupElements.forEach((function(e){"attachments"===e.type?i._writeAttachmentContent(t):"media"===e.type?i._writeMediaContent(e,t):"text"===e.type&&i._writeTextContent(e,t)}))):t.description=e}},{key:"writeFieldInfos",value:function(e,t,r,n){var i=this.content,a=Array.isArray(i)?i:null;if(e){var o=a?a.filter((function(e){return"fields"===e.type})):[],s=o.length&&o.every((function(e){var t;return null==(t=e.fieldInfos)?void 0:t.length}));t.fieldInfos=e.filter(Boolean).map((function(e){var t=e.toJSON(n);return s&&(t.visible=!1),t}))}if(a){var c,u=$(a);try{for(u.s();!(c=u.n()).done;){var l=c.value;"fields"===l.type&&this._writeFieldsContent(l,t)}}catch(f){u.e(f)}finally{u.f()}}}},{key:"writeLayerOptions",value:function(e,t,r,n){t[r]=!e||null===e.showNoDataRecords&&null===e.returnTopmostRaster?null:e.toJSON(n)}},{key:"writeTitle",value:function(e,t){t.title=e||""}},{key:"clone",value:function(){var e=this.actions,t=e?Object(b.a)(e.toArray()):[];return new z({actions:t,content:Array.isArray(this.content)?Object(b.a)(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?Object(b.a)(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?Object(b.a)(this.fieldInfos):null,layerOptions:this.layerOptions?Object(b.a)(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?Object(b.a)(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?Object(b.a)(this.relatedRecordsInfo):null})}},{key:"collectRequiredFields",value:(c=Object(i.a)(f.a.mark((function e(t,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._collectExpressionInfoFields(t,r,this.expressionInfos);case 2:Object(k.e)(t,r,[].concat(Object(n.a)(this.outFields||[]),Object(n.a)(this._getActionsFields(this.actions)),Object(n.a)(this._getTitleFields(this.title)),Object(n.a)(this._getContentFields(this.content))));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"getRequiredFields",value:(r=Object(i.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Set,e.next=3,this.collectRequiredFields(r,t);case 3:return e.abrupt("return",Object(n.a)(r).sort());case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_writeFieldsContent",value:function(e,t){if(Array.isArray(e.fieldInfos)&&e.fieldInfos.length){var r=Object(b.a)(e.fieldInfos);Array.isArray(t.fieldInfos)?r.forEach((function(e){var r=t.fieldInfos.find((function(t){return t.fieldName.toLowerCase()===e.fieldName.toLowerCase()}));r?r.visible=!0:t.fieldInfos.push(e)})):t.fieldInfos=r}}},{key:"_writeAttachmentContent",value:function(e){e.showAttachments||(e.showAttachments=!0)}},{key:"_writeTextContent",value:function(e,t){!t.description&&e.text&&(t.description=e.text)}},{key:"_writeMediaContent",value:function(e,t){if(Array.isArray(e.mediaInfos)&&e.mediaInfos.length){var r=Object(b.a)(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[].concat(Object(n.a)(t.mediaInfos),Object(n.a)(r)):t.mediaInfos=r}}},{key:"_readPopupInfoElements",value:function(e){var t=e.description,r=e.mediaInfos,n=e.popupElements,i={description:!1,mediaInfos:!1};return n.map((function(e){return"media"===e.type?(e.mediaInfos||!r||i.mediaInfos||(e.mediaInfos=r,i.mediaInfos=!0),R.a.fromJSON(e)):"text"===e.type?(e.text||!t||i.description||(e.text=t,i.description=!0),M.a.fromJSON(e)):"attachments"===e.type?x.a.fromJSON(e):"fields"===e.type?I.a.fromJSON(e):void 0})).filter(Boolean)}},{key:"_readPopupInfo",value:function(e){var t=e.description,r=e.mediaInfos,n=e.showAttachments,i=[];return t?i.push(new M.a({text:t})):i.push(new I.a),Array.isArray(r)&&r.length&&i.push(R.a.fromJSON({mediaInfos:r})),n&&i.push(x.a.fromJSON({displayType:"list"})),i.length?i:t}},{key:"_getContentElementFields",value:function(e){var t=this;return e&&"attachments"!==e.type?"custom"===e.type?e.outFields||[]:"fields"===e.type?this._getFieldInfoFields(e.fieldInfos||this.fieldInfos):"media"===e.type?(e.mediaInfos||[]).reduce((function(e,r){return[].concat(Object(n.a)(e),Object(n.a)(t._getMediaInfoFields(r)))}),[]):"text"===e.type?this._extractFieldNames(e.text):void 0:[]}},{key:"_getMediaInfoFields",value:function(e){var t=e.caption,r=e.title,i=e.value||{},a=i.fields,o=void 0===a?[]:a,s=i.normalizeField,c=i.tooltipField,u=i.sourceURL,l=i.linkURL,f=[].concat(Object(n.a)(this._extractFieldNames(r)),Object(n.a)(this._extractFieldNames(t)),Object(n.a)(this._extractFieldNames(u)),Object(n.a)(this._extractFieldNames(l)),Object(n.a)(o));return s&&f.push(s),c&&f.push(c),f}},{key:"_getContentFields",value:function(e){var t=this;return"string"==typeof e?this._extractFieldNames(e):Array.isArray(e)?e.reduce((function(e,r){return[].concat(Object(n.a)(e),Object(n.a)(t._getContentElementFields(r)))}),[]):[]}},{key:"_collectExpressionInfoFields",value:(t=Object(i.a)(f.a.mark((function e(t,r,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n,!e.t0){e.next=4;break}return e.next=4,Promise.all(n.map((function(e){return Object(k.a)(t,r,e.expression)})));case 4:case"end":return e.stop()}}),e)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"_getFieldInfoFields",value:function(e){return e?e.filter((function(e){return void 0===e.visible||!!e.visible})).map((function(e){return e.fieldName})).filter((function(e){return-1===e.indexOf("relationships/")&&-1===e.indexOf("expression/")})):[]}},{key:"_getActionsFields",value:function(e){var t=this;return e?e.toArray().reduce((function(e,r){return[].concat(Object(n.a)(e),Object(n.a)(t._getActionFields(r)))}),[]):[]}},{key:"_getActionFields",value:function(e){var t=e.className,r=e.title,i=e.type,a="button"===i||"toggle"===i?e.image:"";return[].concat(Object(n.a)(this._extractFieldNames(r)),Object(n.a)(this._extractFieldNames(t)),Object(n.a)(this._extractFieldNames(a)))}},{key:"_getTitleFields",value:function(e){return"string"==typeof e?this._extractFieldNames(e):[]}},{key:"_extractFieldNames",value:function(e){if(!e||"string"!=typeof e)return[];var t=e.match(/{[^}]*}/g);if(!t)return[];var r=/\{(\w+):.+\}/,n=t.filter((function(e){return!(0===e.indexOf("{relationships/")||0===e.indexOf("{expression/"))})).map((function(e){return e.replace(r,"{$1}")}));return n?n.map((function(e){return e.slice(1,-1)})):[]}}]),l}(h.a);Object(p.a)([Object(m.b)({type:X})],re.prototype,"actions",void 0),Object(p.a)([Object(m.b)()],re.prototype,"content",void 0),Object(p.a)([Object(g.a)("content")],re.prototype,"castContent",null),Object(p.a)([Object(O.a)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],re.prototype,"readContent",null),Object(p.a)([Object(w.a)("content",{popupElements:{type:d.a.ofType(T)},showAttachments:{type:Boolean},mediaInfos:{type:d.a.ofType(H.a)},description:{type:String}})],re.prototype,"writeContent",null),Object(p.a)([Object(m.b)({type:[A.a],json:{write:!0}})],re.prototype,"expressionInfos",void 0),Object(p.a)([Object(m.b)({type:[C.a]})],re.prototype,"fieldInfos",void 0),Object(p.a)([Object(w.a)("fieldInfos")],re.prototype,"writeFieldInfos",null),Object(p.a)([Object(m.b)({type:N})],re.prototype,"layerOptions",void 0),Object(p.a)([Object(w.a)("layerOptions")],re.prototype,"writeLayerOptions",null),Object(p.a)([Object(m.b)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],re.prototype,"lastEditInfoEnabled",void 0),Object(p.a)([Object(m.b)()],re.prototype,"outFields",void 0),Object(p.a)([Object(m.b)()],re.prototype,"overwriteActions",void 0),Object(p.a)([Object(m.b)()],re.prototype,"returnGeometry",void 0),Object(p.a)([Object(m.b)({json:{type:String}})],re.prototype,"title",void 0),Object(p.a)([Object(w.a)("title")],re.prototype,"writeTitle",null),Object(p.a)([Object(m.b)({type:q,json:{write:!0}})],re.prototype,"relatedRecordsInfo",void 0);var ne=re=z=Object(p.a)([Object(j.a)(Y)],re);t.a=ne},hRIO:function(e,t){e.exports={plugins:[]}},hXTI:function(e,t,r){var n=r("nEaP");e.exports=n.Promise},hXZc:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var n="20210707",i="17f9314e751fd1e720022ff5819d4e40def1f79a"},hZBP:function(e,t,r){"use strict";var n=r("0942"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("hisu"),c=r("yBJb"),u=r("vVXE"),l=r("TM+E"),f=r("K2z9"),p=r("9ZxH"),d=r("6CzD"),h=r("aNYv"),b=(r("J4Pc"),r("0fJP")),y=r("60cM"),v=r("Qu15"),m=r("aZWO"),g=function(){function e(t,r,n){Object(s.a)(this,e),this.properties=t,this.propertyName=r,this.metadata=n,this._observers=null,this._accessed=null,this._handles=null,this.flags=1|(n.nonNullable?8:0)|(n.hasOwnProperty("value")?16:0)|(void 0===n.get?32:0)|(void 0===n.dependsOn?64:0)}return Object(c.a)(e,[{key:"destroy",value:function(){this._accessed=null,this._observers=null,this._clearObservationHandles()}},{key:"getComputed",value:function(){Object(v.c)(this);var e=this.properties.store,t=this.propertyName,r=this.flags,n=e.get(t);if(4&r)return n;if(1&~r&&e.has(t))return n;this.flags|=4;var i,a=this.properties.host;64&r?i=Object(v.b)(this,this.metadata.get,a):(Object(v.d)(a,this),i=this.metadata.get.call(a)),e.set(t,i,1);var o=e.get(t);return o===n?this.flags&=-2:this.commit(),this.flags&=-5,o}},{key:"onObservableAccessed",value:function(e){e!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(e)||this._accessed.push(e))}},{key:"onTrackingEnd",value:function(){this._clearObservationHandles(),this.flags|=32;var e=this._accessed;if(null!==e){var t=this._handles;null===t&&(t=this._handles=[]);for(var r=0;r<e.length;++r)t.push(e[r].observe(this));e.length=0}}},{key:"observe",value:function(e){return null===this._observers&&(this._observers=[]),this._observers.includes(e)||this._observers.push(e),new m.a(this._observers,e)}},{key:"notifyChange",value:function(){this.onInvalidated(),this.onCommitted()}},{key:"invalidate",value:function(){this.onInvalidated()}},{key:"onInvalidated",value:function(){2&~this.flags&&(this.flags|=1);var e=this._observers;if(null!==e)for(var t=0;t<e.length;++t)e[t].onInvalidated()}},{key:"commit",value:function(){this.flags&=-2,this.onCommitted()}},{key:"onCommitted",value:function(){if(null!==this._observers)for(var e=this._observers.slice(),t=0;t<e.length;++t)e[t].onCommitted()}},{key:"_clearObservationHandles",value:function(){var e=this._handles;if(null!==e){for(var t=0;t<e.length;++t)e[t].remove();e.length=0}}}]),e}(),O=r("ddfG"),j=function(){function e(){Object(s.a)(this,e),this._values=new Map}return Object(c.a)(e,[{key:"clone",value:function(t){var r=new e;return this._values.forEach((function(e,n){t&&t.has(n)||r.set(n,Object(b.a)(e))})),r}},{key:"get",value:function(e){return this._values.get(e)}},{key:"originOf",value:function(){return 6}},{key:"keys",value:function(){return Object(d.a)(this._values.keys())}},{key:"set",value:function(e,t){this._values.set(e,t)}},{key:"delete",value:function(e){this._values.delete(e)}},{key:"has",value:function(e){return this._values.has(e)}},{key:"forEach",value:function(e){this._values.forEach(e)}}]),e}(),w=r("F1Bx");function _(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t,r){return void 0!==e}function S(e,t,r,n){return!(void 0===e||null==r&&8&e.flags&&(n.lifecycle,1))}l.a.getLogger("esri.core.accessorSupport.Properties");var P=function(){function e(t){Object(s.a)(this,e),this.host=t,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=0,this.store=new j,this._origin=6;var r=this.host.constructor.__accessorMetadata__,n=r.properties;for(var i in n){var a=new g(this,i,n[i]);this.properties.set(i,a)}this.metadatas=n,this._autoDestroy=r.autoDestroy}return Object(c.a)(e,[{key:"initialize",value:function(){this.lifecycle=1}},{key:"constructed",value:function(){this.lifecycle=2}},{key:"destroy",value:function(){if(this.destroyed=!0,this._autoDestroy){var e,t=_(this.properties);try{for(t.s();!(e=t.n()).done;){var r=Object(h.a)(e.value,2),n=r[0],i=r[1],a=this.internalGet(n);a&&((u=a)&&"function"==typeof u.destroy)&&(a.destroy(),8&~i.flags&&this._internalSet(i,null)),i.destroy()}}catch(l){t.e(l)}finally{t.f()}}else{var o,s=_(this.properties);try{for(s.s();!(o=s.n()).done;){var c=Object(h.a)(o.value,2);c[0];c[1].destroy()}}catch(l){s.e(l)}finally{s.f()}}var u}},{key:"initialized",get:function(){return 0!==this.lifecycle}},{key:"get",value:function(e){var t=this.properties.get(e);if(t.metadata.get)return t.getComputed();Object(v.c)(t);var r=this.store;return r.has(e)?r.get(e):t.metadata.value}},{key:"originOf",value:function(e){var t=this.store.originOf(e);if(void 0===t){var r=this.properties.get(e);if(void 0!==r&&16&r.flags)return"defaults"}return Object(O.b)(t)}},{key:"has",value:function(e){return!!this.properties.has(e)&&this.store.has(e)}},{key:"keys",value:function(){return Object(d.a)(this.properties.keys())}},{key:"internalGet",value:function(e){var t=this.properties.get(e);if(x(t))return this.store.has(e)?this.store.get(e):t.metadata.value}},{key:"internalSet",value:function(e,t){var r=this.properties.get(e);x(r)&&this._internalSet(r,t)}},{key:"getDependsInfo",value:function(e,t,r){var n=this.properties.get(t);if(!x(n))return"";var i=new Set,a=Object(v.b)({onObservableAccessed:function(e){return i.add(e)},onTrackingEnd:function(){}},(function(){var t;return null==(t=n.metadata.get)?void 0:t.call(e)})),o="".concat(r).concat(e.declaredClass.split(".").pop(),".").concat(t,": ").concat(a,"\n");if(0===i.size)return o;r+="  ";var s,c=_(i);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(u instanceof g){var l=u.properties.host,f=u.propertyName,p=Object(w.a)(l);o+=p?p.getDependsInfo(l,f,r):"".concat(r).concat(f,": undefined\n")}}}catch(d){c.e(d)}finally{c.f()}return o}},{key:"setAtOrigin",value:function(e,t,r){var n=this.properties.get(e);if(x(n))return this._setAtOrigin(n,t,r)}},{key:"isOverridden",value:function(e){var t=this.properties.get(e);return void 0!==t&&!!(2&t.flags)}},{key:"clearOverride",value:function(e){var t=this.properties.get(e);void 0!==t&&2&t.flags&&(t.flags&=-3,t.notifyChange())}},{key:"override",value:function(e,t){var r=this.properties.get(e);if(S(r,0,t,this)){var n=r.metadata.cast;if(n){var i=this._cast(n,t),a=i.valid,o=i.value;if(R.release(i),!a)return;t=o}r.flags|=2,this._internalSet(r,t)}}},{key:"set",value:function(e,t){var r=this.properties.get(e);if(S(r,0,t,this)){var n=r.metadata.cast;if(n){var i=this._cast(n,t),a=i.valid,o=i.value;if(R.release(i),!a)return;t=o}var s=r.metadata.set;s?s.call(this.host,t):this._internalSet(r,t)}}},{key:"setDefaultOrigin",value:function(e){this._origin=Object(O.d)(e)}},{key:"getDefaultOrigin",value:function(){return Object(O.b)(this._origin)}},{key:"notifyChange",value:function(e){var t=this.properties.get(e);void 0!==t&&t.notifyChange()}},{key:"invalidate",value:function(e){var t=this.properties.get(e);void 0!==t&&t.invalidate()}},{key:"commit",value:function(e){var t=this.properties.get(e);void 0!==t&&t.commit()}},{key:"_internalSet",value:function(e,t){var r=0!==this.lifecycle?this._origin:0;this._setAtOrigin(e,t,r)}},{key:"_setAtOrigin",value:function(e,t,r){var n=this.store,i=e.propertyName;n.has(i,r)&&Object(b.b)(t,n.get(i))&&2&~e.flags&&r===n.originOf(i)||(e.invalidate(),n.set(i,t,r),e.commit(),Object(v.a)(this.host,e))}},{key:"_cast",value:function(e,t){var r=R.acquire();return r.valid=!0,r.value=t,e&&(r.value=e.call(this.host,t,r)),r}}]),e}(),I=function(){function e(){Object(s.a)(this,e),this.value=null,this.valid=!0}return Object(c.a)(e,[{key:"acquire",value:function(){this.valid=!0}},{key:"release",value:function(){this.value=null}}]),e}(),R=new y.a(I),M=P,E=r("30K6"),T=r("p/dP"),A=r("4Mpa"),C=r("7im+");function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var L=function(e){Object(i.a)(r,e);var t=D(r);function r(){var e;return Object(s.a)(this,r),(e=t.apply(this,arguments))._set=new Set,e}return Object(c.a)(r,[{key:"destroy",value:function(){Object(A.a)(Object(o.a)(r.prototype),"destroy",this).call(this),this._set=Object(C.m)(this._set)}},{key:"acquire",value:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=(e=Object(A.a)(Object(o.a)(r.prototype),"acquire",this)).call.apply(e,[this].concat(n));return this._set.delete(a),a}},{key:"release",value:function(e){e&&!this._set.has(e)&&(Object(A.a)(Object(o.a)(r.prototype),"release",this).call(this,e),this._set.add(e))}},{key:"_dispose",value:function(e){this._set.delete(e),Object(A.a)(Object(o.a)(r.prototype),"_dispose",this).call(this,e)}}]),r}(y.a),F=r("+JF/");var N=r("QdvJ");function B(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var U=function(){function e(){Object(s.a)(this,e),this.uid=0,this.target=null,this.path=null,this.oldValue=null,this.callback=null,this.getValue=null,this.removed=!1,this.propertyPath=null}return Object(c.a)(e,[{key:"acquire",value:function(t,r,n,i,a){this.target=t,this.path=r,this.oldValue=n,this.callback=i,this.getValue=a,this.propertyPath=Object(w.g)(r),this.uid=++e.uid,this.removed=!1}},{key:"release",value:function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null,this.uid=++e.uid,this.removed=!0}}]),e}();U.pool=new L(U),U.uid=0;var z,q=new T.a,H=new Set;function G(e){H.delete(e),H.add(e),z||(z=Object(F.b)($))}function W(e){if(!e.removed){var t=e.callback,r=e.path,n=e.oldValue,i=e.target,a=e.getValue();J(n,a)&&(e.oldValue=a,t.call(i,a,n,r,i))}}function J(e,t){return!Object(b.b)(e,t)}function $(){for(var e=10;z&&e--;){z=null;var t,r=Z(),n=q.acquire(),i=B(r);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=a.uid;W(a),o===a.uid&&a.removed&&n.push(a)}}catch(f){i.e(f)}finally{i.f()}var s,c=B(H);try{for(c.s();!(s=c.n()).done;){var u=s.value;u.removed&&(n.push(u),H.delete(u))}}catch(f){c.e(f)}finally{c.f()}for(var l=0;l<n.length;l++)U.pool.release(n[l]);q.release(n),q.release(r),Q.forEach((function(e){return e()}))}}function Z(){var e=q.acquire();e.length=H.size;var t,r=0,n=B(H);try{for(n.s();!(t=n.n()).done;){var i=t.value;e[r]=i,++r}}catch(a){n.e(a)}finally{n.f()}return H.clear(),e}var Q=new Set;function X(e,t,r){var n=Object(w.e)(e,t,r,(function(e,t,r){var i,a,o=Object(N.c)((function(){return Object(f.c)(e,t)}),(function(o,s){e.__accessor__.destroyed||i&&i.uid!==a?n.remove():(i||(i=U.pool.acquire(e,t,o,r,s),a=i.uid),G(i))}));return{remove:Object(w.d)((function(){o.remove(),i&&(i.uid!==a||i.removed||(i.removed=!0,G(i)),i=null),n=o=null}))}}));return n}function K(e,t,r){var n=Object(w.e)(e,t,r,(function(e,t,r){var i=!1;return Object(N.b)((function(){return Object(f.c)(e,t)}),(function(a,o){e.__accessor__.destroyed?n.remove():i||(i=!0,J(o,a)&&r.call(e,a,o,t,e),i=!1)}))}));return n}function Y(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!e.__accessor__||e.__accessor__.destroyed?{remove:function(){}}:n?K(e,t,r):X(e,t,r)}var ee=r("xAIp"),te=r("iaHD");function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}function ne(e){if(null==e)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor&&e.constructor.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}var ie=function(){function e(){if(Object(s.a)(this,e),this.constructor===e)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new M(this)}),r.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,r))}return Object(c.a)(e,[{key:"postscript",value:function(e){var t=this.__accessor__,r=t.ctorArgs||e;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize()}},{key:"initialize",value:function(){}},{key:"destroy",value:function(){this.destroyed||(function(e){var t,r=B(H.values());try{for(r.s();!(t=r.n()).done;){var n=t.value;n.target===e&&(n.removed=!0)}}catch(i){r.e(i)}finally{r.f()}}(this),this.__accessor__.destroy())}},{key:"initialized",get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},{key:"constructed",get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},{key:"destroyed",get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}},{key:"commitProperty",value:function(e){this.get(e)}},{key:"get",value:function(e){return Object(f.b)(this,e)}},{key:"hasOwnProperty",value:function(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}},{key:"isInstanceOf",value:function(e){return Object(u.b)(l.a.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof e}},{key:"keys",value:function(){return this.__accessor__?this.__accessor__.keys():[]}},{key:"set",value:function(e,t){return Object(E.a)(this,e,t),this}},{key:"watch",value:function(e,t,r){return Y(this,e,t,r)}},{key:"_clearOverride",value:function(e){return this.__accessor__.clearOverride(e)}},{key:"_override",value:function(e,t){return this.__accessor__.override(e,t)}},{key:"_isOverridden",value:function(e){return this.__accessor__.isOverridden(e)}},{key:"notifyChange",value:function(e){this.__accessor__.notifyChange(e)}},{key:"_get",value:function(e){return this.__accessor__.internalGet(e)}},{key:"_set",value:function(e,t){return this.__accessor__.internalSet(e,t),this}}],[{key:"createSubclass",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");var t=e.properties,r=e.declaredClass,a=e.constructor;delete e.declaredClass,delete e.properties,delete e.constructor;var o=this,c=function(e){Object(i.a)(r,e);var t=re(r);function r(){var e;Object(s.a)(this,r);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).inherited=null,a&&a.apply(Object(n.a)(e),o),e}return r}(o);Object(p.a)(c.prototype);var u=function(t){var r=e[t];c.prototype[t]="function"==typeof r?function(){var e,n=this.inherited;this.inherited=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(o.prototype[t])return o.prototype[t].apply(this,r)};try{for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];e=r.apply(this,a)}catch(c){throw this.inherited=n,c}return this.inherited=n,e}:e[t]};for(var l in e)u(l);for(var f in t){var d=ne(t[f]);Object(ee.b)(d)(c.prototype,f)}return Object(te.a)(r)(c)}}]),e}();t.a=ie},hdDo:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("ZTBZ"),f=r("NY4G"),p=r("7i+s"),d=r("0n+b"),h=r("0fJP"),b=r("7im+"),y=r("xAIp"),v=r("gljZ"),m=(r("J4Pc"),r("TM+E"),r("vo12")),g=r("iaHD"),O=r("jr4m"),j=r("wckI"),w=r("aic5"),_=r("ZWAC"),k=r("2PsU"),x=r("u0xB"),S=r("YHXj"),P=r("OTJA");function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var R=new p.a({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),M=new p.a({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),E=n=function(e){Object(o.a)(r,e);var t=I(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).aggregateIds=null,n.cacheHint=void 0,n.datumTransformation=null,n.distance=void 0,n.dynamicDataSource=void 0,n.formatOf3DObjects=null,n.gdbVersion=null,n.geometry=null,n.geometryPrecision=void 0,n.groupByFieldsForStatistics=null,n.having=null,n.historicMoment=null,n.maxAllowableOffset=void 0,n.maxRecordCountFactor=1,n.multipatchOption=null,n.num=void 0,n.objectIds=null,n.orderByFields=null,n.outFields=null,n.outSpatialReference=null,n.outStatistics=null,n.parameterValues=null,n.pixelSize=null,n.quantizationParameters=null,n.rangeValues=null,n.relationParameter=null,n.resultType=null,n.returnCentroid=!1,n.returnDistinctValues=!1,n.returnExceededLimitFeatures=!0,n.returnGeometry=!1,n.returnQueryGeometry=!1,n.returnM=void 0,n.returnZ=void 0,n.sourceSpatialReference=null,n.spatialRelationship="intersects",n.start=void 0,n.sqlFormat=null,n.text=null,n.timeExtent=null,n.units=null,n.where=null,n}return Object(a.a)(r,[{key:"castDatumTransformation",value:function(e){return"number"==typeof e||"object"==typeof e?e:null}},{key:"writeHistoricMoment",value:function(e,t){t.historicMoment=e&&e.getTime()}},{key:"writeParameterValues",value:function(e,t){if(e){var r={};for(var n in e){var i=e[n];Array.isArray(i)?r[n]=i.map((function(e){return e instanceof Date?e.getTime():e})):i instanceof Date?r[n]=i.getTime():r[n]=i}t.parameterValues=r}}},{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}},{key:"writeWhere",value:function(e,t){t.where=e||"1=1"}},{key:"clone",value:function(){return new n(Object(h.a)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:Object(b.i)(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))}}],[{key:"from",value:function(e){return Object(j.d)(n,e)}}]),r}(d.a);E.MAX_MAX_RECORD_COUNT_FACTOR=5,Object(u.a)([Object(y.b)({json:{write:!0}})],E.prototype,"aggregateIds",void 0),Object(u.a)([Object(y.b)({type:Boolean,json:{write:!0}})],E.prototype,"cacheHint",void 0),Object(u.a)([Object(y.b)({json:{write:!0}})],E.prototype,"datumTransformation",void 0),Object(u.a)([Object(v.a)("datumTransformation")],E.prototype,"castDatumTransformation",null),Object(u.a)([Object(y.b)({type:Number,json:{write:{overridePolicy:function(e){return{enabled:e>0}}}}})],E.prototype,"distance",void 0),Object(u.a)([Object(y.b)({type:_.a,json:{write:!0}})],E.prototype,"dynamicDataSource",void 0),Object(u.a)([Object(y.b)({type:String,json:{write:!0}})],E.prototype,"formatOf3DObjects",void 0),Object(u.a)([Object(y.b)({type:String,json:{write:!0}})],E.prototype,"gdbVersion",void 0),Object(u.a)([Object(y.b)({types:l.a,json:{read:w.a,write:!0}})],E.prototype,"geometry",void 0),Object(u.a)([Object(y.b)({type:Number,json:{write:!0}})],E.prototype,"geometryPrecision",void 0),Object(u.a)([Object(y.b)({type:[String],json:{write:!0}})],E.prototype,"groupByFieldsForStatistics",void 0),Object(u.a)([Object(y.b)({type:String,json:{write:!0}})],E.prototype,"having",void 0),Object(u.a)([Object(y.b)({type:Date})],E.prototype,"historicMoment",void 0),Object(u.a)([Object(O.a)("historicMoment")],E.prototype,"writeHistoricMoment",null),Object(u.a)([Object(y.b)({type:Number,json:{write:!0}})],E.prototype,"maxAllowableOffset",void 0),Object(u.a)([Object(y.b)({type:Number,cast:function(e){return e<1?1:e>n.MAX_MAX_RECORD_COUNT_FACTOR?n.MAX_MAX_RECORD_COUNT_FACTOR:e},json:{write:{overridePolicy:function(e){return{enabled:e>1}}}}})],E.prototype,"maxRecordCountFactor",void 0),Object(u.a)([Object(y.b)({type:["xyFootprint"],json:{write:!0}})],E.prototype,"multipatchOption",void 0),Object(u.a)([Object(y.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],E.prototype,"num",void 0),Object(u.a)([Object(y.b)({json:{write:!0}})],E.prototype,"objectIds",void 0),Object(u.a)([Object(y.b)({type:[String],json:{write:!0}})],E.prototype,"orderByFields",void 0),Object(u.a)([Object(y.b)({type:[String],json:{write:!0}})],E.prototype,"outFields",void 0),Object(u.a)([Object(y.b)({type:S.a,json:{name:"outSR",write:!0}})],E.prototype,"outSpatialReference",void 0),Object(u.a)([Object(y.b)({type:[x.a],json:{write:{enabled:!0,overridePolicy:function(){return{enabled:Object(b.i)(this.outStatistics)&&this.outStatistics.length>0}}}}})],E.prototype,"outStatistics",void 0),Object(u.a)([Object(y.b)({json:{write:!0}})],E.prototype,"parameterValues",void 0),Object(u.a)([Object(O.a)("parameterValues")],E.prototype,"writeParameterValues",null),Object(u.a)([Object(y.b)({type:P.a,json:{write:!0}})],E.prototype,"pixelSize",void 0),Object(u.a)([Object(y.b)({type:k.a,json:{write:!0}})],E.prototype,"quantizationParameters",void 0),Object(u.a)([Object(y.b)({type:[Object],json:{write:!0}})],E.prototype,"rangeValues",void 0),Object(u.a)([Object(y.b)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy:function(){return{enabled:"relation"===this.spatialRelationship}}}}})],E.prototype,"relationParameter",void 0),Object(u.a)([Object(y.b)({type:String,json:{write:!0}})],E.prototype,"resultType",void 0),Object(u.a)([Object(y.b)({type:Boolean,json:{default:!1,write:!0}})],E.prototype,"returnCentroid",void 0),Object(u.a)([Object(y.b)({type:Boolean,json:{default:!1,write:!0}})],E.prototype,"returnDistinctValues",void 0),Object(u.a)([Object(y.b)({type:Boolean,json:{default:!0,write:!0}})],E.prototype,"returnExceededLimitFeatures",void 0),Object(u.a)([Object(y.b)({type:Boolean,json:{write:!0}})],E.prototype,"returnGeometry",void 0),Object(u.a)([Object(y.b)({type:Boolean,json:{default:!1,write:!0}})],E.prototype,"returnQueryGeometry",void 0),Object(u.a)([Object(y.b)({type:Boolean,json:{default:!1,write:!0}})],E.prototype,"returnM",void 0),Object(u.a)([Object(y.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],E.prototype,"returnZ",void 0),Object(u.a)([Object(y.b)({type:S.a,json:{write:!0}})],E.prototype,"sourceSpatialReference",void 0),Object(u.a)([Object(m.a)(R,{ignoreUnknown:!1,name:"spatialRel"})],E.prototype,"spatialRelationship",void 0),Object(u.a)([Object(y.b)({type:Number,json:{read:{source:"resultOffset"}}})],E.prototype,"start",void 0),Object(u.a)([Object(O.a)("start"),Object(O.a)("num")],E.prototype,"writeStart",null),Object(u.a)([Object(y.b)({type:String,json:{write:!0}})],E.prototype,"sqlFormat",void 0),Object(u.a)([Object(y.b)({type:String,json:{write:!0}})],E.prototype,"text",void 0),Object(u.a)([Object(y.b)({type:f.a,json:{write:!0}})],E.prototype,"timeExtent",void 0),Object(u.a)([Object(m.a)(M,{ignoreUnknown:!1}),Object(y.b)({json:{write:{overridePolicy:function(e){return{enabled:e&&this.distance>0}}}}})],E.prototype,"units",void 0),Object(u.a)([Object(y.b)({type:String,json:{write:{overridePolicy:function(e){return{enabled:null!=e||this.start>0}}}}})],E.prototype,"where",void 0),Object(u.a)([Object(O.a)("where")],E.prototype,"writeWhere",null);var T=E=n=Object(u.a)([Object(g.a)("esri.rest.support.Query")],E);t.a=T},hfno:function(e,t,r){var n=r("s3UK");e.exports=function(){return n.Date.now()}},hgXp:function(e,t){e.exports={cap:!1,curry:!1,fixed:!1,immutable:!1,rearg:!1}},hisu:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},hj42:function(e,t,r){"use strict";var n=r("hisu"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("dQW7"),c=r("0n+b"),u=r("xAIp"),l=(r("J4Pc"),r("wckI")),f=(r("TM+E"),r("iaHD")),p=r("aic5");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var h=function(e){Object(i.a)(r,e);var t=d(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).geometries1=null,i.geometries2=null,i.relation=null,i.relationParameter=null,i}return r}(c.a);Object(s.a)([Object(u.b)({json:{read:{reader:function(e){return e?e.map((function(e){return Object(p.a)(e)})):null}},write:{writer:function(e,t){t.geometries1=e.map((function(e){return e.toJSON()}))}}}})],h.prototype,"geometries1",void 0),Object(s.a)([Object(u.b)({json:{read:{reader:function(e){return e?e.map((function(e){return Object(p.a)(e)})):null}},write:{writer:function(e,t){t.geometries2=e.map((function(e){return e.toJSON()}))}}}})],h.prototype,"geometries2",void 0),Object(s.a)([Object(u.b)({type:String,json:{write:!0}})],h.prototype,"relation",void 0),Object(s.a)([Object(u.b)({type:String,json:{write:!0}})],h.prototype,"relationParameter",void 0),(h=Object(s.a)([Object(f.a)("esri.rest.support.RelationParameters")],h)).from=Object(l.m)(h);var b=h;t.a=b},hokI:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return l}));var n=r("Mp7X"),i=r("67w/"),a=r("1ZHs"),o=r("j8m6"),s=r("OiVb"),c={key:"type",base:a.a,typeMap:{selection:s.a}};function u(e,t){var r=(t=t.layerDefinition||t).featureReduction;if(r)switch(r.type){case"selection":return s.a.fromJSON(r);case"cluster":return o.a.fromJSON(r)}return null}function l(e,t,r,a){var o=function(e,t,r){return e?"selection"!==e.type?(r.messages&&r.messages.push(new n.a("featureReduction:unsupported","FeatureReduction of type '".concat(e.declaredClass,"' are not supported in scenes."),{featureReduction:e,context:r})),null):e.write(t,r):null}(e,{},a);o&&Object(i.c)(r,o,t)}},hz2j:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var n=r("MrgE"),i={namespace:void 0,performanceLogger:function(){},eventHandlerInterceptor:void 0,styleApplyer:function(e,t,r){"-"===t.charAt(0)?e.style.setProperty(t,r):e.style[t]=r}},a=function(e){return Object(n.c)(i,e)},o={create:function(e,t){return t=a(t),Object(n.a)(e,document.createElement("div"),void 0,t),Object(n.b)(e,t)},append:function(e,t,r){return r=a(r),Object(n.a)(t,e,void 0,r),Object(n.b)(t,r)},insertBefore:function(e,t,r){return r=a(r),Object(n.a)(t,e.parentNode,e,r),Object(n.b)(t,r)},merge:function(e,t,r){return r=a(r),t.domNode=e,Object(n.d)(e,t,r),Object(n.b)(t,r)},replace:function(e,t,r){return r=a(r),Object(n.a)(t,e.parentNode,e,r),e.parentNode.removeChild(e),Object(n.b)(t,r)}}},"i/JN":function(e,t,r){var n=r("GE03"),i=r("l3+0"),a=r("BAZ7"),o=r("+165"),s=r("pZIW"),c=r("OF9M");e.exports=function(e,t,r){var u=-1,l=i,f=e.length,p=!0,d=[],h=d;if(r)p=!1,l=a;else if(f>=200){var b=t?null:s(e);if(b)return c(b);p=!1,l=o,h=new n}else h=t?[]:d;e:for(;++u<f;){var y=e[u],v=t?t(y):y;if(y=r||0!==y?y:0,p&&v==v){for(var m=h.length;m--;)if(h[m]===v)continue e;t&&h.push(v),d.push(y)}else l(h,v,r)||(h!==d&&h.push(v),d.push(y))}return d}},i0JV:function(e,t,r){var n=r("FEiO"),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},i3Pe:function(e,t,r){var n=r("2xEH"),i=r("Qwyb"),a=r("cud3"),o=Math.min;e.exports=function(e,t){var r=e[1],s=t[1],c=r|s,u=c<131,l=128==s&&8==r||128==s&&256==r&&e[7].length<=t[8]||384==s&&t[7].length<=t[8]&&8==r;if(!u&&!l)return e;1&s&&(e[2]=t[2],c|=1&r?0:4);var f=t[3];if(f){var p=e[3];e[3]=p?n(p,f,t[4]):f,e[4]=p?a(e[3],"__lodash_placeholder__"):t[4]}return(f=t[5])&&(p=e[5],e[5]=p?i(p,f,t[6]):f,e[6]=p?a(e[5],"__lodash_placeholder__"):t[6]),(f=t[7])&&(e[7]=f),128&s&&(e[8]=null==e[8]?t[8]:o(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=c,e}},i9OE:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return O})),r.d(t,"f",(function(){return f}));var n=r("lZmO"),i="__begin__",a="__end__",o=new RegExp(i,"ig"),s=new RegExp(a,"ig"),c=new RegExp("^"+i,"i"),u=new RegExp(a+"$","i"),l='"';function f(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function p(e){var t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=function(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(e.labelExpression),t.type="conventional"),t}function d(e){var t=p(e);if(!t)return null;switch(t.type){case"conventional":return b(t.expression);case"arcade":return t.expression}return null}function h(e){var t=p(e);if(!t)return null;switch(t.type){case"conventional":return function(e){var t=e.match(y);return t&&t[1].trim()||null}(t.expression);case"arcade":return O(t.expression)}return null}function b(e){var t;return e?(t=Object(n.c)(e,(function(e){return i+'$feature["'+e+'"]'+a})),t=c.test(t)?t.replace(c,""):l+t,t=(t=u.test(t)?t.replace(u,""):t+l).replace(o,'" + ').replace(s,' + "')):t='""',t}var y=/^\s*\{([^}]+)\}\s*$/i;var v=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,m=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,g=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function O(e){if(!e)return null;var t=v.exec(e)||m.exec(e);return t?t[1]||t[3]:(t=g.exec(e))?t[2]:null}},iKWD:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("xAIp"),l=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),f=r("DKWO");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var d=function(e){Object(a.a)(r,e);var t=p(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).outline=null,i.type=null,i}return Object(i.a)(r,[{key:"hash",value:function(){return"".concat(this.type,".").concat(this.outline&&this.outline.hash())}}]),r}(r("ursF").a);Object(c.a)([Object(u.b)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":f.a}},json:{default:null,write:!0}})],d.prototype,"outline",void 0),Object(c.a)([Object(u.b)({type:["simple-fill","picture-fill"],readOnly:!0})],d.prototype,"type",void 0);var h=d=Object(c.a)([Object(l.a)("esri.symbols.FillSymbol")],d);t.a=h},iMLE:function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},iOq2:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},iVOX:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("7i+s"),i=Object(n.b)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},iW9l:function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return _})),r.d(t,"c",(function(){return O}));var n=r("hisu"),i=r("yBJb"),a=r("aNYv"),o=r("eijD"),s=r("NthX"),c=r.n(s),u=r("Mp7X"),l=r("IH5m"),f=r("Vs6/");function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,b={ar:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function y(e){var t;return null!=(t=b[e])&&t}var v=[],m=new Map;function g(e){var t,r=p(m.keys());try{for(r.s();!(t=r.n()).done;){var n=t.value;S(e.pattern,n)&&m.delete(n)}}catch(i){r.e(i)}finally{r.f()}}function O(e){return v.includes(e)||(g(e),v.unshift(e)),{remove:function(){var t=v.indexOf(e);t>-1&&(v.splice(t,1),g(e))}}}function j(e){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(c.a.mark((function e(t){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(f.b)(),m.has(t)||m.set(t,k(t,r)),n=m.get(t),e.next=5,P.add(n);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){if(!h.test(e))return null;var t=h.exec(e),r=Object(a.a)(t,3),n=r[1],i=r[2],o=n+(i?"-"+i.toUpperCase():"");return y(o)?o:y(n)?n:null}function k(e,t){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(c.a.mark((function e(t,r){var n,i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],i=p(v),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=18;break}if(!S((o=a.value).pattern,t)){e.next=16;break}return e.prev=7,e.next=10,o.fetchMessageBundle(t,r);case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7),n.push(e.t0);case 16:e.next=4;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(2),i.e(e.t1);case 23:return e.prev=23,i.f(),e.finish(23);case 26:if(!n.length){e.next=28;break}throw new u.a("intl:message-bundle-error",'Errors occurred while loading "'.concat(t,'"'),{errors:n});case 28:throw new u.a("intl:no-message-bundle-loader",'No loader found for message bundle "'.concat(t,'"'));case 29:case"end":return e.stop()}}),e,null,[[2,20,23,26],[7,13]])})))).apply(this,arguments)}function S(e,t){return"string"==typeof e?t.startsWith(e):e.test(t)}Object(f.a)((function(){m.clear()}));var P=new(function(){function e(){Object(n.a)(this,e),this._numLoading=0}var t;return Object(i.a)(e,[{key:"waitForAll",value:(t=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._dfd,!e.t0){e.next=4;break}return e.next=4,this._dfd.promise;case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"add",value:function(e){var t=this;return this._increase(),e.then((function(){return t._decrease()}),(function(){return t._decrease()})),this.waitForAll()}},{key:"_increase",value:function(){this._numLoading++,this._dfd||(this._dfd=Object(l.f)())}},{key:"_decrease",value:function(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}]),e}())},iXK7:function(e,t,r){var n=r("naAV"),i=r("5+lF"),a=r("7qnD"),o=r("G9gt"),s=r("vvBr");e.exports=function(e,t,r){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return i(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,r);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return a(e);case"[object Set]":return new c;case"[object Symbol]":return o(e)}}},iZmY:function(e,t){e.exports=function(){}},iaHD:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n=r("hisu"),i=r("0942"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj");r("J4Pc");function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=[r("zuCa").a];var f=r("9ZxH"),p=r("Qu15");function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var y=new Set,v=new Set;function m(e){return function(t){t.prototype.declaredClass=e,function(e,t){var r,n=c(l);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.processPrototypePropertyMetadata)for(var a in e){var o=e[a];i.processPrototypePropertyMetadata(a,o,e,t)}}}catch(s){n.e(s)}finally{n.f()}}(Object(f.a)(t.prototype).properties,e),function(e){var t=e.prototype,r=t.declaredClass,n=Object(f.a)(t).properties;!function(e,t){var r,n=c(l);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.processClassPropertyMetadata)for(var a in e){var o=e[a];i.processClassPropertyMetadata(a,o,e,t)}}}catch(s){n.e(s)}finally{n.f()}}(n,r);var i,a={},o=d(Object.getOwnPropertyNames(n));try{var s=function(){var e=i.value,t=n[e];a[e]={enumerable:!0,configurable:!0,get:g(e,t),set:function(r){var n=this.__accessor__;if(void 0!==n){if(!Object.isFrozen(this)){if(n.initialized&&t.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '".concat(e,"' of ").concat(this.declaredClass));if(2===n.lifecycle&&t.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '".concat(e,"' of ").concat(this.declaredClass));n.set(e,r)}}else Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:r})}}};for(o.s();!(i=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}Object.defineProperties(e.prototype,a)}(t);for(var r=[],s=[],u=t.prototype;u;)u.hasOwnProperty("initialize")&&!y.has(u.initialize)&&(y.add(u.initialize),r.push(u.initialize)),u.hasOwnProperty("destroy")&&!v.has(u.destroy)&&(v.add(u.destroy),s.push(u.destroy)),u=Object.getPrototypeOf(u);y.clear(),v.clear();var p=function(e){Object(a.a)(c,e);var t=b(c);function c(){var e;Object(n.a)(this,c);for(var a=arguments.length,u=new Array(a),l=0;l<a;l++)u[l]=arguments[l];if((e=t.call.apply(t,[this].concat(u))).constructor===c&&"function"==typeof e.postscript){var f;if(r.length&&Object.defineProperty(Object(i.a)(e),"initialize",{enumerable:!1,configurable:!0,value:function(){for(var e=r.length-1;e>=0;e--)r[e].call(this)}}),s.length){var p=!1;Object.defineProperty(Object(i.a)(e),"destroy",{enumerable:!1,configurable:!0,value:function(){if(!p){p=!0;for(var e=0;e<s.length;e++)s[e].call(this)}}})}(f=e).postscript.apply(f,u)}return Object(o.a)(e)}return c}(t);return p.__accessorMetadata__=Object(f.a)(t.prototype),p.prototype.declaredClass=e,p}}function g(e,t){return null==t.get?function(){var t=this.__accessor__.properties.get(e);if(void 0!==t){Object(p.c)(t);var r=this.__accessor__.store;return r.has(e)?r.get(e):t.metadata.value}}:function(){var t=this.__accessor__.properties.get(e);if(void 0!==t)return t.getComputed()}}},iexW:function(e,t,r){"use strict";var n=r("NthX"),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MapContext=t.MapProvider=void 0;var c=o(r("ERkP")),u=r("sCFI").loadModules,l=function(e,t){switch(t.type){case"MAP_CHANGED":return Object.assign(Object.assign({},e),{map:t.payload});case"VIEW_CHANGED":return Object.assign(Object.assign({},e),{view:t.payload});case"SUBSCRIPTION_ADDED":return Object.assign(Object.assign({},e),{subscriptions:Object.assign(Object.assign({},e.subscriptions),t.payload)});case"SUBSCRIPTION_CANCELED":return Object.assign({},e);case"MAP_INIT_CHANGED":return Object.assign(Object.assign({},e),{initialized:t.payload});case"MAP_RENDERED_CHANGED":return Object.assign(Object.assign({},e),{rendered:t.payload});default:return e}},f={map:void 0,view:void 0,subscriptions:{},initialized:!1,rendered:!1,updateMap:function(){},updateView:function(){}},p=c.default.createContext(f);t.MapContext=p;t.MapProvider=function(e){var t=e.children,r=c.useReducer(l,f),i=r[0],a=r[1];c.useEffect((function(){i.map&&i.view&&a({type:"MAP_INIT_CHANGED",payload:!0})}),[i.map,i.view]),c.useEffect((function(){i.initialized&&s(void 0,void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(["esri/core/watchUtils"]);case 2:e.sent[0].whenFalseOnce(i.view,"updating",(function(){a({type:"MAP_RENDERED_CHANGED",payload:!0})}));case 5:case"end":return e.stop()}}),e)})))}),[i.initialized,i.view]);var o={updateMap:function(e){return a({type:"MAP_CHANGED",payload:e})},updateView:function(e){return a({type:"VIEW_CHANGED",payload:e})},map:i.map,view:i.view,rendered:i.rendered,subscriptions:i.subscriptions,initialized:i.initialized};return c.default.createElement(p.Provider,{value:o},t)}},ii79:function(e,t,r){var n=r("NmMy"),i=r("e766"),a=r("PqlX"),o=r("zXe4"),s=r("ULAX"),c=r("cTHi"),u=r("zYYD");e.exports=function(e){return a(e)?n(e,c):o(e)?[e]:i(s(u(e)))}},"ip/o":function(e,t,r){"use strict";r("ERkP");var n=r("tM9Q"),i=r("aD51"),a=function(e){return Object(i.c)(n.FeatureLayer,e)};t.a=a,void 0!==a&&a&&a===Object(a)&&Object.isExtensible(a)&&!a.hasOwnProperty("__filemeta")&&Object.defineProperty(a,"__filemeta",{configurable:!0,value:{name:"FeatureLayer_",filename:"src/Map Layers/FeatureLayer.tsx"}})},iwTS:function(e,t,r){"use strict";var n=r("mK0O"),i=r("hisu"),a=r("yBJb"),o=r("TM+E"),s=r("B2Uc"),c=r("oBxC"),u=r("cY28"),l=r("0fR5"),f=r("ZFoF");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var d=o.a.getLogger("esri.views.webgl.FrameBufferObject"),h=function(){function e(t,r,a,o){if(Object(i.a)(this,e),this._context=t,this._glName=null,this._depthAttachment=null,this._stencilAttachment=null,this._colorAttachments=new Map,this._initialized=!1,this._desc=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r),t.instanceCounter.increment(s.b.Framebuffer,this),a){Array.isArray(a)||(a=[a]);for(var u=0;u<a.length;++u){var f,d=a[u],h=void 0;b(d)?(h=d.descriptor,this._colorAttachments.set(36064+u,d)):(h=d,this._colorAttachments.set(36064+u,new l.a(t,d))),0!==(null==(f=this._desc)?void 0:f.colorTarget)&&console.error("Framebuffer is initialized with a texture however the descriptor indicates using a renderbuffer color attachment!"),this._validateColorAttachmentPoint(36064+u),this._validateTextureDimensions(h,this._desc)}}if(o instanceof c.a){var v,m=null!=(v=this._desc.depthStencilTarget)?v:3;2===m?this._stencilAttachment=o:1===m||3===m?this._depthAttachment=o:console.error('If a Renderbuffer is provided, "depthStencilTarget" must be one of STENCIL_RENDER_BUFFER, DEPTH_RENDER_BUFFER or DEPTH_STENCIL_RENDER_BUFFER'),y(o.descriptor,this._desc)}else if(o){var g;this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture as an attachment!"),b(o)?(this._depthStencilTexture=o,g=o.descriptor):this._depthStencilTexture=new l.a(this._context,o),this._validateTextureDimensions(g,this._desc)}}return Object(a.a)(e,[{key:"dispose",value:function(){if(this._desc){var e=this._context.getBoundFramebufferObject();this._disposeColorAttachments(),this._disposeDepthStencilAttachments(),this._glName&&(this._context.gl.deleteFramebuffer(this._glName),this._glName=null),this._context.bindFramebuffer(e),this._context.instanceCounter.decrement(s.b.Framebuffer,this),this._desc=null}}},{key:"glName",get:function(){return this._glName}},{key:"descriptor",get:function(){return this._desc}},{key:"colorTexture",get:function(){var e=this._colorAttachments.get(36064);return e&&b(e)?e:null}},{key:"colorAttachment",get:function(){return this._colorAttachments.get(36064)}},{key:"depthStencilAttachment",get:function(){return this._depthStencilTexture||this._depthAttachment||this._stencilAttachment}},{key:"depthStencilTexture",get:function(){return this._depthStencilTexture}},{key:"width",get:function(){return this._desc.width}},{key:"height",get:function(){return this._desc.height}},{key:"gpuMemoryUsage",get:function(){return Object(f.c)(this.colorAttachment)+Object(f.c)(this.depthStencilAttachment)}},{key:"getColorTexture",value:function(e){var t=this._colorAttachments.get(e);return t&&b(t)?t:null}},{key:"attachColorTexture",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36064;if(e){this._validateColorAttachmentPoint(t);var r=e.descriptor;if(this._validateTextureDimensions(r,this._desc),this._disposeColorAttachments(),this._initialized){this._context.bindFramebuffer(this);var n=this._context.gl;n.framebufferTexture2D(n.FRAMEBUFFER,t,n.TEXTURE_2D,e.glName,0)}this._colorAttachments.set(t,e)}}},{key:"detachColorTexture",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,t=this._colorAttachments.get(e);if(b(t)){var r=t;if(this._initialized){this._context.bindFramebuffer(this);var n=this._context.gl;n.framebufferTexture2D(n.FRAMEBUFFER,e,n.TEXTURE_2D,null,0)}return this._colorAttachments.delete(e),r}}},{key:"attachDepthStencilTexture",value:function(e){if(e){var t=e.descriptor;if(34041!==t.pixelFormat&&console.error("Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!"),34042!==t.dataType&&console.error("Depth/Stencil texture must have data type of UNSIGNED_INT_24_8!"),this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture!"),this._validateTextureDimensions(t,this._desc),this._desc.depthStencilTarget&&4!==this._desc.depthStencilTarget&&(this._desc.depthStencilTarget=4),this._disposeDepthStencilAttachments(),this._initialized){this._context.bindFramebuffer(this);var r=this._context.gl;r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,e.glName,0)}this._depthStencilTexture=e}}},{key:"detachDepthStencilTexture",value:function(){var e=this._depthStencilTexture;if(e&&this._initialized){this._context.bindFramebuffer(this);var t=this._context.gl;this._context.gl.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,null,0)}return this._depthStencilTexture=null,e}},{key:"attachDepthStencilBuffer",value:function(e){if(e){var t=e.descriptor;if(34041!==t.internalFormat&&33189!==t.internalFormat&&console.error("Depth/Stencil buffer must have correct internalFormat"),y(t,this._desc),this._disposeDepthStencilAttachments(),this._desc.depthStencilTarget=34041===t.internalFormat?3:1,this._initialized){this._context.bindFramebuffer(this);var r=this._context.gl,n=1===this._desc.depthStencilTarget?r.DEPTH_ATTACHMENT:r.DEPTH_STENCIL_ATTACHMENT;r.framebufferRenderbuffer(r.FRAMEBUFFER,n,r.RENDERBUFFER,e.glName)}this._depthAttachment=e}}},{key:"detachDepthStencilBuffer",value:function(){var e=this._context.gl,t=this._depthAttachment;if(t&&this._initialized){this._context.bindFramebuffer(this);var r=1===this._desc.depthStencilTarget?e.DEPTH_ATTACHMENT:e.DEPTH_STENCIL_ATTACHMENT;e.framebufferRenderbuffer(e.FRAMEBUFFER,r,e.RENDERBUFFER,null)}return this._depthAttachment=null,t}},{key:"detachAll",value:function(){this.detachColorTexture(),this.detachDepthStencilBuffer(),this.detachDepthStencilTexture()}},{key:"copyToTexture",value:function(e,t,r,n,i,a,o){(e<0||t<0||i<0||a<0)&&console.error("Offsets cannot be negative!"),(r<=0||n<=0)&&console.error("Copy width and height must be greater than zero!");var s=this._desc,c=o.descriptor;3553!==o.descriptor.target&&console.error("Texture target must be TEXTURE_2D!"),(e+r>s.width||t+n>s.height||i+r>c.width||a+n>c.height)&&console.error("Bad dimensions, the current input values will attempt to read or copy out of bounds!");var u=this._context,f=u.bindTexture(o,l.a.TEXTURE_UNIT_FOR_UPDATES);u.bindFramebuffer(this),u.gl.copyTexSubImage2D(3553,0,i,a,e,t,r,n),u.bindTexture(f,l.a.TEXTURE_UNIT_FOR_UPDATES)}},{key:"readPixels",value:function(e,t,r,n,i,a,o){(r<=0||n<=0)&&console.error("Copy width and height must be greater than zero!"),o||console.error("Target memory is not initialized!"),this._context.bindFramebuffer(this),this._context.gl.readPixels(e,t,r,n,i,a,o)}},{key:"resize",value:function(e,t){var r=this._desc;if(r.width!==e||r.height!==t){if(!this._initialized)return r.width=e,r.height=t,this._colorAttachments.forEach((function(r){r&&r.resize(e,t)})),void(this._depthStencilTexture&&this._depthStencilTexture.resize(e,t));r.width=e,r.height=t,this._colorAttachments.forEach((function(r){r&&r.resize(e,t)})),null!=this._depthStencilTexture?this._depthStencilTexture.resize(e,t):(this._depthAttachment||this._stencilAttachment)&&(this._depthAttachment&&this._depthAttachment.resize(e,t),this._stencilAttachment&&this._stencilAttachment.resize(e,t)),this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1}}},{key:"initializeAndBind",value:function(){var e,t,r,n,i=this._context.gl;if(this._initialized)i.bindFramebuffer(i.FRAMEBUFFER,this.glName);else{this._glName&&i.deleteFramebuffer(this._glName);var a=this._context,o=i.createFramebuffer(),s=this._desc,f=null!=(e=s.colorTarget)?e:1,p=null!=(t=s.width)?t:1,d=null!=(r=s.height)?r:1;if(i.bindFramebuffer(i.FRAMEBUFFER,o),0===this._colorAttachments.size)if(0===f)this._colorAttachments.set(36064,function(e,t){return new l.a(e,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,wrapMode:33071,width:t.width,height:t.height})}(a,s));else{var h=new c.a(a,{internalFormat:32854,width:p,height:d});this._colorAttachments.set(36064,h)}this._colorAttachments.forEach((function(e,t){e&&(b(e)?i.framebufferTexture2D(i.FRAMEBUFFER,t,i.TEXTURE_2D,e.glName,0):i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,e.glName))}));var y=null!=(n=s.depthStencilTarget)?n:0;switch(y){case 1:case 3:this._depthAttachment||(this._depthAttachment=new c.a(a,{internalFormat:1===s.depthStencilTarget?33189:34041,width:p,height:d}));var v=1===y?i.DEPTH_ATTACHMENT:i.DEPTH_STENCIL_ATTACHMENT;i.framebufferRenderbuffer(i.FRAMEBUFFER,v,i.RENDERBUFFER,this._depthAttachment.glName);break;case 2:this._stencilAttachment||(this._stencilAttachment=new c.a(a,{internalFormat:36168,width:p,height:d})),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.STENCIL_ATTACHMENT,i.RENDERBUFFER,this._stencilAttachment.glName);break;case 4:if(!this._depthStencilTexture){a.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture as an attachment!");var m={target:3553,pixelFormat:34041,dataType:34042,samplingMode:9728,wrapMode:33071,width:p,height:d};this._depthStencilTexture=new l.a(a,m)}i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,this._depthStencilTexture.glName,0)}Object(u.c)()&&i.checkFramebufferStatus(i.FRAMEBUFFER)!==i.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer is incomplete!"),this._glName=o,this._initialized=!0}}},{key:"_disposeColorAttachments",value:function(){var e=this;this._colorAttachments.forEach((function(t,r){if(b(t)){if(e._initialized){e._context.bindFramebuffer(e);var n=e._context.gl;n.framebufferTexture2D(n.FRAMEBUFFER,r,n.TEXTURE_2D,null,0)}t.dispose()}else if(t instanceof WebGLRenderbuffer){var i=e._context.gl;e._initialized&&(e._context.bindFramebuffer(e),i.framebufferRenderbuffer(i.FRAMEBUFFER,r,i.RENDERBUFFER,null)),e._context.gl.deleteRenderbuffer(t)}})),this._colorAttachments.clear()}},{key:"_disposeDepthStencilAttachments",value:function(){var e=this._context.gl;if(this._depthAttachment){if(this._initialized){this._context.bindFramebuffer(this);var t=1===this._desc.depthStencilTarget?e.DEPTH_ATTACHMENT:e.DEPTH_STENCIL_ATTACHMENT;e.framebufferRenderbuffer(e.FRAMEBUFFER,t,e.RENDERBUFFER,null)}this._depthAttachment.dispose(),this._depthAttachment=null}this._stencilAttachment&&(this._initialized&&(this._context.bindFramebuffer(this),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,null)),this._stencilAttachment.dispose(),this._stencilAttachment=null),this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,null,0)),this._depthStencilTexture.dispose(),this._depthStencilTexture=null)}},{key:"_validateTextureDimensions",value:function(e,t){3553!==e.target&&console.error("Texture type must be TEXTURE_2D!"),void 0!==t.width&&t.width>=0&&void 0!==t.height&&t.height>=0?t.width===e.width&&t.height===e.height||console.error("Color attachment texture must match the framebuffer's!"):(t.width=e.width,t.height=e.height)}},{key:"_validateColorAttachmentPoint",value:function(t){if(-1===e._MAX_COLOR_ATTACHMENTS){var r=this._context.capabilities.drawBuffers;if(r){var n=this._context.gl;e._MAX_COLOR_ATTACHMENTS=n.getParameter(r.MAX_COLOR_ATTACHMENTS)}else e._MAX_COLOR_ATTACHMENTS=1}var i=t-36064;i+1>e._MAX_COLOR_ATTACHMENTS&&d.error("esri.FrameBufferObject","illegal attachment point for color attachment: ".concat(i+1,". Implementation supports up to ").concat(e._MAX_COLOR_ATTACHMENTS," color attachments"))}}]),e}();function b(e){return"type"in e&&"texture"===e.type}function y(e,t){void 0!==t.width&&t.width>=0&&void 0!==t.height&&t.height>=0?t.width===e.width&&t.height===e.height||console.error("Renderbuffer dimensions must match the framebuffer's!"):(t.width=e.width,t.height=e.height)}h._MAX_COLOR_ATTACHMENTS=-1,t.a=h},j56I:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return x})),r.d(t,"c",(function(){return k})),r.d(t,"d",(function(){return b})),r.d(t,"e",(function(){return y})),r.d(t,"f",(function(){return w})),r.d(t,"g",(function(){return _})),r.d(t,"h",(function(){return m})),r.d(t,"i",(function(){return g})),r.d(t,"j",(function(){return v})),r.d(t,"k",(function(){return O})),r.d(t,"l",(function(){return j})),r.d(t,"m",(function(){return c}));var n=r("A0wW"),i=(r("0fJP"),r("IH5m"));function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t,r,n,i){var o=e.watch(t,(function(t,i,a,o){r&&!r(t)||null==n||n.call(e,t,i,a,o)}),i);if(Array.isArray(t)){var s,c=a(t);try{for(c.s();!(s=c.n()).done;){var u=s.value,l=e.get(u);r&&r(l)&&(null==n||n.call(e,l,l,t,e))}}catch(p){c.e(p)}finally{c.f()}}else{var f=e.get(t);r&&r(f)&&(null==n||n.call(e,f,f,t,e))}return o}function c(e,t,r,n,a){var o="function"==typeof n?n:null,c="object"==typeof n?n:null;"boolean"==typeof n&&(a=n);var u,l=!1;function f(){u&&(u.remove(),u=null)}var p=Object(i.f)();Object(i.q)(c,(function(){f(),p.reject(Object(i.e)())}));var d={then:p.promise.then.bind(p.promise),catch:p.promise.catch.bind(p.promise),remove:f};return Object.freeze(d),u=s(e,t,r,(function(t,r,n,i){l=!0,f(),o&&o.call(e,t,r,n,i),p.resolve({value:t,oldValue:r,propertyName:n,target:i})}),a),l&&f(),d}function u(e){return!!e}function l(e){return!e}function f(e){return!0===e}function p(e){return!1===e}var d=/\?(\.|$)/g;function h(e,t,r,n){var i,o=Array.isArray(t)?t:t.indexOf(",")>-1?t.split(","):[t],s=b(e,t,r,n),c=a(o);try{for(c.s();!(i=c.n()).done;){var u=i.value.trim().replace(d,"$1"),l=e.get(u);r.call(e,l,l,u,e)}}catch(f){c.e(f)}finally{c.f()}return s}function b(e,t,r,n){return e.watch(t,r,n)}function y(e,t,r,n){return s(e,t,u,r,n)}function v(e,t,r,n){return c(e,t,u,r,n)}function m(e,t,r,n){return s(e,t,l,r,n)}function g(e,t,r,n){return c(e,t,l,r,n)}function O(e,t,r,n){return s(e,t,f,r,n)}function j(e,t,r,n){return c(e,t,f,r,n)}function w(e,t,r,n){return s(e,t,p,r,n)}function _(e,t,r,n){return c(e,t,p,r,n)}function k(e,t,r,n){var i=!1,a=e.watch(t,(function(t,n,a,o){i||r.call(e,t,n,a,o)}),n);return{remove:function(){a.remove()},pause:function(){i=!0},resume:function(){i=!1}}}function x(e,t,r,i,a,o,s){var c={};function u(t){var n=c[t];n&&(o&&o(n.target,t,e,r),n.handle.remove(),delete c[t])}var l=h(e,t,(function(t,o,s){u(s),Object(n.b)(t)&&(c[s]={handle:Object(n.c)(t,r,i),target:t},a&&a(t,s,e,r))}),s);return{remove:function(){for(var e in l.remove(),c)u(e)}}}},j5Xy:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return u})),r.d(t,"f",(function(){return p})),r.d(t,"g",(function(){return o})),r.d(t,"h",(function(){return f})),r.d(t,"i",(function(){return a})),r.d(t,"j",(function(){return d})),r.d(t,"k",(function(){return s})),r.d(t,"l",(function(){return i}));var n=r("WYis"),i={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function a(e,t,r){var n=22,i=22;e<1?n*=.75:e>1&&(i*=1.25);var a=22,o=22;return t&&r&&(n=i=a=o=0),[{type:"path",path:[{command:"M",values:[a,0]},{command:"L",values:[r?a:.875*a,0]},{command:"L",values:[r?n-.5*a:0,i-.5*o]},{command:"L",values:[n-.5*a,i-.5*o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[a,0]},{command:"L",values:[a,t?0:.125*o]},{command:"L",values:[n-.5*a,t?i-.5*o:o]},{command:"L",values:[n-.5*a,i-.5*o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[n-.5*a,i-.5*o]},{command:"L",values:[r?n-.5*a:0,i-.5*o]},{command:"L",values:[r?n-.5*a:0,t?i-.5*o:o]},{command:"L",values:[n-.5*a,t?i-.5*o:o]},{command:"Z",values:[]}]}]}function o(e){var t=22,r=.5*e;return[{type:"path",path:[{command:"M",values:[0,.7*t*.5]},{command:"L",values:[6.6,.7*t]},{command:"L",values:[6.6,.7*t+r]},{command:"L",values:[0,.7*t+r-.7*t*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,.7*t]},{command:"L",values:[6.6,.7*t+r]},{command:"L",values:[t,r]},{command:"L",values:[t,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,0]},{command:"L",values:[t,0]},{command:"L",values:[6.6,.7*t]},{command:"L",values:[0,.7*t*.5]},{command:"Z",values:[]}]}]}function s(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function c(e,t){var r=t?20:e,n=t?4:6;r-=r<=22?.5*n:n;var i=t?.35*r:.5*r;return[{type:"path",path:[{command:"M",values:[.5*r,0]},{command:"L",values:[r,.5*i]},{command:"L",values:[.5*r,i]},{command:"L",values:[0,.5*i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*i]},{command:"L",values:[.5*r,i]},{command:"L",values:[.5*r,e]},{command:"L",values:[0,e-.5*i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*r,i]},{command:"L",values:[.5*r,e]},{command:"L",values:[r,e-.5*i]},{command:"L",values:[r,.5*i]},{command:"Z",values:[]}]}]}function u(e,t){var r=t?20:e,n=t?4:6,i=.5*(r-=r<=22?.5*n:n),a=.15*r,o=e-a;return[{type:"ellipse",cx:.5*r,cy:o,rx:i,ry:a},{type:"path",path:[{command:"M",values:[0,a]},{command:"L",values:[0,o]},{command:"L",values:[r,o]},{command:"L",values:[r,a]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*r,cy:a,rx:i,ry:a}]}function l(e,t){var r=t?20:e,n=t?4:6,i=.15*(r-=r<=22?.5*n:n),a=e-i;return[{type:"ellipse",cx:.5*r,cy:a,rx:.5*r,ry:i},{type:"path",path:[{command:"M",values:[.5*r,0]},{command:"L",values:[r,a]},{command:"L",values:[0,a]},{command:"Z",values:[]}]}]}function f(e){var t=e,r=.15*(t-=t<22?3:6);return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[t,0]},{command:"L",values:[.5*t,e-r]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*t,cy:0,rx:.5*t,ry:r}]}function p(e){var t=e,r=e,n=t-=t<22?2:4,i=r,a=Math.floor(e/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*n,0]},{command:"L",values:[n,.5*i-a]},{command:"L",values:[.45*n-a,.5*i+a]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*n,0]},{command:"L",values:[.45*n-a,.5*i+a]},{command:"L",values:[0,.5*i-a]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*i-a]},{command:"L",values:[.45*n-a,.5*i+a]},{command:"L",values:[.45*n,r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*n,r]},{command:"L",values:[n,.5*i-a]},{command:"L",values:[.45*n-a,.5*i+a]},{command:"Z",values:[]}]}]}function d(e){var t=e;return[{type:"path",path:[{command:"M",values:[.45*e,0]},{command:"L",values:[e,t-=t<22?1:2]},{command:"L",values:[.45*e,.6*t]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*e,0]},{command:"L",values:[.45*e,.6*t]},{command:"L",values:[0,t]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,t]},{command:"L",values:[.45*e,.6*t]},{command:"L",values:[e,t]},{command:"Z",values:[]}]}]}function h(e,t){return Math.round(Math.min(Math.max(e+255*t*.75,0),255))}function b(e,t){if("type"in e&&("linear"===e.type||"pattern"===e.type))return e;var r=new n.a(e);return new n.a([h(r.r,t),h(r.g,t),h(r.b,t),r.a])}},j6ZD:function(e,t,r){var n=r("SEN6"),i=r("9aUh"),a=r("zXe4"),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||c.test(e)?u(e.slice(2),r?2:8):o.test(e)?NaN:+e}},j8m6:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("hKEQ"),f=r("fb8N"),p=r("0n+b"),d=r("0fJP"),h=r("frPA"),b=r("xAIp"),y=(r("wckI"),r("J4Pc"),r("TM+E"),r("iaHD"));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var m=n=function(e){Object(o.a)(r,e);var t=v(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).statisticType=null,e.onStatisticField=null,e.onStatisticValueExpression=null,e}return Object(a.a)(r,[{key:"clone",value:function(){return new n({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}}]),r}(p.a);Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],m.prototype,"statisticType",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],m.prototype,"onStatisticField",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],m.prototype,"onStatisticValueExpression",void 0);var g,O=m=n=Object(u.a)([Object(y.a)("esri.layers.support.OutStatistic")],m);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var w=g=function(e){Object(o.a)(r,e);var t=j(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).name=null,e}return Object(a.a)(r,[{key:"clone",value:function(){return new g({name:this.name,outStatistic:this.outStatistic.clone()})}}]),r}(p.a);Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],w.prototype,"name",void 0),Object(u.a)([Object(b.b)({type:O,json:{write:!0}})],w.prototype,"outStatistic",void 0);var _,k=w=g=Object(u.a)([Object(y.a)("esri.layers.support.AggregateField")],w),x=r("NRoO"),S=r("BG/N");function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var I=_=function(e){Object(o.a)(r,e);var t=P(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="cluster",n.clusterRadius=Object(h.e)("80px"),n.clusterMinSize=Object(h.e)("12px"),n.clusterMaxSize=Object(h.e)("50px"),n.popupEnabled=!0,n.popupTemplate=null,n.symbol=null,n.labelingInfo=null,n.labelsVisible=!0,n.fields=null,n}return Object(a.a)(r,[{key:"clone",value:function(){return new _({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:Object(d.a)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:Object(d.a)(this.fields),popupEnabled:this.popupEnabled,popupTemplate:Object(d.a)(this.popupTemplate)})}}]),r}(p.a);Object(u.a)([Object(b.b)({type:["cluster"],readOnly:!0,json:{write:!0}})],I.prototype,"type",void 0),Object(u.a)([Object(b.b)({type:Number,cast:function(e){return"auto"===e?e:Object(h.e)(e)},json:{write:!0}})],I.prototype,"clusterRadius",void 0),Object(u.a)([Object(b.b)({type:Number,cast:h.e,json:{write:!0}})],I.prototype,"clusterMinSize",void 0),Object(u.a)([Object(b.b)({type:Number,cast:h.e,json:{write:!0}})],I.prototype,"clusterMaxSize",void 0),Object(u.a)([Object(b.b)(x.j)],I.prototype,"popupEnabled",void 0),Object(u.a)([Object(b.b)({type:l.a,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],I.prototype,"popupTemplate",void 0),Object(u.a)([Object(b.b)({types:f.f})],I.prototype,"symbol",void 0),Object(u.a)([Object(b.b)({type:[S.a],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],I.prototype,"labelingInfo",void 0),Object(u.a)([Object(b.b)(x.d)],I.prototype,"labelsVisible",void 0),Object(u.a)([Object(b.b)({type:[k],json:{write:!0}})],I.prototype,"fields",void 0);var R=I=_=Object(u.a)([Object(y.a)("esri.layers.support.FeatureReductionCluster")],I);t.a=R},jFy2:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=new(r("7i+s").a)({preserveShape:"preserve-shape"});function i(e){var t=e.toJSON(),r=t.polylines,i=t.lengthUnit,a=t.geodesic,o=t.calculationType,s={};s.polylines=JSON.stringify(r);var c=e.polylines[0].spatialReference;return s.sr=c.wkid?c.wkid:JSON.stringify(c.toJSON()),i&&(s.lengthUnit=i),a&&(s.geodesic=a),o&&(s.calculationType=n.toJSON(o)),s}},jL4t:function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},jOdF:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return u}));var n=r("7im+"),i=r("Vs6/"),a={ar:"ar-u-nu-latn"},o=new WeakMap,s={};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function u(e,t){return function(e){var t=e||s;if(!o.has(t)){var r=Object(i.b)(),c=a[Object(i.b)()]||r;o.set(t,new Intl.NumberFormat(c,e))}return Object(n.c)(o.get(t))}(t).format(e)}Object(i.a)((function(){o=new WeakMap,s={}}))},jVPL:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("kDog"),f=r("Mp7X"),p=r("0fJP"),d=r("7im+"),h=r("xAIp"),b=(r("wckI"),r("J4Pc"),r("TM+E"),r("vo12")),y=r("iaHD"),v=r("jr4m"),m=r("HWYy"),g=r("5kin"),O=r("RIHA"),j=r("UKs3"),w=r("gtOA"),_=r("ykrQ"),k=r("y2zH"),x=r("OsF9");function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var P=l.a.ofType({base:null,key:"type",typeMap:{extrude:m.a,fill:g.a,icon:O.a,line:j.a,object:w.a,text:k.a,water:x.a}}),I=l.a.ofType({base:null,key:"type",typeMap:{extrude:m.a,fill:g.a,icon:O.a,line:j.a,object:w.a,water:x.a}}),R=n=function(e){Object(o.a)(r,e);var t=S(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).symbolLayers=new P,n.type="polygon-3d",n}return Object(a.a)(r,[{key:"writeSymbolLayers",value:function(e,t,r,n){var i=e.filter((function(e){return"text"!==e.type}));if(n&&n.messages&&i.length<e.length){var a=e.find((function(e){return"text"===e.type}));n.messages.push(new f.a("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a}))}t[r]=i.map((function(e){return e.write({},n)})).toArray()}},{key:"clone",value:function(){return new n({styleOrigin:Object(p.a)(this.styleOrigin),symbolLayers:Object(p.a)(this.symbolLayers),thumbnail:Object(p.a)(this.thumbnail)})}}],[{key:"fromJSON",value:function(e){var t=new n;if(t.read(e),2===t.symbolLayers.length&&"fill"===t.symbolLayers.getItemAt(0).type&&"line"===t.symbolLayers.getItemAt(1).type){var r=t.symbolLayers.getItemAt(0),i=t.symbolLayers.getItemAt(1);!i.enabled||e.symbolLayers&&e.symbolLayers[1]&&!1===e.symbolLayers[1].enable||(r.outline={size:i.size,color:Object(d.i)(i.material)?i.material.color:null}),t.symbolLayers.removeAt(1)}return t}},{key:"fromSimpleFillSymbol",value:function(e){return new n({symbolLayers:[g.a.fromSimpleFillSymbol(e)]})}}]),r}(_.a);Object(u.a)([Object(h.b)({type:P,json:{type:I}})],R.prototype,"symbolLayers",void 0),Object(u.a)([Object(v.a)("web-scene","symbolLayers")],R.prototype,"writeSymbolLayers",null),Object(u.a)([Object(b.a)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],R.prototype,"type",void 0);var M=R=n=Object(u.a)([Object(y.a)("esri.symbols.PolygonSymbol3D")],R);t.a=M},jZIy:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("xAIp"),l=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var p=function(e){var t=function(e){Object(a.a)(r,e);var t=f(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"apiKey",get:function(){var e;return this._isOverridden("apiKey")?this._get("apiKey"):function(e){return"portalItem"in e}(this)?null==(e=this.portalItem)?void 0:e.apiKey:null},set:function(e){null!=e?this._override("apiKey",e):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}}]),r}(e);return Object(c.a)([Object(u.b)({type:String})],t.prototype,"apiKey",null),t=Object(c.a)([Object(l.a)("esri.layers.mixins.APIKeyMixin")],t)}},jaCC:function(e,t,r){"use strict";function n(e){return"h"in e&&"s"in e&&"v"in e}function i(e){return"l"in e&&"a"in e&&"b"in e}function a(e){return"l"in e&&"c"in e&&"h"in e}function o(e){return"x"in e&&"y"in e&&"z"in e}r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return O})),r.d(t,"c",(function(){return j})),r.d(t,"d",(function(){return m}));var s=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],c=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function u(e,t){var r,n,i=[];if(e[0].length!==t.length)throw"dimensions do not match";var a=e.length,o=e[0].length,s=0;for(r=0;r<a;r++){for(s=0,n=0;n<o;n++)s+=e[r][n]*t[n];i.push(s)}return i}function l(e){var t=[e.r/255,e.g/255,e.b/255].map((function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)})),r=u(s,t);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function f(e){var t=u(c,[e.x/100,e.y/100,e.z/100]).map((function(e){var t=e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;return Math.min(1,Math.max(t,0))}));return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function p(e){var t=[e.x/95.047,e.y/100,e.z/108.883].map((function(e){return e>Math.pow(6/29,3)?Math.pow(e,1/3):1/3*Math.pow(29/6,2)*e+4/29}));return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function d(e){var t=e.l,r=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map((function(e){return e>6/29?Math.pow(e,3):3*Math.pow(6/29,2)*(e-4/29)}));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function h(e){return p(l(e))}function b(e){return f(d(e))}function y(e){return function(e){var t=e.l,r=e.a,n=e.b,i=Math.sqrt(r*r+n*n),a=Math.atan2(n,r);return{l:t,c:i,h:a=a>0?a:a+2*Math.PI}}(p(l(e)))}function v(e){return f(d(function(e){var t=e.l,r=e.c,n=e.h;return{l:t,a:r*Math.cos(n),b:r*Math.sin(n)}}(e)))}function m(e){return function(e){return"r"in e&&"g"in e&&"b"in e}(e)?e:a(e)?v(e):i(e)?b(e):o(e)?f(e):n(e)?function(e){var t,r=(e.h+360)%360/60,n=e.s/100,i=e.v/100*255,a=i*n,o=a*(1-Math.abs(r%2-1));switch(Math.floor(r)){case 0:t={r:a,g:o,b:0};break;case 1:t={r:o,g:a,b:0};break;case 2:t={r:0,g:a,b:o};break;case 3:t={r:0,g:o,b:a};break;case 4:t={r:o,g:0,b:a};break;case 5:case 6:t={r:a,g:0,b:o};break;default:t={r:0,g:0,b:0}}return t.r=Math.round(t.r+i-a),t.g=Math.round(t.g+i-a),t.b=Math.round(t.b+i-a),t}(e):e}function g(e){return n(e)?e:function(e){var t=e.r,r=e.g,n=e.b,i=Math.max(t,r,n),a=i-Math.min(t,r,n),o=i,s=0===a?0:i===t?(r-n)/a%6:i===r?(n-t)/a+2:(t-r)/a+4,c=0===a?0:a/o;return s<0&&(s+=6),{h:s*=60,s:c*=100,v:o*=100/255}}(m(e))}function O(e){return i(e)?e:h(m(e))}function j(e){return a(e)?e:y(m(e))}},jcrF:function(e,t,r){var n=r("QDPn"),i=r("iZmY");function a(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}a.prototype=n(i.prototype),a.prototype.constructor=a,e.exports=a},jgJv:function(e,t,r){var n=r("s3UK").Symbol;e.exports=n},jgfI:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return s})),r.d(t,"g",(function(){return f})),r.d(t,"h",(function(){return l})),r.d(t,"i",(function(){return p})),r.d(t,"j",(function(){return h})),r.d(t,"k",(function(){return d}));r("iwTS");var n=r("0fR5");function i(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!(a&&"u8"===t.pixelType),s=o?5126:5121,c=null==t.pixels||0===t.pixels.length?null:o?t.getAsRGBAFloat():t.getAsRGBA(),u=null==(r=e.capabilities.textureFloat)?void 0:r.textureFloatLinear,l={width:t.width,height:t.height,target:3553,pixelFormat:6408,internalFormat:"webgl2"===e.webglVersion&&o?34836:6408,samplingMode:!u||"bilinear"!==i&&"cubic"!==i?9728:9729,dataType:s,wrapMode:33071,flipped:!1};return new n.a(e,l,c)}function a(e,t){for(var r=4*t.size[0],i=t.size[1],a={width:r,height:i,target:3553,pixelFormat:6408,internalFormat:"webgl2"===e.webglVersion?34836:6408,dataType:5126,samplingMode:9728,wrapMode:33071,flipped:!1},o=new Float32Array(r*i*4),s=0,c=0;c<t.coefficients.length;c++)o[s++]=t.coefficients[c],c%3==2&&(o[s++]=1);return new n.a(e,a,o)}function o(e,t){var r={width:t.length/4,height:1,target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,samplingMode:9728,wrapMode:33071,flipped:!1};return new n.a(e,r,t)}function s(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return{u_flipY:i,u_isFloatTexture:a,u_applyTransform:!!e,u_opacity:n,u_transformSpacing:e?e.spacing:null,u_transformGridSize:e?e.size:null,u_targetImageSize:t,u_srcImageSize:r}}function c(e,t){return{u_colormapOffset:t||0,u_colormapMaxIndex:e?e.length/4-1:null}}function u(e,t){return{u_scale:e,u_offset:t}}function l(e){return{u_bandCount:e.bandCount,u_minOutput:e.outMin,u_maxOutput:e.outMax,u_minCutOff:e.minCutOff,u_maxCutOff:e.maxCutOff,u_factor:e.factor,u_useGamma:e.useGamma,u_gamma:e.gamma,u_gammaCorrection:e.gammaCorrection}}function f(e){return{u_hillshadeType:e.hillshadeType,u_sinZcosAs:e.sinZcosAs,u_sinZsinAs:e.sinZsinAs,u_cosZs:e.cosZs,u_weights:e.weights,u_factor:e.factor,u_minValue:e.minValue,u_maxValue:e.maxValue}}function p(e,t){for(var r,n=e.gl,i=t.glName,a=n.getProgramParameter(i,n.ACTIVE_UNIFORMS),o=new Map,s=0;s<a;s++)(r=n.getActiveUniform(i,s))&&o.set(r.name,{location:n.getUniformLocation(i,r.name),info:r});return o}function d(e,t,r){Object.keys(r).forEach((function(n){var i=t.get(n)||t.get(n+"[0]");i&&function(e,t,r,n){if(null===n||null==r)return!1;var i=n.info;switch(i.type){case 5126:i.size>1?e.setUniform1fv(t,r):e.setUniform1f(t,r);break;case 35664:e.setUniform2fv(t,r);break;case 35665:e.setUniform3fv(t,r);break;case 35666:e.setUniform4fv(t,r);break;case 35675:e.setUniformMatrix3fv(t,r);break;case 35676:e.setUniformMatrix4fv(t,r);break;case 5124:i.size>1?e.setUniform1iv(t,r):e.setUniform1i(t,r);break;case 35670:e.setUniform1i(t,r?1:0);break;case 35667:case 35671:e.setUniform2iv(t,r);break;case 35668:case 35672:e.setUniform3iv(t,r);break;case 35669:case 35673:e.setUniform4iv(t,r);break;default:return!1}}(e,n,r[n],i)}))}function h(e,t,r,n){r.length===n.length&&(n.some((function(e){return null==e}))||r.some((function(e){return null==e}))||r.forEach((function(r,i){t.setUniform1i(r,i),e.bindTexture(n[i],i)})))}},ji6j:function(e,t,r){var n=r("2AbI"),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,a,o,s){var c=1&r,u=n(e),l=u.length;if(l!=n(t).length&&!c)return!1;for(var f=l;f--;){var p=u[f];if(!(c?p in t:i.call(t,p)))return!1}var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var b=!0;s.set(e,t),s.set(t,e);for(var y=c;++f<l;){var v=e[p=u[f]],m=t[p];if(a)var g=c?a(m,v,p,t,e,s):a(v,m,p,e,t,s);if(!(void 0===g?v===m||o(v,m,r,a,s):g)){b=!1;break}y||(y="constructor"==p)}if(b&&!y){var O=e.constructor,j=t.constructor;O==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof O&&O instanceof O&&"function"==typeof j&&j instanceof j||(b=!1)}return s.delete(e),s.delete(t),b}},jmUq:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},joho:function(e,t,r){"use strict";r.d(t,"a",(function(){return wr})),r.d(t,"b",(function(){return er})),r.d(t,"c",(function(){return rt})),r.d(t,"d",(function(){return Xt})),r.d(t,"e",(function(){return St})),r.d(t,"f",(function(){return Ct})),r.d(t,"g",(function(){return Kt})),r.d(t,"h",(function(){return et})),r.d(t,"i",(function(){return Qt})),r.d(t,"j",(function(){return Yt}));r("0942"),r("yBJb"),r("CHlC"),r("kMo5"),r("P+uj"),r("Qbu1");var n,i,a,o,s=r("eijD"),c=r("6CzD"),u=(r("mK0O"),r("aNYv")),l=r("hisu"),f=r("NthX"),p=r.n(f),d=!1,h=!0,b=!1,y=!0,v=!0,m=!0,g=!0,O=!0,j=!0,w=!0,_=!0,k=!0,x=!0,S=!0,P=!0,I=!1,R=!0,M=!0,E=!0,T=!0,A=!0,C=!0,D=!0,L=!0,F=!0,N=!0,B=!0,V=!0,U=!0,z=!0,q=!0,H=!0,G=!0,W=!0,J=!0,$=!0,Z=!0,Q=!0,X=!0,K=!0,Y=!0,ee=!0,te=!0,re=!0,ne=!1,ie=!1,ae=!1,oe=!1,se=!1,ce=!1,ue=!1,le=!1,fe=!1,pe=!0,de=!1,he=!0,be=!1,ye=!0,ve=!0,me=!0,ge=!1,Oe=!0,je=!0,we=!1,_e=!1,ke=!1,xe=!0;var Se=0,Pe=!1,Ie=!1,Re=!1,Me=!1,Ee=0,Te=!1,Ae="undefined"!=typeof window?window:{},Ce=(ge&&Ae.CSS,Ae.document||{head:{}}),De=(Ae.HTMLElement,{$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,r,n){return e.addEventListener(t,r,n)},rel:function(e,t,r,n){return e.removeEventListener(t,r,n)},ce:function(e,t){return new CustomEvent(e,t)}}),Le=!be||!F||function(){return(Ce.head.attachShadow+"").indexOf("[native")>-1}(),Fe=function(){var e=!1;try{Ce.addEventListener("e",null,Object.defineProperty({},"passive",{get:function(){e=!0}}))}catch(t){}return e}(),Ne=!!Oe&&function(){try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(e){}return!1}(),Be=function(e,t,r,n){k&&r&&(I&&(r=n?r.filter((function(e){return 32&Object(u.a)(e,1)[0]})):r.filter((function(e){return!(32&Object(u.a)(e,1)[0])}))),r.map((function(r){var n=Object(u.a)(r,3),i=n[0],a=n[1],o=n[2],s=R?Ue(e,i):e,c=Ve(t,o),l=ze(i);De.ael(s,a,c,l),(t.$rmListeners$=t.$rmListeners$||[]).push((function(){return De.rel(s,a,c,l)}))})))},Ve=function(e,t){return function(r){try{le?256&e.$flags$?e.$lazyInstance$[t](r):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,r]):e.$hostElement$[t](r)}catch(n){ar(n)}}},Ue=function(e,t){return S&&4&t?Ce:x&&8&t?Ae:P&&16&t?Ce.body:I&&32&t?e.parentElement:e},ze=function(e){return Fe?{passive:0!=(1&e),capture:0!=(2&e)}:0!=(2&e)},qe="http://www.w3.org/1999/xlink",He=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(fe&&performance.mark){var r="st:".concat(e,":").concat(t,":").concat(Se++);return performance.mark(r),function(){return performance.measure("[Stencil] ".concat(e,"() <").concat(t,">"),r)}}return function(){}},Ge=function(e,t){return fe&&performance.mark?(0===performance.getEntriesByName(e).length&&performance.mark(e),function(){0===performance.getEntriesByName(t).length&&performance.measure(t,e)}):function(){}},We=new WeakMap,Je=function(e,t,r){var n=fr.get(e);Ne&&r?(n=n||new CSSStyleSheet).replace(t):n=t,fr.set(e,n)},$e=function(e,t,r,n){var i=Qe(t,r),a=fr.get(i);if(!xe)return i;if(e=11===e.nodeType?e:Ce,a)if("string"==typeof a){e=e.head||e;var o,s=We.get(e);if(s||We.set(e,s=new Set),!s.has(i)){if(ce&&e.host&&(o=e.querySelector("[".concat("sty-id",'="').concat(i,'"]'))))o.innerHTML=a;else{if(ge&&De.$cssShim$){var u=(o=De.$cssShim$.createHostStyle(n,i,a,!!(10&t.$flags$)))["s-sc"];u&&(i=u,s=null)}else(o=Ce.createElement("style")).innerHTML=a;(se||ne)&&o.setAttribute("sty-id",i),e.insertBefore(o,e.querySelector("link"))}s&&s.add(i)}}else Oe&&!e.adoptedStyleSheets.includes(a)&&(e.adoptedStyleSheets=[].concat(Object(c.a)(e.adoptedStyleSheets),[a]));return i},Ze=function(e){var t=e.$cmpMeta$,r=e.$hostElement$,n=t.$flags$,i=He("attachStyles",t.$tagName$),a=$e(F&&Le&&r.shadowRoot?r.shadowRoot:r.getRootNode(),t,e.$modeName$,r);(F||L)&&B&&10&n&&(r["s-sc"]=a,r.classList.add(a+"-h"),L&&2&n&&r.classList.add(a+"-s")),i()},Qe=function(e,t){return"sc-"+(T&&t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$)},Xe=function(e){return pr.map((function(t){return t(e)})).find((function(e){return!!e}))},Ke={},Ye=function(e){return"object"===(e=typeof e)||"function"===e},et=function(e,t){for(var r=null,n=null,i=null,a=!1,o=!1,s=[],c=function t(n){for(var i=0;i<n.length;i++)r=n[i],Array.isArray(r)?t(r):null!=r&&"boolean"!=typeof r&&((a="function"!=typeof e&&!Ye(r))?r=String(r):ae&&"function"!=typeof e&&void 0===r.$flags$&&sr("vNode passed as children has unexpected type.\nMake sure it's using the correct h() function.\nEmpty objects can also be the cause, look for JSX comments that became objects."),a&&o?s[s.length-1].$text$+=r:s.push(a?tt(null,r):r),o=a)},u=arguments.length,l=new Array(u>2?u-2:0),f=2;f<u;f++)l[f-2]=arguments[f];if(c(l),t&&(ae&&"input"===e&&st(t),$&&t.key&&(n=t.key),pe&&t.name&&(i=t.name),W)){var p=t.className||t.class;p&&(t.class="object"!=typeof p?p:Object.keys(p).filter((function(e){return p[e]})).join(" "))}if(ae&&s.some(nt)&&sr("The <Host> must be the single root component. Make sure:\n- You are NOT using hostData() and <Host> in the same component.\n- <Host> is used once, and it's the single root component of the render() function."),J&&"function"==typeof e)return e(null===t?{}:t,s,it);var d=tt(e,null);return d.$attrs$=t,s.length>0&&(d.$children$=s),$&&(d.$key$=n),pe&&(d.$name$=i),d},tt=function(e,t){var r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return H&&(r.$attrs$=null),$&&(r.$key$=null),pe&&(r.$name$=null),r},rt={},nt=function(e){return e&&e.$tag$===rt},it={forEach:function(e,t){return e.map(at).forEach(t)},map:function(e,t){return e.map(at).map(t).map(ot)}},at=function(e){return{vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}},ot=function(e){if("function"==typeof e.vtag){var t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),et.apply(void 0,[e.vtag,t].concat(Object(c.a)(e.vchildren||[])))}var r=tt(e.vtag,e.vtext);return r.$attrs$=e.vattrs,r.$children$=e.vchildren,r.$key$=e.vkey,r.$name$=e.vname,r},st=function(e){var t=Object.keys(e),r=t.indexOf("type"),n=t.indexOf("min"),i=t.indexOf("max"),a=t.indexOf("min"),o=t.indexOf("value");-1!==o&&(o<r||o<n||o<i||o<a)&&cr('The "value" prop of <input> should be set after "min", "max", "type" and "step"')},ct=function(e,t,r,n,i,a){if(r!==n){var o=ir(e,t),s=t.toLowerCase();if(W&&"class"===t){var u=e.classList,l=lt(r),f=lt(n);u.remove.apply(u,Object(c.a)(l.filter((function(e){return e&&!f.includes(e)})))),u.add.apply(u,Object(c.a)(f.filter((function(e){return e&&!l.includes(e)}))))}else if(Y&&"style"===t){if(q)for(var p in r)n&&null!=n[p]||(!se&&p.includes("-")?e.style.removeProperty(p):e.style[p]="");for(var d in n)r&&n[d]===r[d]||(!se&&d.includes("-")?e.style.setProperty(d,n[d]):e.style[d]=n[d])}else if($&&"key"===t);else if(Q&&"ref"===t)n&&n(e);else if(!Z||(le?o:e.__lookupSetter__(t))||"o"!==t[0]||"n"!==t[1]){if(X){var h=Ye(n);if((o||h&&null!==n)&&!i)try{if(e.tagName.includes("-"))e[t]=n;else{var b=null==n?"":n;"list"===t?o=!1:null!=r&&e[t]==b||(e[t]=b)}}catch(v){}var y=!1;G&&s!==(s=s.replace(/^xlink\:?/,""))&&(t=s,y=!0),null==n||!1===n?!1===n&&""!==e.getAttribute(t)||(G&&y?e.removeAttributeNS(qe,t):e.removeAttribute(t)):(!o||4&a||i)&&!h&&(n=!0===n?"":n,G&&y?e.setAttributeNS(qe,t,n):e.setAttribute(t,n))}}else t="-"===t[2]?t.slice(3):ir(Ae,s)?s.slice(2):s[2]+t.slice(3),r&&De.rel(e,t,r,!1),n&&De.ael(e,t,n,!1)}},ut=/\s/,lt=function(e){return e?e.split(ut):[]},ft=function(e,t,r,n){var i=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,a=e&&e.$attrs$||Ke,o=t.$attrs$||Ke;if(q)for(n in a)n in o||ct(i,n,a[n],void 0,r,t.$flags$);for(n in o)ct(i,n,a[n],o[n],r,t.$flags$)},pt=function e(t,r,o,s){var c,u,l,f=r.$children$[o],p=0;if(pe&&!Pe&&(Re=!0,"slot"===f.$tag$&&(n&&s.classList.add(n+"-s"),f.$flags$|=f.$children$?2:1)),ae&&f.$elm$&&sr("The JSX ".concat(null!==f.$text$?'"'.concat(f.$text$,'" text'):'"'.concat(f.$tag$,'" element')," node should not be shared within the same renderer. The renderer caches element lookups in order to improve performance. However, a side effect from this is that the exact same JSX node should not be reused. For more information please see https://stenciljs.com/docs/templating-jsx#avoid-shared-jsx-nodes")),ee&&null!==f.$text$)c=f.$elm$=Ce.createTextNode(f.$text$);else if(pe&&1&f.$flags$)c=f.$elm$=ie||se?kt(f):Ce.createTextNode("");else{if(z&&!Me&&(Me="svg"===f.$tag$),c=f.$elm$=z?Ce.createElementNS(Me?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",pe&&2&f.$flags$?"slot-fb":f.$tag$):Ce.createElement(pe&&2&f.$flags$?"slot-fb":f.$tag$),z&&Me&&"foreignObject"===f.$tag$&&(Me=!1),H&&ft(null,f,Me),(F||L)&&null!=n&&c["s-si"]!==n&&c.classList.add(c["s-si"]=n),f.$children$)for(p=0;p<f.$children$.length;++p)(u=e(t,f,p,c))&&c.appendChild(u);z&&("svg"===f.$tag$?Me=!1:"foreignObject"===c.tagName&&(Me=!0))}return pe&&(c["s-hn"]=a,3&f.$flags$&&(c["s-sr"]=!0,c["s-cr"]=i,c["s-sn"]=f.$name$||"",(l=t&&t.$children$&&t.$children$[o])&&l.$tag$===f.$tag$&&t.$elm$&&dt(t.$elm$,!1))),c},dt=function e(t,r){De.$flags$|=1;for(var n=t.childNodes,i=n.length-1;i>=0;i--){var o=n[i];o["s-hn"]!==a&&o["s-ol"]&&(mt(o).insertBefore(o,vt(o)),o["s-ol"].remove(),o["s-ol"]=void 0,Re=!0),r&&e(o,r)}De.$flags$&=-2},ht=function(e,t,r,n,i,o){var s,c=pe&&e["s-cr"]&&e["s-cr"].parentNode||e;for(F&&c.shadowRoot&&c.tagName===a&&(c=c.shadowRoot);i<=o;++i)n[i]&&(s=pt(null,r,i,e))&&(n[i].$elm$=s,c.insertBefore(s,pe?vt(t):t))},bt=function(e,t,r,n,i){for(;t<=r;++t)(n=e[t])&&(i=n.$elm$,wt(n),pe&&(Ie=!0,i["s-ol"]?i["s-ol"].remove():dt(i,!0)),i.remove())},yt=function(e,t){return e.$tag$===t.$tag$&&(pe&&"slot"===e.$tag$?e.$name$===t.$name$:!$||e.$key$===t.$key$)},vt=function(e){return e&&e["s-ol"]||e},mt=function(e){return(e["s-ol"]?e["s-ol"]:e).parentNode},gt=function(e,t){var r,n=t.$elm$=e.$elm$,i=e.$children$,a=t.$children$,o=t.$tag$,s=t.$text$;ee&&null!==s?ee&&pe&&(r=n["s-cr"])?r.parentNode.textContent=s:ee&&e.$text$!==s&&(n.data=s):(z&&(Me="svg"===o||"foreignObject"!==o&&Me),(H||D)&&(N&&"slot"===o||ft(e,t,Me)),q&&null!==i&&null!==a?function(e,t,r,n){for(var i,a,o=0,s=0,c=0,u=0,l=t.length-1,f=t[0],p=t[l],d=n.length-1,h=n[0],b=n[d];o<=l&&s<=d;)if(null==f)f=t[++o];else if(null==p)p=t[--l];else if(null==h)h=n[++s];else if(null==b)b=n[--d];else if(yt(f,h))gt(f,h),f=t[++o],h=n[++s];else if(yt(p,b))gt(p,b),p=t[--l],b=n[--d];else if(yt(f,b))!pe||"slot"!==f.$tag$&&"slot"!==b.$tag$||dt(f.$elm$.parentNode,!1),gt(f,b),e.insertBefore(f.$elm$,p.$elm$.nextSibling),f=t[++o],b=n[--d];else if(yt(p,h))!pe||"slot"!==f.$tag$&&"slot"!==b.$tag$||dt(p.$elm$.parentNode,!1),gt(p,h),e.insertBefore(p.$elm$,f.$elm$),p=t[--l],h=n[++s];else{if(c=-1,$)for(u=o;u<=l;++u)if(t[u]&&null!==t[u].$key$&&t[u].$key$===h.$key$){c=u;break}$&&c>=0?((a=t[c]).$tag$!==h.$tag$?i=pt(t&&t[s],r,c,e):(gt(a,h),t[c]=void 0,i=a.$elm$),h=n[++s]):(i=pt(t&&t[s],r,s,e),h=n[++s]),i&&(pe?mt(f.$elm$).insertBefore(i,vt(f.$elm$)):f.$elm$.parentNode.insertBefore(i,f.$elm$))}o>l?ht(e,null==n[d+1]?null:n[d+1].$elm$,r,n,s,d):q&&s>d&&bt(t,o,l)}(n,i,t,a):null!==a?(q&&ee&&null!==e.$text$&&(n.textContent=""),ht(n,null,t,a,0,a.length-1)):q&&null!==i&&bt(i,0,i.length-1),z&&Me&&"svg"===o&&(Me=!1))},Ot=[],jt=function(e,t){return 1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t},wt=function e(t){Q&&(t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(e))},_t=function(e,t){var r=e.$hostElement$,o=e.$cmpMeta$,s=e.$vnode$||tt(null,null),c=nt(t)?t:et(null,null,t);if(a=r.tagName,ae&&Array.isArray(t)&&t.some(nt))throw new Error('The <Host> must be the single root component.\nLooks like the render() function of "'.concat(a.toLowerCase(),'" is returning an array that contains the <Host>.\n\nThe render() function should look like this instead:\n\nrender() {\n  // Do not return an array\n  return (\n    <Host>{content}</Host>\n  );\n}\n  '));if(D&&o.$attrsToReflect$&&(c.$attrs$=c.$attrs$||{},o.$attrsToReflect$.map((function(e){var t=Object(u.a)(e,2),n=t[0],i=t[1];return c.$attrs$[i]=r[n]}))),c.$tag$=null,c.$flags$|=4,e.$vnode$=c,c.$elm$=s.$elm$=F&&r.shadowRoot||r,(L||F)&&(n=r["s-sc"]),pe&&(i=r["s-cr"],Pe=Le&&0!=(1&o.$flags$),Ie=!1),gt(s,c),pe){if(De.$flags$|=1,Re){var l,f,p,d,h,b;!function e(t){for(var r,n,i,a,o,s,c=0,u=t.childNodes,l=u.length;c<l;c++){if((r=u[c])["s-sr"]&&(n=r["s-cr"])&&n.parentNode)for(i=n.parentNode.childNodes,a=r["s-sn"],s=i.length-1;s>=0;s--)(n=i[s])["s-cn"]||n["s-nr"]||n["s-hn"]===r["s-hn"]||(jt(n,a)?(o=Ot.find((function(e){return e.$nodeToRelocate$===n})),Ie=!0,n["s-sn"]=n["s-sn"]||a,o?o.$slotRefNode$=r:Ot.push({$slotRefNode$:r,$nodeToRelocate$:n}),n["s-sr"]&&Ot.map((function(e){jt(e.$nodeToRelocate$,n["s-sn"])&&(o=Ot.find((function(e){return e.$nodeToRelocate$===n})))&&!e.$slotRefNode$&&(e.$slotRefNode$=o.$slotRefNode$)}))):Ot.some((function(e){return e.$nodeToRelocate$===n}))||Ot.push({$nodeToRelocate$:n}));1===r.nodeType&&e(r)}}(c.$elm$);for(var y=0;y<Ot.length;y++)(f=(l=Ot[y]).$nodeToRelocate$)["s-ol"]||((p=ie||se?xt(f):Ce.createTextNode(""))["s-nr"]=f,f.parentNode.insertBefore(f["s-ol"]=p,f));for(y=0;y<Ot.length;y++)if(f=(l=Ot[y]).$nodeToRelocate$,l.$slotRefNode$){for(d=l.$slotRefNode$.parentNode,h=l.$slotRefNode$.nextSibling,p=f["s-ol"];p=p.previousSibling;)if((b=p["s-nr"])&&b["s-sn"]===f["s-sn"]&&d===b.parentNode&&(!(b=b.nextSibling)||!b["s-nr"])){h=b;break}(!h&&d!==f.parentNode||f.nextSibling!==h)&&f!==h&&(!f["s-hn"]&&f["s-ol"]&&(f["s-hn"]=f["s-ol"].parentNode.nodeName),d.insertBefore(f,h))}else 1===f.nodeType&&(f.hidden=!0)}Ie&&function e(t){var r,n,i,a,o,s,c=t.childNodes;for(n=0,i=c.length;n<i;n++)if(1===(r=c[n]).nodeType){if(r["s-sr"])for(o=r["s-sn"],r.hidden=!1,a=0;a<i;a++)if(s=c[a].nodeType,c[a]["s-hn"]!==r["s-hn"]||""!==o){if(1===s&&o===c[a].getAttribute("slot")){r.hidden=!0;break}}else if(1===s||3===s&&""!==c[a].textContent.trim()){r.hidden=!0;break}e(r)}}(c.$elm$),De.$flags$&=-2,Ot.length=0}},kt=function(e){return Ce.createComment("<slot".concat(e.$name$?' name="'+e.$name$+'"':"","> (host=").concat(a.toLowerCase(),")"))},xt=function(e){return Ce.createComment("org-location for "+(e.localName?"<".concat(e.localName,"> (host=").concat(e["s-hn"],")"):"[".concat(e.textContent,"]")))},St=function(e,t,r){var n=function(e){return le?rr(e).$hostElement$:e}(e);return{emit:function(e){return ae&&!n.isConnected&&cr('The "'.concat(t,'" event was emitted, but the dispatcher node is no longer connected to the dom.')),Pt(n,t,{bubbles:!!(4&r),composed:!!(2&r),cancelable:!!(1&r),detail:e})}}},Pt=function(e,t,r){var n=De.ce(t,r);return e.dispatchEvent(n),n},It=function(e,t){_e&&t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((function(t){return e.$onRenderResolve$=t})))},Rt=function(e,t){if(re&&q&&(e.$flags$|=16),!(_e&&4&e.$flags$)){It(e,e.$ancestorComponent$);var r=function(){return Mt(e,t)};return re?jr(r):r()}e.$flags$|=512},Mt=function(e,t){var r,n=e.$hostElement$,i=He("scheduleUpdate",e.$cmpMeta$.$tagName$),a=le?e.$lazyInstance$:n;return t?(le&&k&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((function(e){var t=Object(u.a)(e,2),r=t[0],n=t[1];return Lt(a,r,n)})),e.$queuedListeners$=null)),Nt(n,"componentWillLoad"),m&&(r=Lt(a,"componentWillLoad"))):(Nt(n,"componentWillUpdate"),g&&(r=Lt(a,"componentWillUpdate"))),Nt(n,"componentWillRender"),O&&(r=Ft(r,(function(){return Lt(a,"componentWillRender")}))),i(),Ft(r,(function(){return Et(e,a,t)}))},Et=function(){var e=Object(s.a)(p.a.mark((function e(t,r,n){var i,a,o,s,c,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.$hostElement$,a=He("update",t.$cmpMeta$.$tagName$),o=i["s-rc"],U&&n&&Ze(t),s=He("render",t.$cmpMeta$.$tagName$),ae&&(t.$flags$|=1024),!se){e.next=11;break}return e.next=9,Tt(t,r,i);case 9:e.next=12;break;case 11:Tt(t,r,i);case 12:if(ge&&De.$cssShim$&&De.$cssShim$.updateHost(i),ae&&(t.$renderCount$++,t.$flags$&=-1025),se)try{Vt(i),n&&(1&t.$cmpMeta$.$flags$?i["s-en"]="":2&t.$cmpMeta$.$flags$&&(i["s-en"]="c"))}catch(l){ar(l,i)}_e&&o&&(o.map((function(e){return e()})),i["s-rc"]=void 0),s(),a(),_e?(c=i["s-p"],u=function(){return At(t)},0===c.length?u():(Promise.all(c).then(u),t.$flags$|=4,c.length=0)):At(t);case 19:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Tt=function(e,t,r){var n=!!d,i=!!le,a=!!re,o=!!q;try{if(t,t=(n||t.render)&&t.render(),o&&a&&(e.$flags$&=-17),(o||i)&&(e.$flags$|=2),_||D)if(K||D){if(se)return Promise.resolve(t).then((function(t){return _t(e,t)}));_t(e,t)}else r.textContent=t}catch(s){ar(s,e.$hostElement$)}return null,null},At=function(e){var t=e.$cmpMeta$.$tagName$,r=e.$hostElement$,n=He("postUpdate",t),i=le?e.$lazyInstance$:r,a=e.$ancestorComponent$;v&&(ae&&(e.$flags$|=1024),Lt(i,"componentDidRender"),ae&&(e.$flags$&=-1025)),Nt(r,"componentDidRender"),64&e.$flags$?(y&&(ae&&(e.$flags$|=1024),Lt(i,"componentDidUpdate"),ae&&(e.$flags$&=-1025)),Nt(r,"componentDidUpdate"),n()):(e.$flags$|=64,_e&&B&&Bt(r),h&&(ae&&(e.$flags$|=2048),Lt(i,"componentDidLoad"),ae&&(e.$flags$&=-2049)),Nt(r,"componentDidLoad"),n(),_e&&(e.$onReadyResolve$(r),a||Dt(t))),ne&&r["s-hmr-load"]&&r["s-hmr-load"](),E&&le&&e.$onInstanceResolve$(r),_e&&(e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&Or((function(){return Rt(e,!1)})),e.$flags$&=-517)},Ct=function(e){if(q){var t=rr(e),r=t.$hostElement$.isConnected;return r&&2==(18&t.$flags$)&&Rt(t,!1),r}return!1},Dt=function(e){B&&Bt(Ce.documentElement),ke&&(De.$flags$|=2),Or((function(){return Pt(Ae,"appload",{detail:{namespace:"app"}})})),fe&&performance.measure&&performance.measure("[Stencil] ".concat("app"," initial load (by ").concat(e,")"),"st:app:start")},Lt=function(e,t,r){if(e&&e[t])try{return e[t](r)}catch(n){ar(n)}},Ft=function(e,t){return e&&e.then?e.then(t):t()},Nt=function(e,t){ue&&Pt(e,"stencil_"+t,{bubbles:!0,composed:!0,detail:{namespace:"app"}})},Bt=function(e){return he?e.classList.add("hydrated"):de?e.setAttribute("hydrated",""):void 0},Vt=function e(t){var r=t.children;if(null!=r)for(var n=0,i=r.length;n<i;n++){var a=r[n];"function"==typeof a.connectedCallback&&a.connectedCallback(),e(a)}},Ut=function e(t,r,n,i,a,o,s){var c,u,l,f;if(1===o.nodeType){for((c=o.getAttribute("c-id"))&&((u=c.split("."))[0]!==s&&"0"!==u[0]||(l={$flags$:0,$hostId$:u[0],$nodeId$:u[1],$depth$:u[2],$index$:u[3],$tag$:o.tagName.toLowerCase(),$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},r.push(l),o.removeAttribute("c-id"),t.$children$||(t.$children$=[]),t.$children$[l.$index$]=l,t=l,i&&"0"===l.$depth$&&(i[l.$index$]=l.$elm$))),f=o.childNodes.length-1;f>=0;f--)e(t,r,n,i,a,o.childNodes[f],s);if(o.shadowRoot)for(f=o.shadowRoot.childNodes.length-1;f>=0;f--)e(t,r,n,i,a,o.shadowRoot.childNodes[f],s)}else if(8===o.nodeType)(u=o.nodeValue.split("."))[1]!==s&&"0"!==u[1]||(c=u[0],l={$flags$:0,$hostId$:u[1],$nodeId$:u[2],$depth$:u[3],$index$:u[4],$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===c?(l.$elm$=o.nextSibling,l.$elm$&&3===l.$elm$.nodeType&&(l.$text$=l.$elm$.textContent,r.push(l),o.remove(),t.$children$||(t.$children$=[]),t.$children$[l.$index$]=l,i&&"0"===l.$depth$&&(i[l.$index$]=l.$elm$))):l.$hostId$===s&&("s"===c?(l.$tag$="slot",u[5]?o["s-sn"]=l.$name$=u[5]:o["s-sn"]="",o["s-sr"]=!0,F&&i&&(l.$elm$=Ce.createElement(l.$tag$),l.$name$&&l.$elm$.setAttribute("name",l.$name$),o.parentNode.insertBefore(l.$elm$,o),o.remove(),"0"===l.$depth$&&(i[l.$index$]=l.$elm$)),n.push(l),t.$children$||(t.$children$=[]),t.$children$[l.$index$]=l):"r"===c&&(F&&i?o.remove():pe&&(a["s-cr"]=o,o["s-cn"]=!0))));else if(t&&"style"===t.$tag$){var p=tt(null,o.textContent);p.$elm$=o,p.$index$="0",t.$children$=[p]}},zt=function e(t,r){if(1===t.nodeType){for(var n=0;n<t.childNodes.length;n++)e(t.childNodes[n],r);if(t.shadowRoot)for(n=0;n<t.shadowRoot.childNodes.length;n++)e(t.shadowRoot.childNodes[n],r)}else if(8===t.nodeType){var i=t.nodeValue.split(".");"o"===i[0]&&(r.set(i[1]+"."+i[2],t),t.nodeValue="",t["s-en"]=i[3])}},qt=function(e,t,r,n){var i,a,o=rr(e),s=le?o.$hostElement$:e,c=o.$instanceValues$.get(t),u=o.$flags$,l=le?o.$lazyInstance$:s;if(i=r,a=n.$members$[t][0],r=null==i||Ye(i)?i:ye&&4&a?"false"!==i&&(""===i||!!i):ve&&2&a?parseFloat(i):me&&1&a?String(i):i,!(le&&8&u&&void 0!==c||r===c)&&(o.$instanceValues$.set(t,r),ae&&(1024&o.$flags$?cr('The state/prop "'.concat(t,'" changed during rendering. This can potentially lead to infinite-loops and other bugs.'),"\nElement",s,"\nNew value",r,"\nOld value",c):2048&o.$flags$&&cr('The state/prop "'.concat(t,'" changed during "componentDidLoad()", this triggers extra re-renders, try to setup on "componentWillLoad()"'),"\nElement",s,"\nNew value",r,"\nOld value",c)),!le||l)){if(te&&n.$watchers$&&128&u){var f=n.$watchers$[t];f&&f.map((function(e){try{l[e](r,c,t)}catch(n){ar(n,s)}}))}if(q&&2==(18&u)){if(je&&l.componentShouldUpdate&&!1===l.componentShouldUpdate(r,c,t))return;Rt(o,!1)}}},Ht=function(e,t,r){if(M&&t.$members$){te&&e.watchers&&(t.$watchers$=e.watchers);var n=Object.entries(t.$members$),i=e.prototype;if(n.map((function(e){var n=Object(u.a)(e,2),a=n[0],o=Object(u.a)(n[1],1)[0];(C||V)&&(31&o||(!le||2&r)&&32&o)?Object.defineProperty(i,a,{get:function(){return e=a,rr(this).$instanceValues$.get(e);var e},set:function(e){if(ae){var n=rr(this);0==(1&r)&&0==(8&n.$flags$)&&0!=(31&o)&&0==(1024&o)&&cr('@Prop() "'.concat(a,'" on <').concat(t.$tagName$,"> is immutable but was modified from within the component.\nMore information: https://stenciljs.com/docs/properties#prop-mutability"))}qt(this,a,e,t)},configurable:!0,enumerable:!0}):le&&E&&1&r&&64&o&&Object.defineProperty(i,a,{value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=rr(this);return n.$onInstancePromise$.then((function(){var e;return(e=n.$lazyInstance$)[a].apply(e,t)}))}})})),A&&(!le||1&r)){var a=new Map;i.attributeChangedCallback=function(e,t,r){var n=this;De.jmp((function(){var t=a.get(e);n[t]=(null!==r||"boolean"!=typeof n[t])&&r}))},e.observedAttributes=n.filter((function(e){var t=Object(u.a)(e,2);t[0];return 15&t[1][0]})).map((function(e){var r=Object(u.a)(e,2),n=r[0],i=r[1],o=i[1]||n;return a.set(o,n),D&&512&i[0]&&t.$attrsToReflect$.push([n,o]),o}))}}return e},Gt=function(){var e=Object(s.a)(p.a.mark((function e(t,n,i,a,o){var s,c,u,l,f,d,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(le||se||U)||0!=(32&n.$flags$)){e.next=36;break}if(!le&&!ce){e.next=22;break}if(n.$flags$|=32,!(o=lr(i,n,a)).then){e.next=10;break}return s=Ge("st:load:".concat(i.$tagName$,":").concat(n.$modeName$),"[Stencil] Load module for <".concat(i.$tagName$,">")),e.next=8,o;case 8:o=e.sent,s();case 10:if(!ae&&!ie||o){e.next=12;break}throw new Error('Constructor for "'.concat(i.$tagName$,"#").concat(n.$modeName$,'" was not found'));case 12:M&&!o.isProxied&&(te&&(i.$watchers$=o.watchers),Ht(o,i,2),o.isProxied=!0),c=He("createInstance",i.$tagName$),M&&(n.$flags$|=8);try{new o(n)}catch(p){ar(p)}M&&(n.$flags$&=-9),te&&(n.$flags$|=128),c(),Wt(n.$lazyInstance$),e.next=24;break;case 22:o=t.constructor,n.$flags$|=160;case 24:if(!U||!o.style){e.next=36;break}if(u=o.style,T&&"string"!=typeof u&&(u=u[n.$modeName$=Xe(t)],se&&n.$modeName$&&t.setAttribute("s-mode",n.$modeName$)),l=Qe(i,n.$modeName$),fr.has(l)){e.next=36;break}if(f=He("registerStyles",i.$tagName$),!(!se&&F&&be&&8&i.$flags$)){e.next=34;break}return e.next=33,r.e(181).then(r.bind(null,"BDuB")).then((function(e){return e.scopeCss(u,l,!1)}));case 33:u=e.sent;case 34:Je(l,u,!!(1&i.$flags$)),f();case 36:d=n.$ancestorComponent$,h=function(){return Rt(n,!0)},_e&&d&&d["s-rc"]?d["s-rc"].push(h):h();case 39:case"end":return e.stop()}}),e)})));return function(t,r,n,i,a){return e.apply(this,arguments)}}(),Wt=function(e){le&&j&&Lt(e,"connectedCallback")},Jt=function(e){if(0==(1&De.$flags$)){var t=rr(e),r=t.$cmpMeta$,n=He("connectedCallback",r.$tagName$);if(I&&Be(e,t,r.$listeners$,!0),1&t.$flags$)Be(e,t,r.$listeners$,!1),Wt(t.$lazyInstance$);else{var i;if(t.$flags$|=1,ce&&(i=e.getAttribute("s-id"))){if(F&&Le&&1&r.$flags$){var a=T?$e(e.shadowRoot,r,e.getAttribute("s-mode")):$e(e.shadowRoot,r);e.classList.remove(a+"-h",a+"-s")}!function(e,t,r,n){var i=He("hydrateClient",t),a=e.shadowRoot,o=[],s=F&&a?[]:null,c=n.$vnode$=tt(t,null);De.$orgLocNodes$||zt(Ce.body,De.$orgLocNodes$=new Map),e["s-id"]=r,e.removeAttribute("s-id"),Ut(c,o,[],s,e,e,r),o.map((function(e){var r=e.$hostId$+"."+e.$nodeId$,n=De.$orgLocNodes$.get(r),i=e.$elm$;n&&Le&&""===n["s-en"]&&n.parentNode.insertBefore(i,n.nextSibling),a||(i["s-hn"]=t,n&&(i["s-ol"]=n,i["s-ol"]["s-nr"]=i)),De.$orgLocNodes$.delete(r)})),F&&a&&s.map((function(e){e&&a.appendChild(e)})),i()}(e,r.$tagName$,i,t)}if(pe&&!i&&(se||(N||F)&&12&r.$flags$)&&$t(e),_e)for(var o=e;o=o.parentNode||o.host;)if(ce&&1===o.nodeType&&o.hasAttribute("s-id")&&o["s-p"]||o["s-p"]){It(t,t.$ancestorComponent$=o);break}C&&le&&!se&&r.$members$&&Object.entries(r.$members$).map((function(t){var r=Object(u.a)(t,2),n=r[0];if(31&Object(u.a)(r[1],1)[0]&&e.hasOwnProperty(n)){var i=e[n];delete e[n],e[n]=i}})),we?Or((function(){return Gt(e,t,r)})):Gt(e,t,r)}n()}},$t=function(e){var t=e["s-cr"]=Ce.createComment(ie?"content-ref (host=".concat(e.localName,")"):"");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Zt=function(e){if(0==(1&De.$flags$)){var t=rr(e),r=le?t.$lazyInstance$:e;k&&t.$rmListeners$&&(t.$rmListeners$.map((function(e){return e()})),t.$rmListeners$=void 0),ge&&De.$cssShim$&&De.$cssShim$.removeHost(e),le&&w&&Lt(r,"disconnectedCallback"),b&&Lt(r,"componentDidUnload")}},Qt=function(e,t){var r={$flags$:t[0],$tagName$:t[1]};M&&(r.$members$=t[2]),k&&(r.$listeners$=t[3]),te&&(r.$watchers$=e.$watchers$),D&&(r.$attrsToReflect$=[]),F&&!Le&&1&r.$flags$&&(r.$flags$|=8);var n=e.prototype.connectedCallback,i=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost:function(){nr(this,r)},connectedCallback:function(){Jt(this),j&&n&&n.call(this)},disconnectedCallback:function(){Zt(this),w&&i&&i.call(this)}}),e.is=r.$tagName$,Ht(e,r,3)},Xt=function(e){Le?e.attachShadow({mode:"open"}):e.shadowRoot=e},Kt=function(e){var t=new URL(e,De.$resourcesUrl$);return t.origin!==Ae.location.origin?t.href:t.pathname},Yt=function(e){return De.$resourcesUrl$=e},er=function(e,t){return t},tr=new WeakMap,rr=function(e){return tr.get(e)},nr=function(e,t){var r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return ae&&(r.$renderCount$=0),E&&le&&(r.$onInstancePromise$=new Promise((function(e){return r.$onInstanceResolve$=e}))),_e&&(r.$onReadyPromise$=new Promise((function(e){return r.$onReadyResolve$=e})),e["s-p"]=[],e["s-rc"]=[]),Be(e,r,t.$listeners$,!1),tr.set(e,r)},ir=function(e,t){return t in e},ar=function(e,t){return(o||console.error)(e,t)},or=oe?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],sr=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=console).error.apply(e,or.concat(r))},cr=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=console).warn.apply(e,or.concat(r))},ur=new Map,lr=function(e,t,n){var i=e.$tagName$.replace(/-/g,"_"),a=e.$lazyBundleId$;if(!ae||"string"==typeof a){var o=!ne&&ur.get(a);return o?o[i]:r("9jjj")("./".concat(a,".entry.js").concat(BUILD.hotModuleReplacement&&n?"?s-hmr="+n:"")).then((function(e){return ne||ur.set(a,e),e[i]}),ar)}sr("Trying to lazily load component <".concat(e.$tagName$,'> with style mode "').concat(t.$modeName$,'", but it does not exist.'))},fr=new Map,pr=[],dr=[],hr=[],br=[],yr=function(e,t){return function(r){e.push(r),Te||(Te=!0,t&&4&De.$flags$?Or(gr):De.raf(gr))}},vr=function(e){for(var t=0;t<e.length;t++)try{e[t](performance.now())}catch(r){ar(r)}e.length=0},mr=function(e,t){for(var r=0,n=0;r<e.length&&(n=performance.now())<t;)try{e[r++](n)}catch(i){ar(i)}r===e.length?e.length=0:0!==r&&e.splice(0,r)},gr=function e(){if(ke&&Ee++,vr(dr),ke){var t=2==(6&De.$flags$)?performance.now()+14*Math.ceil(.1*Ee):1/0;mr(hr,t),mr(br,t),hr.length>0&&(br.push.apply(br,hr),hr.length=0),(Te=dr.length+hr.length+br.length>0)?De.raf(e):Ee=0}else vr(hr),(Te=dr.length>0)&&De.raf(e)},Or=function(e){return Promise.resolve(t).then(e);var t},jr=yr(hr,!0),wr={isDev:!!ae,isBrowser:!0,isServer:!1,isTesting:!!oe}},jr4m:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("67w/"),i=r("xAIp");function a(e,t,r){var a,o;return void 0===t?(o=e,a=[void 0]):"string"!=typeof t?(o=e,a=[void 0],r=t):(o=t,a=Array.isArray(e)?e:[e]),function(e,t){var s=e.constructor.prototype;a.forEach((function(a){var c=Object(i.c)(e,a,o);c.write&&"object"!=typeof c.write&&(c.write={}),r&&Object(n.c)("write.target",r,c),Object(n.c)("write.writer",s[t],c)}))}}},jsWu:function(e,t,r){"use strict";r.r(t);var n=r("ZFoC"),i=r("tM9Q"),a=r("ip/o"),o=r("ERkP");t.default={Playground:n.c,Props:n.d,Map:i.Map,LayerList:i.LayerList,Zoom:i.Zoom,FeatureLayer:a.a,React:o}},juU0:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("IH5m");function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=function(){function e(){Object(n.a)(this,e),this._tasks=new Array}return Object(i.a)(e,[{key:"length",get:function(){return this._tasks.length}},{key:"push",value:function(e,t,r){var n=this;return new Promise((function(i,a){return n._tasks.push(new u(i,a,e,t,r))}))}},{key:"unshift",value:function(e,t,r){var n=this;return new Promise((function(i,a){return n._tasks.unshift(new u(i,a,e,t,r))}))}},{key:"process",value:function(){if(0===this._tasks.length)return!1;var e=this._tasks.shift();try{var t=Object(a.n)(e.signal);if(t&&!e.abortCallback)e.reject(Object(a.e)());else{var r=t?e.abortCallback(Object(a.e)()):e.callback();Object(a.o)(r)?r.then(e.resolve,e.reject):e.resolve(r)}}catch(u){e.reject(u)}return!0}},{key:"cancelAll",value:function(){var e,t=Object(a.e)(),r=o(this._tasks);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(n.abortCallback){var i=n.abortCallback(t);n.resolve(i)}else n.reject(t)}}catch(s){r.e(s)}finally{r.f()}this._tasks.length=0}}]),e}(),u=function e(t,r,i,a,o){Object(n.a)(this,e),this.resolve=t,this.reject=r,this.callback=i,this.signal=a,this.abortCallback=o};t.a=c},k4UW:function(e,t,r){"use strict";r.r(t);var n=r("mK0O"),i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("PVS0"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("xAIp")),p=r("iaHD"),d=r("IXv3"),h=(r("c+HS"),r("XRld")),b=r("mjOD"),y=r("Q7Dg");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var m="esri-widget--button esri-widget",g="esri-disabled",O="esri-interactive",j="esri-icon-font-fallback-text",w="esri-icon",_=function(e){Object(o.a)(r,e);var t=v(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).enabled=!0,e.iconClass="",e.title="",e}return Object(a.a)(r,[{key:"render",value:function(){var e,t=this.enabled?0:-1,r=(e={},Object(n.a)(e,g,!this.enabled),Object(n.a)(e,O,this.enabled),e),i=Object(n.a)({},this.iconClass,!!this.iconClass);return Object(b.a)("div",{bind:this,class:this.classes(m,r),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:t,title:this.title},Object(b.a)("span",{"aria-hidden":"true",role:"presentation",class:this.classes(w,i)}),Object(b.a)("span",{class:j},this.title))}},{key:"_triggerAction",value:function(){this.action.call(this)}}]),r}(d.a);Object(u.a)([Object(f.b)()],_.prototype,"action",void 0),Object(u.a)([Object(f.b)()],_.prototype,"enabled",void 0),Object(u.a)([Object(f.b)()],_.prototype,"iconClass",void 0),Object(u.a)([Object(f.b)()],_.prototype,"title",void 0),Object(u.a)([Object(y.a)()],_.prototype,"_triggerAction",null);var k=_=Object(u.a)([Object(p.a)("esri.widgets.IconButton")],_),x=r("hZBP"),S=r("IH5m");function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var I=function(e){Object(o.a)(r,e);var t=P(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(a.a)(r,[{key:"canZoomIn",get:function(){if(!this.get("view.ready"))return!1;var e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMaxScale");return 0===t||e>t}},{key:"canZoomOut",get:function(){if(!this.get("view.ready"))return!1;var e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMinScale");return 0===t||e<t}}]),r}(x.a);Object(u.a)([Object(f.b)({readOnly:!0})],I.prototype,"canZoomIn",null),Object(u.a)([Object(f.b)({readOnly:!0})],I.prototype,"canZoomOut",null),Object(u.a)([Object(f.b)()],I.prototype,"view",void 0);var R=I=Object(u.a)([Object(p.a)("esri.widgets.Zoom.ZoomConditions2D")],I);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var E=function(e){Object(o.a)(r,e);var t=M(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(a.a)(r,[{key:"canZoomIn",get:function(){return!!this.get("view.ready")}},{key:"canZoomOut",get:function(){return!!this.get("view.ready")}}]),r}(x.a);Object(u.a)([Object(f.b)({readOnly:!0})],E.prototype,"canZoomIn",null),Object(u.a)([Object(f.b)({readOnly:!0})],E.prototype,"canZoomOut",null),Object(u.a)([Object(f.b)()],E.prototype,"view",void 0);var T=E=Object(u.a)([Object(p.a)("esri.widgets.Zoom.ZoomConditions3D")],E);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var C=function(e){Object(o.a)(r,e);var t=A(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).canZoomIn=!1,n.canZoomOut=!1,n}return Object(a.a)(r,[{key:"destroy",value:function(){this.view=null}},{key:"state",get:function(){return this.get("view.ready")?"ready":"disabled"}},{key:"view",set:function(e){e?"2d"===e.type?this._zoomConditions=new R({view:e}):"3d"===e.type&&(this._zoomConditions=new T({view:e})):this._zoomConditions=null,this._set("view",e)}},{key:"zoomIn",value:function(){if(this.canZoomIn){var e=this.view;"2d"===e.type?e.mapViewNavigation.zoomIn():Object(S.l)(e.goTo({zoomFactor:2}))}}},{key:"zoomOut",value:function(){if(this.canZoomOut){var e=this.view;"2d"===e.type?e.mapViewNavigation.zoomOut():Object(S.l)(e.goTo({zoomFactor:.5}))}}}]),r}(x.a);Object(u.a)([Object(f.b)()],C.prototype,"_zoomConditions",void 0),Object(u.a)([Object(f.b)({aliasOf:"_zoomConditions.canZoomIn",readOnly:!0})],C.prototype,"canZoomIn",void 0),Object(u.a)([Object(f.b)({aliasOf:"_zoomConditions.canZoomOut",readOnly:!0})],C.prototype,"canZoomOut",void 0),Object(u.a)([Object(f.b)({readOnly:!0})],C.prototype,"state",null),Object(u.a)([Object(f.b)()],C.prototype,"view",null);var D=C=Object(u.a)([Object(p.a)("esri.widgets.Zoom.ZoomViewModel")],C);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var F="esri-zoom esri-widget",N="esri-zoom--horizontal",B="esri-icon-plus",V="esri-icon-minus",U="esri-icon-zoom-in-magnifying-glass",z=function(e){Object(o.a)(r,e);var t=L(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n)).iconClass=U,a.label=void 0,a.messages=null,a.view=null,a.viewModel=new D,a}return Object(a.a)(r,[{key:"initialize",value:function(){this._zoomInButton=new k({action:this.zoomIn.bind(this),iconClass:B}),this._zoomOutButton=new k({action:this.zoomOut.bind(this),iconClass:V})}},{key:"destroy",value:function(){this._zoomInButton.destroy(),this._zoomOutButton.destroy(),this._zoomInButton=null,this._zoomOutButton=null}},{key:"layout",set:function(e){"horizontal"!==e&&(e="vertical"),this._set("layout",e)}},{key:"render",value:function(){var e=this.viewModel,t=Object(n.a)({},N,"horizontal"===this.layout);return this._zoomInButton.enabled="ready"===e.state&&e.canZoomIn,this._zoomOutButton.enabled="ready"===e.state&&e.canZoomOut,this._zoomInButton.title=this.messages.zoomIn,this._zoomOutButton.title=this.messages.zoomOut,Object(b.a)("div",{class:this.classes(F,t)},this._zoomInButton.render(),this._zoomOutButton.render())}},{key:"zoomIn",value:function(){return this.viewModel.zoomIn()}},{key:"zoomOut",value:function(){return this.viewModel.zoomOut()}}]),r}(d.a);Object(u.a)([Object(f.b)()],z.prototype,"iconClass",void 0),Object(u.a)([Object(f.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],z.prototype,"label",void 0),Object(u.a)([Object(f.b)({value:"vertical"})],z.prototype,"layout",null),Object(u.a)([Object(f.b)(),Object(h.a)("esri/widgets/Zoom/t9n/Zoom")],z.prototype,"messages",void 0),Object(u.a)([Object(l.a)("viewModel.view")],z.prototype,"view",void 0),Object(u.a)([Object(f.b)({type:D})],z.prototype,"viewModel",void 0);var q=z=Object(u.a)([Object(p.a)("esri.widgets.Zoom")],z);t.default=q},k5Cm:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function c(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var u=c(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),l=c(/Edge/i),f=c(/firefox/i),p=c(/safari/i)&&!c(/chrome/i)&&!c(/android/i),d=c(/iP(ad|od|hone)/i),h=c(/chrome/i)&&c(/android/i),b={capture:!1,passive:!1};function y(e,t,r){e.addEventListener(t,r,!u&&b)}function v(e,t,r){e.removeEventListener(t,r,!u&&b)}function m(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(r){return!1}return!1}}function g(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function O(e,t,r,n){if(e){r=r||document;do{if(null!=t&&(">"===t[0]?e.parentNode===r&&m(e,t):m(e,t))||n&&e===r)return e;if(e===r)break}while(e=g(e))}return null}var j,w=/\s+/g;function _(e,t,r){if(e&&t)if(e.classList)e.classList[r?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(w," ").replace(" "+t+" "," ");e.className=(n+(r?" "+t:"")).replace(w," ")}}function k(e,t,r){var n=e&&e.style;if(n){if(void 0===r)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle),void 0===t?r:r[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=r+("string"==typeof r?"":"px")}}function x(e,t){var r="";if("string"==typeof e)r=e;else do{var n=k(e,"transform");n&&"none"!==n&&(r=n+" "+r)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(r)}function S(e,t,r){if(e){var n=e.getElementsByTagName(t),i=0,a=n.length;if(r)for(;i<a;i++)r(n[i],i);return n}return[]}function P(){var e=document.scrollingElement;return e||document.documentElement}function I(e,t,r,n,i){if(e.getBoundingClientRect||e===window){var a,o,s,c,l,f,p;if(e!==window&&e.parentNode&&e!==P()?(o=(a=e.getBoundingClientRect()).top,s=a.left,c=a.bottom,l=a.right,f=a.height,p=a.width):(o=0,s=0,c=window.innerHeight,l=window.innerWidth,f=window.innerHeight,p=window.innerWidth),(t||r)&&e!==window&&(i=i||e.parentNode,!u))do{if(i&&i.getBoundingClientRect&&("none"!==k(i,"transform")||r&&"static"!==k(i,"position"))){var d=i.getBoundingClientRect();o-=d.top+parseInt(k(i,"border-top-width")),s-=d.left+parseInt(k(i,"border-left-width")),c=o+a.height,l=s+a.width;break}}while(i=i.parentNode);if(n&&e!==window){var h=x(i||e),b=h&&h.a,y=h&&h.d;h&&(c=(o/=y)+(f/=y),l=(s/=b)+(p/=b))}return{top:o,left:s,bottom:c,right:l,width:p,height:f}}}function R(e,t,r){for(var n=C(e,!0),i=I(e)[t];n;){var a=I(n)[r];if(!("top"===r||"left"===r?i>=a:i<=a))return n;if(n===P())break;n=C(n,!1)}return!1}function M(e,t,r){for(var n=0,i=0,a=e.children;i<a.length;){if("none"!==a[i].style.display&&a[i]!==Fe.ghost&&a[i]!==Fe.dragged&&O(a[i],r.draggable,e,!1)){if(n===t)return a[i];n++}i++}return null}function E(e,t){for(var r=e.lastElementChild;r&&(r===Fe.ghost||"none"===k(r,"display")||t&&!m(r,t));)r=r.previousElementSibling;return r||null}function T(e,t){var r=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Fe.clone||t&&!m(e,t)||r++;return r}function A(e){var t=0,r=0,n=P();if(e)do{var i=x(e),a=i.a,o=i.d;t+=e.scrollLeft*a,r+=e.scrollTop*o}while(e!==n&&(e=e.parentNode));return[t,r]}function C(e,t){if(!e||!e.getBoundingClientRect)return P();var r=e,n=!1;do{if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var i=k(r);if(r.clientWidth<r.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||r.clientHeight<r.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!r.getBoundingClientRect||r===document.body)return P();if(n||t)return r;n=!0}}}while(r=r.parentNode);return P()}function D(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function L(e,t){return function(){if(!j){var r=arguments,n=this;1===r.length?e.call(n,r[0]):e.apply(n,r),j=setTimeout((function(){j=void 0}),t)}}}function F(e,t,r){e.scrollLeft+=t,e.scrollTop+=r}function N(e){var t=window.Polymer,r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}var B="Sortable"+(new Date).getTime();function V(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==k(e,"display")&&e!==Fe.ghost){t.push({target:e,rect:I(e)});var r=o({},t[t.length-1].rect);if(e.thisAnimationDuration){var n=x(e,!0);n&&(r.top-=n.f,r.left-=n.e)}e.fromRect=r}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var r in e)if(e.hasOwnProperty(r))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[r][n])return Number(r);return-1}(t,{target:e}),1)},animateAll:function(r){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof r&&r());var i=!1,a=0;t.forEach((function(e){var t=0,r=e.target,o=r.fromRect,s=I(r),c=r.prevFromRect,u=r.prevToRect,l=e.rect,f=x(r,!0);f&&(s.top-=f.f,s.left-=f.e),r.toRect=s,r.thisAnimationDuration&&D(c,s)&&!D(o,s)&&(l.top-s.top)/(l.left-s.left)==(o.top-s.top)/(o.left-s.left)&&(t=function(e,t,r,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*n.animation}(l,c,u,n.options)),D(s,o)||(r.prevFromRect=o,r.prevToRect=s,t||(t=n.options.animation),n.animate(r,l,s,t)),t&&(i=!0,a=Math.max(a,t),clearTimeout(r.animationResetTimer),r.animationResetTimer=setTimeout((function(){r.animationTime=0,r.prevFromRect=null,r.fromRect=null,r.prevToRect=null,r.thisAnimationDuration=null}),t),r.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"==typeof r&&r()}),a):"function"==typeof r&&r(),t=[]},animate:function(e,t,r,n){if(n){k(e,"transition",""),k(e,"transform","");var i=x(this.el),a=i&&i.a,o=i&&i.d,s=(t.left-r.left)/(a||1),c=(t.top-r.top)/(o||1);e.animatingX=!!s,e.animatingY=!!c,k(e,"transform","translate3d("+s+"px,"+c+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),k(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),k(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){k(e,"transition",""),k(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}}var U=[],z={initializeByDefault:!0},q={mount:function(e){for(var t in z)z.hasOwnProperty(t)&&!(t in e)&&(e[t]=z[t]);U.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),U.push(e)},pluginEvent:function(e,t,r){var n=this;this.eventCanceled=!1,r.cancel=function(){n.eventCanceled=!0};var i=e+"Global";U.forEach((function(n){t[n.pluginName]&&(t[n.pluginName][i]&&t[n.pluginName][i](o({sortable:t},r)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](o({sortable:t},r)))}))},initializePlugins:function(e,t,r,n){for(var i in U.forEach((function(n){var i=n.pluginName;if(e.options[i]||n.initializeByDefault){var o=new n(e,t,e.options);o.sortable=e,o.options=e.options,e[i]=o,a(r,o.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var o=this.modifyOption(e,i,e.options[i]);void 0!==o&&(e.options[i]=o)}},getEventProperties:function(e,t){var r={};return U.forEach((function(n){"function"==typeof n.eventProperties&&a(r,n.eventProperties.call(t[n.pluginName],e))})),r},modifyOption:function(e,t,r){var n;return U.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(n=i.optionListeners[t].call(e[i.pluginName],r))})),n}};function H(e){var t=e.sortable,r=e.rootEl,n=e.name,i=e.targetEl,a=e.cloneEl,s=e.toEl,c=e.fromEl,f=e.oldIndex,p=e.newIndex,d=e.oldDraggableIndex,h=e.newDraggableIndex,b=e.originalEvent,y=e.putSortable,v=e.extraEventProperties;if(t=t||r&&r[B]){var m,g=t.options,O="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||u||l?(m=document.createEvent("Event")).initEvent(n,!0,!0):m=new CustomEvent(n,{bubbles:!0,cancelable:!0}),m.to=s||r,m.from=c||r,m.item=i||r,m.clone=a,m.oldIndex=f,m.newIndex=p,m.oldDraggableIndex=d,m.newDraggableIndex=h,m.originalEvent=b,m.pullMode=y?y.lastPutMode:void 0;var j=o({},v,q.getEventProperties(n,t));for(var w in j)m[w]=j[w];r&&r.dispatchEvent(m),g[O]&&g[O].call(t,m)}}var G=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.evt,i=s(r,["evt"]);q.pluginEvent.bind(Fe)(e,t,o({dragEl:J,parentEl:$,ghostEl:Z,rootEl:Q,nextEl:X,lastDownEl:K,cloneEl:Y,cloneHidden:ee,dragStarted:de,putSortable:oe,activeSortable:Fe.active,originalEvent:n,oldIndex:te,oldDraggableIndex:ne,newIndex:re,newDraggableIndex:ie,hideGhostForTarget:Ae,unhideGhostForTarget:Ce,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(e){W({sortable:t,name:e,originalEvent:n})}},i))};function W(e){H(o({putSortable:oe,cloneEl:Y,targetEl:J,rootEl:Q,oldIndex:te,oldDraggableIndex:ne,newIndex:re,newDraggableIndex:ie},e))}var J,$,Z,Q,X,K,Y,ee,te,re,ne,ie,ae,oe,se,ce,ue,le,fe,pe,de,he,be,ye,ve,me=!1,ge=!1,Oe=[],je=!1,we=!1,_e=[],ke=!1,xe=[],Se="undefined"!=typeof document,Pe=d,Ie=l||u?"cssFloat":"float",Re=Se&&!h&&!d&&"draggable"in document.createElement("div"),Me=function(){if(Se){if(u)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ee=function(e,t){var r=k(e),n=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),i=M(e,0,t),a=M(e,1,t),o=i&&k(i),s=a&&k(a),c=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+I(i).width,u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+I(a).width;if("flex"===r.display)return"column"===r.flexDirection||"column-reverse"===r.flexDirection?"vertical":"horizontal";if("grid"===r.display)return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&o.float&&"none"!==o.float){var l="left"===o.float?"left":"right";return!a||"both"!==s.clear&&s.clear!==l?"horizontal":"vertical"}return i&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||c>=n&&"none"===r[Ie]||a&&"none"===r[Ie]&&c+u>n)?"vertical":"horizontal"},Te=function(e){function t(e,r){return function(n,i,a,o){var s=n.options.group.name&&i.options.group.name&&n.options.group.name===i.options.group.name;if(null==e&&(r||s))return!0;if(null==e||!1===e)return!1;if(r&&"clone"===e)return e;if("function"==typeof e)return t(e(n,i,a,o),r)(n,i,a,o);var c=(r?n:i).options.group.name;return!0===e||"string"==typeof e&&e===c||e.join&&e.indexOf(c)>-1}}var r={},i=e.group;i&&"object"==n(i)||(i={name:i}),r.name=i.name,r.checkPull=t(i.pull,!0),r.checkPut=t(i.put),r.revertClone=i.revertClone,e.group=r},Ae=function(){!Me&&Z&&k(Z,"display","none")},Ce=function(){!Me&&Z&&k(Z,"display","")};Se&&document.addEventListener("click",(function(e){if(ge)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ge=!1,!1}),!0);var De=function(e){if(J){e=e.touches?e.touches[0]:e;var t=(i=e.clientX,a=e.clientY,Oe.some((function(e){if(!E(e)){var t=I(e),r=e[B].options.emptyInsertThreshold,n=i>=t.left-r&&i<=t.right+r,s=a>=t.top-r&&a<=t.bottom+r;return r&&n&&s?o=e:void 0}})),o);if(t){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[B]._onDragOver(r)}}var i,a,o},Le=function(e){J&&J.parentNode[B]._isOutsideThisEl(e.target)};function Fe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=a({},t),e[B]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ee(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Fe.supportPointer&&"PointerEvent"in window&&!p,emptyInsertThreshold:5};for(var n in q.initializePlugins(this,e,r),r)!(n in t)&&(t[n]=r[n]);for(var i in Te(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Re,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?y(e,"pointerdown",this._onTapStart):(y(e,"mousedown",this._onTapStart),y(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(y(e,"dragover",this),y(e,"dragenter",this)),Oe.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),a(this,V())}function Ne(e,t,r,n,i,a,o,s){var c,f,p=e[B],d=p.options.onMove;return!window.CustomEvent||u||l?(c=document.createEvent("Event")).initEvent("move",!0,!0):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=t,c.from=e,c.dragged=r,c.draggedRect=n,c.related=i||t,c.relatedRect=a||I(t),c.willInsertAfter=s,c.originalEvent=o,e.dispatchEvent(c),d&&(f=d.call(p,c,o)),f}function Be(e){e.draggable=!1}function Ve(){ke=!1}function Ue(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,r=t.length,n=0;r--;)n+=t.charCodeAt(r);return n.toString(36)}function ze(e){return setTimeout(e,0)}function qe(e){return clearTimeout(e)}Fe.prototype={constructor:Fe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(he=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,J):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,r=this.el,n=this.options,i=n.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(o||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,u=n.filter;if(function(e){xe.length=0;var t=e.getElementsByTagName("input"),r=t.length;for(;r--;){var n=t[r];n.checked&&xe.push(n)}}(r),!J&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||n.disabled)&&!c.isContentEditable&&(this.nativeDraggable||!p||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=O(s,n.draggable,r,!1))&&s.animated||K===s)){if(te=T(s),ne=T(s,n.draggable),"function"==typeof u){if(u.call(this,e,s,this))return W({sortable:t,rootEl:c,name:"filter",targetEl:s,toEl:r,fromEl:r}),G("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some((function(n){if(n=O(c,n.trim(),r,!1))return W({sortable:t,rootEl:n,name:"filter",targetEl:s,fromEl:r,toEl:r}),G("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());n.handle&&!O(c,n.handle,r,!1)||this._prepareDragStart(e,o,s)}}},_prepareDragStart:function(e,t,r){var n,i=this,a=i.el,o=i.options,s=a.ownerDocument;if(r&&!J&&r.parentNode===a){var c=I(r);if(Q=a,$=(J=r).parentNode,X=J.nextSibling,K=r,ae=o.group,Fe.dragged=J,se={target:J,clientX:(t||e).clientX,clientY:(t||e).clientY},fe=se.clientX-c.left,pe=se.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,J.style["will-change"]="all",n=function(){G("delayEnded",i,{evt:e}),Fe.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!f&&i.nativeDraggable&&(J.draggable=!0),i._triggerDragStart(e,t),W({sortable:i,name:"choose",originalEvent:e}),_(J,o.chosenClass,!0))},o.ignore.split(",").forEach((function(e){S(J,e.trim(),Be)})),y(s,"dragover",De),y(s,"mousemove",De),y(s,"touchmove",De),y(s,"mouseup",i._onDrop),y(s,"touchend",i._onDrop),y(s,"touchcancel",i._onDrop),f&&this.nativeDraggable&&(this.options.touchStartThreshold=4,J.draggable=!0),G("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(l||u))n();else{if(Fe.eventCanceled)return void this._onDrop();y(s,"mouseup",i._disableDelayedDrag),y(s,"touchend",i._disableDelayedDrag),y(s,"touchcancel",i._disableDelayedDrag),y(s,"mousemove",i._delayedDragTouchMoveHandler),y(s,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&y(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(n,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){J&&Be(J),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._disableDelayedDrag),v(e,"touchend",this._disableDelayedDrag),v(e,"touchcancel",this._disableDelayedDrag),v(e,"mousemove",this._delayedDragTouchMoveHandler),v(e,"touchmove",this._delayedDragTouchMoveHandler),v(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?y(document,"pointermove",this._onTouchMove):y(document,t?"touchmove":"mousemove",this._onTouchMove):(y(J,"dragend",this),y(Q,"dragstart",this._onDragStart));try{document.selection?ze((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(r){}},_dragStarted:function(e,t){if(me=!1,Q&&J){G("dragStarted",this,{evt:t}),this.nativeDraggable&&y(document,"dragover",Le);var r=this.options;!e&&_(J,r.dragClass,!1),_(J,r.ghostClass,!0),Fe.active=this,e&&this._appendGhost(),W({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ce){this._lastX=ce.clientX,this._lastY=ce.clientY,Ae();for(var e=document.elementFromPoint(ce.clientX,ce.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ce.clientX,ce.clientY))!==t;)t=e;if(J.parentNode[B]._isOutsideThisEl(e),t)do{if(t[B]){if(t[B]._onDragOver({clientX:ce.clientX,clientY:ce.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Ce()}},_onTouchMove:function(e){if(se){var t=this.options,r=t.fallbackTolerance,n=t.fallbackOffset,i=e.touches?e.touches[0]:e,a=Z&&x(Z,!0),o=Z&&a&&a.a,s=Z&&a&&a.d,c=Pe&&ve&&A(ve),u=(i.clientX-se.clientX+n.x)/(o||1)+(c?c[0]-_e[0]:0)/(o||1),l=(i.clientY-se.clientY+n.y)/(s||1)+(c?c[1]-_e[1]:0)/(s||1);if(!Fe.active&&!me){if(r&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(Z){a?(a.e+=u-(ue||0),a.f+=l-(le||0)):a={a:1,b:0,c:0,d:1,e:u,f:l};var f="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");k(Z,"webkitTransform",f),k(Z,"mozTransform",f),k(Z,"msTransform",f),k(Z,"transform",f),ue=u,le=l,ce=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Z){var e=this.options.fallbackOnBody?document.body:Q,t=I(J,!0,Pe,!0,e),r=this.options;if(Pe){for(ve=e;"static"===k(ve,"position")&&"none"===k(ve,"transform")&&ve!==document;)ve=ve.parentNode;ve!==document.body&&ve!==document.documentElement?(ve===document&&(ve=P()),t.top+=ve.scrollTop,t.left+=ve.scrollLeft):ve=P(),_e=A(ve)}_(Z=J.cloneNode(!0),r.ghostClass,!1),_(Z,r.fallbackClass,!0),_(Z,r.dragClass,!0),k(Z,"transition",""),k(Z,"transform",""),k(Z,"box-sizing","border-box"),k(Z,"margin",0),k(Z,"top",t.top),k(Z,"left",t.left),k(Z,"width",t.width),k(Z,"height",t.height),k(Z,"opacity","0.8"),k(Z,"position",Pe?"absolute":"fixed"),k(Z,"zIndex","100000"),k(Z,"pointerEvents","none"),Fe.ghost=Z,e.appendChild(Z),k(Z,"transform-origin",fe/parseInt(Z.style.width)*100+"% "+pe/parseInt(Z.style.height)*100+"%")}},_onDragStart:function(e,t){var r=this,n=e.dataTransfer,i=r.options;G("dragStart",this,{evt:e}),Fe.eventCanceled?this._onDrop():(G("setupClone",this),Fe.eventCanceled||((Y=N(J)).draggable=!1,Y.style["will-change"]="",this._hideClone(),_(Y,this.options.chosenClass,!1),Fe.clone=Y),r.cloneId=ze((function(){G("clone",r),Fe.eventCanceled||(r.options.removeCloneOnHide||Q.insertBefore(Y,J),r._hideClone(),W({sortable:r,name:"clone"}))})),!t&&_(J,i.dragClass,!0),t?(ge=!0,r._loopId=setInterval(r._emulateDragOver,50)):(v(document,"mouseup",r._onDrop),v(document,"touchend",r._onDrop),v(document,"touchcancel",r._onDrop),n&&(n.effectAllowed="move",i.setData&&i.setData.call(r,n,J)),y(document,"drop",r),k(J,"transform","translateZ(0)")),me=!0,r._dragStartId=ze(r._dragStarted.bind(r,t,e)),y(document,"selectstart",r),de=!0,p&&k(document.body,"user-select","none"))},_onDragOver:function(e){var t,r,n,i,a=this.el,s=e.target,c=this.options,u=c.group,l=Fe.active,f=ae===u,p=c.sort,d=oe||l,h=this,b=!1;if(!ke){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=O(s,c.draggable,a,!0),L("dragOver"),Fe.eventCanceled)return b;if(J.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||h._ignoreWhileAnimating===s)return V(!1);if(ge=!1,l&&!c.disabled&&(f?p||(n=!Q.contains(J)):oe===this||(this.lastPutMode=ae.checkPull(this,l,J,e))&&u.checkPut(this,l,J,e))){if(i="vertical"===this._getDirection(e,s),t=I(J),L("dragOverValid"),Fe.eventCanceled)return b;if(n)return $=Q,N(),this._hideClone(),L("revert"),Fe.eventCanceled||(X?Q.insertBefore(J,X):Q.appendChild(J)),V(!0);var y=E(a,c.draggable);if(!y||function(e,t,r){var n=I(E(r.el,r.options.draggable));return t?e.clientX>n.right+10||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+10}(e,i,this)&&!y.animated){if(y===J)return V(!1);if(y&&a===e.target&&(s=y),s&&(r=I(s)),!1!==Ne(Q,a,J,t,s,r,e,!!s))return N(),a.appendChild(J),$=a,U(),V(!0)}else if(s.parentNode===a){r=I(s);var v,m,g,j=J.parentNode!==a,w=!function(e,t,r){var n=r?e.left:e.top,i=r?e.right:e.bottom,a=r?e.width:e.height,o=r?t.left:t.top,s=r?t.right:t.bottom,c=r?t.width:t.height;return n===o||i===s||n+a/2===o+c/2}(J.animated&&J.toRect||t,s.animated&&s.toRect||r,i),x=i?"top":"left",S=R(s,"top","top")||R(J,"top","top"),P=S?S.scrollTop:void 0;if(he!==s&&(m=r[x],je=!1,we=!w&&c.invertSwap||j),0!==(v=function(e,t,r,n,i,a,o,s){var c=n?e.clientY:e.clientX,u=n?r.height:r.width,l=n?r.top:r.left,f=n?r.bottom:r.right,p=!1;if(!o)if(s&&ye<u*i){if(!je&&(1===be?c>l+u*a/2:c<f-u*a/2)&&(je=!0),je)p=!0;else if(1===be?c<l+ye:c>f-ye)return-be}else if(c>l+u*(1-i)/2&&c<f-u*(1-i)/2)return function(e){return T(J)<T(e)?1:-1}(t);if((p=p||o)&&(c<l+u*a/2||c>f-u*a/2))return c>l+u/2?1:-1;return 0}(e,s,r,i,w?1:c.swapThreshold,null==c.invertedSwapThreshold?c.swapThreshold:c.invertedSwapThreshold,we,he===s))){var M=T(J);do{M-=v,g=$.children[M]}while(g&&("none"===k(g,"display")||g===Z))}if(0===v||g===s)return V(!1);he=s,be=v;var A=s.nextElementSibling,C=!1,D=Ne(Q,a,J,t,s,r,e,C=1===v);if(!1!==D)return 1!==D&&-1!==D||(C=1===D),ke=!0,setTimeout(Ve,30),N(),C&&!A?a.appendChild(J):s.parentNode.insertBefore(J,C?A:s),S&&F(S,0,P-S.scrollTop),$=J.parentNode,void 0===m||we||(ye=Math.abs(m-I(s)[x])),U(),V(!0)}if(a.contains(J))return V(!1)}return!1}function L(c,u){G(c,h,o({evt:e,isOwner:f,axis:i?"vertical":"horizontal",revert:n,dragRect:t,targetRect:r,canSort:p,fromSortable:d,target:s,completed:V,onMove:function(r,n){return Ne(Q,a,J,t,r,I(r),e,n)},changed:U},u))}function N(){L("dragOverAnimationCapture"),h.captureAnimationState(),h!==d&&d.captureAnimationState()}function V(t){return L("dragOverCompleted",{insertion:t}),t&&(f?l._hideClone():l._showClone(h),h!==d&&(_(J,oe?oe.options.ghostClass:l.options.ghostClass,!1),_(J,c.ghostClass,!0)),oe!==h&&h!==Fe.active?oe=h:h===Fe.active&&oe&&(oe=null),d===h&&(h._ignoreWhileAnimating=s),h.animateAll((function(){L("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(s===J&&!J.animated||s===a&&!s.animated)&&(he=null),c.dragoverBubble||e.rootEl||s===document||(J.parentNode[B]._isOutsideThisEl(e.target),!t&&De(e)),!c.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function U(){re=T(J),ie=T(J,c.draggable),W({sortable:h,name:"change",toEl:a,newIndex:re,newDraggableIndex:ie,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",De),v(document,"mousemove",De),v(document,"touchmove",De)},_offUpEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._onDrop),v(e,"touchend",this._onDrop),v(e,"pointerup",this._onDrop),v(e,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(e){var t=this.el,r=this.options;re=T(J),ie=T(J,r.draggable),G("drop",this,{evt:e}),$=J&&J.parentNode,re=T(J),ie=T(J,r.draggable),Fe.eventCanceled||(me=!1,we=!1,je=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),qe(this.cloneId),qe(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),p&&k(document.body,"user-select",""),k(J,"transform",""),e&&(de&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),Z&&Z.parentNode&&Z.parentNode.removeChild(Z),(Q===$||oe&&"clone"!==oe.lastPutMode)&&Y&&Y.parentNode&&Y.parentNode.removeChild(Y),J&&(this.nativeDraggable&&v(J,"dragend",this),Be(J),J.style["will-change"]="",de&&!me&&_(J,oe?oe.options.ghostClass:this.options.ghostClass,!1),_(J,this.options.chosenClass,!1),W({sortable:this,name:"unchoose",toEl:$,newIndex:null,newDraggableIndex:null,originalEvent:e}),Q!==$?(re>=0&&(W({rootEl:$,name:"add",toEl:$,fromEl:Q,originalEvent:e}),W({sortable:this,name:"remove",toEl:$,originalEvent:e}),W({rootEl:$,name:"sort",toEl:$,fromEl:Q,originalEvent:e}),W({sortable:this,name:"sort",toEl:$,originalEvent:e})),oe&&oe.save()):re!==te&&re>=0&&(W({sortable:this,name:"update",toEl:$,originalEvent:e}),W({sortable:this,name:"sort",toEl:$,originalEvent:e})),Fe.active&&(null!=re&&-1!==re||(re=te,ie=ne),W({sortable:this,name:"end",toEl:$,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){G("nulling",this),Q=J=$=Z=X=Y=K=ee=se=ce=de=re=ie=te=ne=he=be=oe=ae=Fe.dragged=Fe.ghost=Fe.clone=Fe.active=null,xe.forEach((function(e){e.checked=!0})),xe.length=ue=le=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":J&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],r=this.el.children,n=0,i=r.length,a=this.options;n<i;n++)O(e=r[n],a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||Ue(e));return t},sort:function(e,t){var r={},n=this.el;this.toArray().forEach((function(e,t){var i=n.children[t];O(i,this.options.draggable,n,!1)&&(r[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){r[e]&&(n.removeChild(r[e]),n.appendChild(r[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return O(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var r=this.options;if(void 0===t)return r[e];var n=q.modifyOption(this,e,t);r[e]=void 0!==n?n:t,"group"===e&&Te(r)},destroy:function(){G("destroy",this);var e=this.el;e[B]=null,v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart),v(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Oe.splice(Oe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(G("hideClone",this),Fe.eventCanceled)return;k(Y,"display","none"),this.options.removeCloneOnHide&&Y.parentNode&&Y.parentNode.removeChild(Y),ee=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ee){if(G("showClone",this),Fe.eventCanceled)return;J.parentNode!=Q||this.options.group.revertClone?X?Q.insertBefore(Y,X):Q.appendChild(Y):Q.insertBefore(Y,J),this.options.group.revertClone&&this.animate(J,Y),k(Y,"display",""),ee=!1}}else this._hideClone()}},Se&&y(document,"touchmove",(function(e){(Fe.active||me)&&e.cancelable&&e.preventDefault()})),Fe.utils={on:y,off:v,css:k,find:S,is:function(e,t){return!!O(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},throttle:L,closest:O,toggleClass:_,clone:N,index:T,nextTick:ze,cancelNextTick:qe,detectDirection:Ee,getChild:M},Fe.get=function(e){return e[B]},Fe.mount=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Fe.utils=o({},Fe.utils,e.utils)),q.mount(e)}))},Fe.create=function(e,t){return new Fe(e,t)},Fe.version="1.13.0";var He,Ge,We,Je,$e,Ze,Qe=[],Xe=!1;function Ke(){Qe.forEach((function(e){clearInterval(e.pid)})),Qe=[]}function Ye(){clearInterval(Ze)}var et=L((function(e,t,r,n){if(t.scroll){var i,a=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,c=t.scrollSpeed,u=P(),l=!1;Ge!==r&&(Ge=r,Ke(),He=t.scroll,i=t.scrollFn,!0===He&&(He=C(r,!0)));var f=0,p=He;do{var d=p,h=I(d),b=h.top,y=h.bottom,v=h.left,m=h.right,g=h.width,O=h.height,j=void 0,w=void 0,_=d.scrollWidth,x=d.scrollHeight,S=k(d),R=d.scrollLeft,M=d.scrollTop;d===u?(j=g<_&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),w=O<x&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(j=g<_&&("auto"===S.overflowX||"scroll"===S.overflowX),w=O<x&&("auto"===S.overflowY||"scroll"===S.overflowY));var E=j&&(Math.abs(m-a)<=s&&R+g<_)-(Math.abs(v-a)<=s&&!!R),T=w&&(Math.abs(y-o)<=s&&M+O<x)-(Math.abs(b-o)<=s&&!!M);if(!Qe[f])for(var A=0;A<=f;A++)Qe[A]||(Qe[A]={});Qe[f].vx==E&&Qe[f].vy==T&&Qe[f].el===d||(Qe[f].el=d,Qe[f].vx=E,Qe[f].vy=T,clearInterval(Qe[f].pid),0==E&&0==T||(l=!0,Qe[f].pid=setInterval(function(){n&&0===this.layer&&Fe.active._onTouchMove($e);var t=Qe[this.layer].vy?Qe[this.layer].vy*c:0,r=Qe[this.layer].vx?Qe[this.layer].vx*c:0;"function"==typeof i&&"continue"!==i.call(Fe.dragged.parentNode[B],r,t,e,$e,Qe[this.layer].el)||F(Qe[this.layer].el,r,t)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&p!==u&&(p=C(p,!1)));Xe=l}}),30),tt=function(e){var t=e.originalEvent,r=e.putSortable,n=e.dragEl,i=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var c=r||i;o();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,l=document.elementFromPoint(u.clientX,u.clientY);s(),c&&!c.el.contains(l)&&(a("spill"),this.onSpill({dragEl:n,putSortable:r}))}};function rt(){}function nt(){}rt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var n=M(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),r&&r.animateAll()},drop:tt},a(rt,{pluginName:"revertOnSpill"}),nt.prototype={onSpill:function(e){var t=e.dragEl,r=e.putSortable||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:tt},a(nt,{pluginName:"removeOnSpill"});Fe.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):this.options.supportPointer?y(document,"pointermove",this._handleFallbackAutoScroll):t.touches?y(document,"touchmove",this._handleFallbackAutoScroll):y(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),Ye(),Ke(),clearTimeout(j),j=void 0},nulling:function(){$e=Ge=He=Xe=Ze=We=Je=null,Qe.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var r=this,n=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(n,i);if($e=e,t||l||u||p){et(e,this.options,a,t);var o=C(a,!0);!Xe||Ze&&n===We&&i===Je||(Ze&&Ye(),Ze=setInterval((function(){var a=C(document.elementFromPoint(n,i),!0);a!==o&&(o=a,Ke()),et(e,r.options,a,t)}),10),We=n,Je=i)}else{if(!this.options.bubbleScroll||C(a,!0)===P())return void Ke();et(e,this.options,C(a,!1),!1)}}},a(e,{pluginName:"scroll",initializeByDefault:!0})}),Fe.mount(nt,rt),t.a=Fe},k9UV:function(e,t,r){"use strict";function n(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function i(e){return null!=e&&!isNaN(e)&&isFinite(e)}function a(e){return e.valueExpression?"expression":e.field&&"string"==typeof e.field?"field":"unknown"}function o(e,t){var r=t||a(e),n=e.valueUnit||"unknown";return"unknown"===r?"constant":e.stops?"stops":null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?"clamped-linear":"unknown"===n?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?"proportional":"additive":"identity":"real-world-size"}r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return i}))},kBLL:function(e,t,r){"use strict";r.d(t,"a",(function(){return Q})),r.d(t,"b",(function(){return Z})),r.d(t,"c",(function(){return X})),r.d(t,"d",(function(){return C})),r.d(t,"e",(function(){return $})),r.d(t,"f",(function(){return R})),r.d(t,"g",(function(){return D})),r.d(t,"h",(function(){return F})),r.d(t,"i",(function(){return q})),r.d(t,"j",(function(){return B})),r.d(t,"k",(function(){return U})),r.d(t,"l",(function(){return H})),r.d(t,"m",(function(){return G})),r.d(t,"n",(function(){return J})),r.d(t,"o",(function(){return W})),r.d(t,"p",(function(){return ie})),r.d(t,"q",(function(){return K})),r.d(t,"r",(function(){return Y})),r.d(t,"s",(function(){return ee})),r.d(t,"t",(function(){return ne})),r.d(t,"u",(function(){return re})),r.d(t,"v",(function(){return N})),r.d(t,"w",(function(){return se}));var n=r("eijD"),i=r("NthX"),a=r.n(i),o=r("VZ8p"),s=r("kDog"),c=r("7im+"),u=r("a1Tm"),l=r("p0eS"),f=r("NO3b"),p=r("fHEz"),d=r("EOw0"),h=r("MJqN"),b=r("nd5+"),y=r("DjXQ"),v=r("OTJA"),m=r("YHXj"),g=r("1xKk"),O=r("12QT"),j=r("3p7a");function w(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k=180/Math.PI;function x(e,t,r,n){return n&&r&&!n.equals(r)&&Object(j.a)(n,r)&&n.isWebMercator?n.isWebMercator?function(e,t){var r=t[1];return r>89.99999?r=89.99999:r<-89.99999&&(r=-89.99999),r=Math.sin(Object(l.d)(r)),Object(d.m)(e,Object(l.d)(t[0])*g.a.radius,.5*g.a.radius*Math.log((1+r)/(1-r)))}(e,t):function(e,t,r){var n=Object(l.c)(t[0]/g.a.radius);return Object(d.m)(e,r?n:n-360*Math.floor((n+180)/360),Object(l.c)(.5*Math.PI-2*Math.atan(Math.exp(-1*t[1]/g.a.radius))))}(e,t):Object(d.c)(e,t)}function S(e){return e.wkid?e:e.spatialReference||m.a.WGS84}function P(e,t){return t.type?Object(d.m)(e,t.x,t.y):Object(d.c)(e,t)}function I(e){return Object(u.d)(e)}function R(e,t){return Math.max(e.width/t[0],e.height/t[1])*function(e){return Object(O.j)(e)?39.37*I(e)*96:1}(e.spatialReference)}function M(e,t,r,n){return E.apply(this,arguments)}function E(){return(E=Object(n.a)(a.a.mark((function e(t,r,n,i){var o,u,l,f,p,d,h,m,g,O,_,k,x,S,P,I,R,E,T,A,C,D,L,F,N,B,V,U,z;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(!Array.isArray(t)||t.length){e.next=4;break}return e.abrupt("return",null);case 4:if(s.a.isCollection(t)&&(t=t.toArray()),!Array.isArray(t)||!t.length||"object"!=typeof t[0]){e.next=39;break}if(l=t.every((function(e){return"attributes"in e})),f=t.some((function(e){return!e.geometry})),p=t,!(l&&f&&r&&r.allLayerViews)){e.next=20;break}d=new Map,h=w(t);try{for(h.s();!(m=h.n()).done;)g=m.value,O=g.layer,_=d.get(O)||[],null!=(k=g.attributes[O.objectIdField])&&_.push(k),d.set(O,_)}catch(a){h.e(a)}finally{h.f()}return x=[],d.forEach((function(e,t){var n=r.allLayerViews.find((function(e){return e.layer.id===t.id}));if("queryFeatures"in n){var i=t.createQuery();i.objectIds=e,i.returnGeometry=!0,x.push(n.queryFeatures(i))}})),e.next=15,Promise.all(x);case 15:S=e.sent,P=[],I=w(S);try{for(I.s();!(R=I.n()).done;)if((E=R.value)&&E.features&&E.features.length){T=w(E.features);try{for(T.s();!(A=T.n()).done;)C=A.value,Object(c.i)(C.geometry)&&P.push(C.geometry)}catch(a){T.e(a)}finally{T.f()}}}catch(a){I.e(a)}finally{I.f()}p=P;case 20:D=w(p),e.prev=21,D.s();case 23:if((L=D.n()).done){e.next=30;break}return F=L.value,e.next=27,M(F,r,n,i);case 27:i=e.sent;case 28:e.next=23;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(21),D.e(e.t0);case 35:return e.prev=35,D.f(),e.finish(35);case 38:return e.abrupt("return",i);case 39:if(!Array.isArray(t)||2!==t.length||"number"!=typeof t[0]||"number"!=typeof t[1]){e.next=43;break}o=new v.a(t),e.next=61;break;case 43:if(!(t instanceof y.a)){e.next=47;break}o=t,e.next=61;break;case 47:if(!("geometry"in t)){e.next=61;break}if(!t.geometry){e.next=52;break}o=t.geometry,e.next=61;break;case 52:if(!t.layer){e.next=61;break}if(N=t.layer,!("queryFeatures"in(B=r.allLayerViews.find((function(e){return e.layer.id===N.id}))))){e.next=61;break}return(V=N.createQuery()).objectIds=[t.attributes[N.objectIdField]],V.returnGeometry=!0,e.next=59,B.queryFeatures(V);case 59:U=e.sent,o=Object(c.g)(U,"features",0,"geometry");case 61:if(!Object(c.h)(o)){e.next=63;break}return e.abrupt("return",null);case 63:if(u="point"===o.type?new b.a({xmin:o.x,ymin:o.y,xmax:o.x,ymax:o.y,spatialReference:o.spatialReference}):o.extent){e.next=65;break}return e.abrupt("return",null);case 65:if(z=Object(j.a)(u,n),u.spatialReference.equals(n)||!z){e.next=70;break}u=Object(j.d)(u,n),e.next=72;break;case 70:if(z){e.next=72;break}return e.abrupt("return",null);case 72:return e.abrupt("return",i=i?i.union(u):u.clone());case 73:case"end":return e.stop()}}),e,null,[[21,32,35,38]])})))).apply(this,arguments)}function T(e){if(e&&(!Array.isArray(e)||"number"!=typeof e[0])&&("object"==typeof e||Array.isArray(e)&&"object"==typeof e[0])){if("layer"in e&&e.layer&&e.layer.minScale&&e.layer.maxScale){var t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every((function(e){return"layer"in e}))){var r,n=0,i=0,a=w(e);try{for(a.s();!(r=a.n()).done;){var o=r.value.layer;o&&o.minScale&&o.maxScale&&(n=o.minScale<n?o.minScale:n,i=o.maxScale>i?o.maxScale:i)}}catch(s){a.e(s)}finally{a.f()}return n&&i?{min:n,max:i}:null}}}function A(){return(A=Object(n.a)(a.a.mark((function e(t,r){var n,i,s,u,l,f,p,d,y,m,g,O,w,_,k;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&r){e.next=2;break}return e.abrupt("return",new o.a({targetGeometry:new v.a,scale:0,rotation:0}));case 2:if(n=r.spatialReference,i=r.constraints,s=r.padding,u=r.viewpoint,l=r.size,f=[s?l[0]-s.left-s.right:l[0],s?l[1]-s.top-s.bottom:l[1]],p=null,t instanceof o.a?p=t:t.viewpoint?p=t.viewpoint:t.target&&"esri.Viewpoint"===t.target.declaredClass&&(p=t.target),d=null,!p||!p.targetGeometry){e.next=11;break}d=p.targetGeometry,e.next=35;break;case 11:if(!(t instanceof b.a)){e.next=15;break}d=t,e.next=35;break;case 15:if(e.t0=t||t&&("center"in t||"extent"in t||"target"in t),!e.t0){e.next=35;break}return e.next=19,M(t.center,r,n);case 19:if(e.t3=e.sent,e.t3){e.next=24;break}return e.next=23,M(t.extent,r,n);case 23:e.t3=e.sent;case 24:if(e.t2=e.t3,e.t2){e.next=29;break}return e.next=28,M(t.target,r,n);case 28:e.t2=e.sent;case 29:if(e.t1=e.t2,e.t1){e.next=34;break}return e.next=33,M(t,r,n);case 33:e.t1=e.sent;case 34:d=e.t1;case 35:if(!d&&u&&u.targetGeometry?d=u.targetGeometry:!d&&r.extent&&(d=r.extent),y=S(d),n||(n=S(r.spatialReference||r.extent||d)),Object(j.a)(d,n)||!y||y.equals(n)){e.next=39;break}return e.abrupt("return",null);case 39:return m=P(Object(h.a)(),d.center?d.center:d),g=new v.a(x(m,m,y,n),n),O=null,O=p&&Object(c.i)(p.targetGeometry)&&"point"===p.targetGeometry.type?p.scale:t.hasOwnProperty("scale")&&t.scale?t.scale:t.hasOwnProperty("zoom")&&-1!==t.zoom&&i&&i.effectiveLODs?i.zoomToScale(t.zoom):Array.isArray(d)||"point"===d.type||"extent"===d.type&&0===d.width&&0===d.height?r.extent&&Object(j.a)(r.extent,n)?R(Object(j.d)(r.extent,n),f):r.extent?R(r.extent,f):u.scale:Object(j.a)(d.extent,n)?R(Object(j.d)(d.extent,n),f):R(d.extent,f),(w=T(t))&&(w.min&&w.min>O?O=w.min:w.max&&w.max<O&&(O=w.max)),_=0,p?_=p.rotation:t.hasOwnProperty("rotation")?_=t.rotation:u&&(_=u.rotation),k=new o.a({targetGeometry:g,scale:O,rotation:_}),e.abrupt("return",(i&&(k=i.fit(k),i.constrainByGeometry(k),i.rotationEnabled||(k.rotation=_)),k));case 48:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){var r=e.targetGeometry,n=t.targetGeometry;return r.x=n.x,r.y=n.y,r.spatialReference=n.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function D(e,t,r){return r?Object(d.m)(e,.5*(t[0]-r.right+r.left),.5*(t[1]-r.bottom+r.top)):Object(d.b)(e,t,.5)}var L,F=(L=Object(h.a)(),function(e,t,r){var n=t.targetGeometry;P(L,n);var i=.5*U(t);return e.xmin=L[0]-i*r[0],e.ymin=L[1]-i*r[1],e.xmax=L[0]+i*r[0],e.ymax=L[1]+i*r[1],e.spatialReference=n.spatialReference,e});function N(e,t,r,n,i){return X(e,t,r.center),e.scale=R(r,n),i&&i.constraints&&i.constraints.constrain(e),e}var B=function(){var e=Object(h.a)();return function(t,r,n){return Object(d.e)(t,function(e,t){return Object(d.b)(e,t,.5)}(t,r),D(e,r,n))}}(),V=function(){var e=Object(p.a)(),t=Object(h.a)();return function(r,n,i,a){var o=U(n),s=z(n);return Object(d.m)(t,o,o),Object(f.c)(e,t),Object(f.f)(e,e,s),Object(f.h)(e,e,B(t,i,a)),Object(f.h)(e,e,[0,a.top-a.bottom]),Object(d.m)(r,e[4],e[5])}}();function U(e){return e.scale*function(e){return Object(c.i)(e)&&Object(O.j)(e.spatialReference)?1/(39.37*I(e.spatialReference)*96):1}(e.targetGeometry)}function z(e){return Object(l.d)(e.rotation)||0}var q=function(){var e=Object(h.a)(),t=Object(h.a)(),r=Object(h.a)();return function(n,i,a,o,s,c){return Object(d.l)(e,i),Object(d.b)(t,a,.5*c),Object(d.m)(r,1/o*c,-1/o*c),Object(f.d)(n),Object(f.h)(n,n,t),s&&Object(f.f)(n,n,s),Object(f.g)(n,n,r),Object(f.h)(n,n,e),n}}(),H=function(){var e=Object(h.a)();return function(t,r,n,i){var a=U(r),o=z(r);return P(e,r.targetGeometry),q(t,e,n,a,o,i)}}(),G=function(){var e=Object(h.a)();return function(t,r,n,i){var a=U(r);return P(e,r.targetGeometry),q(t,e,n,a,0,i)}}();function W(e){if(e.isWrappable){var t=Object(O.d)(e);return t.valid[1]-t.valid[0]}return 0}function J(e,t){return Math.round(W(e)/t)}function $(e,t){return function(e,t){return A.apply(this,arguments)}(e,t)}var Z=function(){var e=Object(h.a)(),t=Object(h.a)(),r=[0,0,0];return function(n,i,a){Object(d.a)(e,n,i),Object(d.f)(e,e),Object(d.a)(t,n,a),Object(d.f)(t,t),Object(d.g)(r,e,t);var o=Math.acos(Object(d.h)(e,t)/(Object(d.k)(e)*Object(d.k)(t)))*k;return r[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),Q=function(){var e=Object(h.a)();return function(t,r,n,i){var a=t.targetGeometry;return C(t,r),V(e,r,n,i),a.x+=e[0],a.y+=e[1],t}}(),X=(function(){var e=Object(h.a)()}(),function(){var e=Object(h.a)();return function(t,r,n){C(t,r);var i=t.targetGeometry,a=S(n),o=S(i);return P(e,n),x(e,e,a,o),i.x=e[0],i.y=e[1],t}}());var K=function(){var e=Object(h.a)();return function(t,r,n,i,a){a||(a="center"),Object(d.e)(e,n,i),Object(d.b)(e,e,.5);var o=e[0],s=e[1];switch(a){case"center":Object(d.m)(e,0,0);break;case"left":Object(d.m)(e,-o,0);break;case"top":Object(d.m)(e,0,s);break;case"right":Object(d.m)(e,o,0);break;case"bottom":Object(d.m)(e,0,-s);break;case"top-left":Object(d.m)(e,-o,s);break;case"bottom-left":Object(d.m)(e,-o,-s);break;case"top-right":Object(d.m)(e,o,s);break;case"bottom-right":Object(d.m)(e,o,-s)}return se(t,r,e),t}}();function Y(e,t,r){return C(e,t),e.rotation+=r,e}function ee(e,t,r){return C(e,t),e.rotation=r,e}var te=function(){var e=Object(h.a)();return function(t,r,n,i,a){return C(t,r),isNaN(n)||0===n||(ae(e,i,r,a),t.scale=r.scale*n,oe(e,e,t,a),se(t,t,Object(d.m)(e,e[0]-i[0],i[1]-e[1]))),t}}();function re(e,t,r){return C(e,t),e.scale=r,e}var ne=function(){var e=Object(h.a)();return function(t,r,n,i,a,o){return C(t,r),isNaN(n)||0===n||(ae(e,a,r,o),t.scale=r.scale*n,t.rotation+=i,oe(e,e,t,o),se(t,t,Object(d.m)(e,e[0]-a[0],a[1]-e[1]))),t}}(),ie=function(){var e=Object(h.a)(),t=Object(h.a)();return function(r,n,i,a,o,s,c){return B(t,s,c),Object(d.i)(e,o,t),a?ne(r,n,i,a,e,s):te(r,n,i,e,s)}}(),ae=function(){var e=Object(p.a)();return function(t,r,n,i){return Object(d.n)(t,r,function(e,t,r,n){return H(e,t,r,n),Object(f.a)(e,e)}(e,n,i,1))}}(),oe=function(){var e=Object(p.a)();return function(t,r,n,i){return Object(d.n)(t,r,H(e,n,i,1))}}(),se=function(){var e=Object(h.a)(),t=Object(p.a)();return function(r,n,i){C(r,n);var a=U(n),o=r.targetGeometry;return Object(f.b)(t,z(n)),Object(f.g)(t,t,Object(h.c)(a,a)),Object(d.n)(e,i,t),o.x+=e[0],o.y+=e[1],r}}()},kCQp:function(e,t,r){var n=r("RW/s"),i=r("0KRy"),a=r("xkFB");e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new a(o)}return r.set(e,t),this.size=r.size,this}},kDog:function(e,t,r){"use strict";var n,i=r("6CzD"),a=r("0942"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("hisu"),l=r("yBJb"),f=r("NthX"),p=r.n(f),d=r("dQW7"),h=r("p/dP"),b=r("v3KF"),y=r("0fJP"),v=r("7im+"),m=r("60cM"),g=r("+JF/"),O=r("wckI"),j=r("Qu15"),w=r("xAIp"),_=r("iaHD"),k=r("aZWO"),x=function(){function e(){Object(u.a)(this,e),this._observers=[]}return Object(l.a)(e,[{key:"observe",value:function(e){return this._observers.includes(e)||this._observers.push(e),new k.a(this._observers,e)}},{key:"notify",value:function(){for(var e=this._observers.slice(),t=0;t<e.length;++t){var r=e[t];r.onInvalidated(),r.onCommitted()}}}]),e}();function S(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var R=function(){function e(){Object(u.a)(this,e),this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}return Object(l.a)(e,[{key:"preventDefault",value:function(){this.cancellable&&(this.defaultPrevented=!0)}},{key:"reset",value:function(e){this.defaultPrevented=!1,this.item=e}}]),e}(),M=new m.a(R,void 0,(function(e){e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1})),E=function(){};function T(e){return e?e instanceof V?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function A(e){if(e&&e.length)return e[0]}function C(e,t,r,n){for(var i=Math.min(e.length-r,t.length-n),a=0;a<i&&e[r+a]===t[n+a];)a++;return a}var D=new Set,L=new Set,F=new Set,N=new Map,B=0,V=n=function(e){Object(o.a)(r,e);var t=I(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this,e))._chgListeners=[],n._notifications=null,n._timer=null,n._observable=new x,n.length=0,n._items=[],Object.defineProperty(Object(a.a)(n),"uid",{value:B++}),n}return Object(l.a)(r,[{key:"normalizeCtorArgs",value:function(e){return e?Array.isArray(e)||e instanceof n?{items:e}:e:{}}},{key:Symbol.iterator,value:p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.items,"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"items",get:function(){return Object(j.c)(this._observable),this._items}},{key:"items",set:function(e){this._emitBeforeChanges(1)||(this._splice.apply(this,[0,this.length].concat(Object(i.a)(T(e)))),this._emitAfterChanges(1))}},{key:"hasEventListener",value:function(e){return"change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e)}},{key:"on",value:function(e,t){if("change"===e){var r=this._chgListeners,n={removed:!1,callback:t};return r.push(n),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),{remove:function(){this.remove=E,n.removed=!0,r.splice(r.indexOf(n),1)}}}return this._emitter.on(e,t)}},{key:"once",value:function(e,t){var r=this.on(e,t);return{remove:function(){r.remove()}}}},{key:"add",value:function(e,t){if(Object(j.c)(this._observable),this._emitBeforeChanges(1))return this;var r=this.getNextIndex(null!=t?t:null);return this._splice(r,0,e),this._emitAfterChanges(1),this}},{key:"addMany",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._items.length;if(Object(j.c)(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(1))return this;var r=this.getNextIndex(t);return this._splice.apply(this,[r,0].concat(Object(i.a)(T(e)))),this._emitAfterChanges(1),this}},{key:"removeAll",value:function(){if(Object(j.c)(this._observable),!this.length||this._emitBeforeChanges(2))return[];var e=this._splice(0,this.length)||[];return this._emitAfterChanges(2),e}},{key:"clone",value:function(){return Object(j.c)(this._observable),this._createNewInstance({items:this._items.map(y.a)})}},{key:"concat",value:function(){var e;Object(j.c)(this._observable);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.map(T);return this._createNewInstance({items:(e=this._items).concat.apply(e,Object(i.a)(a))})}},{key:"drain",value:function(e,t){if(Object(j.c)(this._observable),this.length&&!this._emitBeforeChanges(2)){for(var r=Object(v.c)(this._splice(0,this.length)),n=r.length,i=0;i<n;i++)e.call(t,r[i],i,r);this._emitAfterChanges(2)}}},{key:"every",value:function(e,t){return Object(j.c)(this._observable),this._items.every(e,t)}},{key:"filter",value:function(e,t){var r;return Object(j.c)(this._observable),r=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}},{key:"find",value:function(e,t){return Object(j.c)(this._observable),this._items.find(e,t)}},{key:"findIndex",value:function(e,t){return Object(j.c)(this._observable),this._items.findIndex(e,t)}},{key:"flatten",value:function(e,t){Object(j.c)(this._observable);var r=[];return function e(t,r,n,i){r&&r.forEach((function(r,a,o){t.push(r),e(t,n.call(i,r,a,o),n,i)}))}(r,this,e,t),new n(r)}},{key:"forEach",value:function(e,t){return Object(j.c)(this._observable),this._items.forEach(e,t)}},{key:"getItemAt",value:function(e){return Object(j.c)(this._observable),this._items[e]}},{key:"getNextIndex",value:function(e){Object(j.c)(this._observable);var t=this.length;return(e=null==e?t:e)<0?e=0:e>t&&(e=t),e}},{key:"includes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(j.c)(this._observable),this._items.includes(e,t)}},{key:"indexOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(j.c)(this._observable),this._items.indexOf(e,t)}},{key:"join",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:",";return Object(j.c)(this._observable),this._items.join(e)}},{key:"lastIndexOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length-1;return Object(j.c)(this._observable),this._items.lastIndexOf(e,t)}},{key:"map",value:function(e,t){Object(j.c)(this._observable);var r=this._items.map(e,t);return new n({items:r})}},{key:"reorder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length-1;Object(j.c)(this._observable);var r=this.indexOf(e);if(-1!==r){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(4))return e;this._splice(r,1),this._splice(t,0,e),this._emitAfterChanges(4)}return e}}},{key:"pop",value:function(){if(Object(j.c)(this._observable),this.length&&!this._emitBeforeChanges(2)){var e=A(this._splice(this.length-1,1));return this._emitAfterChanges(2),e}}},{key:"push",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Object(j.c)(this._observable),this._emitBeforeChanges(1)||(this._splice.apply(this,[this.length,0].concat(t)),this._emitAfterChanges(1)),this.length}},{key:"reduce",value:function(e,t){Object(j.c)(this._observable);var r=this._items;return 2===arguments.length?r.reduce(e,t):r.reduce(e)}},{key:"reduceRight",value:function(e,t){Object(j.c)(this._observable);var r=this._items;return 2===arguments.length?r.reduceRight(e,t):r.reduceRight(e)}},{key:"remove",value:function(e){return Object(j.c)(this._observable),this.removeAt(this.indexOf(e))}},{key:"removeAt",value:function(e){if(Object(j.c)(this._observable),!(e<0||e>=this.length||this._emitBeforeChanges(2))){var t=A(this._splice(e,1));return this._emitAfterChanges(2),t}}},{key:"removeMany",value:function(e){if(Object(j.c)(this._observable),!e||!e.length||this._emitBeforeChanges(2))return[];for(var t=e instanceof n?e.toArray():e,r=this._items,i=[],a=t.length,o=0;o<a;o++){var s=t[o],c=r.indexOf(s);if(c>-1){var u=1+C(t,r,o+1,c+1),l=this._splice(c,u);l&&l.length>0&&i.push.apply(i,l),o+=u-1}}return this._emitAfterChanges(2),i}},{key:"reverse",value:function(){if(Object(j.c)(this._observable),this._emitBeforeChanges(4))return this;var e=this._splice(0,this.length);return e&&(e.reverse(),this._splice.apply(this,[0,0].concat(Object(i.a)(e)))),this._emitAfterChanges(4),this}},{key:"shift",value:function(){if(Object(j.c)(this._observable),this.length&&!this._emitBeforeChanges(2)){var e=A(this._splice(0,1));return this._emitAfterChanges(2),e}}},{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return Object(j.c)(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}},{key:"some",value:function(e,t){return Object(j.c)(this._observable),this._items.some(e,t)}},{key:"sort",value:function(e){if(Object(j.c)(this._observable),!this.length||this._emitBeforeChanges(4))return this;var t=Object(v.c)(this._splice(0,this.length));return arguments.length?t.sort(e):t.sort(),this._splice.apply(this,[0,0].concat(Object(i.a)(t))),this._emitAfterChanges(4),this}},{key:"splice",value:function(e,t){Object(j.c)(this._observable);for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var a=(t?2:0)|(n.length?1:0);if(this._emitBeforeChanges(a))return[];var o=this._splice.apply(this,[e,t].concat(n))||[];return this._emitAfterChanges(a),o}},{key:"toArray",value:function(){return Object(j.c)(this._observable),this._items.slice()}},{key:"toJSON",value:function(){return Object(j.c)(this._observable),this.toArray()}},{key:"toLocaleString",value:function(){return Object(j.c)(this._observable),this._items.toLocaleString()}},{key:"toString",value:function(){return Object(j.c)(this._observable),this._items.toString()}},{key:"unshift",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Object(j.c)(this._observable),!t.length||this._emitBeforeChanges(1)||(this._splice.apply(this,[0,0].concat(t)),this._emitAfterChanges(1)),this.length}},{key:"_createNewInstance",value:function(e){return new this.constructor(e)}},{key:"_splice",value:function(e,t){for(var r=this,n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var s,c,u=this._items,l=this.constructor.prototype.itemType;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=Object(g.b)((function(){return r._dispatchChange()}))),t){if(c=u.splice(e,t),this.hasEventListener("before-remove")){var f=M.acquire();f.target=this,f.cancellable=!0;for(var p=0,d=c.length;p<d;p++)s=c[p],f.reset(s),this.emit("before-remove",f),f.defaultPrevented&&(c.splice(p,1),u.splice(e,0,s),e+=1,p-=1,d-=1);M.release(f)}if(this.length=this._items.length,this.hasEventListener("after-remove")){var h=M.acquire();h.target=this,h.cancellable=!1;for(var b=c.length,y=0;y<b;y++)h.reset(c[y]),this.emit("after-remove",h);M.release(h)}}if(a&&a.length){if(l){var v,m=[],O=S(a);try{for(O.s();!(v=O.n()).done;){var j=v.value,w=l.ensureType(j);null==w&&null!=j||m.push(w)}}catch(L){O.e(L)}finally{O.f()}a=m}var _=this.hasEventListener("before-add"),k=this.hasEventListener("after-add"),x=e===this.length;if(_||k){var P=M.acquire();P.target=this,P.cancellable=!0;var I=M.acquire();I.target=this,I.cancellable=!1;var R,E=S(a);try{for(E.s();!(R=E.n()).done;){var T=R.value;_?(P.reset(T),this.emit("before-add",P),P.defaultPrevented||(x?u.push(T):u.splice(e++,0,T),this._set("length",u.length),k&&(I.reset(T),this.emit("after-add",I)))):(x?u.push(T):u.splice(e++,0,T),this._set("length",u.length),I.reset(T),this.emit("after-add",I))}}catch(L){E.e(L)}finally{E.f()}M.release(I),M.release(P)}else{if(x){var A,C=S(a);try{for(C.s();!(A=C.n()).done;){var D=A.value;u.push(D)}}catch(L){C.e(L)}finally{C.f()}}else u.splice.apply(u,[e,0].concat(Object(i.a)(a)));this._set("length",u.length)}}return(a&&a.length||c&&c.length)&&this._notifyChangeEvent(a,c),c}},{key:"_emitBeforeChanges",value:function(e){var t=!1;if(this.hasEventListener("before-changes")){var r=M.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,M.release(r)}return t}},{key:"_emitAfterChanges",value:function(e){if(this.hasEventListener("after-changes")){var t=M.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),M.release(t)}this._observable.notify()}},{key:"_notifyChangeEvent",value:function(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}},{key:"_dispatchChange",value:function(){var e=this;if(this._timer&&(this._timer.remove(),this._timer=null),this._notifications){var t=this._notifications;this._notifications=null;var r,n=S(t);try{var i=function(){var t=r.value,n=t.changes;D.clear(),L.clear(),F.clear();var i,a=S(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.added,c=o.removed;if(s)if(0===F.size&&0===L.size){var u,l=S(s);try{for(l.s();!(u=l.n()).done;){var f=u.value;D.add(f)}}catch(T){l.e(T)}finally{l.f()}}else{var p,d=S(s);try{for(d.s();!(p=d.n()).done;){var b=p.value;L.has(b)?(F.add(b),L.delete(b)):F.has(b)||D.add(b)}}catch(T){d.e(T)}finally{d.f()}}if(c)if(0===F.size&&0===D.size){var y,v=S(c);try{for(v.s();!(y=v.n()).done;){var m=y.value;L.add(m)}}catch(T){v.e(T)}finally{v.f()}}else{var g,O=S(c);try{for(O.s();!(g=O.n()).done;){var j=g.value;D.has(j)?D.delete(j):(F.delete(j),L.add(j))}}catch(T){O.e(T)}finally{O.f()}}}}catch(T){a.e(T)}finally{a.f()}var w=h.a.acquire();D.forEach((function(e){w.push(e)}));var _=h.a.acquire();L.forEach((function(e){_.push(e)}));var k=e._items,x=t.items,P=h.a.acquire();if(F.forEach((function(e){x.indexOf(e)!==k.indexOf(e)&&P.push(e)})),t.listeners&&(w.length||_.length||P.length))for(var I={target:e,added:w,removed:_,moved:P},R=t.listeners.length,M=0;M<R;M++){var E=t.listeners[M];E.removed||E.callback.call(e,I)}h.a.release(w),h.a.release(_),h.a.release(P)};for(n.s();!(r=n.n()).done;)i()}catch(a){n.e(a)}finally{n.f()}D.clear(),L.clear(),F.clear()}}}],[{key:"isCollection",value:function(e){return null!=e&&e instanceof n}}]),r}(b.a.EventedAccessor);V.ofType=function(e){if(!e)return n;if(N.has(e))return N.get(e);var t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(var r in e.typeMap){var i=e.typeMap[r].prototype.declaredClass;t?t+=" | ".concat(i):t=i}var a=function(e){Object(o.a)(r,e);var t=I(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return r}(n);a=Object(d.a)([Object(_.a)("esri.core.Collection<".concat(t,">"))],a);var s={Type:e,ensureType:"function"==typeof e?Object(O.m)(e):Object(O.k)(e)};return Object.defineProperty(a.prototype,"itemType",{value:s}),N.set(e,a),a},Object(d.a)([Object(w.b)()],V.prototype,"length",void 0),Object(d.a)([Object(w.b)()],V.prototype,"items",null);var U=V=n=Object(d.a)([Object(_.a)("esri.core.Collection")],V);t.a=U},kJId:function(e,t,r){"use strict";r.r(t);var n=r("aNYv"),i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("ZTBZ"),f=r("4VMI"),p=r("7i+s"),d=r("0n+b"),h=r("7im+"),b=r("xAIp"),y=(r("J4Pc"),r("wckI"),r("TM+E"),r("mp5+")),v=r("iaHD"),m=r("jr4m"),g=r("YHXj"),O=r("aic5"),j=r("SPOG");function w(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var x=new p.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null}),S=function(e){Object(o.a)(r,e);var t=k(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).displayFieldName=null,n.exceededTransferLimit=!1,n.features=[],n.fields=null,n.geometryType=null,n.hasM=!1,n.hasZ=!1,n.queryGeometry=null,n.spatialReference=null,n}return Object(a.a)(r,[{key:"readFeatures",value:function(e,t){for(var r=g.a.fromJSON(t.spatialReference),n=[],i=0;i<e.length;i++){var a=e[i],o=f.a.fromJSON(a),s=a.geometry&&a.geometry.spatialReference;Object(h.i)(o.geometry)&&!s&&(o.geometry.spatialReference=r),n.push(o)}return n}},{key:"writeGeometryType",value:function(e,t,r,n){if(e)x.write(e,t,r,n);else{var i=this.features;if(i){var a,o=w(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s&&Object(h.i)(s.geometry))return void x.write(s.geometry.type,t,r,n)}}catch(c){o.e(c)}finally{o.f()}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var r=!!e.spatialReference,n=Object(O.a)(e);return!r&&t.spatialReference&&(n.spatialReference=g.a.fromJSON(t.spatialReference)),n}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var r=this.features;if(r){var n,i=w(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a&&Object(h.i)(a.geometry)&&a.geometry.spatialReference)return void(t.spatialReference=a.geometry.spatialReference.toJSON())}}catch(o){i.e(o)}finally{i.f()}}}}},{key:"toJSON",value:function(e){var t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var n=t.features[r];if(n.geometry){var i=e&&e[r];n.geometry=i&&i.toJSON()||n.geometry}}return t}},{key:"quantize",value:function(e){for(var t=Object(n.a)(e.scale,2),r=t[0],i=t[1],a=Object(n.a)(e.translate,2),o=a[0],s=a[1],c=this.features,u=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-o)/r)}),(function(e){return Math.round((s-e)/i)})),l=0,f=c.length;l<f;l++)u(Object(h.p)(c[l].geometry))||(c.splice(l,1),l--,f--);return this.transform=e,this}},{key:"unquantize",value:function(){var e=this.geometryType,t=this.features,r=this.transform;if(!r)return this;var i,a=Object(n.a)(r.translate,2),o=a[0],s=a[1],c=Object(n.a)(r.scale,2),u=c[0],l=c[1],f=this._getHydrationFunction(e,(function(e){return e*u+o}),(function(e){return s-e*l})),p=w(t);try{for(p.s();!(i=p.n()).done;){var d=i.value.geometry;Object(h.i)(d)&&f(d)}}catch(b){p.e(b)}finally{p.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,r){for(var n,i,a=[],o=0,s=e.length;o<s;o++){var c=e[o];if(o>0){var u=t(c[0]),l=r(c[1]);u===n&&l===i||(a.push([u-n,l-i]),n=u,i=l)}else n=t(c[0]),i=r(c[1]),a.push([n,i])}return a.length>0?a:null}},{key:"_getQuantizationFunction",value:function(e,t,r){var n=this;return"point"===e?function(e){return e.x=t(e.x),e.y=r(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var i=Object(O.g)(e)?e.rings:e.paths,a=[],o=0,s=i.length;o<s;o++){var c=i[o],u=n._quantizePoints(c,t,r);u&&a.push(u)}return a.length>0?(Object(O.g)(e)?e.rings=a:e.paths=a,e):null}:"multipoint"===e?function(e){var i=n._quantizePoints(e.points,t,r);return i.length>0?(e.points=i,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,r){return"point"===e?function(e){e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var n,i,a=Object(O.g)(e)?e.rings:e.paths,o=0,s=a.length;o<s;o++)for(var c=a[o],u=0,l=c.length;u<l;u++){var f=c[u];u>0?(n+=f[0],i+=f[1]):(n=f[0],i=f[1]),f[0]=t(n),f[1]=r(i)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?function(e){for(var n,i,a=e.points,o=0,s=a.length;o<s;o++){var c=a[o];o>0?(n+=c[0],i+=c[1]):(n=c[0],i=c[1]),c[0]=t(n),c[1]=r(i)}}:void 0}}]),r}(d.a);Object(u.a)([Object(b.b)({type:String,json:{write:!0}})],S.prototype,"displayFieldName",void 0),Object(u.a)([Object(b.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],S.prototype,"exceededTransferLimit",void 0),Object(u.a)([Object(b.b)({type:[f.a],json:{write:!0}})],S.prototype,"features",void 0),Object(u.a)([Object(y.a)("features")],S.prototype,"readFeatures",null),Object(u.a)([Object(b.b)({type:[j.a],json:{write:!0}})],S.prototype,"fields",void 0),Object(u.a)([Object(b.b)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:x.read}}})],S.prototype,"geometryType",void 0),Object(u.a)([Object(m.a)("geometryType")],S.prototype,"writeGeometryType",null),Object(u.a)([Object(b.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],S.prototype,"hasM",void 0),Object(u.a)([Object(b.b)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],S.prototype,"hasZ",void 0),Object(u.a)([Object(b.b)({types:l.a,json:{write:!0}})],S.prototype,"queryGeometry",void 0),Object(u.a)([Object(y.a)("queryGeometry")],S.prototype,"readQueryGeometry",null),Object(u.a)([Object(b.b)({type:g.a,json:{write:!0}})],S.prototype,"spatialReference",void 0),Object(u.a)([Object(m.a)("spatialReference")],S.prototype,"writeSpatialReference",null),Object(u.a)([Object(b.b)({json:{write:!0}})],S.prototype,"transform",void 0),(S=Object(u.a)([Object(v.a)("esri.rest.support.FeatureSet")],S)).prototype.toJSON.isDefaultToJSON=!0,S||(S={});var P=S;t.default=P},kMPr:function(e,t,r){var n=r("M/tt"),i=r("zrDt"),a=r("glsI"),o=function(e){return function(t,r,o){var s,c=n(t),u=i(c.length),l=a(o,u);if(e&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},kMo5:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("e+GP"),i=r.n(n),a=r("0942");function o(e,t){return!t||"object"!==i()(t)&&"function"!=typeof t?Object(a.a)(e):t}},kRu0:function(e,t,r){"use strict";var n,i=r("mK0O"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("dQW7"),f=r("hZBP"),p=r("7i+s"),d=r("0fJP"),h=r("xAIp"),b=(r("wckI"),r("J4Pc"),r("TM+E"),r("iaHD")),y=r("nd5+"),v=r("YHXj"),m=r("3p7a");function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var w=new p.a({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"}),_=n=function(e){Object(s.a)(r,e);var t=j(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).categories=null,n.disableExtraQuery=!1,n.extent=null,n.num=10,n.query=null,n.sortField=null,n.start=1,n}return Object(o.a)(r,[{key:"sortOrder",get:function(){return this._get("sortOrder")||"asc"},set:function(e){"asc"!==e&&"desc"!==e||this._set("sortOrder",e)}},{key:"clone",value:function(){return new n({categories:this.categories?Object(d.a)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}},{key:"toRequestOptions",value:function(e,t){var r,n;if(this.categories&&(r=this.categories.map((function(e){return Array.isArray(e)?JSON.stringify(e):e}))),this.extent){var i=Object(m.d)(this.extent,v.a.WGS84);i&&(n="".concat(i.xmin,",").concat(i.ymin,",").concat(i.xmax,",").concat(i.ymax))}var a=this.query;!this.disableExtraQuery&&e.extraQuery&&(a="("+a+")"+e.extraQuery);var o={categories:r,bbox:n,q:a,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(o.sortField=this.sortField.split(",").map((function(e){return w.toJSON(e.trim())})).join(","),o.sortOrder=this.sortOrder),{query:O(O({},t),o)}}}]),r}(f.a);Object(l.a)([Object(h.b)()],_.prototype,"categories",void 0),Object(l.a)([Object(h.b)()],_.prototype,"disableExtraQuery",void 0),Object(l.a)([Object(h.b)({type:y.a})],_.prototype,"extent",void 0),Object(l.a)([Object(h.b)()],_.prototype,"num",void 0),Object(l.a)([Object(h.b)()],_.prototype,"query",void 0),Object(l.a)([Object(h.b)()],_.prototype,"sortField",void 0),Object(l.a)([Object(h.b)()],_.prototype,"sortOrder",null),Object(l.a)([Object(h.b)()],_.prototype,"start",void 0);var k=_=n=Object(l.a)([Object(b.a)("esri.portal.PortalQueryParams")],_);t.a=k},kXPx:function(e,t,r){var n=r("COrk"),i=r("edSL"),a=r("dtdj"),o=r("BwbT"),s=r("2EQx"),c=r("a7YA"),u=r("cTHi");e.exports=function(e,t){return o(e)&&s(t)?c(u(e),t):function(r){var o=i(r,e);return void 0===o&&o===t?a(r,e):n(t,o,3)}}},kXkq:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("7i+s"),i=r("aic5"),a=new n.a({109006:"centimeters",9102:"decimal-degrees",109005:"decimeters",9002:"feet",109009:"inches",9036:"kilometers",9001:"meters",9035:"miles",109007:"millimeters",109012:"nautical-miles",9096:"yards"});function o(e){var t=e.toJSON(),r=t.geometries,n=t.deviationUnit,o={maxDeviation:t.maxDeviation};return r&&r.length&&(o.geometries=JSON.stringify({geometryType:Object(i.c)(r[0]),geometries:r}),o.sr=JSON.stringify(r[0].spatialReference)),a.write(n,o,"deviationUnit"),o}},knvM:function(e,t,r){var n=r("+dZb")("unionBy",r("qkBe"));n.placeholder=r("IOY3"),e.exports=n},kpMX:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return n}));r("Q7Dg"),r("XRld"),r("vVXE"),r("J4Pc"),r("TM+E");r("Ykki"),r("mjOD"),r("c+HS");function n(e){return e&&"function"==typeof e.render}function i(e){return e&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}},"l3+0":function(e,t,r){var n=r("ofiy");e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},l7Do:function(e,t,r){var n=r("WRuO"),i=r("SN9N"),a=r("EN0E"),o=r("ONOI"),s=r("9aUh"),c=r("Vujp"),u=r("Bq5F");e.exports=function e(t,r,l,f,p){t!==r&&a(r,(function(a,c){if(p||(p=new n),s(a))o(t,r,c,l,e,f,p);else{var d=f?f(u(t,c),a,c+"",t,r,p):void 0;void 0===d&&(d=a),i(t,c,d)}}),c)}},lDyH:function(e,t,r){"use strict";var n=r("hisu"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("dQW7"),c=r("7i+s"),u=r("0n+b"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var d=new c.a({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"}),h=function(e){Object(i.a)(r,e);var t=p(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).description=null,i.type=null,i}return r}(u.a);Object(s.a)([Object(l.b)({type:String,json:{write:!0}})],h.prototype,"description",void 0),Object(s.a)([Object(l.b)({type:String,json:{read:d.read,write:d.write}})],h.prototype,"type",void 0);var b=h=Object(s.a)([Object(f.a)("esri.rest.support.GPMessage")],h);t.a=b},lLPU:function(e,t,r){var n=r("f/Xo"),i=r("YaJL"),a=r("yoW1"),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:a;e.exports=o},lLlv:function(e,t,r){"use strict";var n=r("tM9Q"),i=r("aD51");"undefined"!=typeof IWidgetParams&&IWidgetParams&&IWidgetParams===Object(IWidgetParams)&&Object.isExtensible(IWidgetParams)&&!IWidgetParams.hasOwnProperty("__filemeta")&&Object.defineProperty(IWidgetParams,"__filemeta",{configurable:!0,value:{name:"IWidgetParams",filename:"src/widgets/LayerList.tsx"}});var a=function(e){return Object(i.c)(n.LayerList,e)};t.a=a,void 0!==a&&a&&a===Object(a)&&Object.isExtensible(a)&&!a.hasOwnProperty("__filemeta")&&Object.defineProperty(a,"__filemeta",{configurable:!0,value:{name:"LayerListt",filename:"src/widgets/LayerList.tsx"}})},lMmC:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r("hKEQ"),i=r("DuP7"),a=r("XWqC"),o=(r("U95q"),r("J+m1"),r("sFjk")),s=(r("U5FO"),r("AC3/"),r("SLE6")),c=r("Jf7A"),u=["oid","global-id"],l=["oid","global-id","guid"];function f(e,t){var r=e.displayField,s=e.editFieldsInfo,c=e.fields,u=e.objectIdField,l=e.title;if(!c)return null;var f=v({editFieldsInfo:s,fields:c,objectIdField:u},t);if(!f.length)return null;var p=function(e){var t=Object(i.l)(e),r=e.titleBase;return t?"".concat(r,": {").concat(t.trim(),"}"):r}({titleBase:l,fields:c,displayField:r}),d=[new o.a,new a.a];return new n.a({title:p,content:d,fieldInfos:f})}var p=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],d=function(e,t){var r=t.editFieldsInfo,n=t.objectIdField,i=t.visibleFieldNames;return i?i.has(e.name):!(b(e.name,r)||n&&e.name===n||u.indexOf(e.type)>-1||p.some((function(t){return t.test(e.name)})))};function h(e,t){return"oid"===e.type?-1:"oid"===t.type?1:g(e)?-1:g(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function b(e,t){if(!e||!t)return!1;var r=t.creationDateField,n=t.creatorField,i=t.editDateField,a=t.editorField;return-1!==[r&&r.toLowerCase(),n&&n.toLowerCase(),i&&i.toLowerCase(),a&&a.toLowerCase()].indexOf(e.toLowerCase())}function y(e,t){return e.editable&&-1===l.indexOf(e.type)&&!b(e.name,t)}function v(e,t){var r=e.editFieldsInfo,n=e.fields,i=e.objectIdField;return function(e,t){var r=e;return t&&(e=e.filter((function(e){return-1===t.indexOf(e.type)}))),e===r&&(e=e.slice()),e.sort(h),e}(n,(null==t?void 0:t.ignoreFieldTypes)||O).map((function(e){return new s.a({fieldName:e.name,isEditable:y(e,r),label:e.alias,format:m(e),visible:d(e,{editFieldsInfo:r,objectIdField:i,visibleFieldNames:null==t?void 0:t.visibleFieldNames})})}))}function m(e){switch(e.type){case"small-integer":case"integer":case"single":return new c.a({digitSeparator:!0,places:0});case"double":return new c.a({digitSeparator:!0,places:2});case"date":return new c.a({dateFormat:"long-month-day-year"});default:return null}}function g(e){return"name"===(e.name&&e.name.toLowerCase())||("name"===(e.alias&&e.alias.toLowerCase())||void 0)}var O=["geometry","blob","raster","guid","xml"]},lRaU:function(e,t,r){"use strict";r.d(t,"a",(function(){return w}));var n=r("hisu"),i=r("yBJb"),a=r("0942"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("kDog"),f=r("LuB+"),p=r("TM+E"),d=r("xAIp"),h=(r("J4Pc"),r("wckI"),r("iaHD"));function b(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var m="esri.support.TablesMixin",g=p.a.getLogger(m);function O(e){return e&&"group"===e.type}function j(e,t,r){if(e)for(var n=0,i=e.length;n<i;n++){var a=e.getItemAt(n);if(a[t]===r)return a;if(O(a)){var o=j(a.tables,t,r);if(o)return o}}}var w=function(e){var t=function(e){Object(o.a)(r,e);var t=v(r);function r(){var e;Object(n.a)(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).tables=new l.a,e.tables.on("after-add",(function(t){var r=t.item;r.parent&&r.parent!==Object(a.a)(e)&&"tables"in r.parent&&r.parent.tables.remove(r),r.parent=Object(a.a)(e),"feature"!==r.type&&g.error("Layer 'title:".concat(r.title,", id:").concat(r.id,"' of type '").concat(r.type,"' is not supported as a table and will therefore be ignored."))})),e.tables.on("after-remove",(function(e){e.item.parent=null})),e}return Object(i.a)(r,[{key:"destroy",value:function(){var e,t=b(this.tables.removeAll());try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(r){t.e(r)}finally{t.f()}this.tables.destroy()}},{key:"tables",set:function(e){this._set("tables",Object(f.b)(e,this._get("tables")))}},{key:"findTableById",value:function(e){return j(this.tables,"id",e)}},{key:"findTableByUid",value:function(e){return j(this.tables,"uid",e)}}]),r}(e);return Object(u.a)([Object(d.b)()],t.prototype,"tables",null),t=Object(u.a)([Object(h.a)(m)],t)}},lUv3:function(e,t,r){var n=r("nEaP");e.exports=n},lYsT:function(e,t,r){var n=r("UgeB"),i=r("T9Ud"),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},lZ6b:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("ERkP"),i=r("iexW");t.default=function(){return n.useContext(i.MapContext)}},lZmO:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return u}));var n=r("67w/"),i=/\{([^\}]+)\}/g;function a(e){return null==e?"":e}function o(e,t){return e.replace(i,"object"==typeof t?function(e,r){return a(Object(n.b)(r,t))}:function(e,r){return a(t(r))})}function s(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(function(e){return t&&-1!==t.indexOf(e)?e:"\\".concat(e)}))}function c(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function u(e){return(new DOMParser).parseFromString(e||"","text/html").body.innerText||""}},lgYy:function(e,t,r){var n=r("9aUh"),i=r("jL4t"),a=r("6758"),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=i(e),r=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&r.push(s);return r}},lh74:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("0n+b"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("aic5");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var h=function(e){Object(a.a)(r,e);var t=d(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).geometries=null,i.outSpatialReference=null,i.transformation=null,i.transformForward=null,i}return Object(i.a)(r,[{key:"toJSON",value:function(){var e=this.geometries.map((function(e){return e.toJSON()})),t=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:Object(p.c)(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}}]),r}(u.a);Object(c.a)([Object(l.b)()],h.prototype,"geometries",void 0),Object(c.a)([Object(l.b)({json:{read:{source:"outSR"}}})],h.prototype,"outSpatialReference",void 0),Object(c.a)([Object(l.b)()],h.prototype,"transformation",void 0),Object(c.a)([Object(l.b)()],h.prototype,"transformForward",void 0);var b=h=Object(c.a)([Object(f.a)("esri.rest.support.ProjectParameters")],h);t.a=b},lk3E:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("hisu"),i=r("yBJb"),a=function(){function e(t){Object(n.a)(this,e),this._notify=t,this._accessed=[],this._handles=[],this._invalidCount=0}return Object(i.a)(e,[{key:"destroy",value:function(){this._accessed.length=0,this.clear()}},{key:"onInvalidated",value:function(){this._invalidCount++}},{key:"onCommitted",value:function(){var e=this._invalidCount;if(1===e)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}},{key:"onObservableAccessed",value:function(e){this._accessed.includes(e)||this._accessed.push(e)}},{key:"onTrackingEnd",value:function(){for(var e=this._handles,t=this._accessed,r=0;r<t.length;++r)e.push(t[r].observe(this));t.length=0}},{key:"clear",value:function(){for(var e=this._handles,t=0;t<e.length;++t)e[t].remove();e.length=0}}]),e}()},lrNM:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o}));var n=r("7i+s");function i(e){return"point"===e||"multipoint"===e||"polyline"===e||"polygon"===e}var a=Object(n.b)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),o=Object(n.b)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},ltNL:function(e,t,r){"use strict";r.d(t,"a",(function(){return M}));var n=r("mK0O"),i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("WYis"),f=r("0n+b"),p=r("0fJP"),d=r("frPA"),h=r("xAIp"),b=(r("wckI"),r("J4Pc"),r("TM+E"),r("iaHD")),y=r("I2xc");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var O=function(e){Object(o.a)(r,e);var t=g(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).color=new l.a([0,0,0,1]),n.extensionLength=0,n.size=Object(d.d)(1),n}return Object(a.a)(r,[{key:"clone",value:function(){}},{key:"cloneProperties",value:function(){return{color:Object(p.a)(this.color),size:this.size,extensionLength:this.extensionLength}}}]),r}(f.a);Object(u.a)([Object(h.b)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],O.prototype,"type",void 0),Object(u.a)([Object(h.b)(y.a)],O.prototype,"color",void 0),Object(u.a)([Object(h.b)(m(m({},y.b),{},{json:{write:{overridePolicy:function(e){return{enabled:!!e}}}}}))],O.prototype,"extensionLength",void 0),Object(u.a)([Object(h.b)(y.b)],O.prototype,"size",void 0);var j,w=O=Object(u.a)([Object(b.a)("esri.symbols.edges.Edges3D")],O),_=r("vo12");function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var x=j=function(e){Object(o.a)(r,e);var t=k(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="sketch",n}return Object(a.a)(r,[{key:"clone",value:function(){return new j(this.cloneProperties())}}]),r}(w);Object(u.a)([Object(_.a)({sketch:"sketch"},{readOnly:!0})],x.prototype,"type",void 0);var S,P=x=j=Object(u.a)([Object(b.a)("esri.symbols.edges.SketchEdges3D")],x);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var R=S=function(e){Object(o.a)(r,e);var t=I(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="solid",n}return Object(a.a)(r,[{key:"clone",value:function(){return new S(this.cloneProperties())}}]),r}(w);Object(u.a)([Object(_.a)({solid:"solid"},{readOnly:!0})],R.prototype,"type",void 0);var M={types:{key:"type",base:w,typeMap:{solid:R=S=Object(u.a)([Object(b.a)("esri.symbols.support.SolidEdges3D")],R),sketch:P}},json:{write:!0}}},lvFO:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("kDog"),f=r("0fJP"),p=r("xAIp"),d=(r("wckI"),r("J4Pc"),r("TM+E"),r("vo12")),h=r("iaHD"),b=r("UKs3"),y=r("28EP"),v=r("ykrQ");function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var g=l.a.ofType({base:null,key:"type",typeMap:{line:b.a,path:y.a}}),O=l.a.ofType({base:null,key:"type",typeMap:{line:b.a,path:y.a}}),j=n=function(e){Object(o.a)(r,e);var t=m(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).symbolLayers=new g,n.type="line-3d",n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({styleOrigin:Object(f.a)(this.styleOrigin),symbolLayers:Object(f.a)(this.symbolLayers),thumbnail:Object(f.a)(this.thumbnail)})}}],[{key:"fromSimpleLineSymbol",value:function(e){return new n({symbolLayers:[b.a.fromSimpleLineSymbol(e)]})}}]),r}(v.a);Object(u.a)([Object(p.b)({type:g,json:{type:O}})],j.prototype,"symbolLayers",void 0),Object(u.a)([Object(d.a)({LineSymbol3D:"line-3d"},{readOnly:!0})],j.prototype,"type",void 0);var w=j=n=Object(u.a)([Object(h.a)("esri.symbols.LineSymbol3D")],j);t.a=w},lw3w:function(e,t,r){var n;e.exports=(n=r("rzlk"))&&n.default||n},lzMW:function(e,t,r){"use strict";var n=r("NthX"),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r("ERkP"),l=c(r("lZ6b")),f=r("pjU7"),p=c(r("wvjj"));t.default=function(e){var t=e.expander,i=void 0===t?p.default.expander:t,a=e.expanderDefaultOpen,c=void 0===a?p.default.expanderDefaultOpen:a,d=e.position,h=void 0===d?p.default.position:d,b=e.widgetArgs,y=void 0===b?p.default.widgetArgs:b,v=e.expandWidgetArgs,m=void 0===v?p.default.expandWidgetArgs:v,g=e.expandIconClass,O=void 0===g?"esri-icon-basemap":g,j=l.default().view;return u.useEffect((function(){var e,t,a=!0;return(null==j?void 0:j.ready)&&s(void 0,void 0,void 0,n.mark((function s(){var u,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return o(r("gCjI"))}));case 2:if(u=n.sent,l=u.default,e=new l(Object.assign({view:j},y)),!i){n.next=11;break}return n.next=8,f.addExpander({view:j,widgetContent:e,expandIconClass:O,position:h,defaultOpen:c,expandWidgetArgs:m});case 8:t=n.sent,n.next=12;break;case 11:a&&(null==j||j.ui.add(e,h));case 12:case"end":return n.stop()}}),s)}))),function(){a=!1,null==e||e.destroy(),null==t||t.destroy()}}),[j,i,h]),null}},m3cY:function(e,t,r){var n=r("PAOY"),i=r("zYYD"),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(a,n).replace(o,"")}},m5HO:function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,r=t.aliasToReal,n={};for(var i in r){var a=r[i];e.call(n,a)?n[a].push(i):n[a]=[i]}return n}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},mEVR:function(e,t,r){"use strict";r.r(t);r("oKgo")},mH3y:function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},mHKk:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return d})),r.d(t,"f",(function(){return h})),r.d(t,"g",(function(){return p})),r.d(t,"h",(function(){return f}));var n=r("YHXj"),i=r("1xKk"),a=r("12QT");function o(e){return new n.a({wkt:'GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",'.concat(e.radius,',0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]')})}var s=o(i.a),c=o(i.b),u=o(i.c),l=new n.a({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",'.concat(i.a.radius,',298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]')});function f(e){return e&&e===i.b?c:e&&e===i.c?u:s}function p(e){return e&&(Object(a.h)(e)||e===c)?c:e&&(Object(a.i)(e)||e===u)?u:s}function d(e){return e&&(Object(a.h)(e)||e===c)?i.b:e&&(Object(a.i)(e)||e===u)?i.c:i.a}function h(e){return Object(a.l)(e)?i.b:Object(a.m)(e)?i.c:i.a}},mIFe:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return f}));var n=r("mK0O"),i=(r("J4Pc"),r("6J1V"));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){var r=e||{},n=r.format,a=r.quality,o=r.rotation,s=r.disableDecorations,c=v(e,t.padding),u=function(e,t){var r={x:0,y:0,width:t.width,height:t.height};if(e&&e.area){null!=e.area.x&&(r.x=Math.floor(e.area.x)),null!=e.area.y&&(r.y=Math.floor(e.area.y));var n=null!=e.area.width?Math.floor(e.area.width):null,i=null!=e.area.height?Math.floor(e.area.height):null;if(r.width=t.width-r.x,r.height=t.height-r.y,null!=n&&null!=i)r.width=Math.min(r.width,n),r.height=Math.min(r.height,i);else if(null==n&&null!=i){var a=Math.min(r.width,n);r.height=a/r.width*r.height,r.width=a}else if(null!=n&&null==i){var o=Math.min(r.height,i);r.width=o/r.height*r.width,r.height=o}}return function(e,t){var r=Math.floor(Math.max(e.x,0)),n=Math.floor(Math.max(e.y,0)),i={x:r,y:n,width:Math.floor(Math.min(e.width,t.width-r)),height:Math.floor(Math.min(e.height,t.height-n))},a=i.width/i.height,o=e.width/e.height;if(o===a)return i;if(o>a){var s=Math.floor(i.width/o),c=i.height-s;return{x:i.x,y:Math.floor(i.y+c/2),width:i.width,height:s}}var u=Math.floor(i.height*o),l=i.width-u;return{x:Math.floor(i.x+l/2),y:i.y,width:u,height:i.height}}(function(e,t){if(!t||null==t.width||null==t.height)return e;var r=t.width/t.height,n=e.width/e.height;if(n===r)return e;if(n<r){var i=Math.floor(e.height*r);return e.x-=(i-e.width)/2,e.width=i,e}var a=Math.floor(e.width/r);return e.y-=(a-e.height)/2,e.height=a,e}(r,e),t)}(e,{width:t.width-c.left-c.right,height:t.height-c.top-c.bottom}),l=function(e,t){if(!e)return t;var r=e.width,n=e.height;if(null!=r&&null!=n)return{width:Math.floor(r),height:Math.floor(n)};if(null==r&&null==n)return t;var i=t.width/t.height;return null==n?{width:Math.floor(r),height:Math.floor(r/i)}:{width:Math.floor(n*i),height:Math.floor(n)}}(e,u),f=l.width,p=l.height,d=function(e){switch(e){case"png":case"jpg":case"jpeg":return e;case null:case void 0:default:return g}}(n),h=O[d];return{format:d,quality:Object(i.e)(null!=a?a:h,0,100),area:u,width:f,height:p,rotation:o,disableDecorations:!!s,ignoreBackground:!(!e||!e.ignoreBackground),ignorePadding:!(!e||!e.ignorePadding)}}function c(e,t){var r=s(e,t),n=r.area,i=r.width/n.width,a=v(r,t.padding),o=a.left+a.right,c=a.top+a.bottom,u=t.width-o,l=t.height-c,f=Math.floor(u*i+o),p=Math.floor(l*i+c),d=e&&e.layers?e.layers:[],h=r.ignoreBackground,b=r.ignorePadding;return{framebufferWidth:f,framebufferHeight:p,region:{x:Math.floor(n.x*i)+a.left,y:Math.floor(n.y*i)+a.top,width:r.width,height:r.height},format:r.format,quality:r.quality,rotation:r.rotation,pixelRatio:i,layers:d,disableDecorations:r.disableDecorations,ignoreBackground:h,ignorePadding:b}}function u(e,t,r,n){n.premultipliedAlpha&&function(e){for(var t=e.data,r=t.length,n=0;n<r;n+=4){var i=t[n+3];if(i>0){var a=i/255;t[n+0]=t[n+0]/a,t[n+1]=t[n+1]/a,t[n+2]=t[n+2]/a}}}(e),r.width=e.width,r.height=e.height;var i=r.getContext("2d");i.putImageData(e,0,0),n.flipY&&function(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}(i);var a=i.getImageData(0,0,e.width,e.height),o=function(e,t){var r=m[t.format],n=t.quality/100;return e.toDataURL(r,n)}(r,t);return r.width=0,r.height=0,{dataUrl:o,data:a}}function l(e,t,r){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(y)try{return new ImageData(e,t)}catch(n){y=!1}return h(e,t,r)}function f(e,t,r,n){if(!t||!r)throw new Error("Cannot construct image data without dimensions");if(y)try{return new ImageData(e,t,r)}catch(c){y=!1}var i=h(t,r,n);return i.data.set(e,0),i}function p(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.width-n,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e.height-i,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=e.data,u=t.width,l=t.height,f=t.data,p=a/u,d=o/l,h=Math.ceil(p/2),b=Math.ceil(d/2),y=e.width,v=0;v<l;v++)for(var m=0;m<u;m++){for(var g=4*(m+(s?l-v-1:v)*u),O=0,j=0,w=0,_=0,k=0,x=0,S=(v+.5)*d,P=Math.floor(v*d);P<(v+1)*d;P++)for(var I=Math.abs(S-(P+.5))/b,R=(m+.5)*p,M=I*I,E=Math.floor(m*p);E<(m+1)*p;E++){var T=Math.abs(R-(E+.5))/h,A=Math.sqrt(M+T*T);if(!(A>=1)){var C=2*A*A*A-3*A*A+1,D=4*(n+E+(i+P)*y);x+=C*c[D+3],j+=C,!r&&c[D+3]<255&&(C=C*c[D+3]/255),w+=C*c[D],_+=C*c[D+1],k+=C*c[D+2],O+=C}}f[g]=w/O,f[g+1]=_/O,f[g+2]=k/O,f[g+3]=x/j}return t}function d(e,t,r){if(!t)return e;var n=e.framebufferWidth,i=e.framebufferHeight,a=e.pixelRatio,s=e.region,c=v(e,r),u=c.left+c.right,l=c.top+c.bottom,f=n-u,p=i-l,d=Math.min(8,Math.min((2048-u)/f,(2048-l)/p));return d<1.5?e:o(o({},e),{},{framebufferWidth:Math.round(f*d)+u,framebufferHeight:Math.round(p*d)+l,pixelRatio:a*d,resample:{region:{x:Math.round((s.x-c.left)*d)+c.left,y:Math.round((s.y-c.top)*d)+c.top,width:Math.round(s.width*d),height:Math.round(s.height*d)},width:n,height:i}})}function h(e,t,r){return r||(b||((b=document.createElement("canvas")).width=1,b.height=1),r=b),r.getContext("2d").createImageData(e,t)}var b=null,y=!0;function v(e,t){return!t||e&&e.ignorePadding?j:t}var m={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},g="png",O={png:100,jpg:98,jpeg:98},j={top:0,right:0,bottom:0,left:0}},mK0O:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},miKF:function(e,t,r){"use strict";function n(e,t,r,n){var i=null,a=1e3;"number"==typeof t?(a=t,n=r):(i=null!=t?t:null,a=r);var o,s=0,c=function(){s=0,e.apply(n,o)},u=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i&&i.apply(n,t),o=t,a?s||(s=setTimeout(c,a)):c()};return u.remove=function(){s&&(clearTimeout(s),s=0)},u.forceUpdate=function(){s&&(clearTimeout(s),c())},u.hasPendingUpdates=function(){return!!s},u}r.d(t,"a",(function(){return n}))},mjOD:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("tYqq"),i=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},a=function e(t,r){for(var n=0,a=t.length;n<a;n++){var o=t[n];Array.isArray(o)?e(o,r):null!=o&&!1!==o&&(o.hasOwnProperty("vnodeSelector")||(o=i(o)),r.push(o))}},o=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(1===r.length&&"string"==typeof r[0])return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var i=[];return a(r,i),{vnodeSelector:e,properties:t||void 0,children:i,text:void 0,domNode:null}};function s(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return"function"!=typeof e||Object(n.b)(e)?o.apply(void 0,[e,t].concat(i)):e.apply(void 0,[t].concat(i))}},mkiw:function(e,t,r){"use strict";var n=r("NthX"),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r("ERkP"),l=c(r("lZ6b")),f=r("pjU7"),p=c(r("wvjj"));t.default=function(e){var t=e.expander,i=void 0===t?p.default.expander:t,a=e.expanderDefaultOpen,c=void 0===a?p.default.expanderDefaultOpen:a,d=e.position,h=void 0===d?p.default.position:d,b=e.widgetArgs,y=void 0===b?p.default.widgetArgs:b,v=e.expandWidgetArgs,m=void 0===v?p.default.expandWidgetArgs:v,g=e.expandIconClass,O=void 0===g?"esri-icon-legend":g,j=l.default().view;return u.useEffect((function(){var e,t,a=!0;return(null==j?void 0:j.ready)&&s(void 0,void 0,void 0,n.mark((function s(){var u,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then((function(){return o(r("wC0I"))}));case 2:if(u=n.sent,l=u.default,e=new l(Object.assign({view:j},y)),!i){n.next=11;break}return n.next=8,f.addExpander({view:j,widgetContent:e,expandIconClass:O,position:h,defaultOpen:c,expandWidgetArgs:m});case 8:t=n.sent,n.next=12;break;case 11:a&&(null==j||j.ui.add(e,h));case 12:case"end":return n.stop()}}),s)}))),function(){a=!1,null==e||e.destroy(),null==t||t.destroy()}}),[j,i,h]),null}},mm4W:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return u}));r("J4Pc");var n,i,a=r("s2cg"),o=r("x/Hb"),s=r("05DL"),c=r("IjXt");function u(e,t){switch(e.type){case"range":var r="range"in e?e.range[0]:e.minValue,i="range"in e?e.range[1]:e.maxValue;if(+t<r||+t>i)return n.VALUE_OUT_OF_RANGE;break;case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((function(e){return null==e||e.code!==t})))return n.INVALID_CODED_VALUE}return null}(i=n||(n={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",i.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var l={key:"type",base:o.a,typeMap:{range:c.a,"coded-value":a.a,inherited:s.a}};function f(e){if(e&&"range"===e.type)return{min:"range"in e?e.range[0]:e.minValue,max:"range"in e?e.range[1]:e.maxValue}}function p(e){if(!e||!e.type)return null;switch(e.type){case"range":return c.a.fromJSON(e);case"codedValue":return a.a.fromJSON(e);case"inherited":return s.a.fromJSON(e)}return null}},"mp5+":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("67w/"),i=r("xAIp");function a(e,t,r){var a,o;return void 0===t||Array.isArray(t)?(o=e,r=t,a=[void 0]):(o=t,a=Array.isArray(e)?e:[e]),function(e,t){var s=e.constructor.prototype;a.forEach((function(a){var c=Object(i.c)(e,a,o);c.read&&"object"!=typeof c.read&&(c.read={}),Object(n.c)("read.reader",s[t],c),r&&(c.read.source=(c.read.source||[]).concat(r))}))}}},mwLw:function(e,t,r){var n=r("+dZb")("get",r("edSL"));n.placeholder=r("IOY3"),e.exports=n},n78G:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=new(r("7i+s").a)({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"})},n7Nx:function(e,t,r){var n=r("Sq4h"),i=r("s3UK");e.exports=function(e,t,r){var a=1&t,o=n(e);return function t(){var n=this&&this!==i&&this instanceof t?o:e;return n.apply(a?r:this,arguments)}}},nEaP:function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,r("pCvA"))},nHIk:function(e,t,r){var n=r("Hvpk"),i=r("nRc6"),a=r("VSW8");e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},nRc6:function(e,t,r){var n=r("Hvpk"),i=r("xwiM"),a=r("gDYM"),o=r("W9fh"),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(a(e),t=o(t,!0),a(r),i)try{return s(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},naAV:function(e,t,r){var n=r("KjZ+");e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},nbiN:function(e,t,r){var n=r("H+3J")();e.exports=n},"nd5+":function(e,t,r){"use strict";var n,i=r("aNYv"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("dQW7"),f=r("7im+"),p=r("lZmO"),d=r("xAIp"),h=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),b=r("DjXQ"),y=r("OTJA"),v=r("YHXj"),m=r("IZpe"),g=r("YC9x"),O=r("12QT"),j=r("3p7a");function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}function _(e,t,r){return null==t?r:null==r?t:e(t,r)}var k=n=function(e){Object(s.a)(r,e);var t=w(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).type="extent",e.xmin=0,e.ymin=0,e.mmin=void 0,e.zmin=void 0,e.xmax=0,e.ymax=0,e.mmax=void 0,e.zmax=void 0,e}return Object(o.a)(r,[{key:"normalizeCtorArgs",value:function(e,t,r,n,i){return function(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof e?(e.spatialReference=null==e.spatialReference?v.a.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:n,spatialReference:null==i?v.a.WGS84:i}}},{key:"cache",get:function(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}},{key:"center",get:function(){var e=new y.a({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}},{key:"extent",get:function(){return this.clone()}},{key:"hasM",get:function(){return null!=this.mmin&&null!=this.mmax}},{key:"hasZ",get:function(){return null!=this.zmin&&null!=this.zmax}},{key:"height",get:function(){return Math.abs(this.ymax-this.ymin)}},{key:"width",get:function(){return Math.abs(this.xmax-this.xmin)}},{key:"centerAt",value:function(e){var t=this.center;return null!=e.z&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}},{key:"clone",value:function(){var e=new n;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,null!=this.zmin&&(e.zmin=this.zmin,e.zmax=this.zmax),null!=this.mmin&&(e.mmin=this.mmin,e.mmax=this.mmax),e}},{key:"contains",value:function(e){if(!e)return!1;var t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Object(j.a)(t,r)&&(e=t.isWebMercator?Object(j.b)(e):Object(j.e)(e,!0)),"point"===e.type?Object(m.e)(this,e):"extent"===e.type&&Object(m.c)(this,e)}},{key:"equals",value:function(e){if(!e)return!1;var t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Object(j.a)(t,r)&&(e=t.isWebMercator?Object(j.b)(e):Object(j.e)(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}},{key:"expand",value:function(e){var t=.5*(1-e),r=this.width*t,n=this.height*t;if(this.xmin+=r,this.ymin+=n,this.xmax-=r,this.ymax-=n,this.hasZ){var i=(this.zmax-this.zmin)*t;this.zmin+=i,this.zmax-=i}if(this.hasM){var a=(this.mmax-this.mmin)*t;this.mmin+=a,this.mmax-=a}return this}},{key:"intersects",value:function(e){if(Object(f.h)(e))return!1;"mesh"===e.type&&(e=e.extent);var t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Object(j.a)(t,r)&&(e=t.isWebMercator?Object(j.b)(e):Object(j.e)(e,!0)),Object(g.c)(e.type)(this,e)}},{key:"normalize",value:function(){var e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}},{key:"offset",value:function(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,null!=r&&(this.zmin+=r,this.zmax+=r),this}},{key:"shiftCentralMeridian",value:function(){return this._normalize(!0)}},{key:"union",value:function(e){return this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=_(Math.min,this.zmin,e.zmin),this.zmax=_(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=_(Math.min,this.mmin,e.mmin),this.mmax=_(Math.max,this.mmax,e.mmax)),this}},{key:"intersection",value:function(e){return this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=_(Math.max,this.zmin,e.zmin),this.zmax=_(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=_(Math.max,this.mmin,e.mmin),this.mmax=_(Math.min,this.mmax,e.mmax)),this):null}},{key:"toJSON",value:function(e){return this.write(null,e)}},{key:"_shiftCM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(O.d)(this.spatialReference);if(!e||!this.spatialReference)return this;var t=this.spatialReference,r=this._getCM(e);if(r){var n=t.isWebMercator?Object(j.e)(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(n.x=this._normalizeX(n.x,e).x),this.spatialReference=new v.a(Object(p.c)(t.isWGS84?e.altTemplate:e.wkTemplate,{Central_Meridian:n.x}))}return this}},{key:"_getCM",value:function(e){var t=null,r=Object(i.a)(e.valid,2),n=r[0],a=r[1],o=this.xmin,s=this.xmax;return o>=n&&o<=a&&s>=n&&s<=a||(t=this.center),t}},{key:"_normalize",value:function(e,t,r){var n=this.spatialReference;if(!n)return this;if(!(r=r||Object(O.d)(n)))return this;var i=this._getParts(r).map((function(e){return e.extent}));if(i.length<2)return i[0]||this;if(i.length>2)return e?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(e)return this._shiftCM(r);if(t)return i;var a=!0,o=!0;return i.forEach((function(e){e.hasZ||(a=!1),e.hasM||(o=!1)})),{rings:i.map((function(e){var t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(a)for(var r=(e.zmax-e.zmin)/2,n=0;n<t.length;n++)t[n].push(r);if(o)for(var i=(e.mmax-e.mmin)/2,s=0;s<t.length;s++)t[s].push(i);return t})),hasZ:a,hasM:o,spatialReference:n}}},{key:"_getParts",value:function(e){var t=this.cache._parts;if(!t){t=[];var r,a=this.ymin,o=this.ymax,s=this.spatialReference,c=this.width,u=this.xmin,l=this.xmax;e=e||Object(O.d)(s);var f=Object(i.a)(e.valid,2),p=f[0],d=f[1],h=(r=this._normalizeX(this.xmin,e)).x,b=r.frameId,y=(r=this._normalizeX(this.xmax,e)).x,v=r.frameId,m=h===y&&c>0;if(c>2*d){var g=new n(u<l?h:y,a,d,o,s),j=new n(p,a,u<l?y:h,o,s),w=new n(0,a,d,o,s),_=new n(p,a,0,o,s),k=[],x=[];g.contains(w)&&k.push(b),g.contains(_)&&x.push(b),j.contains(w)&&k.push(v),j.contains(_)&&x.push(v);for(var S=b+1;S<v;S++)k.push(S),x.push(S);t.push({extent:g,frameIds:[b]},{extent:j,frameIds:[v]},{extent:w,frameIds:k},{extent:_,frameIds:x})}else h>y||m?t.push({extent:new n(h,a,d,o,s),frameIds:[b]},{extent:new n(p,a,y,o,s),frameIds:[v]}):t.push({extent:new n(h,a,y,o,s),frameIds:[b]});this.cache._parts=t}var P=this.hasZ,I=this.hasM;if(P||I){var R={};P&&(R.zmin=this.zmin,R.zmax=this.zmax),I&&(R.mmin=this.mmin,R.mmax=this.mmax);for(var M=0;M<t.length;M++)t[M].extent.set(R)}return t}},{key:"_normalizeX",value:function(e,t){var r,n=Object(i.a)(t.valid,2),a=n[0],o=n[1],s=2*o,c=0;return e>o?(e-=(r=Math.ceil(Math.abs(e-o)/s))*s,c=r):e<a&&(e+=(r=Math.ceil(Math.abs(e-a)/s))*s,c=-r),{x:e,frameId:c}}}],[{key:"fromBounds",value:function(e,t){return new n({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}}]),r}(b.a);Object(l.a)([Object(d.b)({readOnly:!0})],k.prototype,"cache",null),Object(l.a)([Object(d.b)({readOnly:!0})],k.prototype,"center",null),Object(l.a)([Object(d.b)({readOnly:!0})],k.prototype,"extent",null),Object(l.a)([Object(d.b)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],k.prototype,"hasM",null),Object(l.a)([Object(d.b)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],k.prototype,"hasZ",null),Object(l.a)([Object(d.b)({readOnly:!0})],k.prototype,"height",null),Object(l.a)([Object(d.b)({readOnly:!0})],k.prototype,"width",null),Object(l.a)([Object(d.b)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],k.prototype,"xmin",void 0),Object(l.a)([Object(d.b)({type:Number,json:{write:!0}})],k.prototype,"ymin",void 0),Object(l.a)([Object(d.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],k.prototype,"mmin",void 0),Object(l.a)([Object(d.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],k.prototype,"zmin",void 0),Object(l.a)([Object(d.b)({type:Number,json:{write:!0}})],k.prototype,"xmax",void 0),Object(l.a)([Object(d.b)({type:Number,json:{write:!0}})],k.prototype,"ymax",void 0),Object(l.a)([Object(d.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],k.prototype,"mmax",void 0),Object(l.a)([Object(d.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],k.prototype,"zmax",void 0),(k=n=Object(l.a)([Object(h.a)("esri.geometry.Extent")],k)).prototype.toJSON.isDefaultToJSON=!0;var x=k;t.a=x},"nk/L":function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return v}));var n=r("mK0O"),i=r("hZBP"),a=r("kDog"),o=r("7im+"),s=r("F1Bx");function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function f(e){return e instanceof i.a}function p(e){return e instanceof a.a?Object.keys(e.items):f(e)?Object(s.a)(e).keys():e?Object.keys(e):[]}function d(e,t){return e instanceof a.a?e.items[t]:e[t]}function h(e){return e?e.declaredClass:null}function b(e,t){var r=e.diff;if(r&&"function"==typeof r)return r(e,t);var i=p(e),a=p(t);if(0!==i.length||0!==a.length){if(!i.length||!a.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};var s,u=a.filter((function(e){return-1===i.indexOf(e)})),y=i.filter((function(e){return-1===a.indexOf(e)})),v=i.filter((function(r){return a.indexOf(r)>-1&&d(e,r)!==d(t,r)})).concat(u,y).sort(),m=h(e);if(m&&l.indexOf(m)>-1&&v.length)return{type:"complete",oldValue:e,newValue:t};var g,O=f(e)&&f(t),j=c(v);try{for(j.s();!(g=j.n()).done;){var w=g.value,_=d(e,w),k=d(t,w),x=void 0;(O||"function"!=typeof _&&"function"!=typeof k)&&_!==k&&(null==_&&null==k||(x=r&&r[w]&&"function"==typeof r[w]?r[w](_,k):"object"==typeof _&&"object"==typeof k&&h(_)===h(k)?b(_,k):{type:"complete",oldValue:_,newValue:k},Object(o.i)(x)&&(Object(o.i)(s)?s.diff[w]=x:s={type:"partial",diff:Object(n.a)({},w,x)})))}}catch(S){j.e(S)}finally{j.f()}return s}}function y(e,t){if(Object(o.h)(e))return!1;var r,n=e,i=c(t.split("."));try{for(i.s();!(r=i.n()).done;){var a=r.value;if("complete"===n.type)return!0;if("partial"!==n.type)return!1;var s=n.diff[a];if(!s)return!1;n=s}}catch(u){i.e(u)}finally{i.f()}return!0}function v(e,t){var r,n=c(t);try{for(n.s();!(r=n.n()).done;){if(y(e,r.value))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}function m(e,t){if("function"!=typeof e&&"function"!=typeof t&&(e||t))return!e||!t||"object"==typeof e&&"object"==typeof t&&h(e)!==h(t)?{type:"complete",oldValue:e,newValue:t}:b(e,t)}},nlKu:function(e,t,r){"use strict";r.r(t);var n=r("aNYv"),i=r("hisu"),a=r("yBJb"),o=r("0942"),s=r("4Mpa"),c=r("CHlC"),u=r("kMo5"),l=r("P+uj"),f=r("eijD"),p=r("NthX"),d=r.n(p),h=r("dQW7"),b=r("4VMI"),y=r("kDog"),v=r("233l"),m=r("Mp7X"),g=r("J4Pc"),O=r("TM+E"),j=r("7im+"),w=r("j56I"),_=r("Akvs"),k=r("xAIp"),x=(r("wckI"),r("iaHD")),S=r("mK0O"),P=r("p/dP"),I=r("UfAV");function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var E={widthBreakpoint:{getValue:function(e){var t=e.viewSize[0],r=e.breakpoints,n=this.values;return t<=r.xsmall?n.xsmall:t<=r.small?n.small:t<=r.medium?n.medium:t<=r.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue:function(e){var t=e.viewSize[1],r=e.breakpoints,n=this.values;return t<=r.xsmall?n.xsmall:t<=r.small?n.small:t<=r.medium?n.medium:t<=r.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue:function(e){var t=e.viewSize,r=t[0],n=t[1],i=this.values;return n>=r?i.portrait:i.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},T={xsmall:544,small:768,medium:992,large:1200};function A(e,t){return t?E[e].valueToClassName[t].split(" "):[]}var C=r("8JNV"),D=r("+JF/"),L=r("hZBP"),F=(r("MrgE"),r("vbdg")),N=r("vR3I");function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var V=function(e){Object(c.a)(r,e);var t=B(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).items=new y.a,e._watchUpdatingTracking=new N.a,e._callbacks=new Map,e._projector=Object(F.a)(),e._hiddenProjector=Object(F.a)(),e}return Object(a.a)(r,[{key:"needsRender",get:function(){return this.items.length>0}},{key:"initialize",value:function(){var e=this,t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(this.items,(function(t){t.added.map((function(t){var r=function(){return t.render()};e._callbacks.set(t,r),e._projector.append(e.surface,r)})),t.removed.map((function(t){var r=e._projector.detach(e._callbacks.get(t));e.surface.removeChild(r.domNode),e._callbacks.delete(t)}))}))}},{key:"addItem",value:function(e){this.items.add(e)}},{key:"removeItem",value:function(e){this.items.remove(e)}},{key:"destroy",value:function(){var e=this;this.items.removeAll(),this._callbacks.forEach((function(t){return e._projector.detach(t)})),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}},{key:"render",value:function(){this._projector.renderNow()}},{key:"computeBoundingRect",value:function(e){var t=this._hiddenSurface,r=this._hiddenProjector,n=null,i=function(){return n=e.render()};r.append(t,i),r.renderNow();var a={left:0,top:0,right:0,bottom:0};if(n&&n.domNode){var o=n.domNode.getBoundingClientRect();a.left=o.left,a.top=o.top,a.right=o.right,a.bottom=o.bottom}for(r.detach(i);t.firstChild;)t.removeChild(t.firstChild);return a}},{key:"overlaps",value:function(e,t){var r=this.computeBoundingRect(e),n=this.computeBoundingRect(t);return Math.max(r.left,n.left)<=Math.min(r.right,n.right)&&Math.max(r.top,n.top)<=Math.min(r.bottom,n.bottom)}},{key:"hasVisibleItems",get:function(){return this.items.some((function(e){return e.visible}))}},{key:"renderCanvas",value:function(e){if(this.items.some((function(e){return e.visible}))){var t=e.getContext("2d");t.save(),t.font="10px ".concat(getComputedStyle(this.surface).fontFamily),this.items.forEach((function(e){t.save(),e.renderCanvas(t),t.restore()})),t.restore()}}}]),r}(L.a);Object(h.a)([Object(k.b)({readOnly:!0})],V.prototype,"surface",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],V.prototype,"items",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],V.prototype,"needsRender",null),Object(h.a)([Object(k.b)({readOnly:!0})],V.prototype,"_watchUpdatingTracking",void 0),Object(h.a)([Object(k.b)({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],V.prototype,"updating",void 0);var U=V=Object(h.a)([Object(x.a)("esri.views.overlay.ViewOverlay")],V),z=(r("U7uu"),r("A0wW")),q=r("miKF"),H=r("PVS0"),G=r("gljZ"),W=r("IXv3"),J=r("6J1V"),$=r("lZmO"),Z=(r("a1Tm"),r("jOdF"));var Q=["B","kB","MB","GB","TB"];var X=r("FYmP"),K=r("VVQW"),Y=r("wK6d"),ee=r("6CzD"),te=r("TO7i"),re=r("DuP7"),ne=r("Jf7A"),ie=r("DE4D");function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var se=O.a.getLogger("esri.widgets.Feature.support.featureUtils"),ce=/href=(""|'')/gi,ue=/(\{([^\{\r\n]+)\})/g,le=/\'/g,fe=/^\s*expression\//i,pe=/(\n)/gi,de=/[\u00A0-\u9999<>\&]/gim,he=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,be=/^(?:mailto:|tel:)/,ye=Object(te.a)("short-date-short-time");function ve(e){if(!Object(j.h)(e))return e.get("sourceLayer")||e.get("layer")}function me(e,t){return ge.apply(this,arguments)}function ge(){return(ge=Object(f.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","function"==typeof t?t.call(null,r):t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e)return!be.test(e.trim().toLowerCase())}function je(e,t){if(!function(e){return fe.test(e)}(t)||!e)return null;var r,n=t.replace(fe,"").toLowerCase();return e.some((function(e){return e.name.toLowerCase()===n&&(r=e,!0)})),r}function we(e,t){var r=je(t,null==e?void 0:e.fieldName);return r?r.title||null:e?e.label||e.fieldName:null}function _e(e,t){var r=ke(t,e);return r?r.name:e}function ke(e,t){return e&&"function"==typeof e.getField?e.getField(t):null}function xe(e){return"".concat(e).trim()}function Se(e){var t=e.attributes,r=e.globalAttributes,n=e.layer,i=e.text,a=e.expressionAttributes,o=e.fieldInfoMap;return i?Pe({formattedAttributes:r,template:Ee(i,oe(oe(oe({},r),a),t),n),fieldInfoMap:o}):""}function Pe(e){var t=e.formattedAttributes,r=e.template,n=e.fieldInfoMap;return xe(function(e){return e.replace(ce,"")}(Object($.c)(Object($.c)(r,(function(e){return function(e,t){var r=t.get(e.toLowerCase());return"{".concat(r&&r.fieldName||e,"}")}(e,n)})),t)))}function Ie(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t[e];if("string"==typeof n){var i="%27",a=(r?encodeURIComponent(n):n).replace(le,i);t[e]=a}}function Re(e,t,r){var n=(t=xe(t))&&"{"!==t[0];return Object($.c)(e,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=oe({},e);return Object.keys(r).forEach((function(e){return Ie(e,r,t)})),r}(r,n))}function Me(e,t){return e.replace(ue,(function(e,r,n){var i=ke(t,n);return i?"{".concat(i.name,"}"):r}))}function Ee(e,t,r){var n=Me(e,r);return n?n.replace(he,(function(e,r,n){return Re(e,r||n,t)})):n}function Te(e,t){var r=t.fieldInfos,n=t.fieldName,i=Ae(r,n),a=null==i?void 0:i.clone(),o=t.preventPlacesFormatting,s=ke(t.layer,n);if(a&&s&&"date"===s.type){var c=a.format||new ne.a;c.dateFormat=c.dateFormat||"short-date-short-time",a.format=c}var u=a&&a.format;return"string"==typeof(e=function(e,t){if("string"==typeof e&&t&&null==t.dateFormat&&(null!=t.places||null!=t.digitSeparator)){var r=Number(e);if(!isNaN(r))return r}return e}(e,u))||null==e||null==u?e:o?Object(Z.b)(e,oe(oe({},Object(Z.a)(u)),{},{minimumFractionDigits:0,maximumFractionDigits:20})):u.format(e)}function Ae(e,t){if(e&&e.length&&t){var r,n=t.toLowerCase();return e.some((function(e){return!(!e.fieldName||e.fieldName.toLowerCase()!==n||(r=e,0))})),r}}function Ce(e){var t=[];if(!e)return t;var r=e.fieldInfos,n=e.content;return r&&t.push.apply(t,Object(ee.a)(r)),n&&Array.isArray(n)?(n.forEach((function(e){if("fields"===e.type){var r=e&&e.fieldInfos;r&&t.push.apply(t,Object(ee.a)(r))}})),t):t}function De(e){return e.replace(de,(function(e){return"&#".concat(e.charCodeAt(0),";")}))}function Le(e){return"string"==typeof e?e.replace(pe,'<br class="esri-text-new-line" />'):e}function Fe(e){var t=e.value,r=e.fieldName,n=e.fieldInfos,i=e.fieldInfoMap,a=e.layer,o=e.graphic;if(null==t)return"";var s=function(e){var t=e.fieldName,r=e.value,n=e.graphic,i=e.layer;if(Ge(t))return null;if(!i||"function"!=typeof i.getFieldDomain)return null;var a=i.getFieldDomain(t,{feature:n});return a&&"coded-value"===a.type?a.getName(r):null}({fieldName:r,value:t,graphic:o,layer:a});if(s)return s;var c=function(e){var t=e.fieldName,r=e.graphic,n=e.layer;if(Ge(t))return null;if(!n||"function"!=typeof n.getFeatureType)return null;var i=n.typeIdField;if(!i||t!==i)return null;var a=n.getFeatureType(r);return a?a.name:null}({fieldName:r,graphic:o,layer:a});if(c)return c;if(i.get(r.toLowerCase()))return Te(t,{fieldInfos:n,fieldName:r,layer:a});var u=a&&a.fieldsIndex;return u&&u.isDateField(r)?Object(te.b)(t,ye):Le(t)}function Ne(e){var t=e.fieldInfos,r=e.attributes,n=e.layer,i=e.graphic,a=e.fieldInfoMap,o=e.relatedInfos,s=oe({},r);return null==o||o.forEach((function(e){return function(e,t){e&&t&&(t.relatedFeatures&&t.relatedFeatures&&t.relatedFeatures.forEach((function(r){return We({attributes:e,graphic:r,relatedInfo:t})})),t.relatedStatsFeatures&&t.relatedStatsFeatures&&t.relatedStatsFeatures.forEach((function(r){return We({attributes:e,graphic:r,relatedInfo:t})})))}(s,e)})),Object.keys(s).forEach((function(e){var r=s[e];s[e]=Fe({fieldName:e,fieldInfos:t,fieldInfoMap:a,layer:n,value:r,graphic:i})})),s}function Be(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(f.a)(d.a.mark((function e(t,r){var n,i,a,o,s,c,u,l,f,p,h,b;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.layer,o=t.graphic,s=t.outFields,c=t.objectIds,u=t.returnGeometry,l=t.spatialReference,"number"==typeof(f=c[0])||"string"==typeof f){e.next=4;break}return"Could not query required fields for the specified feature. The feature's ID is invalid.",p={layer:a,graphic:o,objectId:f,requiredFields:s},e.abrupt("return",(se.warn("Could not query required fields for the specified feature. The feature's ID is invalid.",p),null));case 4:if(null!=(n=a.capabilities)&&null!=(i=n.operations)&&i.supportsQuery){e.next=7;break}return"The specified layer cannot be queried. The following fields will not be available.",h={layer:a,graphic:o,requiredFields:s,returnGeometry:u},e.abrupt("return",(se.warn("The specified layer cannot be queried. The following fields will not be available.",h),null));case 7:return(b=a.createQuery()).objectIds=c,b.outFields=null!=s&&s.length?s:[a.objectIdField],b.returnGeometry=!!u,b.outSpatialReference=l,e.next=11,a.queryFeatures(b,r);case 11:return e.abrupt("return",e.sent.features[0]);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(f.a)(d.a.mark((function e(t){var r,n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(r=t.expressionInfos)&&r.length){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,Object(ie.e)();case 4:return n=e.sent,i=n.arcadeUtils.hasGeometryFunctions,e.abrupt("return",i(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e,t){return He.apply(this,arguments)}function He(){return(He=Object(f.a)(d.a.mark((function e(t,r){var n,i,a,o,s,c,u,l,f,p,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.graphic,i=t.popupTemplate,a=t.layer,o=t.spatialReference,a&&i){e.next=3;break}return e.abrupt("return");case 3:if(e.t0="function"==typeof a.load,!e.t0){e.next=7;break}return e.next=7,a.load(r);case 7:if(n.attributes){e.next=9;break}return e.abrupt("return");case 9:if(null!=(s=n.attributes[a.objectIdField])){e.next=12;break}return e.abrupt("return");case 12:return c=[s],e.next=15,i.getRequiredFields(a.fieldsIndex);case 15:if(u=e.sent,l=Object(re.h)(u,n),f=l?[]:u,e.t1=i.returnGeometry,e.t1){e.next=23;break}return e.next=22,Ue(i);case 22:e.t1=e.sent;case 23:if(p=e.t1,!l||p){e.next=26;break}return e.abrupt("return");case 26:return e.next=28,Be({layer:a,graphic:n,outFields:f,objectIds:c,returnGeometry:p,spatialReference:o},r);case 28:(h=e.sent)&&(h.geometry&&(n.geometry=h.geometry),h.attributes&&(n.attributes=oe(oe({},n.attributes),h.attributes)));case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!e&&-1!==e.indexOf("relationships/")}function We(e){var t=e.attributes,r=e.graphic,n=e.relatedInfo;t&&r&&n&&Object.keys(r.attributes).forEach((function(e){var i=function(e){return e?"".concat("relationships/").concat(e.layerId,"/").concat(e.fieldName):""}({layerId:n.relation.id.toString(),fieldName:e});t[i]=r.attributes[e]}))}function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Qe={editing:!1,operations:{add:!0,update:!0,delete:!0}},Xe=y.a.ofType(K.a),Ke=function(e){Object(c.a)(p,e);var t,r,n,s,u,l=Ze(p);function p(e){var t;return Object(i.a)(this,p),(t=l.call(this,e))._getAttachmentsPromise=null,t._attachmentLayer=null,t.abilities=$e({},Qe),t.activeAttachmentInfo=null,t.attachmentInfos=new Xe,t.graphic=null,t.mode="view",t.handles.add([Object(w.a)(Object(o.a)(t),"graphic",(function(){return t._graphicChanged()}))]),t}return Object(a.a)(p,[{key:"destroy",value:function(){this._attachmentLayer=null,this.graphic=null}},{key:"castAbilities",value:function(e){return $e($e({},Qe),e)}},{key:"state",get:function(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}},{key:"supportsResizeAttachments",get:function(){return this.get("graphic.layer.capabilities.operations.supportsResizeAttachments")||!1}},{key:"getAttachments",value:(u=Object(f.a)(d.a.mark((function e(){var t,r,n,i,a,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._attachmentLayer,r=this.attachmentInfos,t&&"function"==typeof t.queryAttachments){e.next=3;break}throw new m.a("invalid-layer","getAttachments(): A valid layer is required.");case 3:return n=this._getFeatureId(),i=new Y.a({objectIds:[n],returnMetadata:!0}),a=[],o=t.queryAttachments(i).then((function(e){return e[n]||a})).catch((function(){return a})),this._getAttachmentsPromise=o,this.notifyChange("state"),e.next=7,o;case 7:return s=e.sent,e.abrupt("return",(r.removeAll(),s.length&&r.addMany(s),this._getAttachmentsPromise=null,this.notifyChange("state"),s));case 9:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"addAttachment",value:(s=Object(f.a)(d.a.mark((function e(t){var r,n,i,a,o,s,c=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._attachmentLayer,n=this.attachmentInfos,i=this.graphic,a=this.abilities,t){e.next=3;break}throw new m.a("invalid-attachment","addAttachment(): An attachment is required.",{attachment:t});case 3:if(a.operations.add){e.next=5;break}throw new m.a("invalid-abilities","addAttachment(): add abilities are required.");case 5:if(r&&"function"==typeof r.addAttachment){e.next=7;break}throw new m.a("invalid-layer","addAttachment(): A valid layer is required.");case 7:return o=r.addAttachment(i,t).then((function(e){return c._queryAttachment(e.objectId)})),e.next=10,o;case 10:return s=e.sent,e.abrupt("return",(n.add(s),s));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"deleteAttachment",value:(n=Object(f.a)(d.a.mark((function e(t){var r,n,i,a,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._attachmentLayer,n=this.attachmentInfos,i=this.graphic,a=this.abilities,t){e.next=3;break}throw new m.a("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:t});case 3:if(a.operations.delete){e.next=5;break}throw new m.a("invalid-abilities","deleteAttachment(): delete abilities are required.");case 5:if(r&&"function"==typeof r.deleteAttachments){e.next=7;break}throw new m.a("invalid-layer","deleteAttachment(): A valid layer is required.");case 7:return o=r.deleteAttachments(i,[t.id]).then((function(){return t})),e.next=10,o;case 10:return s=e.sent,e.abrupt("return",(n.remove(s),s));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"updateAttachment",value:(r=Object(f.a)(d.a.mark((function e(t){var r,n,i,a,o,s,c,u,l=this,f=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>1&&void 0!==f[1]?f[1]:this.activeAttachmentInfo,n=this._attachmentLayer,i=this.attachmentInfos,a=this.graphic,o=this.abilities,t){e.next=4;break}throw new m.a("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:t});case 4:if(r){e.next=6;break}throw new m.a("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:r});case 6:if(o.operations.update){e.next=8;break}throw new m.a("invalid-abilities","updateAttachment(): Update abilities are required.");case 8:if(s=i.findIndex((function(e){return e===r})),n&&"function"==typeof n.updateAttachment){e.next=11;break}throw new m.a("invalid-layer","updateAttachment(): A valid layer is required.");case 11:return c=n.updateAttachment(a,r.id,t).then((function(e){return l._queryAttachment(e.objectId)})),e.next=14,c;case 14:return u=e.sent,e.abrupt("return",(i.splice(s,1,u),u));case 16:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_queryAttachment",value:(t=Object(f.a)(d.a.mark((function e(t){var r,n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new m.a("invalid-attachment-id","Could not query attachment.");case 2:return r=this._attachmentLayer,n=this._getFeatureId(),i=new Y.a({objectIds:[n],attachmentsWhere:"AttachmentId=".concat(t),returnMetadata:!0}),e.abrupt("return",r.queryAttachments(i).then((function(e){return e[n][0]})));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_getFeatureId",value:function(){var e=this._attachmentLayer,t=this.graphic;if(!e||!t)return null;var r=e.objectIdField,n=t.attributes;return n&&n[r]}},{key:"_graphicChanged",value:function(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch((function(){})))}},{key:"_setAttachmentLayer",value:function(){var e=ve(this.graphic);this._attachmentLayer=e?"scene"===e.type&&Object(j.i)(e.associatedLayer)?e.associatedLayer:e:null}}]),p}(X.a);Object(h.a)([Object(k.b)()],Ke.prototype,"abilities",void 0),Object(h.a)([Object(G.a)("abilities")],Ke.prototype,"castAbilities",null),Object(h.a)([Object(k.b)()],Ke.prototype,"activeAttachmentInfo",void 0),Object(h.a)([Object(k.b)({readOnly:!0,type:Xe})],Ke.prototype,"attachmentInfos",void 0),Object(h.a)([Object(k.b)({type:b.a})],Ke.prototype,"graphic",void 0),Object(h.a)([Object(k.b)()],Ke.prototype,"mode",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Ke.prototype,"state",null),Object(h.a)([Object(k.b)({readOnly:!0})],Ke.prototype,"supportsResizeAttachments",null);var Ye=Ke=Object(h.a)([Object(x.a)("esri.widgets.Attachments.AttachmentsViewModel")],Ke),et=r("e6DO");var tt=r("c+HS"),rt=r("XRld"),nt=r("mjOD");function it(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?it(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var st={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},ct="esri-attachments",ut="esri-attachments__loader-container",lt="esri-attachments__loader",ft="esri-attachments__container",pt="esri-attachments__container--list",dt="esri-attachments__container--preview",ht="esri-attachments__actions",bt="esri-attachments__delete-button",yt="esri-attachments__add-attachment-button",vt="esri-attachments__error-message",mt="esri-attachments__items",gt="esri-attachments__item",Ot="esri-attachments__item-button",jt="esri-attachments__item-mask",wt="esri-attachments__item-mask--icon",_t="esri-attachments__image",kt="esri-attachments__image--resizable",xt="esri-attachments__label",St="esri-attachments__filename",Pt="esri-attachments__item-chevron-icon",It="esri-attachments__item-link",Rt="esri-attachments__item-link-overlay",Mt="esri-attachments__item-link-overlay-icon",Et="esri-attachments__item-add-icon",Tt="esri-attachments__form-node",At="esri-attachments__file-fieldset",Ct="esri-attachments__file-label",Dt="esri-attachments__file-name",Lt="esri-attachments__file-input",Ft="esri-attachments__metadata",Nt="esri-attachments__metadata-fieldset",Bt="esri-attachments__progress-bar",Vt="esri-widget",Ut="esri-button",zt="esri-button--disabled",qt="esri-button--secondary",Ht="esri-button--tertiary",Gt="esri-button--third",Wt="esri-button--small",Jt="esri-button--half",$t="esri-widget__content--empty",Zt="esri-icon-right",Qt="esri-icon-left",Xt="esri-icon-plus",Kt=window.CSS,Yt=function(e){Object(c.a)(r,e);var t=ot(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n)).abilities=null,a.displayType="list",a.graphic=null,a.label=void 0,a.messages=null,a.messagesUnits=null,a.selectedFile=null,a.submitting=!1,a.viewModel=new Ye,a.visibleElements=at({},st),a._supportsImageOrientation=Kt&&Kt.supports&&Kt.supports("image-orientation","from-image"),a._addAttachmentForm=null,a._updateAttachmentForm=null,a}return Object(a.a)(r,[{key:"initialize",value:function(){var e=this;this.own(Object(w.b)(this,"viewModel.attachmentInfos","change",(function(){return e.scheduleRender()})),Object(w.a)(this,"viewModel.mode",(function(){return e._modeChanged()})))}},{key:"castVisibleElements",value:function(e){return at(at({},st),e)}},{key:"addAttachment",value:function(){var e=this,t=this._addAttachmentForm,r=this.viewModel;return this._set("submitting",!0),this._set("error",null),r.addAttachment(t).then((function(t){return e._set("submitting",!1),e._set("error",null),r.mode="view",t})).catch((function(t){throw e._set("submitting",!1),e._set("error",new m.a("attachments:add-attachment",e.messages.addErrorMessage,t)),t}))}},{key:"deleteAttachment",value:function(e){var t=this,r=this.viewModel;return this._set("submitting",!0),this._set("error",null),r.deleteAttachment(e).then((function(e){return t._set("submitting",!1),t._set("error",null),r.mode="view",e})).catch((function(e){throw t._set("submitting",!1),t._set("error",new m.a("attachments:delete-attachment",t.messages.deleteErrorMessage,e)),e}))}},{key:"updateAttachment",value:function(){var e=this,t=this.viewModel,r=this._updateAttachmentForm;return this._set("submitting",!0),this._set("error",null),t.updateAttachment(r).then((function(r){return e._set("submitting",!1),e._set("error",null),t.mode="view",r})).catch((function(t){throw e._set("submitting",!1),e._set("error",new m.a("attachments:update-attachment",e.messages.updateErrorMessage,t)),t}))}},{key:"render",value:function(){var e=this.submitting,t=this.viewModel.state;return Object(nt.a)("div",{class:this.classes(ct,Vt)},e?this.renderProgressBar():null,"loading"===t?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}},{key:"renderErrorMessage",value:function(){var e=this.error,t=this.visibleElements;return e&&t.errorMessage?Object(nt.a)("div",{key:"error-message",class:vt},e.message):null}},{key:"renderAttachments",value:function(){var e=this.viewModel,t=e.mode,r=e.activeAttachmentInfo;return"add"===t?this.renderAddForm():"edit"===t?this.renderDetailsForm(r):this.renderAttachmentContainer()}},{key:"renderLoading",value:function(){return Object(nt.a)("div",{class:ut,key:"loader"},Object(nt.a)("div",{class:lt}))}},{key:"renderProgressBar",value:function(){return this.visibleElements.progressBar?Object(nt.a)("div",{class:Bt,key:"progress-bar"}):null}},{key:"renderAddForm",value:function(){var e=this.submitting,t=this.selectedFile,r=e||!t,n=this.visibleElements.cancelAddButton?Object(nt.a)("button",{type:"button",bind:this,disabled:e,onclick:this._cancelForm,class:this.classes(Ut,Ht,Wt,Jt,e&&zt)},this.messages.cancel):null,i=this.visibleElements.addSubmitButton?Object(nt.a)("button",{type:"submit",disabled:r,class:this.classes(Ut,qt,Wt,Jt,Object(S.a)({},zt,r))},this.messages.add):null,a=t?Object(nt.a)("span",{key:"file-name",class:Dt},t.name):null,o=Object(nt.a)("form",{bind:this,afterCreate:tt.k,afterRemoved:tt.c,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},Object(nt.a)("fieldset",{class:At},a,Object(nt.a)("label",{class:this.classes(Ct,Ut,qt)},t?this.messages.changeFile:this.messages.selectFile,Object(nt.a)("input",{class:Lt,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),i,n);return Object(nt.a)("div",{key:"add-form-container",class:Tt},o)}},{key:"renderDetailsForm",value:function(e){var t=this,r=this.visibleElements,n=this.viewModel,i=this.selectedFile,a=this.submitting,o=e.contentType,s=e.size,c=e.url,u=n.abilities,l=a||!i,f=u.editing&&u.operations.delete&&r.deleteButton?Object(nt.a)("button",{key:"delete-button",type:"button",disabled:a,bind:this,onclick:function(r){return t._submitDeleteAttachment(r,e)},class:this.classes(Ut,Wt,Ht,bt,Object(S.a)({},zt,a))},this.messages.delete):null,p=u.editing&&u.operations.update&&r.updateButton?Object(nt.a)("button",{disabled:l,key:"update-button",type:"submit",class:this.classes(Ut,Wt,Gt,Object(S.a)({},zt,l))},this.messages.update):null,d=this.visibleElements.cancelUpdateButton?Object(nt.a)("button",{disabled:a,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes(Ut,Wt,Ht,Gt,Object(S.a)({},zt,a))},this.messages.cancel):null,h=i?Object(nt.a)("span",{key:"file-name",class:Dt},i.name):null,b=u.editing&&u.operations.update?Object(nt.a)("fieldset",{key:"file",class:At},h,Object(nt.a)("label",{class:this.classes(Ct,Ut,qt)},this.messages.changeFile,Object(nt.a)("input",{class:Lt,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):null,y=Object(nt.a)("fieldset",{key:"size",class:Nt},Object(nt.a)("label",null,function(e,t){var r=0===t?0:Math.floor(Math.log(t)/Math.log(1024));r=Object(J.e)(r,0,Q.length-1);var n=Object(Z.b)(t/Math.pow(1024,r),{maximumFractionDigits:2});return Object($.c)(e.units.bytes[Q[r]],{fileSize:n})}(this.messagesUnits,s))),v=Object(nt.a)("fieldset",{key:"content-type",class:Nt},Object(nt.a)("label",null,o)),m=Object(nt.a)("form",{bind:this,afterCreate:tt.k,afterRemoved:tt.c,"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},Object(nt.a)("div",{class:Ft},y,v),b,Object(nt.a)("div",{class:ht},f,d,p));return Object(nt.a)("div",{key:"edit-form-container",class:Tt},Object(nt.a)("a",{class:It,href:c,rel:"noreferrer",target:"_blank"},this.renderImageMask({attachmentInfo:e,size:400}),Object(nt.a)("div",{class:Rt},Object(nt.a)("span",{class:Mt},Object(nt.a)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},Object(nt.a)("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),Object(nt.a)("path",{fill:"none",d:"M0 0h32v32H0z"}))))),m)}},{key:"renderImageMask",value:function(e){var t=e.attachmentInfo,r=e.size,n=this.viewModel.supportsResizeAttachments,i=t.contentType,a=t.name,o=t.url,s=n&&function(e){var t=e.toLowerCase();return"image/bmp"===t||"image/emf"===t||"image/exif"===t||"image/gif"===t||"image/x-icon"===t||"image/jpeg"===t||"image/png"===t||"image/tiff"===t||"image/x-wmf"===t}(i),c=this._getCSSTransform(t,s),u=c?{transform:c,"image-orientation":"none"}:{},l=-1===o.indexOf("?")?"?":"&",f=s?"".concat(o).concat(l,"w=").concat(r):function(e){var t=Object(et.a)("esri/themes/base/images/files/");return e?"text/plain"===e?"".concat(t,"text-32.svg"):"application/pdf"===e?"".concat(t,"pdf-32.svg"):"text/csv"===e?"".concat(t,"csv-32.svg"):"application/gpx+xml"===e?"".concat(t,"gpx-32.svg"):"application/x-dwf"===e?"".concat(t,"cad-32.svg"):"application/postscript"===e||"application/json"===e||"text/xml"===e||"model/vrml"===e?"".concat(t,"code-32.svg"):"application/x-zip-compressed"===e||"application/x-7z-compressed"===e||"application/x-gzip"===e||"application/x-tar"===e||"application/x-gtar"===e||"application/x-bzip2"===e||"application/gzip"===e||"application/x-compress"===e||"application/x-apple-diskimage"===e||"application/x-rar-compressed"===e||"application/zip"===e?"".concat(t,"zip-32.svg"):-1!==e.indexOf("image/")?"".concat(t,"image-32.svg"):-1!==e.indexOf("audio/")?"".concat(t,"sound-32.svg"):-1!==e.indexOf("video/")?"".concat(t,"video-32.svg"):-1!==e.indexOf("msexcel")||-1!==e.indexOf("ms-excel")||-1!==e.indexOf("spreadsheetml")?"".concat(t,"excel-32.svg"):-1!==e.indexOf("msword")||-1!==e.indexOf("ms-word")||-1!==e.indexOf("wordprocessingml")?"".concat(t,"word-32.svg"):-1!==e.indexOf("powerpoint")||-1!==e.indexOf("presentationml")?"".concat(t,"report-32.svg"):"".concat(t,"generic-32.svg"):"".concat(t,"generic-32.svg")}(i),p=Object(S.a)({},wt,!s),d=Object(S.a)({},kt,n);return Object(nt.a)("div",{class:this.classes(p,jt)},Object(nt.a)("img",{styles:u,alt:a,src:f,class:this.classes(d,_t)}))}},{key:"renderAttachmentInfo",value:function(e){var t=this,r=e.attachmentInfo,n=e.displayType,i=this.viewModel.abilities,a=r.name,o=r.url,s=this.renderImageMask({attachmentInfo:r,size:"list"===n?48:400}),c=i.editing?Object(nt.a)("span",{"aria-hidden":"true",class:this.classes(Pt,Object(tt.h)()?Qt:Zt)}):null,u=[s,Object(nt.a)("label",{class:xt},Object(nt.a)("span",{class:St},a||this.messages.noTitle),c)],l=i.editing?Object(nt.a)("button",{key:"details-button",bind:this,class:Ot,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":r.id,onclick:function(){return t._startEditAttachment(r)},type:"button"},u):Object(nt.a)("a",{key:"details-link",class:Ot,href:o,target:"_blank"},u);return Object(nt.a)("li",{class:gt,key:r},l)}},{key:"renderAttachmentContainer",value:function(){var e,t=this,r=this.displayType,n=this.viewModel,i=this.visibleElements,a=n.attachmentInfos,o=n.abilities,s=a&&a.length,c=(e={},Object(S.a)(e,pt,"preview"!==r),Object(S.a)(e,dt,"preview"===r),e),u=o.editing&&o.operations.add&&i.addButton?Object(nt.a)("button",{bind:this,onclick:function(){return t._startAddAttachment()},class:this.classes(Ut,Ht,yt),type:"button"},Object(nt.a)("span",{"aria-hidden":"true",class:this.classes(Et,Xt)}),this.messages.add):null,l=s?Object(nt.a)("ul",{class:mt},a.toArray().map((function(e){return t.renderAttachmentInfo({attachmentInfo:e,displayType:r})}))):Object(nt.a)("div",{class:$t},this.messages.noAttachments);return Object(nt.a)("div",{key:"attachments-container",class:this.classes(ft,c)},l,u)}},{key:"_modeChanged",value:function(){this._set("error",null),this._set("selectedFile",null)}},{key:"_handleFileInputChange",value:function(e){var t=e.target,r=t&&t.files&&t.files.item(0);this._set("selectedFile",r)}},{key:"_submitDeleteAttachment",value:function(e,t){e.preventDefault(),this.deleteAttachment(t)}},{key:"_submitAddAttachment",value:function(e){e.preventDefault(),this.addAttachment()}},{key:"_submitUpdateAttachment",value:function(e){e.preventDefault(),this.updateAttachment()}},{key:"_startEditAttachment",value:function(e){var t=this.viewModel;t.activeAttachmentInfo=e,t.mode="edit"}},{key:"_startAddAttachment",value:function(){this.viewModel.mode="add"}},{key:"_cancelForm",value:function(e){e.preventDefault(),this.viewModel.mode="view"}},{key:"_getCSSTransform",value:function(e,t){var r=e.orientationInfo;return!this._supportsImageOrientation&&t&&r?[r.rotation?"rotate(".concat(r.rotation,"deg)"):"",r.mirrored?"scaleX(-1)":""].join(" "):""}}]),r}(W.a);Object(h.a)([Object(H.a)("viewModel.abilities")],Yt.prototype,"abilities",void 0),Object(h.a)([Object(k.b)()],Yt.prototype,"displayType",void 0),Object(h.a)([Object(H.a)("viewModel.graphic")],Yt.prototype,"graphic",void 0),Object(h.a)([Object(k.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Yt.prototype,"label",void 0),Object(h.a)([Object(k.b)(),Object(rt.a)("esri/widgets/Attachments/t9n/Attachments")],Yt.prototype,"messages",void 0),Object(h.a)([Object(k.b)(),Object(rt.a)("esri/core/t9n/Units")],Yt.prototype,"messagesUnits",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Yt.prototype,"selectedFile",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Yt.prototype,"submitting",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Yt.prototype,"error",void 0),Object(h.a)([Object(k.b)({type:Ye})],Yt.prototype,"viewModel",void 0),Object(h.a)([Object(k.b)()],Yt.prototype,"visibleElements",void 0),Object(h.a)([Object(G.a)("visibleElements")],Yt.prototype,"castVisibleElements",null);var er=Yt=Object(h.a)([Object(x.a)("esri.widgets.Attachments")],Yt);function tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var rr=function(e){Object(c.a)(r,e);var t=tr(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).description=null,n.title=null,n}return r}(Ye);Object(h.a)([Object(k.b)()],rr.prototype,"description",void 0),Object(h.a)([Object(k.b)()],rr.prototype,"title",void 0);var nr=rr=Object(h.a)([Object(x.a)("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],rr),ir=r("foBe");function ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var or="esri-feature-element-info",sr="esri-feature-element-info__title",cr="esri-feature-element-info__description",ur=function(e){Object(c.a)(r,e);var t=ar(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n)).description=null,a.headingLevel=2,a.title=null,a}return Object(a.a)(r,[{key:"render",value:function(){return Object(nt.a)("div",{class:or},this.renderTitle(),this.renderDescription())}},{key:"renderTitle",value:function(){var e=this.title;return e?Object(nt.a)(ir.a,{level:this.headingLevel,class:sr},e):null}},{key:"renderDescription",value:function(){var e=this.description;return e?Object(nt.a)("div",{key:"description",class:cr},e):null}}]),r}(W.a);Object(h.a)([Object(k.b)()],ur.prototype,"description",void 0),Object(h.a)([Object(k.b)()],ur.prototype,"headingLevel",void 0),Object(h.a)([Object(k.b)()],ur.prototype,"title",void 0);var lr=ur=Object(h.a)([Object(x.a)("esri.widgets.Feature.support.FeatureElementInfo")],ur);function fr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var pr="esri-feature-attachments",dr=function(e){Object(c.a)(r,e);var t=fr(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n))._featureElementInfo=null,a.attachmentsWidget=new er,a.description=null,a.displayType=null,a.graphic=null,a.headingLevel=2,a.title=null,a.viewModel=new nr,a}return Object(a.a)(r,[{key:"initialize",value:function(){var e=this;this._featureElementInfo=new lr,Object(w.a)(this,["viewModel.description","viewModel.title","headingLevel"],(function(){return e._setupFeatureElementInfo()})),Object(w.a)(this,"viewModel.graphic",(function(t){return e.attachmentsWidget.graphic=t}))}},{key:"destroy",value:function(){this.attachmentsWidget.destroy(),this._featureElementInfo.destroy()}},{key:"render",value:function(){var e,t=this.attachmentsWidget;return Object(nt.a)("div",{class:pr},null==(e=this._featureElementInfo)?void 0:e.render(),null==t?void 0:t.render())}},{key:"_setupFeatureElementInfo",value:function(){var e=this.description,t=this.title,r=this.headingLevel;this._featureElementInfo.set({description:e,title:t,headingLevel:r})}}]),r}(W.a);Object(h.a)([Object(k.b)({readOnly:!0})],dr.prototype,"attachmentsWidget",void 0),Object(h.a)([Object(H.a)("viewModel.description")],dr.prototype,"description",void 0),Object(h.a)([Object(H.a)("attachmentsWidget.displayType")],dr.prototype,"displayType",void 0),Object(h.a)([Object(H.a)("viewModel.graphic")],dr.prototype,"graphic",void 0),Object(h.a)([Object(k.b)()],dr.prototype,"headingLevel",void 0),Object(h.a)([Object(H.a)("viewModel.title")],dr.prototype,"title",void 0),Object(h.a)([Object(k.b)({type:nr})],dr.prototype,"viewModel",void 0);var hr=dr=Object(h.a)([Object(x.a)("esri.widgets.Feature.FeatureAttachments")],dr);function br(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var yr=function(e){Object(c.a)(n,e);var t,r=br(n);function n(e){var t;return Object(i.a)(this,n),(t=r.call(this,e))._loadingPromise=null,t.created=null,t.creator=null,t.destroyer=null,t.graphic=null,t.handles.add(Object(w.a)(Object(o.a)(t),"creator",(function(e){t._destroyContent(),t._createContent(e)}))),t}return Object(a.a)(n,[{key:"destroy",value:function(){this._destroyContent()}},{key:"state",get:function(){return this._loadingPromise?"loading":"ready"}},{key:"_destroyContent",value:function(){var e=this.created,t=this.graphic,r=this.destroyer;e&&(me(r,{graphic:t}).catch((function(){return null})),this._set("created",null))}},{key:"_createContent",value:(t=Object(f.a)(d.a.mark((function e(t){var r,n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.graphic,n=me(t,{graphic:r}).catch((function(){return null})),this._loadingPromise=n,this.notifyChange("state"),e.next=4,n;case 4:i=e.sent,n===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange("state"),this._set("created",i));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),n}(Object(X.b)(L.a));Object(h.a)([Object(k.b)({readOnly:!0})],yr.prototype,"created",void 0),Object(h.a)([Object(k.b)()],yr.prototype,"creator",void 0),Object(h.a)([Object(k.b)()],yr.prototype,"destroyer",void 0),Object(h.a)([Object(k.b)({type:b.a})],yr.prototype,"graphic",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],yr.prototype,"state",null);var vr=yr=Object(h.a)([Object(x.a)("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],yr),mr=r("kpMX");function gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Or="esri-feature-content",jr="esri-feature-content__loader-container",wr="esri-feature-content__loader",_r=function(e){Object(c.a)(r,e);var t=gr(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n)).creator=null,a.graphic=null,a.viewModel=null,a._addTargetToAnchors=function(e){Array.from(e.querySelectorAll("a")).forEach((function(e){Oe(e.href)&&!e.hasAttribute("target")&&e.setAttribute("target","_blank")}))},a}return Object(a.a)(r,[{key:"renderLoading",value:function(){return Object(nt.a)("div",{class:jr,key:"loader"},Object(nt.a)("div",{class:wr}))}},{key:"renderCreated",value:function(){var e,t=null==(e=this.viewModel)?void 0:e.created;return t?t instanceof HTMLElement?Object(nt.a)("div",{key:t,bind:t,afterCreate:this._attachToNode}):Object(mr.b)(t)?Object(nt.a)("div",{key:t},!t.destroyed&&t.render()):Object(nt.a)("div",{key:t,innerHTML:t,afterCreate:this._addTargetToAnchors}):null}},{key:"render",value:function(){var e,t=null==(e=this.viewModel)?void 0:e.state;return Object(nt.a)("div",{class:Or},"loading"===t?this.renderLoading():this.renderCreated())}},{key:"_attachToNode",value:function(e){e.appendChild(this)}}]),r}(W.a);Object(h.a)([Object(H.a)("viewModel.creator")],_r.prototype,"creator",void 0),Object(h.a)([Object(H.a)("viewModel.graphic")],_r.prototype,"graphic",void 0),Object(h.a)([Object(k.b)({type:vr})],_r.prototype,"viewModel",void 0);var kr=_r=Object(h.a)([Object(x.a)("esri.widgets.Feature.FeatureContent")],_r),xr=r("WcPO"),Sr=r("SLE6");function Pr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Ir=function(e){Object(c.a)(r,e);var t=Pr(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).attributes=null,n.expressionInfos=null,n.description=null,n.fieldInfos=null,n.title=null,n}return Object(a.a)(r,[{key:"formattedFieldInfos",get:function(){var e=this.expressionInfos,t=this.fieldInfos,r=[];return null==t||t.forEach((function(t){if(!t.hasOwnProperty("visible")||t.visible){var n=t.clone();n.label=we(n,e),r.push(n)}})),r}}]),r}(L.a);Object(h.a)([Object(k.b)()],Ir.prototype,"attributes",void 0),Object(h.a)([Object(k.b)({type:[xr.a]})],Ir.prototype,"expressionInfos",void 0),Object(h.a)([Object(k.b)()],Ir.prototype,"description",void 0),Object(h.a)([Object(k.b)({type:[Sr.a]})],Ir.prototype,"fieldInfos",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Ir.prototype,"formattedFieldInfos",null),Object(h.a)([Object(k.b)()],Ir.prototype,"title",void 0);var Rr=Ir=Object(h.a)([Object(x.a)("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],Ir),Mr=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];function Er(e,t){if("string"!=typeof t||!t)return t;var r,n,i=(r=t,n=null,Mr.some((function(e){return e.pattern.test(r)&&(n=e),!!n})),n);if(!i)return t;var a=t.match(i.pattern),o=a&&a[2],s=Object($.c)(Object($.c)(i.label,{messages:e,hierPart:o}),{appName:i.appName}),c=i.target?' target="'.concat(i.target,'"'):"",u="_blank"===i.target?' rel="noreferrer"':"";return t.replace(i.pattern,"<a".concat(c,' href="$1"').concat(u,">").concat(s,"</a>"))}function Tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Ar="esri-feature-fields",Cr="esri-feature-fields__field-header",Dr="esri-feature-fields__field-data",Lr="esri-feature-fields__field-data--date",Fr="esri-widget__table",Nr=function(e){Object(c.a)(r,e);var t=Tr(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n))._featureElementInfo=null,a.attributes=null,a.description=null,a.expressionInfos=null,a.fieldInfos=null,a.title=null,a.viewModel=new Rr,a.messages=null,a.messagesURIUtils=null,a}return Object(a.a)(r,[{key:"initialize",value:function(){var e=this;this._featureElementInfo=new lr,Object(w.a)(this,["viewModel.description","viewModel.title"],(function(){return e._setupFeatureElementInfo()}))}},{key:"destroy",value:function(){this._featureElementInfo.destroy()}},{key:"renderFieldInfo",value:function(e,t){var r=this.viewModel.attributes,n=e.fieldName,i=e.label||n,a=r?null==r[n]?"":r[n]:"",o=!(!e.format||!e.format.dateFormat),s="number"!=typeof a||o?Er(this.messagesURIUtils,a):this._forceLTR(a),c=Object(S.a)({},Lr,o);return Object(nt.a)("tr",{key:"fields-element-info-row-".concat(n,"-").concat(t)},Object(nt.a)("th",{key:"fields-element-info-row-header-".concat(n,"-").concat(t),class:Cr,innerHTML:i}),Object(nt.a)("td",{key:"fields-element-info-row-data-".concat(n,"-").concat(t),class:this.classes(Dr,c),innerHTML:s}))}},{key:"renderFields",value:function(){var e=this,t=this.viewModel.formattedFieldInfos;return t.length?Object(nt.a)("table",{class:Fr,summary:this.messages.fieldsSummary},Object(nt.a)("tbody",null,t.map((function(t,r){return e.renderFieldInfo(t,r)})))):null}},{key:"render",value:function(){var e;return Object(nt.a)("div",{class:Ar},null==(e=this._featureElementInfo)?void 0:e.render(),this.renderFields())}},{key:"_setupFeatureElementInfo",value:function(){var e=this.description,t=this.title;this._featureElementInfo.set({description:e,title:t})}},{key:"_forceLTR",value:function(e){return"&lrm;".concat(e)}}]),r}(W.a);Object(h.a)([Object(H.a)("viewModel.attributes")],Nr.prototype,"attributes",void 0),Object(h.a)([Object(H.a)("viewModel.description")],Nr.prototype,"description",void 0),Object(h.a)([Object(H.a)("viewModel.expressionInfos")],Nr.prototype,"expressionInfos",void 0),Object(h.a)([Object(H.a)("viewModel.fieldInfos")],Nr.prototype,"fieldInfos",void 0),Object(h.a)([Object(H.a)("viewModel.title")],Nr.prototype,"title",void 0),Object(h.a)([Object(k.b)({type:Rr})],Nr.prototype,"viewModel",void 0),Object(h.a)([Object(k.b)(),Object(rt.a)("esri/widgets/Feature/t9n/Feature")],Nr.prototype,"messages",void 0),Object(h.a)([Object(k.b)(),Object(rt.a)("esri/widgets/support/t9n/uriUtils")],Nr.prototype,"messagesURIUtils",void 0);var Br=Nr=Object(h.a)([Object(x.a)("esri.widgets.Feature.FeatureFields")],Nr),Vr=r("2Tlz"),Ur=r("DGz/"),zr=r("IH5m"),qr=r("hdDo"),Hr=r("ax7y"),Gr=r("u0xB"),Wr=r("sVZi");function Jr(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return $r(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $r(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Zr=O.a.getLogger("esri.widgets.Feature.support.relatedFeatureUtils"),Qr=new Map;function Xr(e){if(!Ge(e))return null;var t=e.split("/").slice(1),r=Object(n.a)(t,2);return{layerId:r[0],fieldName:r[1]}}function Kr(e){var t,r=e.originRelationship,n=e.relationships,i=e.layerId;return n&&n.some((function(e){return"".concat(e.relatedTableId)===i&&e.id===r.id&&(t=e),!!t})),t}function Yr(e,t){var r=t.toLowerCase();for(var n in e)if(n.toLowerCase()===r)return e[n];return null}function en(e,t){var r=function(e,t){if(!t.relationships)return null;var r=null;return t.relationships.some((function(t){return t.id===parseInt(e,10)&&(r=t,!0)})),r}(e,t);if(r){var n="".concat(t.url,"/").concat(r.relatedTableId);return{url:n,queryTask:new Wr.a({url:n,sourceSpatialReference:t.spatialReference}),relation:r,relatedFields:[],outStatistics:[]}}}function tn(e,t){if(t&&e){var r=e.features,n=e.statsFeatures,i=r&&r.value;t.relatedFeatures=i?i.features:[];var a=n&&n.value;t.relatedStatsFeatures=a?a.features:[]}}function rn(e,t,r,n){var i=new Hr.a;return i.outFields=["*"],i.relationshipId="number"==typeof t.id?t.id:parseInt(t.id,10),i.objectIds=[e.attributes[r.objectIdField]],r.queryRelatedFeatures(i,n)}function nn(e,t,r){for(var n=0,i=[];n<t.length;)i.push("".concat(e," IN (").concat(t.slice(n,r+n),")")),n+=r;return i.join(" OR ")}function an(){return(an=Object(f.a)(d.a.mark((function e(t,r,n,i){var a,o,s,c,u,l,f,p,h,b,y,v,m,g,O,j,w,_;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.layerId.toString(),o=r.layerInfo,s=r.queryTask,c=r.relation,u=r.relatedFields,l=r.outStatistics,!(f=Kr({originRelationship:c,relationships:o.relationships,layerId:a})).relationshipTableId||!f.keyFieldInRelationshipTable){e.next=14;break}return e.next=4,rn(t,f,n,i);case 4:if(e.t0=t.attributes[n.objectIdField],p=e.sent[e.t0]){e.next=8;break}return e.abrupt("return",null);case 8:if(h=p.features.map((function(e){return e.attributes[o.objectIdField]})),!((null==l?void 0:l.length)>0&&o.supportsStatistics)){e.next=14;break}return(b=new qr.a).where=nn(o.objectIdField,h,1e3),b.outFields=u,b.outStatistics=l,y={features:Promise.resolve(p),statsFeatures:s.execute(b)},e.abrupt("return",Object(zr.j)(y));case 14:if(!(v=null==f?void 0:f.keyField)){e.next=18;break}return m=Object(re.p)(cn(o.fields,v)),g=Yr(t.attributes,c.keyField),O=m?"".concat(v,"=").concat(g):"".concat(v,"='").concat(g,"'"),j=s.execute(new qr.a({where:O,outFields:r.relatedFields}),i),w=r.outStatistics&&r.outStatistics.length>0&&o.supportsStatistics?s.execute(new qr.a({where:O,outFields:r.relatedFields,outStatistics:r.outStatistics}),i):null,_={features:j},e.abrupt("return",(w&&(_.statsFeatures=w),Object(zr.j)(_)));case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function on(e,t){var r=e.relatedInfos,n=e.layer,i={};return r.forEach((function(e,r){var a=e.relation;if(!a){var o=new m.a("relation-required","A relation is required on a layer to retrieve related records.");throw Zr.error(o),o}var s=a.relatedTableId;if("number"!=typeof s){var c=new m.a("A related table ID is required on a layer to retrieve related records.");throw Zr.error(c),c}var u="".concat(n.url,"/").concat(s),l=Qr.get(u),f=l||function(e,t){return Object(Ur.default)(e,{query:{f:"json"},signal:t&&t.signal})}(u,t);l||Qr.set(u,f),i[r]=f})),Object(zr.j)(i)}function sn(e,t){var r=e.graphic,n=e.relatedInfos,i=e.layer,a={};return n.forEach((function(e,n){e.layerInfo&&(a[n]=function(e,t,r,n){return an.apply(this,arguments)}(r,e,i,t))})),Object(zr.j)(a)}function cn(e,t){if(null!=e){t=t.toLowerCase();var r,n=Jr(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i&&i.name.toLowerCase()===t)return i}}catch(a){n.e(a)}finally{n.f()}}return null}function un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var ln=function(e){Object(c.a)(r,e);var t=un(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).activeMediaInfoIndex=0,n.attributes=null,n.description=null,n.fieldInfoMap=null,n.formattedAttributes=null,n.expressionAttributes=null,n.layer=null,n.mediaInfos=null,n.popupTemplate=null,n.relatedInfos=null,n.title=null,n}return Object(a.a)(r,[{key:"activeMediaInfo",get:function(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}},{key:"formattedMediaInfos",get:function(){return this._formatMediaInfos()||[]}},{key:"formattedMediaInfoCount",get:function(){return this.formattedMediaInfos.length}},{key:"setActiveMedia",value:function(e){this._setContentElementMedia(e)}},{key:"next",value:function(){this._pageContentElementMedia(1)}},{key:"previous",value:function(){this._pageContentElementMedia(-1)}},{key:"_setContentElementMedia",value:function(e){var t=this.formattedMediaInfoCount,r=(e+t)%t;this.activeMediaInfoIndex=r}},{key:"_pageContentElementMedia",value:function(e){var t=this.activeMediaInfoIndex+e;this._setContentElementMedia(t)}},{key:"_formatMediaInfos",value:function(){var e=this,t=this.attributes,r=this.mediaInfos,n=this.formattedAttributes,i=this.expressionAttributes,a=this.fieldInfoMap,o=this.layer;return null==r?void 0:r.map((function(r){if(!r)return null;if(r.title=Se({attributes:t,fieldInfoMap:a,globalAttributes:n,expressionAttributes:i,layer:o,text:r.title}),r.caption=Se({attributes:t,fieldInfoMap:a,globalAttributes:n,expressionAttributes:i,layer:o,text:r.caption}),r.altText=Se({attributes:t,fieldInfoMap:a,globalAttributes:n,expressionAttributes:i,layer:o,text:r.altText}),"image"===r.type){var s=r.value;return e._setImageValue({value:s,formattedAttributes:n,layer:o}),r.value.sourceURL?r:void 0}if("pie-chart"===r.type||"line-chart"===r.type||"column-chart"===r.type||"bar-chart"===r.type){var c=r.value;return e._setChartValue({value:c,chartType:r.type,attributes:t,formattedAttributes:n,layer:o}),r}return null})).filter(Boolean)}},{key:"_setImageValue",value:function(e){var t=this.fieldInfoMap,r=e.value,n=e.formattedAttributes,i=e.layer,a=r.linkURL,o=r.sourceURL;if(o){var s=Me(o,i);r.sourceURL=Pe({formattedAttributes:n,template:s,fieldInfoMap:t})}if(a){var c=Me(a,i);r.linkURL=Pe({formattedAttributes:n,template:c,fieldInfoMap:t})}}},{key:"_setChartValue",value:function(e){var t=this,r=e.value,n=e.attributes,i=e.formattedAttributes,a=e.chartType,o=e.layer,s=this.popupTemplate,c=this.relatedInfos,u=r.fields,l=r.normalizeField;if(r.fields=function(e,t){return e&&e.map((function(e){return _e(e,t)}))}(u,o),l&&(r.normalizeField=_e(l,o)),u.some((function(e){return!!(null!=i[e]||Ge(e)&&c.size)}))){var f=null==s?void 0:s.fieldInfos;u.forEach((function(e){if(Ge(e))r.series=[].concat(Object(ee.a)(r.series),Object(ee.a)(t._getRelatedChartInfos({fieldInfos:f,fieldName:e,formattedAttributes:i,chartType:a,value:r})));else{var o=t._getChartOption({value:r,attributes:n,chartType:a,formattedAttributes:i,fieldName:e,fieldInfos:f});r.series.push(o)}}))}}},{key:"_getRelatedChartInfos",value:function(e){var t,r=this,n=e.fieldInfos,i=e.fieldName,a=e.formattedAttributes,o=e.chartType,s=e.value,c=[],u=Xr(i),l=u.layerId,f=u.fieldName,p=null==(t=this.relatedInfos)?void 0:t.get(l.toString());if(!p)return c;var d=p.relatedFeatures,h=p.relation;if(!h||!d)return c;var b=h.cardinality;return d.forEach((function(e){var t=e.attributes;t&&Object.keys(t).forEach((function(e){e===f&&c.push(r._getChartOption({value:s,attributes:t,formattedAttributes:a,fieldName:i,chartType:o,relatedFieldName:e,fieldInfos:n}))}))})),"one-to-many"===b||"many-to-many"===b?c:[c[0]]}},{key:"_getTooltip",value:function(e){var t=e.label,r=e.value;return"pie-chart"===e.chartType?t:"".concat(t,": ").concat(r)}},{key:"_getChartOption",value:function(e){var t,r=e.value,n=e.attributes,i=e.formattedAttributes,a=e.fieldName,o=e.relatedFieldName,s=e.fieldInfos,c=e.chartType,u=this.layer,l=r.normalizeField,f=r.tooltipField,p=l?Ge(l)?n[Xr(l).fieldName]:n[l]:null,d=o&&void 0!==n[o]?n[o]:void 0!==n[a]?n[a]:i[a],h=void 0===d?null:d&&p?d/p:d,b=new Vr.a({value:h});if(Ge(a)){var y=Xr(a),v=Xr(f),m=v?v.fieldName:null,g=Te(h,{fieldInfos:s,fieldName:o,layer:u,preventPlacesFormatting:!!p}),O=y?y.label||y.fieldName:o,j=m&&void 0!==n[m]?n[m]:O;return b.tooltip=this._getTooltip({label:j,value:g,chartType:c}),b}var w=Ae(s,a),_=_e(a,u),k=f&&void 0!==i[f]?i[f]:we(w||new Sr.a({fieldName:_}),null==(t=this.popupTemplate)?void 0:t.expressionInfos),x=i[_];return b.tooltip=this._getTooltip({label:k,value:x,chartType:c}),b}}]),r}(L.a);Object(h.a)([Object(k.b)()],ln.prototype,"activeMediaInfoIndex",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],ln.prototype,"activeMediaInfo",null),Object(h.a)([Object(k.b)()],ln.prototype,"attributes",void 0),Object(h.a)([Object(k.b)()],ln.prototype,"description",void 0),Object(h.a)([Object(k.b)()],ln.prototype,"fieldInfoMap",void 0),Object(h.a)([Object(k.b)()],ln.prototype,"formattedAttributes",void 0),Object(h.a)([Object(k.b)()],ln.prototype,"expressionAttributes",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],ln.prototype,"formattedMediaInfos",null),Object(h.a)([Object(k.b)()],ln.prototype,"layer",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],ln.prototype,"formattedMediaInfoCount",null),Object(h.a)([Object(k.b)()],ln.prototype,"mediaInfos",void 0),Object(h.a)([Object(k.b)()],ln.prototype,"popupTemplate",void 0),Object(h.a)([Object(k.b)()],ln.prototype,"relatedInfos",void 0),Object(h.a)([Object(k.b)()],ln.prototype,"title",void 0);var fn=ln=Object(h.a)([Object(x.a)("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],ln),pn=fn,dn=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],hn=[].concat(dn.slice(30,39),dn.slice(28,30).reverse()),bn=[{name:"default",colors:hn},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}],yn=r("Vs6/");function vn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return mn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mn(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gn,On,jn=new Map([["ar",function(){return Promise.all([r.e(0),r.e(72)]).then(r.bind(null,"87O4")).then((function(e){return e.a}))}],["bs-ba",function(){return Promise.all([r.e(0),r.e(74)]).then(r.bind(null,"UMyo")).then((function(e){return e.b}))}],["ca-es",function(){return Promise.all([r.e(0),r.e(75)]).then(r.bind(null,"3gQj")).then((function(e){return e.c}))}],["cs-cz",function(){return Promise.all([r.e(0),r.e(76)]).then(r.bind(null,"pYgk")).then((function(e){return e.c}))}],["da-dk",function(){return Promise.all([r.e(0),r.e(77)]).then(r.bind(null,"tn5j")).then((function(e){return e.d}))}],["de-de",function(){return Promise.all([r.e(0),r.e(79)]).then(r.bind(null,"GFor")).then((function(e){return e.d}))}],["de-ch",function(){return Promise.all([r.e(0),r.e(78)]).then(r.bind(null,"hmLw")).then((function(e){return e.d}))}],["el-gr",function(){return Promise.all([r.e(0),r.e(80)]).then(r.bind(null,"2bY4")).then((function(e){return e.e}))}],["en-us",function(){return Promise.all([r.e(0),r.e(82)]).then(r.bind(null,"55gn")).then((function(e){return e.e}))}],["en-ca",function(){return Promise.all([r.e(0),r.e(81)]).then(r.bind(null,"b/bd")).then((function(e){return e.e}))}],["es-es",function(){return Promise.all([r.e(0),r.e(83)]).then(r.bind(null,"nePl")).then((function(e){return e.e}))}],["et-ee",function(){return Promise.all([r.e(0),r.e(84)]).then(r.bind(null,"RtAH")).then((function(e){return e.e}))}],["fi-fi",function(){return Promise.all([r.e(0),r.e(85)]).then(r.bind(null,"GUhA")).then((function(e){return e.f}))}],["fr-fr",function(){return Promise.all([r.e(0),r.e(86)]).then(r.bind(null,"N0np")).then((function(e){return e.f}))}],["he-il",function(){return Promise.all([r.e(0),r.e(87)]).then(r.bind(null,"JBrJ")).then((function(e){return e.h}))}],["hr-hr",function(){return Promise.all([r.e(0),r.e(88)]).then(r.bind(null,"SIV/")).then((function(e){return e.h}))}],["hu-hu",function(){return Promise.all([r.e(0),r.e(89)]).then(r.bind(null,"54vT")).then((function(e){return e.h}))}],["id-id",function(){return Promise.all([r.e(0),r.e(90)]).then(r.bind(null,"0MRC")).then((function(e){return e.i}))}],["it-it",function(){return Promise.all([r.e(0),r.e(91)]).then(r.bind(null,"kBtD")).then((function(e){return e.i}))}],["ja-jp",function(){return Promise.all([r.e(0),r.e(92)]).then(r.bind(null,"sQG1")).then((function(e){return e.j}))}],["ko-kr",function(){return Promise.all([r.e(0),r.e(93)]).then(r.bind(null,"FAej")).then((function(e){return e.k}))}],["lt-lt",function(){return Promise.all([r.e(0),r.e(94)]).then(r.bind(null,"uMEn")).then((function(e){return e.l}))}],["lv-lv",function(){return Promise.all([r.e(0),r.e(95)]).then(r.bind(null,"oS6S")).then((function(e){return e.l}))}],["nb-no",function(){return Promise.all([r.e(0),r.e(96)]).then(r.bind(null,"nVvj")).then((function(e){return e.n}))}],["nl-nl",function(){return Promise.all([r.e(0),r.e(97)]).then(r.bind(null,"YwVM")).then((function(e){return e.n}))}],["pl-pl",function(){return Promise.all([r.e(0),r.e(99)]).then(r.bind(null,"L0yx")).then((function(e){return e.p}))}],["pt-br",function(){return Promise.all([r.e(0),r.e(100)]).then(r.bind(null,"Zc4i")).then((function(e){return e.p}))}],["pt-pt",function(){return Promise.all([r.e(0),r.e(101)]).then(r.bind(null,"hoBK")).then((function(e){return e.p}))}],["ro-ro",function(){return Promise.all([r.e(0),r.e(102)]).then(r.bind(null,"SltX")).then((function(e){return e.r}))}],["ru-ru",function(){return Promise.all([r.e(0),r.e(103)]).then(r.bind(null,"Mro4")).then((function(e){return e.r}))}],["sk-sk",function(){return Promise.all([r.e(0),r.e(104)]).then(r.bind(null,"0ixd")).then((function(e){return e.s}))}],["sl-sl",function(){return Promise.all([r.e(0),r.e(105)]).then(r.bind(null,"ST/v")).then((function(e){return e.s}))}],["sr-rs",function(){return Promise.all([r.e(0),r.e(106)]).then(r.bind(null,"enBX")).then((function(e){return e.s}))}],["sv-se",function(){return Promise.all([r.e(0),r.e(107)]).then(r.bind(null,"6giS")).then((function(e){return e.s}))}],["th-th",function(){return Promise.all([r.e(0),r.e(108)]).then(r.bind(null,"mmD2")).then((function(e){return e.t}))}],["tr-tr",function(){return Promise.all([r.e(0),r.e(109)]).then(r.bind(null,"oX8r")).then((function(e){return e.t}))}],["uk-ua",function(){return Promise.all([r.e(0),r.e(110)]).then(r.bind(null,"b70s")).then((function(e){return e.u}))}],["vi-vn",function(){return Promise.all([r.e(0),r.e(111)]).then(r.bind(null,"CTQN")).then((function(e){return e.v}))}],["zh-cn",function(){return Promise.all([r.e(0),r.e(112)]).then(r.bind(null,"N6Mg")).then((function(e){return e.z}))}],["zh-hk",function(){return Promise.all([r.e(0),r.e(18)]).then(r.bind(null,"03re")).then((function(e){return e.z}))}],["zh-tw",function(){return Promise.all([r.e(0),r.e(18)]).then(r.bind(null,"03re")).then((function(e){return e.z}))}]]);function wn(e){return e?jn.has(e.toLowerCase())?e.toLowerCase():function(e){var t,r=e.split("-")[0].toLowerCase(),n=null,i=vn(jn.keys());try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.startsWith(r)){n=a;break}}}catch(o){i.e(o)}finally{i.f()}return n}(e)||"en-us":"en-us"}function _n(){return kn.apply(this,arguments)}function kn(){return(kn=Object(f.a)(d.a.mark((function e(){var t,i,a,o,s,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=wn(t=c.length>0&&void 0!==c[0]?c[0]:Object(yn.b)()),!gn||t!==On){e.next=3;break}return e.abrupt("return",gn);case 3:return gn=Promise.all([r.e(25),r.e(0)]).then(r.bind(null,"/VIN")).then((function(e){return e.i})),On=t,e.prev=4,e.next=7,Promise.all([gn,jn.get(On)()]);case 7:i=e.sent,a=Object(n.a)(i,2),o=a[0],s=a[1],On===t&&(o.am4core.options.defaultLocale=s.default),o.am4core.options.suppressWarnings=!0,o.am4core.options.autoDispose=!0,e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(4),e.abrupt("return",(gn=null,On=null,null));case 17:return e.abrupt("return",gn);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}function xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Sn="esri-feature-media",Pn="esri-feature-media__container",In="esri-feature-media__item-container",Rn="esri-feature-media__item",Mn="esri-feature-media__item-title",En="esri-feature-media__item-caption",Tn="esri-feature-media__previous",An="esri-feature-media__previous-icon",Cn="esri-feature-media__previous-icon--rtl",Dn="esri-feature-media__next",Ln="esri-feature-media__next-icon",Fn="esri-feature-media__next-icon--rtl",Nn="esri-feature-media__chart",Bn="esri-feature-media__button",Vn="esri-feature-media__icon",Un="esri-icon-left-triangle-arrow",zn="esri-icon-right-triangle-arrow",qn=function(e){Object(c.a)(o,e);var t,r=xn(o);function o(e,t){var n;return Object(i.a)(this,o),(n=r.call(this,e,t))._refreshTimer=null,n._refreshIntervalInfo=null,n._featureElementInfo=null,n.attributes=null,n.activeMediaInfoIndex=null,n.description=null,n.fieldInfoMap=null,n.layer=null,n.mediaInfos=null,n.popupTemplate=null,n.relatedInfos=null,n.title=null,n.viewModel=new pn,n.messages=null,n}return Object(a.a)(o,[{key:"initialize",value:function(){var e=this;this._featureElementInfo=new lr,this.own(Object(w.a)(this,["viewModel.activeMediaInfo","viewModel.activeMediaInfoIndex"],(function(){return e._setupMediaRefreshTimer()})),Object(w.a)(this,["viewModel.description","viewModel.title"],(function(){return e._setupFeatureElementInfo()})))}},{key:"destroy",value:function(){this._clearMediaRefreshTimer(),this._featureElementInfo.destroy()}},{key:"render",value:function(){var e;return Object(nt.a)("div",{bind:this,class:Sn,onkeyup:this._handleMediaKeyup},null==(e=this._featureElementInfo)?void 0:e.render(),this.renderMedia())}},{key:"renderMedia",value:function(){return this.viewModel.formattedMediaInfoCount?Object(nt.a)("div",{key:"media-element-container",class:Pn},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}},{key:"renderImageMediaInfo",value:function(e){var t=this._refreshIntervalInfo,r=this.viewModel,n=r.activeMediaInfoIndex,i=r.formattedMediaInfoCount,a=e.value,o=e.refreshInterval,s=e.altText,c=e.title,u=e.type,l=a.sourceURL,f=a.linkURL,p=Oe(f)?"_blank":"_self",d="_blank"===p?"noreferrer":"",h=o?t:null,b=h?h.timestamp:0,y=h?h.sourceURL:l,v=Object(nt.a)("img",{alt:s||c,key:"media-".concat(u,"-").concat(n,"-").concat(i,"-").concat(b),src:y});return(f?Object(nt.a)("a",{title:c,href:f,rel:d,target:p},v):null)||v}},{key:"renderChartMediaInfo",value:function(e){var t=this.viewModel,r=t.activeMediaInfoIndex,n=t.formattedMediaInfoCount;return Object(nt.a)("div",{key:"media-".concat(e.type,"-").concat(r,"-").concat(n),bind:this,class:Nn,afterCreate:this._getChartDependencies})}},{key:"renderMediaInfoType",value:function(){var e=this.viewModel.activeMediaInfo;return e?"image"===e.type?this.renderImageMediaInfo(e):-1!==e.type.indexOf("chart")?this.renderChartMediaInfo(e):null:null}},{key:"renderMediaInfo",value:function(){var e=this.viewModel.activeMediaInfo;if(!e)return null;var t=e.title?Object(nt.a)("div",{key:"media-title",class:Mn,innerHTML:e.title}):null,r=e.caption?Object(nt.a)("div",{key:"media-caption",class:En,innerHTML:e.caption}):null;return Object(nt.a)("div",{key:"media-container",class:In},Object(nt.a)("div",{key:"media-item-container",class:Rn},this.renderMediaInfoType()),t,r)}},{key:"renderMediaPageButton",value:function(e){if(this.viewModel.formattedMediaInfoCount<2)return null;var t="previous"===e,r=t?this.messages.previous:this.messages.next,n=t?this.classes(Bn,Tn):this.classes(Bn,Dn),i=t?this.classes(Vn,An,Un):this.classes(Vn,Ln,zn),a=t?this.classes(Vn,Cn,zn):this.classes(Vn,Fn,Un),o=t?"media-previous":"media-next",s=t?this._previous:this._next;return Object(nt.a)("button",{type:"button",key:o,title:r,"aria-label":r,tabIndex:0,class:n,bind:this,onclick:s},Object(nt.a)("span",{"aria-hidden":"true",class:i}),Object(nt.a)("span",{"aria-hidden":"true",class:a}))}},{key:"_setupFeatureElementInfo",value:function(){var e=this.description,t=this.title;this._featureElementInfo.set({description:e,title:t})}},{key:"_next",value:function(){this.viewModel.next()}},{key:"_previous",value:function(){this.viewModel.previous()}},{key:"_getChartDependencies",value:(t=Object(f.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n();case 2:r=e.sent,n=this.viewModel.activeMediaInfo,this._renderChart({chartDiv:t,mediaInfo:n,chartsModule:r});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_handleMediaKeyup",value:function(e){var t=Object(z.a)(e);"ArrowLeft"===t&&(e.stopPropagation(),this.viewModel.previous()),"ArrowRight"===t&&(e.stopPropagation(),this.viewModel.next())}},{key:"_renderChart",value:function(e){var t=e.chartsModule,r=e.chartDiv,n=e.mediaInfo,i=n.value,a=n.type,o=t.am4core,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=bn.find((function(e){return e.name===t}));return r?r.colors.map((function(t){return e.color(t)})):null}(o);Object(tt.g)()&&o.useTheme(t.am4themes_dark),o.useTheme(t.am4themes_animated),o.useTheme((function(e){e instanceof o.ColorSet&&s&&(e.list=s)}));var c="pie-chart"===a?this._createPieChart(e):this._createXYChart(e);r.setAttribute("aria-label",n.altText||n.title),c.data=i.series.map((function(e){return{tooltip:e.tooltip,value:e.value}})).filter((function(e){return"pie-chart"!==a||e.value>0}))}},{key:"_customizeChartTooltip",value:function(e,t){e.label.wrap=!0,e.label.maxWidth=200,e.autoTextColor=!1,e.getFillFromObject=!1,e.label.fill=t.color("#ffffff"),e.background.fill=t.color({r:0,g:0,b:0,a:.7})}},{key:"_createPieChart",value:function(e){var t=e.chartDiv,r=e.chartsModule,n=r.am4core,i=r.am4charts,a=n.create(t,i.PieChart);a.rtl=Object(tt.h)();var o=a.series.push(new i.PieSeries);return o.labels.template.disabled=!0,o.ticks.template.disabled=!0,o.dataFields.value="value",o.dataFields.category="tooltip",this._customizeChartTooltip(o.tooltip,n),a}},{key:"_getMinSeriesValue",value:function(e){var t=0;return e.forEach((function(e){return t=Math.min(e.value,t)})),t}},{key:"_createColumnChart",value:function(e,t){var r=t.chartsModule,n=t.mediaInfo.value,i=r.am4core,a=r.am4charts,o=e.xAxes.push(new a.CategoryAxis);o.dataFields.category="tooltip",o.renderer.labels.template.disabled=!0,this._customizeChartTooltip(o.tooltip,i),o.tooltip.events.on("sizechanged",(function(){o.tooltip.dy=-o.tooltip.contentHeight}));var s=e.yAxes.push(new a.ValueAxis),c=s.renderer.labels.template;s.renderer.minLabelPosition=.05,s.renderer.maxLabelPosition=.95,s.min=this._getMinSeriesValue(n.series),this._customizeChartTooltip(s.tooltip,i),c.wrap=!0;var u=e.series.push(new a.ColumnSeries);u.dataFields.valueY="value",u.dataFields.categoryX="tooltip",e.cursor=new a.XYCursor,n.series.length>15&&(e.scrollbarX=new i.Scrollbar)}},{key:"_createBarChart",value:function(e,t){var r=t.chartsModule,n=t.mediaInfo.value,i=r.am4core,a=r.am4charts,o=e.yAxes.push(new a.CategoryAxis);o.dataFields.category="tooltip",o.renderer.inversed=!0,o.renderer.labels.template.disabled=!0,this._customizeChartTooltip(o.tooltip,i),o.tooltip.events.on("sizechanged",(function(){o.tooltip.dx=o.tooltip.contentWidth}));var s=e.xAxes.push(new a.ValueAxis),c=s.renderer.labels.template;s.renderer.minLabelPosition=.05,s.renderer.maxLabelPosition=.95,s.min=this._getMinSeriesValue(n.series),this._customizeChartTooltip(s.tooltip,i),c.wrap=!0;var u=e.series.push(new a.ColumnSeries);u.dataFields.valueX="value",u.dataFields.categoryY="tooltip",e.cursor=new a.XYCursor,n.series.length>15&&(e.scrollbarY=new i.Scrollbar)}},{key:"_createLineChart",value:function(e,t){var r=t.chartsModule,n=t.mediaInfo.value,i=r.am4core,a=r.am4charts,o=e.xAxes.push(new a.CategoryAxis);o.dataFields.category="tooltip",o.renderer.labels.template.disabled=!0,this._customizeChartTooltip(o.tooltip,i),o.tooltip.events.on("sizechanged",(function(){o.tooltip.dy=-o.tooltip.contentHeight}));var s=e.yAxes.push(new a.ValueAxis),c=s.renderer.labels.template;s.renderer.minLabelPosition=.05,s.renderer.maxLabelPosition=.95,s.min=this._getMinSeriesValue(n.series),this._customizeChartTooltip(s.tooltip,i),c.wrap=!0;var u=e.series.push(new a.LineSeries);u.dataFields.categoryX="tooltip",u.dataFields.valueY="value",e.cursor=new a.XYCursor,n.series.length>15&&(e.scrollbarX=new i.Scrollbar)}},{key:"_createXYChart",value:function(e){var t=e.chartDiv,r=e.chartsModule,n=e.mediaInfo.type,i=r.am4core,a=r.am4charts,o=i.create(t,a.XYChart);return o.rtl=Object(tt.h)(),"column-chart"===n&&this._createColumnChart(o,e),"bar-chart"===n&&this._createBarChart(o,e),"line-chart"===n&&this._createLineChart(o,e),o}},{key:"_clearMediaRefreshTimer",value:function(){var e=this._refreshTimer;e&&(clearTimeout(e),this._refreshTimer=null)}},{key:"_updateMediaInfoTimestamp",value:function(e){var t=Date.now();this._refreshIntervalInfo={timestamp:t,sourceURL:this._getImageSource(e,t)},this.scheduleRender()}},{key:"_setupMediaRefreshTimer",value:function(){this._clearMediaRefreshTimer();var e=this.viewModel.activeMediaInfo;e&&"image"===e.type&&e.refreshInterval&&this._setRefreshTimeout(e)}},{key:"_setRefreshTimeout",value:function(e){var t=this,r=e.refreshInterval,n=e.value;if(r){var i=6e4*r;this._updateMediaInfoTimestamp(n.sourceURL);var a=setInterval((function(){t._updateMediaInfoTimestamp(n.sourceURL)}),i);this._refreshTimer=a}}},{key:"_getImageSource",value:function(e,t){var r=-1!==e.indexOf("?")?"&":"?",i=e.split("#"),a=Object(n.a)(i,2),o=a[0],s=a[1],c=void 0===s?"":s;return"".concat(o).concat(r,"timestamp=").concat(t).concat(c?"#":"").concat(c)}}]),o}(W.a);Object(h.a)([Object(H.a)("viewModel.attributes")],qn.prototype,"attributes",void 0),Object(h.a)([Object(H.a)("viewModel.activeMediaInfoIndex")],qn.prototype,"activeMediaInfoIndex",void 0),Object(h.a)([Object(H.a)("viewModel.description")],qn.prototype,"description",void 0),Object(h.a)([Object(H.a)("viewModel.fieldInfoMap")],qn.prototype,"fieldInfoMap",void 0),Object(h.a)([Object(H.a)("viewModel.layer")],qn.prototype,"layer",void 0),Object(h.a)([Object(H.a)("viewModel.mediaInfos")],qn.prototype,"mediaInfos",void 0),Object(h.a)([Object(H.a)("viewModel.popupTemplate")],qn.prototype,"popupTemplate",void 0),Object(h.a)([Object(H.a)("viewModel.relatedInfos")],qn.prototype,"relatedInfos",void 0),Object(h.a)([Object(H.a)("viewModel.title")],qn.prototype,"title",void 0),Object(h.a)([Object(k.b)({type:pn})],qn.prototype,"viewModel",void 0),Object(h.a)([Object(k.b)(),Object(rt.a)("esri/widgets/Feature/t9n/Feature")],qn.prototype,"messages",void 0);var Hn=qn=Object(h.a)([Object(x.a)("esri.widgets.Feature.FeatureMedia")],qn),Gn=r("AC3/"),Wn=r("EOOn");function Jn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return $n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $n(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xn=["$datastore","$map","$layer","$aggregatedfeatures"],Kn=O.a.getLogger("esri.widgets.Feature.support.arcadeFeatureUtils");function Yn(e){return'<ul class="esri-widget__list">'.concat(e.map((function(e){return"<li>".concat("string"==typeof e?Le(De(e)):e,"</li>")})).join(""),"</ul>")}function ei(e){return'<table class="esri-widget__table">'.concat(e.keys().map((function(t){var r=e.field(t);return"<tr><th>".concat(t,"</th><td>").concat("string"==typeof r?Le(De(r)):r,"</td></tr>")})).join(""),"</table>")}function ti(e){var t=e.aggregatedFeatures,r=e.arcadeUtils,n=e.featureSetVars,i=e.context,a=e.viewInfo,o=e.map,s=e.graphic;n.forEach((function(e){var n=e.toLowerCase(),c={map:o,spatialReference:a.sr};if("$map"===n&&(i.vars[n]=r.convertMapToFeatureSetCollection(c)),"$layer"===n&&(i.vars[n]=r.convertFeatureLayerToFeatureSet(s.sourceLayer,a.sr)),"$datastore"===n&&(i.vars[n]=r.convertServiceUrlToWorkspace(s.sourceLayer.url,a.sr)),"$aggregatedfeatures"===n){var u=s.layer,l=u.fields,f=u.objectIdField,p=u.geometryType,d=u.spatialReference,h=u.displayField,b=new Wn.default(Qn(Qn({fields:l,objectIdField:f,geometryType:p,spatialReference:d,displayField:h},"feature"===u.type?{templates:u.templates,typeIdField:u.typeIdField,types:u.types}:null),{},{source:t}));i.vars[n]=r.convertFeatureLayerToFeatureSet(b,a.sr)}}))}function ri(){return Promise.all([r.e(0),r.e(1),r.e(16)]).then(r.bind(null,"498p"))}function ni(e){return ii.apply(this,arguments)}function ii(){return(ii=Object(f.a)(d.a.mark((function e(t){var r,n,i,a,o,s,c,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.graphic,n=t.view,i=r.isAggregate,a=r.layer,i&&a&&"2d"===(null==n?void 0:n.type)){e.next=4;break}return e.abrupt("return",[]);case 4:return e.next=6,n.whenLayerView(a);case 6:if((o=e.sent).createQuery&&o.queryFeatures){e.next=9;break}return e.abrupt("return",[]);case 9:return(s=o.createQuery()).aggregateIds=[r.getObjectId()],e.next=13,o.queryFeatures(s);case 13:return c=e.sent,u=c.features,e.abrupt("return",u);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ai(e){return oi.apply(this,arguments)}function oi(){return(oi=Object(f.a)(d.a.mark((function e(t){var r,n,i,a,o,s,c,u,l,f,p,h,b,y;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.expressionAttributes,n=t.info,i=t.arcadeUtils,a=t.spatialReference,o=t.map,s=t.graphic,c=t.view,u="expression/".concat(n.name),l=i.createSyntaxTree(n.expression),f=Xn.filter((function(e){return i.hasVariable(l,e)})),e.next=4,i.loadScriptDependencies(l,!0,f);case 4:return p=i.getViewInfo({spatialReference:a}),(h=i.createExecContext(s,p)).useAsync=!0,e.t0=ti,e.next=9,ni({graphic:s,view:c});case 9:return e.t1=e.sent,e.t2=i,e.t3=f,e.t4=h,e.t5=p,e.t6=o,e.t7=s,e.t8={aggregatedFeatures:e.t1,arcadeUtils:e.t2,featureSetVars:e.t3,context:e.t4,viewInfo:e.t5,map:e.t6,graphic:e.t7},(0,e.t0)(e.t8),b=i.createFunction(l,h),e.next=21,i.executeAsyncFunction(b,h).catch((function(e){return Kn.error("arcade-execution-error",{error:e,graphic:s,expressionInfo:n})}));case 21:y=e.sent,r[u]="string"==typeof y?Le(De(y)):Array.isArray(y)?Yn(y):y&&"esri.arcade.Dictionary"===y.declaredClass?ei(y):y;case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function si(e){return ci.apply(this,arguments)}function ci(){return(ci=Object(f.a)(d.a.mark((function e(t){var r,n,i,a,o,s,c,u,l,f,p,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.popupTemplate,n=t.spatialReference,i=t.graphic,a=t.map,o=t.view,s=r.expressionInfos,c=[],u={},s&&s.length){e.next=4;break}return e.abrupt("return",u);case 4:return e.next=6,ri();case 6:l=e.sent,f=Jn(s);try{for(f.s();!(p=f.n()).done;)h=p.value,c.push(ai({expressionAttributes:u,info:h,arcadeUtils:l,spatialReference:n,map:a,graphic:i,view:o}))}catch(d){f.e(d)}finally{f.f()}return e.next=11,Object(zr.j)(c);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ui(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ui(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var pi=O.a.getLogger("esri.widgets.FeatureViewModel"),di=function(e){Object(c.a)(p,e);var t,r,n,s,u,l=fi(p);function p(e){var t;return Object(i.a)(this,p),(t=l.call(this,e))._handles=new I.a,t._featureAbortController=null,t.graphicChangedThrottled=Object(q.a)(t.graphicChanged,1,Object(o.a)(t)),t._expressionAttributes=null,t.content=null,t.contentViewModels=[],t.defaultPopupTemplateEnabled=!1,t.formattedAttributes=null,t.lastEditInfo=null,t.relatedInfos=new Map,t.title="",t.view=null,t._handles.add(Object(w.a)(Object(o.a)(t),["graphic","_effectivePopupTemplate"],(function(){return t.graphicChangedThrottled()}))),t}return Object(a.a)(p,[{key:"destroy",value:function(){this._clear(),this._cancelFeatureQuery(),this._handles.destroy(),this._handles=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}},{key:"_effectivePopupTemplate",get:function(){return Object(j.i)(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}},{key:"_fieldInfoMap",get:function(){return e=Ce(this._effectivePopupTemplate),t=this._sourceLayer,r=new Map,e&&e.forEach((function(e){var n=_e(e.fieldName,t);e.fieldName=n,r.set(n.toLowerCase(),e)})),r;var e,t,r}},{key:"_sourceLayer",get:function(){return ve(this.graphic)}},{key:"graphic",set:function(e){this._set("graphic",e?e.clone():null)}},{key:"spatialReference",get:function(){return this.get("view.spatialReference")||null},set:function(e){void 0!==e?this._override("spatialReference",e):this._clearOverride("spatialReference")}},{key:"map",get:function(){return this.get("view.map")||null},set:function(e){void 0!==e?this._override("map",e):this._clearOverride("map")}},{key:"waitingForContent",get:function(){return!!this._featureAbortController}},{key:"setActiveMedia",value:function(e,t){var r=this.contentViewModels[e];r instanceof pn&&r.setActiveMedia(t)}},{key:"nextMedia",value:function(e){var t=this.contentViewModels[e];t instanceof pn&&t.next()}},{key:"previousMedia",value:function(e){var t=this.contentViewModels[e];t instanceof pn&&t.previous()}},{key:"_clear",value:function(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}},{key:"graphicChanged",value:(u=Object(f.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._cancelFeatureQuery(),this._clear(),t=this.graphic){e.next=4;break}return e.abrupt("return");case 4:return r=Object(zr.d)(),this._featureAbortController=r,e.prev=6,e.next=9,this._queryFeature({signal:r.signal});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),pi.error("error","error loading popupTemplate for graphic",{error:e.t0,graphic:t});case 14:this._featureAbortController===r&&(this._featureAbortController=null);case 15:case"end":return e.stop()}}),e,this,[[6,11]])}))),function(){return u.apply(this,arguments)})},{key:"_cancelFeatureQuery",value:function(){var e=this._featureAbortController;e&&e.abort(),this._featureAbortController=null}},{key:"_compileContent",value:function(e){var t=this;if(this._destroyContentViewModels(),this.graphic)return Array.isArray(e)?e.map((function(e,r){return"attachments"===e.type?t._compileAttachments(e,r):"custom"===e.type?t._compileCustom(e,r):"fields"===e.type?t._compileFields(e,r):"media"===e.type?t._compileMedia(e,r):"text"===e.type?t._compileText(e,r):void 0})):"string"==typeof e?this._compileText(new Gn.a({text:e}),0).text:e}},{key:"_destroyContentViewModels",value:function(){this.contentViewModels.forEach((function(e){return e&&!e.destroyed&&e.destroy()})),this._set("contentViewModels",[])}},{key:"_compileAttachments",value:function(e,t){var r=this.graphic,n=e.description,i=e.title;return this.contentViewModels[t]=new nr(li({graphic:r},this._compileTitleAndDesc({title:i,description:n}))),e}},{key:"_compileCustom",value:function(e,t){var r=this.graphic,n=e.creator,i=e.destroyer;return this.contentViewModels[t]=new vr({graphic:r,creator:n,destroyer:i}),e}},{key:"_compileTitleAndDesc",value:function(e){var t=e.title,r=e.description,n=this._fieldInfoMap,i=this._sourceLayer,a=this.graphic,o=this.formattedAttributes,s=this._expressionAttributes,c=a.attributes,u=o.global;return{title:Se({attributes:c,fieldInfoMap:n,globalAttributes:u,expressionAttributes:s,layer:i,text:t}),description:Se({attributes:c,fieldInfoMap:n,globalAttributes:u,expressionAttributes:s,layer:i,text:r})}}},{key:"_compileFields",value:function(e,t){var r=this._effectivePopupTemplate,n=this.formattedAttributes,i=e.clone(),a=(null==e?void 0:e.fieldInfos)||(null==r?void 0:r.fieldInfos),o=null==r?void 0:r.expressionInfos,s=li(li({},n.global),n.content[t]),c=i.description,u=i.title,l=new Rr(li({attributes:s,expressionInfos:o,fieldInfos:a},this._compileTitleAndDesc({title:u,description:c})));return this.contentViewModels[t]=l,i.fieldInfos=l.formattedFieldInfos.slice(0),i}},{key:"_compileMedia",value:function(e,t){var r=this.graphic,n=this._fieldInfoMap,i=this._effectivePopupTemplate,a=this.relatedInfos,o=this._sourceLayer,s=this._expressionAttributes,c=r.attributes,u=this.formattedAttributes.global,l=e.clone(),f=l.description,p=l.mediaInfos,d=l.title,h=new pn(li({activeMediaInfoIndex:l.activeMediaInfoIndex||0,attributes:c,layer:o,fieldInfoMap:n,formattedAttributes:u,expressionAttributes:s,mediaInfos:p,popupTemplate:i,relatedInfos:a},this._compileTitleAndDesc({title:d,description:f})));return l.mediaInfos=h.formattedMediaInfos.slice(0),this.contentViewModels[t]=h,l}},{key:"_compileText",value:function(e,t){var r=e.clone(),n=this.graphic,i=this._fieldInfoMap,a=this._sourceLayer,o=this._expressionAttributes;if(r&&r.text){var s=n.attributes,c=this.formattedAttributes.global;r.text=Se({attributes:s,fieldInfoMap:i,globalAttributes:c,expressionAttributes:o,layer:a,text:r.text})}return this.contentViewModels[t]=new vr({graphic:n,creator:r.text}),r}},{key:"_compileLastEditInfo",value:function(){var e=this._effectivePopupTemplate,t=this._sourceLayer,r=this.graphic;if(e){var n=e.lastEditInfoEnabled,i=null==t?void 0:t.editFieldsInfo;return n&&i?function(e,t){var r=e.creatorField,n=e.creationDateField,i=e.editorField,a=e.editDateField;if(t){var o=t[a];if("number"==typeof o){var s=t[i];return{type:"edit",date:Object(te.b)(o,ye),user:s}}var c=t[n];if("number"==typeof c){var u=t[r];return{type:"create",date:Object(te.b)(c,ye),user:u}}return null}}(i,r.attributes):void 0}}},{key:"_compileTitle",value:function(e){var t=this._fieldInfoMap,r=this._sourceLayer,n=this.graphic,i=this._expressionAttributes;return Se({attributes:n.attributes,fieldInfoMap:t,globalAttributes:this.formattedAttributes.global,expressionAttributes:i,layer:r,text:e})}},{key:"_getTitle",value:(s=Object(f.a)(d.a.mark((function e(){var t,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._effectivePopupTemplate,r=this.graphic,n=null==t?void 0:t.title,e.abrupt("return",me(n,{graphic:r}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"_getContent",value:(n=Object(f.a)(d.a.mark((function e(){var t,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._effectivePopupTemplate,r=this.graphic,n=null==t?void 0:t.content,e.abrupt("return",me(n,{graphic:r}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"_queryFeature",value:(r=Object(f.a)(d.a.mark((function e(t){var r,n,i,a,o,s,c,u,l,f,p,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._featureAbortController,n=this._sourceLayer,i=this.graphic,a=this._effectivePopupTemplate,o=this.spatialReference,s=this.map,c=this.view,e.next=9,Object(zr.j)({content:this._getContent(),title:this._getTitle()});case 9:if(u=e.sent,l=u.content.value,f=u.title.value,r===this._featureAbortController&&i){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,qe({graphic:i,popupTemplate:a,layer:n,spatialReference:o},t);case 16:return e.next=18,Object(zr.j)({checkForRelatedFeatures:this._checkForRelatedFeatures(t),expressionAttributes:si({popupTemplate:this._effectivePopupTemplate,spatialReference:o,graphic:i,map:s,view:c})});case 18:p=e.sent,h=p.expressionAttributes.value,r===this._featureAbortController&&i&&(this._expressionAttributes=h,this._set("formattedAttributes",this._createFormattedAttributes(l,h)),this._set("title",this._compileTitle(f)),this._set("lastEditInfo",this._compileLastEditInfo()||null),this._set("content",this._compileContent(l)||null));case 21:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_createFormattedAttributes",value:function(e,t){var r=this._effectivePopupTemplate,n=this.graphic,i=this.relatedInfos,a=this._sourceLayer,o=this._fieldInfoMap,s=null==r?void 0:r.fieldInfos,c=li(li({},n.attributes),t),u={global:Ne({fieldInfos:s,graphic:n,attributes:c,layer:a,fieldInfoMap:o,relatedInfos:i}),content:[]};return Array.isArray(e)&&e.forEach((function(e,t){"fields"===e.type&&e.fieldInfos&&(u.content[t]=Ne({fieldInfos:e.fieldInfos,graphic:n,attributes:c,layer:a,fieldInfoMap:o,relatedInfos:i}))})),u}},{key:"_checkForRelatedFeatures",value:function(e){var t=this.graphic,r=this._effectivePopupTemplate;return this._queryRelatedInfos(t,Ce(r),e)}},{key:"_queryRelatedInfos",value:(t=Object(f.a)(d.a.mark((function e(t,r,n){var i,a,o,s,c,u,l=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.relatedInfos,a=this._sourceLayer,i.clear(),!Object(j.i)(a.associatedLayer)){e.next=8;break}return e.next=5,a.associatedLayer.load(n);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=a;case 9:if(o=e.t0){e.next=12;break}return e.abrupt("return");case 12:if((s=r.filter((function(e){return e&&Ge(e.fieldName)})))&&s.length){e.next=15;break}return e.abrupt("return");case 15:return r.forEach((function(e){return l._configureRelatedInfo(e,o)})),e.next=18,on({relatedInfos:i,layer:o},n);case 18:return c=e.sent,Object.keys(c).forEach((function(e){var t,r=i.get(e.toString()),n=null==(t=c[e])?void 0:t.value;r&&n&&(r.layerInfo=n.data)})),e.next=22,sn({graphic:t,relatedInfos:i,layer:o},n);case 22:u=e.sent,Object.keys(u).forEach((function(e){var t;tn(null==(t=u[e])?void 0:t.value,i.get(e.toString()))}));case 24:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"_configureRelatedInfo",value:function(e,t){var r=this.relatedInfos,n=Xr(e.fieldName);if(n){var i=n.layerId,a=n.fieldName;if(i){var o=r.get(i.toString())||en(i,t);o&&(function(e){var t=e.relatedInfo,r=e.fieldName,n=e.fieldInfo;if(t.relatedFields.push(r),n.statisticType){var i=new Gr.a({statisticType:n.statisticType,onStatisticField:r,outStatisticFieldName:r});t.outStatistics.push(i)}}({relatedInfo:o,fieldName:a,fieldInfo:e}),this.relatedInfos.set(i,o))}}}}]),p}(L.a);Object(h.a)([Object(k.b)()],di.prototype,"_featureAbortController",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],di.prototype,"_effectivePopupTemplate",null),Object(h.a)([Object(k.b)({readOnly:!0})],di.prototype,"_fieldInfoMap",null),Object(h.a)([Object(k.b)({readOnly:!0})],di.prototype,"_sourceLayer",null),Object(h.a)([Object(k.b)({readOnly:!0})],di.prototype,"content",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],di.prototype,"contentViewModels",void 0),Object(h.a)([Object(k.b)({type:Boolean})],di.prototype,"defaultPopupTemplateEnabled",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],di.prototype,"formattedAttributes",void 0),Object(h.a)([Object(k.b)({type:b.a,value:null})],di.prototype,"graphic",null),Object(h.a)([Object(k.b)({readOnly:!0})],di.prototype,"lastEditInfo",void 0),Object(h.a)([Object(k.b)()],di.prototype,"relatedInfos",void 0),Object(h.a)([Object(k.b)()],di.prototype,"spatialReference",null),Object(h.a)([Object(k.b)({readOnly:!0})],di.prototype,"title",void 0),Object(h.a)([Object(k.b)()],di.prototype,"map",null),Object(h.a)([Object(k.b)({readOnly:!0})],di.prototype,"waitingForContent",null),Object(h.a)([Object(k.b)()],di.prototype,"view",void 0);var hi=di=Object(h.a)([Object(x.a)("esri.widgets.FeatureViewModel")],di);function bi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var yi=function(e){var t=function(e){Object(c.a)(r,e);var t=bi(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).renderNodeContent=function(t){return Object(mr.b)(t)&&!t.destroyed?Object(nt.a)("div",{key:t},t.render()):t instanceof HTMLElement?Object(nt.a)("div",{key:t,bind:t,afterCreate:e._attachToNode}):Object(mr.a)(t)?Object(nt.a)("div",{key:t,bind:t.domNode,afterCreate:e._attachToNode}):null},e}return Object(a.a)(r,[{key:"_attachToNode",value:function(e){e.appendChild(this)}}]),r}(e);return t=Object(h.a)([Object(x.a)("esri.widgets.Feature.ContentMixin")],t)},vi=r("Iyey");function mi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var ji="esri-icon-loading-indicator esri-rotating",wi="esri-widget",_i="esri-feature",ki="esri-feature__size-container",xi="esri-feature__title",Si="esri-feature__main-container",Pi="esri-feature__content-element",Ii="esri-feature__text",Ri="esri-feature__last-edited-info",Mi="esri-feature__loading-container",Ei="esri-feature__loading-spinner",Ti={title:!0,content:!0,lastEditedInfo:!0},Ai=function(e){Object(c.a)(r,e);var t=Oi(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n))._contentWidgets=[],a.graphic=null,a.defaultPopupTemplateEnabled=!1,a.headingLevel=2,a.label=void 0,a.messages=null,a.messagesURIUtils=null,a.spatialReference=null,a.title=null,a.visibleElements=gi({},Ti),a.map=null,a.view=null,a.viewModel=new hi,a}return Object(a.a)(r,[{key:"initialize",value:function(){var e=this;this.own(Object(w.a)(this,"viewModel.contentViewModels",(function(){return e._setupContentWidgets()})))}},{key:"destroy",value:function(){this._destroyContentWidgets()}},{key:"castVisibleElements",value:function(e){return gi(gi({},Ti),e)}},{key:"render",value:function(){var e=this.viewModel.waitingForContent;return Object(nt.a)("div",{class:this.classes(_i,wi)},Object(nt.a)("div",{class:ki},this.renderTitle(),e?this.renderLoading():this.renderContentContainer()))}},{key:"setActiveMedia",value:function(e,t){this.viewModel.setActiveMedia(e,t)}},{key:"nextMedia",value:function(e){this.viewModel.nextMedia(e)}},{key:"previousMedia",value:function(e){this.viewModel.previousMedia(e)}},{key:"renderLoading",value:function(){return Object(nt.a)("div",{key:"loading-container",class:Mi},Object(nt.a)("span",{class:this.classes(ji,Ei)}))}},{key:"renderContentContainer",value:function(){return this.visibleElements.content?Object(nt.a)("div",{class:Si},[this.renderContent(),this.renderLastEditInfo()]):null}},{key:"renderTitle",value:function(){var e=this.visibleElements,t=this.title;return e.title?Object(nt.a)(ir.a,{level:this.headingLevel,class:xi,innerHTML:t}):null}},{key:"renderContent",value:function(){var e=this.viewModel.content,t="content";if(!e)return null;if(Array.isArray(e))return e.length?Object(nt.a)("div",{key:"".concat(t,"-content-elements")},e.map(this.renderContentElement,this)):null;if("string"==typeof e){var r=this._contentWidgets[0];return!r||r.destroyed?null:Object(nt.a)("div",{key:"".concat(t,"-content")},r.render())}return this.renderNodeContent(e)}},{key:"renderContentElement",value:function(e,t){var r=this.visibleElements;if("boolean"!=typeof r.content&&!r.content[e.type])return null;switch(e.type){case"attachments":return this.renderAttachments(t);case"custom":return this.renderCustom(e,t);case"fields":return this.renderFields(t);case"media":return this.renderMedia(t);case"text":return this.renderText(e,t);default:return null}}},{key:"renderAttachments",value:function(e){var t=this._contentWidgets[e];if(!t||t.destroyed)return null;var r=t.viewModel,n=r.state,i=r.attachmentInfos;return"loading"===n||i.length>0?Object(nt.a)("div",{key:this._buildKey("attachments-element",e),class:this.classes(Pi)},t.render()):null}},{key:"renderCustom",value:function(e,t){var r=e.creator,n=this._contentWidgets[t];return!n||n.destroyed?null:r?Object(nt.a)("div",{key:this._buildKey("custom-element",t),class:Pi},n.render()):null}},{key:"renderFields",value:function(e){var t=this._contentWidgets[e];return!t||t.destroyed?null:Object(nt.a)("div",{key:this._buildKey("fields-element",e),class:Pi},t.render())}},{key:"renderMedia",value:function(e){var t=this._contentWidgets[e];return!t||t.destroyed?null:Object(nt.a)("div",{key:this._buildKey("media-element",e),class:Pi},t.render())}},{key:"renderLastEditInfo",value:function(){var e=this.visibleElements,t=this.messages,r=this.viewModel.lastEditInfo;if(!r||!e.lastEditedInfo)return null;var n=r.date,i=r.user,a="edit"===r.type?i?t.lastEditedByUser:t.lastEdited:i?t.lastCreatedByUser:t.lastCreated,o=Object(vi.a)(a,{date:n,user:i});return Object(nt.a)("div",{key:"edit-info-element",class:this.classes(Ri,Pi)},o)}},{key:"renderText",value:function(e,t){var r=e.text,n=this._contentWidgets[t];return!n||n.destroyed?null:r?Object(nt.a)("div",{key:this._buildKey("text-element",t),class:this.classes(Pi,Ii)},n.render()):null}},{key:"_buildKey",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return"".concat(e,"__").concat(this.get("viewModel.graphic.uid")||"0","-").concat(r.join("-"))}},{key:"_destroyContentWidgets",value:function(){this._contentWidgets.forEach((function(e){e.viewModel=null,e&&!e.destroyed&&e.destroy()})),this._contentWidgets=[]}},{key:"_setupContentWidgets",value:function(){var e=this;this._destroyContentWidgets();var t=this.headingLevel,r=this.visibleElements,n=this.get("viewModel.content"),i=this.viewModel.contentViewModels;if(Array.isArray(n))n.forEach((function(n,a){"attachments"===n.type&&(e._contentWidgets[a]=new hr({displayType:n.displayType,headingLevel:r.title?t+1:t,viewModel:i[a]})),"fields"===n.type&&(e._contentWidgets[a]=new Br({viewModel:i[a]})),"media"===n.type&&(e._contentWidgets[a]=new Hn({viewModel:i[a]})),"text"===n.type&&(e._contentWidgets[a]=new kr({viewModel:i[a]})),"custom"===n.type&&(e._contentWidgets[a]=new kr({viewModel:i[a]}))}),this);else{var a=i[0];a&&!a.destroyed&&(this._contentWidgets[0]=new kr({viewModel:a}))}this.scheduleRender()}}]),r}(yi(W.a));Object(h.a)([Object(H.a)("viewModel.graphic")],Ai.prototype,"graphic",void 0),Object(h.a)([Object(H.a)("viewModel.defaultPopupTemplateEnabled")],Ai.prototype,"defaultPopupTemplateEnabled",void 0),Object(h.a)([Object(k.b)()],Ai.prototype,"headingLevel",void 0),Object(h.a)([Object(k.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Ai.prototype,"label",void 0),Object(h.a)([Object(k.b)(),Object(rt.a)("esri/widgets/Feature/t9n/Feature")],Ai.prototype,"messages",void 0),Object(h.a)([Object(k.b)(),Object(rt.a)("esri/widgets/support/t9n/uriUtils")],Ai.prototype,"messagesURIUtils",void 0),Object(h.a)([Object(H.a)("viewModel.spatialReference")],Ai.prototype,"spatialReference",void 0),Object(h.a)([Object(H.a)("viewModel.title")],Ai.prototype,"title",void 0),Object(h.a)([Object(k.b)()],Ai.prototype,"visibleElements",void 0),Object(h.a)([Object(G.a)("visibleElements")],Ai.prototype,"castVisibleElements",null),Object(h.a)([Object(H.a)("viewModel.map")],Ai.prototype,"map",void 0),Object(h.a)([Object(H.a)("viewModel.view")],Ai.prototype,"view",void 0),Object(h.a)([Object(k.b)({type:hi})],Ai.prototype,"viewModel",void 0);var Ci=Ai=Object(h.a)([Object(x.a)("esri.widgets.Feature")],Ai),Di=r("v3KF");function Li(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Fi=function(e){Object(c.a)(r,e);var t=Li(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e))._anchorHandles=new I.a,n.location=null,n.screenLocation=null,n.screenLocationEnabled=!1,n.view=null,n._anchorHandles.add([Object(w.d)(Object(o.a)(n),["screenLocationEnabled","location","view.size","view.stationary"],(function(){return n._updateScreenPointAndHandle()})),Object(w.d)(Object(o.a)(n),["view","view.ready"],(function(){return n._wireUpView()}))]),n}return Object(a.a)(r,[{key:"destroy",value:function(){this.view=null,this._anchorHandles&&this._anchorHandles.destroy(),this._anchorHandles=null,this._viewpointHandle=null}},{key:"_wireUpView",value:function(){var e=this,t="view";if(this._anchorHandles.remove(t),this._viewpointHandle=null,this.get("view.ready")){this._setScreenLocation();var r=this.view,n="3d"===r.type?"camera":"viewpoint",i=Object(w.c)(r,n,(function(){return e._viewpointChange()}));this._anchorHandles.add(i,t),this._viewpointHandle=i,this._toggleWatchingViewpoint()}}},{key:"_viewpointChange",value:function(){this._setScreenLocation(),this.emit("view-change")}},{key:"_updateScreenPointAndHandle",value:function(){this._setScreenLocation(),this._toggleWatchingViewpoint()}},{key:"_toggleWatchingViewpoint",value:function(){var e=this._viewpointHandle,t=this.location,r=this.screenLocationEnabled;e&&(t&&r?e.resume():e.pause())}},{key:"_setScreenLocation",value:function(){var e=this.location,t=this.view,r=this.screenLocationEnabled,n=this.get("view.ready"),i=r&&n&&Object(j.i)(e)?t.toScreen(e):null;this._set("screenLocation",i)}}]),r}(Di.a.EventedAccessor);Object(h.a)([Object(k.b)()],Fi.prototype,"location",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Fi.prototype,"screenLocation",void 0),Object(h.a)([Object(k.b)()],Fi.prototype,"screenLocationEnabled",void 0),Object(h.a)([Object(k.b)()],Fi.prototype,"view",void 0);var Ni=Fi=Object(h.a)([Object(x.a)("esri.widgets.support.AnchorElementViewModel")],Fi);function Bi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Vi=function(e){Object(c.a)(r,e);var t=Bi(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).visible=!1,n}return r}(Ni);Object(h.a)([Object(k.b)()],Vi.prototype,"visible",void 0);var Ui=Vi=Object(h.a)([Object(x.a)("esri.widgets.CompassViewModel")],Vi);function zi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var qi="esri-spinner",Hi="esri-spinner--start",Gi="esri-spinner--finish",Wi=function(e){Object(c.a)(r,e);var t=zi(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n))._animationDelay=500,a._animationPromise=null,a.location=null,a.view=null,a.viewModel=new Ui,a.visible=!1,a}return Object(a.a)(r,[{key:"initialize",value:function(){var e=this;this.own([Object(w.d)(this,"visible",(function(t){return e._visibleChange(t)}))])}},{key:"destroy",value:function(){this._animationPromise=null}},{key:"show",value:function(e){var t=this,r=e.location,n=e.promise;r&&(this.viewModel.location=r),this.visible=!0;n&&n.catch((function(){})).then((function(){return t.hide()}))}},{key:"hide",value:function(){this.visible=!1}},{key:"render",value:function(){var e,t=this.visible,r=!!this.viewModel.screenLocation,n=t&&r,i=!t&&r,a=(e={},Object(S.a)(e,Hi,n),Object(S.a)(e,Gi,i),e),o=this._getPositionStyles();return Object(nt.a)("div",{class:this.classes(qi,a),styles:o})}},{key:"_visibleChange",value:function(e){var t=this;if(e)this.viewModel.screenLocationEnabled=!0;else{var r=Object(zr.a)(this._animationDelay);this._animationPromise=r,r.catch((function(){})).then((function(){t._animationPromise===r&&(t.viewModel.screenLocationEnabled=!1,t._animationPromise=null)}))}}},{key:"_getPositionStyles",value:function(){var e=this.viewModel,t=e.screenLocation,r=e.view;if(!r||Object(j.h)(t))return{};var n=r.padding;return{left:t.x-n.left+"px",top:t.y-n.top+"px"}}}]),r}(W.a);Object(h.a)([Object(H.a)("viewModel.location")],Wi.prototype,"location",void 0),Object(h.a)([Object(H.a)("viewModel.view")],Wi.prototype,"view",void 0),Object(h.a)([Object(k.b)({type:Ui})],Wi.prototype,"viewModel",void 0),Object(h.a)([Object(H.a)("viewModel.visible")],Wi.prototype,"visible",void 0);var Ji=Wi=Object(h.a)([Object(x.a)("esri.widgets.Spinner")],Wi),$i=(r("ZTBZ"),r("fb8N"),r("3p7a")),Zi=r("QZQ7"),Qi=r("f6f6"),Xi=r("5xtG"),Ki=r("KWbM"),Yi=r("tg/W"),ea=r("7ycK"),ta=r("KxEA"),ra="esri-icon-zoom-in-magnifying-glass",na="esri-icon-trash",ia="esri-icon-table",aa=new Xi.a({id:"zoom-to-feature",title:"{messages.zoom}",className:ra}),oa=new Xi.a({id:"remove-selected-feature",title:"{messages.remove}",className:na}),sa=new Xi.a({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:ra}),ca=new Xi.a({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:ia}),ua=O.a.getLogger("esri.widgets.Popup.PopupViewModel"),la=function(e){var t=e.event,r=e.view,n=t.action,i=r&&r.popup;if(!n)return Promise.reject(new m.a("trigger-action:missing-arguments","Event has no action"));if(!i)return Promise.reject(new m.a("trigger-action:missing-arguments","view.popup is missing"));var a=n.disabled,o=n.id;if(!o)return Promise.reject(new m.a("trigger-action:invalid-action","action.id is missing"));if(a)return Promise.reject(new m.a("trigger-action:invalid-action","Action is disabled"));if(o===aa.id)return function(e){return da.apply(this,arguments)}(i.viewModel);if(o===sa.id)return function(e){return ha.apply(this,arguments)}(i.viewModel);if(o===ca.id)return i.featureMenuOpen=!i.featureMenuOpen,i.viewModel.browseClusterEnabled=!i.viewModel.browseClusterEnabled,Promise.resolve();if(i.viewModel.browseClusterEnabled=!1,o===oa.id){i.close();var s=i.selectedFeature;if(!s)return Promise.reject(new m.a("trigger-action:".concat(oa.id),"selectedFeature is required",{selectedFeature:s}));var c=s.sourceLayer;return c?c.remove(s):r.graphics.remove(s),Promise.resolve()}return Promise.resolve()};function fa(e){var t=e.selectedFeature,r=e.location,n=e.view;return n?"3d"===n.type?t||r:e.get("selectedFeature.geometry")||r:null}function pa(e,t){if("3d"!==(null==t?void 0:t.type)||!e||"esri.Graphic"!==e.declaredClass)return!0;var r=t.getViewForGraphic(e);if(r&&"whenGraphicBounds"in r){var n=!1;return r.whenGraphicBounds(e,{useViewElevation:!0}).then((function(e){n=!e||!e.boundingBox||e.boundingBox[0]===e.boundingBox[3]&&e.boundingBox[1]===e.boundingBox[4]&&e.boundingBox[2]===e.boundingBox[5]})).catch((function(){var t=new m.a("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:e});ua.error(t)})),n}return!0}function da(){return(da=Object(f.a)(d.a.mark((function e(t){var r,n,i,a,o,s,c,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.location,n=t.selectedFeature,i=t.view,a=t.zoomFactor,o=fa(t)){e.next=4;break}return s=new m.a("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:o,view:i}),e.abrupt("return",(ua.error(s),Promise.reject(s)));case 4:return c=i.scale/a,u=t.get("selectedFeature.geometry")||r,l=u&&"point"===u.type&&pa(n,i),aa.active=!0,aa.disabled=!0,e.next=9,t.view.goTo({target:o,scale:l?c:void 0});case 9:aa.active=!1,aa.disabled=!1,t.zoomToLocation=null,l&&(t.location=u);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ha(){return(ha=Object(f.a)(d.a.mark((function e(t){var r,n,i,a,o,s,c,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.selectedFeature,"2d"===(null==(n=t.view)?void 0:n.type)){e.next=4;break}throw i=new m.a("zoomToCluster:invalid-view","View must be 2d MapView.",{view:n}),ua.error(i),i;case 4:if(r.isAggregate){e.next=7;break}throw a=new m.a("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:r}),ua.error(a),a;case 7:return o=r.sourceLayer,e.next=10,n.whenLayerView(o);case 10:return s=e.sent,(c=s.createQuery()).aggregateIds=[r.getObjectId()],sa.active=!0,sa.disabled=!0,e.next=15,s.queryExtent(c);case 15:return u=e.sent,l=u.extent,e.next=19,n.goTo({target:l});case 19:sa.active=!1,sa.disabled=!1;case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ba(e){return ya.apply(this,arguments)}function ya(){return(ya=Object(f.a)(d.a.mark((function e(t){var r,n,i,a,o,s,c,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.selectedFeature,"2d"===(null==(n=t.view)?void 0:n.type)){e.next=4;break}throw i=new m.a("displayClusterExtent:invalid-view","View must be 2d MapView.",{view:n}),ua.error(i),i;case 4:if(r.isAggregate){e.next=7;break}throw a=new m.a("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:r}),ua.error(a),a;case 7:return o=r.sourceLayer,e.next=10,n.whenLayerView(o);case 10:return s=e.sent,(c=s.createQuery()).aggregateIds=[r.getObjectId()],e.next=15,s.queryExtent(c);case 15:u=e.sent,l=u.extent,t.selectedClusterBoundaryFeature.geometry=l,n.graphics.add(t.selectedClusterBoundaryFeature);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function va(e){return ma.apply(this,arguments)}function ma(){return(ma=Object(f.a)(d.a.mark((function e(t){var r,n,i,a,o,s,c,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.selectedFeature,"2d"===(null==(n=t.view)?void 0:n.type)){e.next=4;break}throw i=new m.a("browseAggregateFeatures:invalid-view","View must be 2d MapView.",{view:n}),ua.error(i),i;case 4:if(r.isAggregate){e.next=7;break}throw a=new m.a("browseAggregateFeatures:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:r}),ua.error(a),a;case 7:return o=r.sourceLayer,e.next=10,n.whenLayerView(o);case 10:return s=e.sent,(c=s.createQuery()).aggregateIds=[r.getObjectId()],ca.active=!0,ca.disabled=!0,e.next=15,s.queryFeatures(c);case 15:u=e.sent,l=u.features,ca.active=!1,ca.disabled=!1,n.popup.open({features:[r].concat(l),featureMenuOpen:!0});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ga=r("zTdd"),Oa=r("2d0T"),ja=r("OTJA");function wa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wa(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ka(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var xa=y.a.ofType({key:"type",defaultKeyValue:"button",base:Qi.a,typeMap:{button:Xi.a,toggle:Ki.a}}),Sa=O.a.getLogger("esri.widgets.Popup.PopupViewModel"),Pa=function(e){Object(c.a)(u,e);var t,r,n,o,s=ka(u);function u(e){var t;return Object(i.a)(this,u),(t=s.call(this,e))._handles=new I.a,t._pendingPromises=new Set,t._fetchFeaturesController=null,t._selectedClusterFeature=null,t.featurePage=null,t.actions=new xa,t.defaultPopupTemplateEnabled=!1,t.autoCloseEnabled=!1,t.autoOpenEnabled=!0,t.browseClusterEnabled=!1,t.content=null,t.featuresPerPage=20,t.featureViewModels=[],t.highlightEnabled=!0,t.includeDefaultActions=!0,t.selectedClusterBoundaryFeature=new b.a({symbol:new Oa.a({outline:{width:1.5,color:"cyan"},style:"none"})}),t.title=null,t.updateLocationEnabled=!1,t.view=null,t.visible=!1,t.zoomFactor=4,t.zoomToLocation=null,t}return Object(a.a)(u,[{key:"isLoadingFeature",get:function(){return this.featureViewModels.some((function(e){return e.waitingForContent}))}},{key:"initialize",value:function(){var e=this;this._handles.add([Object(w.a)(this,["autoOpenEnabled","view"],(function(){return e._autoOpenEnabledChange()})),this.on("view-change",(function(){return e._autoClose()})),Object(w.d)(this,["highlightEnabled","selectedFeature","visible","view"],(function(){return e._highlightFeature()})),Object(w.d)(this,"view.animation.state",(function(t){return e._animationStateChange(t)})),Object(w.d)(this,"location",(function(t){return e._locationChange(t)})),Object(w.d)(this,"selectedFeature",(function(t){return e._selectedFeatureChange(t)})),Object(w.d)(this,["selectedFeatureIndex","featureCount","featuresPerPage"],(function(){return e._selectedFeatureIndexChange()})),Object(w.d)(this,["featurePage","selectedFeatureIndex","featureCount","featuresPerPage, featureViewModels"],(function(){return e._setGraphicOnFeatureViewModels()})),Object(w.d)(this,"featureViewModels",(function(){return e._featureViewModelsChange()})),this.on("trigger-action",(function(t){return la({event:t,view:e.view})})),Object(w.f)(this,"waitingForResult",(function(){return e._waitingForResultChange()}),!0),Object(w.d)(this,["features","view","view.map","view.spatialReference"],(function(){return e._updateFeatureVMs()})),Object(w.d)(this,["view.scale"],this._viewScaleChange),Object(w.f)(this,"visible",(function(){return e.browseClusterEnabled=!1})),Object(w.d)(this,"browseClusterEnabled",(function(t){return t?e.enableClusterBrowsing():e.disableClusterBrowsing()}))])}},{key:"destroy",value:function(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}},{key:"active",get:function(){return!(!this.visible||this.waitingForResult)}},{key:"allActions",get:function(){var e=this._get("allActions")||new xa;e.removeAll();var t=this.actions,r=this.defaultActions,n=this.defaultPopupTemplateEnabled,i=this.includeDefaultActions,a=this.selectedFeature,o=i?r.concat(t):t,s=a&&("function"==typeof a.getEffectivePopupTemplate&&a.getEffectivePopupTemplate(n)||a.popupTemplate),c=s&&s.actions,u=s&&s.overwriteActions?c:c?c.concat(o):o;return u&&u.filter(Boolean).forEach((function(t){return e.add(t)})),e}},{key:"defaultActions",get:function(){var e,t=this._get("defaultActions")||new xa;return t.removeAll(),t.addMany(null!=(e=this.selectedFeature)&&e.isAggregate?[sa.clone(),ca.clone()]:[aa.clone()]),t}},{key:"featureCount",get:function(){return this.features.length}},{key:"features",get:function(){return this._get("features")||[]},set:function(e){var t=e||[];this._set("features",t);var r=this.pendingPromisesCount,n=this.promiseCount,i=this.selectedFeatureIndex,a=n&&t.length;a&&r&&-1===i?this.selectedFeatureIndex=0:a&&-1!==i||(this.selectedFeatureIndex=t.length?0:-1)}},{key:"location",get:function(){return this._get("location")||null},set:function(e){var t=this.get("view.spatialReference.isWebMercator");e&&e.get("spatialReference.isWGS84")&&t&&(e=Object($i.b)(e)),this._set("location",e)}},{key:"pendingPromisesCount",get:function(){return this._pendingPromises.size}},{key:"waitingForResult",get:function(){return!(!(this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}},{key:"promiseCount",get:function(){return this.promises.length}},{key:"promises",get:function(){return this._get("promises")||[]},set:function(e){var t=this;if(this._pendingPromises.clear(),this.features=[],!Array.isArray(e)||!e.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",e),(e=e.slice(0)).forEach((function(e){t._pendingPromises.add(e);e.then((function(r){t._pendingPromises.has(e)&&t._updateFeatures(r),t._updatePendingPromises(e)}),(function(){return t._updatePendingPromises(e)}))})),this.notifyChange("pendingPromisesCount")}},{key:"selectedFeature",get:function(){var e=this.features,t=this.selectedFeatureIndex;return-1===t?null:e[t]||null}},{key:"selectedFeatureIndex",get:function(){var e=this._get("selectedFeatureIndex");return"number"==typeof e?e:-1},set:function(e){var t=this.featureCount;e=isNaN(e)||e<-1||!t?-1:(e+t)%t,this._set("selectedFeatureIndex",e)}},{key:"selectedFeatureViewModel",get:function(){return this.featureViewModels[this.selectedFeatureIndex]||null}},{key:"state",get:function(){return this.get("view.ready")?"ready":"disabled"}},{key:"centerAtLocation",value:function(){var e=this.view,t=fa(this);if(!t){var r=new m.a("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:t,view:e});return Sa.error(r),Promise.reject(r)}return this.callGoTo({target:{target:t,scale:e.scale}})}},{key:"clear",value:function(){this.set({promises:[],features:[],content:null,title:null,location:null})}},{key:"fetchFeatures",value:function(e,t){var r=this.view;if(!r||!e){var n=new m.a("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:e,view:r});return Sa.error(n),Promise.reject(n)}return r.fetchPopupFeatures(e,{event:t&&t.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:t&&t.signal})}},{key:"open",value:function(e){var t=_a(_a({updateLocationEnabled:!1,promises:[],fetchFeatures:!1},e),{},{visible:!0}),r=t.fetchFeatures;delete t.fetchFeatures,r&&this._setFetchFeaturesPromises(t.location),this.set(t)}},{key:"triggerAction",value:function(e){var t=this.allActions.getItemAt(e);t&&!t.disabled&&this.emit("trigger-action",{action:t})}},{key:"next",value:function(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}},{key:"previous",value:function(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}},{key:"disableClusterBrowsing",value:function(){var e;(e=this).features=e.features.filter((function(e){return e.isAggregate})),this._clearBrowsedClusterGraphics()}},{key:"enableClusterBrowsing",value:(o=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ba(this);case 2:return e.next=4,va(this);case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"_animationStateChange",value:function(e){this.zoomToLocation||(aa.disabled="waiting-for-target"===e)}},{key:"_clearBrowsedClusterGraphics",value:function(){var e,t=null==(e=this.view)?void 0:e.graphics;t&&(t.remove(this.selectedClusterBoundaryFeature),t.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}},{key:"_viewScaleChange",value:function(){var e;(null!=(e=this.selectedFeature)&&e.isAggregate||this.browseClusterEnabled)&&(this.browseClusterEnabled=!1,this.visible=!1)}},{key:"_locationChange",value:function(e){var t=this.selectedFeature;this.updateLocationEnabled&&e&&(!t||t.geometry)&&this.centerAtLocation()}},{key:"_selectedFeatureIndexChange",value:function(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}},{key:"_featureViewModelsChange",value:function(){this.featurePage=this.featureCount>1?1:null}},{key:"_setGraphicOnFeatureViewModels",value:function(){var e=this.features,t=this.featureCount,r=this.featurePage,n=this.featuresPerPage,i=this.featureViewModels;if(null!==r){var a=((r-1)*n+t)%t,o=a+n;i.slice(a,o).forEach((function(t,r){t&&!t.graphic&&(t.graphic=e[a+r])}))}}},{key:"_selectedFeatureChange",value:(n=Object(f.a)(d.a.mark((function e(t){var r,n,i,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(r=this.location,n=this.updateLocationEnabled,i=this.view,!this.browseClusterEnabled){e.next=11;break}if(this._selectedClusterFeature&&(i.graphics.remove(this._selectedClusterFeature),this._selectedClusterFeature=null),!t.isAggregate){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,Object(Yi.a)(t);case 8:return t.symbol=e.sent,this._selectedClusterFeature=t,e.abrupt("return",void i.graphics.add(this._selectedClusterFeature));case 11:!n&&r||!t.geometry?n&&!t.geometry&&this.centerAtLocation().then((function(){a.location=i.center.clone()})):this.location=Object(j.p)(this._getPointFromGeometry(t.geometry));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_waitingForResultChange",value:function(){!this.featureCount&&this.promises&&(this.visible=!1)}},{key:"_setFetchFeaturesPromises",value:function(e){var t=this;return this._fetchFeaturesWithController(this._getScreenPoint(e||this.location)).then((function(e){var r=e.clientOnlyGraphics,n=e.promisesPerLayerView,i=Promise.resolve(r),a=n.map((function(e){return e.promise}));t.promises=[i].concat(Object(ee.a)(a))}))}},{key:"_destroyFeatureVMs",value:function(){this.featureViewModels.forEach((function(e){return e&&!e.destroyed&&e.destroy()})),this._set("featureViewModels",[])}},{key:"_updateFeatureVMs",value:function(){var e=this,t=this.selectedFeature,r=this.features,n=this.featureViewModels;if(null!=t&&t.isAggregate||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),r&&r.length){var i=n.slice(0),a=[];r.forEach((function(r,n){if(r){var o=null;if(i.some((function(e,t){return e&&e.graphic===r&&(o=e,i.splice(t,1)),!!o})),o)a[n]=o;else{var s,c,u=new hi({defaultPopupTemplateEnabled:e.defaultPopupTemplateEnabled,spatialReference:null==(s=e.view)?void 0:s.spatialReference,graphic:r===t?r:null,map:null==(c=e.view)?void 0:c.map,view:e.view});a[n]=u}}})),i.forEach((function(e){return e&&!e.destroyed&&e.destroy()})),this._set("featureViewModels",a)}}},{key:"_getScreenPoint",value:function(e){var t=this.view;return t&&e&&"function"==typeof t.toScreen?t.toScreen(e):null}},{key:"_autoOpenEnabledChange",value:function(){var e=this,t="auto-fetch-features",r=this._handles,n=this.autoOpenEnabled;if(r.remove(t),n&&this.view){var i=this.view.on("click",(function(t){"mouse"===t.pointerType&&0!==t.button||e._fetchFeaturesAndOpen(t)}),ea.b.WIDGET);r.add(i,t)}}},{key:"_cancelFetchingFeatures",value:function(){var e=this._fetchFeaturesController;e&&e.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}},{key:"_fetchFeaturesWithController",value:function(e,t){var r=this;this._cancelFetchingFeatures();var n=Object(zr.d)(),i=n.signal;this._fetchFeaturesController=n,this.notifyChange("waitingForResult");var a=this.fetchFeatures(e,{signal:i,event:t});return a.catch((function(){})).then((function(){r._fetchFeaturesController=null,r.notifyChange("waitingForResult")})),a}},{key:"_fetchFeaturesAndOpen",value:function(e){var t=e.screenPoint,r=e.mapPoint,n=this.view;this._fetchFeaturesWithController(t,e).then((function(e){var t=e.clientOnlyGraphics,i=e.promisesPerLayerView,a=e.location,o=[Promise.resolve(t)].concat(Object(ee.a)(i.map((function(e){return e.promise}))));return n.popup.open({location:a||r,promises:o}),e}))}},{key:"_updatePendingPromises",value:function(e){e&&this._pendingPromises.has(e)&&(this._pendingPromises.delete(e),this.notifyChange("pendingPromisesCount"))}},{key:"_autoClose",value:function(){this.autoCloseEnabled&&(this.visible=!1)}},{key:"_getPointFromGeometry",value:function(e){return Object(j.h)(e)?null:"point"===e.type?e:"extent"===e.type?e.center:"polygon"===e.type?e.centroid:"multipoint"===e.type||"polyline"===e.type?e.extent.center:null}},{key:"_getLayerView",value:(r=Object(f.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.when();case 2:return e.abrupt("return",t.whenLayerView(r));case 3:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"_highlightFeature",value:(t=Object(f.a)(d.a.mark((function e(){var t,r,n,i,a,o,s,c,u,l,f,p,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="highlight",this._handles.remove(t),r=this.selectedFeature,n=this.highlightEnabled,i=this.view,a=this.visible,r&&i&&n&&a){e.next=5;break}return e.abrupt("return");case 5:if(o=r.layer,"map-notes"!==(null==(s=r.sourceLayer)?void 0:s.type)&&"subtype-group"!==(null==s?void 0:s.type)||(o=s),o&&o instanceof Zi.a){e.next=8;break}return e.abrupt("return");case 8:return c=this._getLayerView(i,o),this._highlightPromise=c,e.next=12,c;case 12:if((u=e.sent)&&Object(ta.a)(u)&&this._highlightPromise===c&&this.selectedFeature&&this.highlightEnabled&&this.visible){e.next=15;break}return e.abrupt("return");case 15:l="objectIdField"in o&&o.objectIdField,f=r.attributes,p=f&&l&&f[l],h=u.highlight(p||r),this._handles.add(h,t);case 17:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_updateFeatures",value:function(e){var t=this.features;if(e&&e.length)if(t.length){var r=e.filter((function(e){return-1===t.indexOf(e)}));this.features=t.concat(r)}else this.features=e}}]),u}(Object(ga.a)(Ni));Object(h.a)([Object(k.b)()],Pa.prototype,"featurePage",void 0),Object(h.a)([Object(k.b)()],Pa.prototype,"isLoadingFeature",null),Object(h.a)([Object(k.b)({type:xa})],Pa.prototype,"actions",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Pa.prototype,"active",null),Object(h.a)([Object(k.b)({readOnly:!0})],Pa.prototype,"allActions",null),Object(h.a)([Object(k.b)({type:Boolean})],Pa.prototype,"defaultPopupTemplateEnabled",void 0),Object(h.a)([Object(k.b)()],Pa.prototype,"autoCloseEnabled",void 0),Object(h.a)([Object(k.b)()],Pa.prototype,"autoOpenEnabled",void 0),Object(h.a)([Object(k.b)()],Pa.prototype,"browseClusterEnabled",void 0),Object(h.a)([Object(k.b)()],Pa.prototype,"content",void 0),Object(h.a)([Object(k.b)({type:xa,readOnly:!0})],Pa.prototype,"defaultActions",null),Object(h.a)([Object(k.b)({readOnly:!0})],Pa.prototype,"featureCount",null),Object(h.a)([Object(k.b)()],Pa.prototype,"features",null),Object(h.a)([Object(k.b)()],Pa.prototype,"featuresPerPage",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Pa.prototype,"featureViewModels",void 0),Object(h.a)([Object(k.b)()],Pa.prototype,"highlightEnabled",void 0),Object(h.a)([Object(k.b)()],Pa.prototype,"includeDefaultActions",void 0),Object(h.a)([Object(k.b)({type:ja.a})],Pa.prototype,"location",null),Object(h.a)([Object(k.b)({readOnly:!0})],Pa.prototype,"pendingPromisesCount",null),Object(h.a)([Object(k.b)({readOnly:!0})],Pa.prototype,"selectedClusterBoundaryFeature",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Pa.prototype,"waitingForResult",null),Object(h.a)([Object(k.b)({readOnly:!0})],Pa.prototype,"promiseCount",null),Object(h.a)([Object(k.b)()],Pa.prototype,"promises",null),Object(h.a)([Object(k.b)({value:null,readOnly:!0})],Pa.prototype,"selectedFeature",null),Object(h.a)([Object(k.b)({value:-1})],Pa.prototype,"selectedFeatureIndex",null),Object(h.a)([Object(k.b)({readOnly:!0})],Pa.prototype,"selectedFeatureViewModel",null),Object(h.a)([Object(k.b)({readOnly:!0})],Pa.prototype,"state",null),Object(h.a)([Object(k.b)()],Pa.prototype,"title",void 0),Object(h.a)([Object(k.b)()],Pa.prototype,"updateLocationEnabled",void 0),Object(h.a)([Object(k.b)()],Pa.prototype,"view",void 0),Object(h.a)([Object(k.b)()],Pa.prototype,"visible",void 0),Object(h.a)([Object(k.b)()],Pa.prototype,"zoomFactor",void 0),Object(h.a)([Object(k.b)()],Pa.prototype,"zoomToLocation",void 0),Object(h.a)([Object(k.b)()],Pa.prototype,"centerAtLocation",null);var Ia=Pa=Object(h.a)([Object(x.a)("esri.widgets.Popup.PopupViewModel")],Pa),Ra=r("Q7Dg"),Ma=r("Ykki");function Ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ea(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Aa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Ca="esri-icon-left-triangle-arrow",Da="esri-icon-right-triangle-arrow",La="esri-icon-maximize",Fa="esri-icon-dock-bottom",Na="esri-icon-dock-left",Ba="esri-icon-dock-right",Va="esri-icon-close",Ua="esri-icon-minimize",za="esri-icon-check-mark",qa="esri-icon-loading-indicator",Ha="esri-icon-default-action",Ga="esri-icon-handle-horizontal",Wa="esri-rotating",Ja="esri-popup",$a="esri-widget",Za="esri-popup__main-container",Qa="esri-popup__loading-container",Xa="esri-popup--is-collapsible",Ka="esri-popup--is-collapsed",Ya="esri-popup--shadow",eo="esri-popup--is-docked",to="esri-popup--is-docked-top-left",ro="esri-popup--is-docked-top-center",no="esri-popup--is-docked-top-right",io="esri-popup--is-docked-bottom-left",ao="esri-popup--is-docked-bottom-center",oo="esri-popup--is-docked-bottom-right",so="esri-popup--aligned-top-center",co="esri-popup--aligned-bottom-center",uo="esri-popup--aligned-top-left",lo="esri-popup--aligned-bottom-left",fo="esri-popup--aligned-top-right",po="esri-popup--aligned-bottom-right",ho="esri-popup--feature-menu-open",bo="esri-popup--actions-menu-open",yo="esri-popup--feature-updated",vo="esri-popup__header",mo="esri-popup__header-buttons",go="esri-popup__header-container",Oo="esri-popup__header-container--button",jo="esri-popup__header-title",wo="esri-popup__content",_o="esri-popup__footer",ko="esri-popup__footer--has-pagination",xo="esri-popup__footer--has-actions",So="esri-popup__footer--has-actions-menu",Po="esri-popup__button",Io="esri-popup__button--disabled",Ro="esri-popup__button--dock",Mo="esri-popup__icon",Eo="esri-popup__icon--dock-icon",To="esri-popup__inline-actions-container",Ao="esri-popup__actions-menu-button",Co="esri-popup__actions",Do="esri-popup__action",Lo="esri-popup__action-image",Fo="esri-popup__action-text",No="esri-popup__action-toggle",Bo="esri-popup__action-toggle--on",Vo="esri-popup__pointer",Uo="esri-popup__pointer-direction",zo="esri-popup__navigation",qo="esri-popup__pagination-previous",Ho="esri-popup__pagination-next",Go="esri-popup__pagination-previous-icon",Wo="esri-popup__pagination-previous-icon--rtl",Jo="esri-popup__pagination-next-icon",$o="esri-popup__pagination-next-icon--rtl",Zo="esri-popup__feature-menu",Qo="esri-popup__feature-menu-list",Xo="esri-popup__feature-menu-item",Ko="esri-popup__feature-menu-viewport",Yo="esri-popup__feature-menu-header",es="esri-popup__feature-menu-item--selected",ts="esri-popup__feature-menu-button",rs="esri-popup__feature-menu-title",ns="esri-popup__feature-menu-observer",is="esri-popup__feature-menu-loader",as={buttonEnabled:!0,position:"auto",breakpoint:{width:544}};function os(e,t){return void 0===t?"".concat("esri-popup","__").concat(e):"".concat("esri-popup","__").concat(e,"-").concat(t)}var ss=O.a.getLogger("esri.widgets.Popup"),cs={closeButton:!0,featureNavigation:!0},us=function(e){Object(c.a)(r,e);var t=Aa(r);function r(e,a){var s;return Object(i.a)(this,r),(s=t.call(this,e,a))._blurClose=!1,s._blurContainer=!1,s._containerNode=null,s._mainContainerNode=null,s._featureMenuNode=null,s._actionsMenuNode=null,s._focusClose=!1,s._focusContainer=!1,s._focusDockButton=!1,s._focusFeatureMenuButton=!1,s._focusActionsMenuButton=!1,s._focusFirstFeature=!1,s._focusFirstAction=!1,s._handles=new I.a,s._pointerOffsetInPx=16,s._spinner=null,s._feature=null,s._featureMenuIntersectionObserverCallback=function(e){var t=Object(n.a)(e,1)[0];null!=t&&t.isIntersecting&&s.viewModel.featurePage++},s._featureMenuIntersectionObserver=new IntersectionObserver(s._featureMenuIntersectionObserverCallback),s._displaySpinnerThrottled=Object(q.a)((function(){return s._displaySpinner()}),0),s.actions=null,s.alignment="auto",s.autoCloseEnabled=null,s.autoOpenEnabled=null,s.defaultPopupTemplateEnabled=null,s.content=null,s.collapsed=!1,s.collapseEnabled=!0,s.dockEnabled=!1,s.featureCount=null,s.featureMenuOpen=!1,s.features=null,s.goToOverride=null,s.headingLevel=2,s.highlightEnabled=null,s.location=null,s.label=void 0,s.maxInlineActions=3,s.messages=null,s.messagesCommon=null,s.promises=null,s.selectedFeature=null,s.selectedFeatureIndex=null,s.spinnerEnabled=!0,s.title=null,s.updateLocationEnabled=null,s.view=null,s.viewModel=new Ia,s.visible=null,s.visibleElements=Ta({},cs),s._addSelectedFeatureIndexHandle(),s.own([Object(w.d)(Object(o.a)(s),"viewModel.screenLocation",(function(){return s._positionContainer()})),Object(w.d)(Object(o.a)(s),["viewModel.active","dockEnabled"],(function(){return s._toggleScreenLocationEnabled()})),Object(w.d)(Object(o.a)(s),"viewModel.screenLocation",(function(e,t){!!e!=!!t&&s.reposition()})),Object(w.d)(Object(o.a)(s),["viewModel.view.padding","viewModel.view.size","viewModel.active","viewModel.location","alignment"],(function(){return s.reposition()})),Object(w.d)(Object(o.a)(s),"spinnerEnabled",(function(e){return s._spinnerEnabledChange(e)})),Object(w.d)(Object(o.a)(s),"viewModel.view.size",(function(e,t){return s._updateDockEnabledForViewSize(e,t)})),Object(w.d)(Object(o.a)(s),"viewModel.view",(function(e,t){return s._viewChange(e,t)})),Object(w.d)(Object(o.a)(s),"viewModel.view.ready",(function(e,t){return s._viewReadyChange(e,t)})),Object(w.d)(Object(o.a)(s),["viewModel.waitingForResult","viewModel.location"],(function(){s._hideSpinner(),s._displaySpinnerThrottled()})),Object(w.d)(Object(o.a)(s),"selectedFeatureWidget.viewModel.title",(function(e){return s._setTitleFromFeatureWidget(e)})),Object(w.d)(Object(o.a)(s),["selectedFeatureWidget.viewModel.content","selectedFeatureWidget.viewModel.waitingForContent"],(function(){return s._setContentFromFeatureWidget()})),Object(w.f)(Object(o.a)(s),"collapsed",(function(){var e,t;"xsmall"===(null==(e=s.viewModel)||null==(t=e.view)?void 0:t.widthBreakpoint)&&s.viewModel.active&&s.collapseEnabled&&s.viewModel.centerAtLocation()})),Object(w.b)(Object(o.a)(s),"viewModel.allActions","change",(function(){return s._watchActions()})),Object(w.a)(Object(o.a)(s),"viewModel.allActions",(function(){return s._watchActions()})),Object(w.d)(Object(o.a)(s),"viewModel.featureViewModels",(function(){return s._featureMenuViewportScrollTop()}))]),s}return Object(a.a)(r,[{key:"destroy",value:function(){var e,t;this._destroySelectedFeatureWidget(),this._destroySpinner(),null==(e=this._handles)||e.destroy(),this._unobserveFeatureMenuObserver(),null==(t=this._featureMenuIntersectionObserver)||t.disconnect(),this._handles=null}},{key:"actionsMenuId",get:function(){return"".concat(this.id,"-actions-menu")}},{key:"actionsMenuButtonId",get:function(){return"".concat(this.id,"-actions-menu-button")}},{key:"featureMenuId",get:function(){return"".concat(this.id,"-feature-menu")}},{key:"titleId",get:function(){return"".concat(this.id,"-popup-title")}},{key:"contentId",get:function(){return"".concat(this.id,"-popup-content")}},{key:"hasContent",get:function(){var e,t,r,n,i;return!!(this.selectedFeatureWidget?(null==(e=this.selectedFeatureWidget)||null==(t=e.viewModel)?void 0:t.waitingForContent)||(null==(r=this.selectedFeatureWidget)||null==(n=r.viewModel)?void 0:n.content):null==(i=this.viewModel)?void 0:i.content)}},{key:"featureNavigationVisible",get:function(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}},{key:"collapsible",get:function(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}},{key:"featureMenuVisible",get:function(){return this.featureNavigationVisible&&this.featureMenuOpen}},{key:"contentCollapsed",get:function(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}},{key:"dividedActions",get:function(){return this._divideActions()}},{key:"actionsMenuOpen",get:function(){return!!this.viewModel.active&&this._get("actionsMenuOpen")},set:function(e){this._set("actionsMenuOpen",!!e)}},{key:"currentAlignment",get:function(){return this._getCurrentAlignment()}},{key:"currentDockPosition",get:function(){return this._getCurrentDockPosition()}},{key:"dockOptions",get:function(){return this._get("dockOptions")||as},set:function(e){var t=Ta({},as),r=this.get("viewModel.view.breakpoints"),n={};r&&(n.width=r.xsmall,n.height=r.xsmall);var i=Ta(Ta({},t),e),a=Ta(Ta({},t.breakpoint),n),o=i.breakpoint;!0===o?i.breakpoint=a:"object"==typeof o&&(i.breakpoint=Ta(Ta({},a),o)),this._set("dockOptions",i),this._setCurrentDockPosition(),this.reposition()}},{key:"selectedFeatureWidget",get:function(){var e=this._feature,t=this.visibleElements,r=this.headingLevel,n=this.viewModel.selectedFeatureViewModel,i=Ta(Ta({},t),{},{title:!1});return n?(e?(e.viewModel=n,e.visibleElements=i):this._feature=new Ci({headingLevel:r+1,viewModel:n,visibleElements:i}),this._feature):null}},{key:"castVisibleElements",value:function(e){return Ta(Ta({},cs),e)}},{key:"blur",value:function(){this.viewModel.active||ss.warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}},{key:"clear",value:function(){this.viewModel.clear()}},{key:"close",value:function(){this.visible=!1}},{key:"fetchFeatures",value:function(e,t){return this.viewModel.fetchFeatures(e,t)}},{key:"focus",value:function(){this.viewModel.active||ss.warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}},{key:"next",value:function(){return this.viewModel.next()}},{key:"open",value:function(e){var t,r;this._handles.remove("selected-index");var n=!!e&&!!e.featureMenuOpen,i=!!e&&!!e.actionsMenuOpen,a={collapsed:!!e&&!!e.collapsed,actionsMenuOpen:i,featureMenuOpen:n};"xsmall"===(null==(t=this.viewModel)||null==(r=t.view)?void 0:r.widthBreakpoint)&&(a.collapsed=!0),this.set(a),this.viewModel.open(e),this._addSelectedFeatureIndexHandle()}},{key:"previous",value:function(){return this.viewModel.previous()}},{key:"reposition",value:function(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}},{key:"triggerAction",value:function(e){this.viewModel.triggerAction(e)}},{key:"render",value:function(){var e,t,r,n,i,a=this.actionsMenuOpen,o=this.dockEnabled,s=this.featureMenuVisible,c=this.dividedActions,u=this.currentAlignment,l=this.currentDockPosition,f=this.viewModel.active,p=c.menuActions,d=f&&p.length>1&&a,h=f&&o,b=f&&!o,y=null==(t=this.selectedFeature)||null==(r=t.layer)?void 0:r.title,v=null==(n=this.selectedFeature)||null==(i=n.layer)?void 0:i.id,m=(e={},Object(S.a)(e,so,"top-center"===u),Object(S.a)(e,co,"bottom-center"===u),Object(S.a)(e,uo,"top-left"===u),Object(S.a)(e,lo,"bottom-left"===u),Object(S.a)(e,fo,"top-right"===u),Object(S.a)(e,po,"bottom-right"===u),Object(S.a)(e,eo,h),Object(S.a)(e,Ya,b),Object(S.a)(e,to,"top-left"===l),Object(S.a)(e,ro,"top-center"===l),Object(S.a)(e,no,"top-right"===l),Object(S.a)(e,io,"bottom-left"===l),Object(S.a)(e,ao,"bottom-center"===l),Object(S.a)(e,oo,"bottom-right"===l),Object(S.a)(e,ho,s),Object(S.a)(e,bo,d),e);return Object(nt.a)("div",{class:this.classes(Ja,m),role:"presentation","data-layer-title":y,"data-layer-id":v,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},f?[this.renderMainContainer(),this.renderPointer()]:null)}},{key:"renderLoadingIcon",value:function(){return Object(nt.a)("span",{"aria-hidden":"true",class:this.classes(Mo,qa,Wa)})}},{key:"renderNavigationLoading",value:function(){var e=this.messagesCommon;return this.viewModel.pendingPromisesCount?Object(nt.a)("div",{key:os("loading-container"),role:"presentation",class:Qa,"aria-label":e.loading,title:e.loading},this.renderLoadingIcon()):null}},{key:"renderPreviousIcon",value:function(){var e,t=Object(tt.h)(),r=(e={},Object(S.a)(e,Da,t),Object(S.a)(e,Wo,t),Object(S.a)(e,Ca,!t),Object(S.a)(e,Go,!t),e);return Object(nt.a)("span",{"aria-hidden":"true",class:this.classes(Mo,r)})}},{key:"renderPreviousButton",value:function(){var e=this.messages;return Object(nt.a)("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(Po,qo),"aria-label":e.previous,title:e.previous},this.renderPreviousIcon())}},{key:"renderNextIcon",value:function(){var e,t=Object(tt.h)(),r=(e={},Object(S.a)(e,Ca,t),Object(S.a)(e,$o,t),Object(S.a)(e,Da,!t),Object(S.a)(e,Jo,!t),e);return Object(nt.a)("span",{"aria-hidden":"true",class:this.classes(Mo,r)})}},{key:"renderNextButton",value:function(){var e=this.messages;return Object(nt.a)("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(Po,Ho),"aria-label":e.next,title:e.next},this.renderNextIcon())}},{key:"renderFeatureMenuButton",value:function(){var e=this.featureMenuOpen,t=this.featureMenuId,r=this.messagesCommon,n=this.viewModel,i=n.featureCount,a=n.selectedFeatureIndex;return Object(nt.a)("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(Po,ts),"aria-haspopup":"true","aria-controls":t,"aria-expanded":e.toString(),"aria-label":r.menu,title:r.menu},this._getPageText(i,a))}},{key:"renderNavigationButtons",value:function(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}},{key:"renderDockIcon",value:function(){var e,t=this.dockEnabled,r=this._wouldDockTo(),n=(e={},Object(S.a)(e,Ua,t),Object(S.a)(e,Eo,!t),Object(S.a)(e,Ba,!t&&("top-right"===r||"bottom-right"===r)),Object(S.a)(e,Na,!t&&("top-left"===r||"bottom-left"===r)),Object(S.a)(e,La,!t&&"top-center"===r),Object(S.a)(e,Fa,!t&&"bottom-center"===r),e);return Object(nt.a)("span",{"aria-hidden":"true",class:this.classes(n,Mo)})}},{key:"renderDockButton",value:function(){var e,t,r,n=this.dockEnabled,i=this.messages,a=null==(e=this.viewModel)||null==(t=e.view)?void 0:t.widthBreakpoint,o=n?i.undock:i.dock;return"xsmall"!==a&&null!=(r=this.dockOptions)&&r.buttonEnabled?Object(nt.a)("div",{role:"button","aria-label":o,title:o,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(Po,Ro)},this.renderDockIcon()):null}},{key:"renderTitle",value:function(){var e=this.viewModel.title,t=this.titleId,r=this.collapsible,n=this.contentCollapsed,i=this.messagesCommon,a=Object(S.a)({},Oo,r),o=Object(nt.a)(ir.a,{level:this.headingLevel,class:jo,innerHTML:e}),s=r?Object(nt.a)("button",{key:"".concat(e,"--collapsible"),id:t,title:n?i.expand:i.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(go,a),"aria-expanded":n?"false":"true",onclick:this._toggleCollapsed},o):Object(nt.a)("div",{key:e,id:t,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(go,a)},o);return e?s:null}},{key:"renderCloseIcon",value:function(){return Object(nt.a)("span",{"aria-hidden":"true",class:this.classes(Mo,Va)})}},{key:"renderCloseButton",value:function(){var e=this.visibleElements,t=this.messagesCommon;return e.closeButton?Object(nt.a)("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:Po,"aria-label":t.close,title:t.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}},{key:"renderHeader",value:function(){return Object(nt.a)("header",{class:vo},this.renderTitle(),Object(nt.a)("div",{class:mo},this.renderDockButton(),this.renderCloseButton()))}},{key:"renderContentContainer",value:function(){var e=this.contentId,t=this.hasContent,r=this.contentCollapsed,n=this.viewModel.content;return t&&!r?Object(nt.a)("article",{key:n,enterAnimation:this._createFeatureUpdatedAnimation(),id:e,class:wo},this.renderContent()):null}},{key:"renderActionsMenuButton",value:function(){var e=this.actionsMenuId,t=this.actionsMenuButtonId,r=this.actionsMenuOpen,n=this.dividedActions,i=this.messagesCommon,a=r?i.close:i.open;return n.menuActions.length?Object(nt.a)("div",{key:os("actions-menu-button"),class:this.classes(Po,Ao),role:"button",id:t,"aria-haspopup":"true","aria-controls":r?e:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":a,title:a},Object(nt.a)("span",{"aria-hidden":"true",class:Ga})):null}},{key:"renderMenuActions",value:function(){var e=this,t=this.actionsMenuId,r=this.actionsMenuButtonId,n=this.actionsMenuOpen,i=this.dividedActions,a=i.menuActions,o=i.inlineActions;return a.length&&n?Object(nt.a)("ul",{id:t,role:"menu","aria-labelledby":r,key:os("actions"),class:Co,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},a.toArray().map((function(t,r){return e.renderAction({action:t,index:r+o.length,type:"menu-item"})}))):null}},{key:"renderInlineActions",value:function(){var e=this,t=this.dividedActions.inlineActions;return!!t.length&&t.toArray().map((function(t,r){return e.renderAction({action:t,index:r,type:"inline"})}))}},{key:"renderInlineActionsContainer",value:function(){var e=this.dividedActions,t=e.inlineActions,r=e.menuActions,n=!!t.length,i=!!r.length;return n||i?Object(nt.a)("div",{key:"inline-actions-container","data-inline-actions":n.toString(),"data-menu-actions":i.toString(),class:To},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}},{key:"renderNavigation",value:function(){return this.featureNavigationVisible?Object(nt.a)("section",{key:os("navigation"),class:this.classes(zo)},this.renderNavigationButtons()):null}},{key:"renderFooter",value:function(){var e,t=this.featureNavigationVisible,r=this.dividedActions,n=r.inlineActions,i=r.menuActions,a=!!n.length,o=!!i.length,s=(e={},Object(S.a)(e,ko,t),Object(S.a)(e,xo,a),Object(S.a)(e,So,o),e);return t||a?Object(nt.a)("div",{key:os("feature-buttons"),class:this.classes(_o,s)},this.renderInlineActionsContainer(),this.renderNavigation()):null}},{key:"renderFeatureMenuContainer",value:function(){var e=this.messages,t=this.viewModel,r=t.featureViewModels,n=t.isLoadingFeature,i=Object(vi.a)(e.selectedFeatures,{total:r.length});return Object(nt.a)("section",{key:os("menu"),class:Zo},Object(nt.a)("strong",{class:Yo},i),Object(nt.a)("nav",{bind:this,class:Ko,"data-node-ref":"_featureMenuViewportNode",afterCreate:tt.k},this.renderFeatureMenu(),Object(nt.a)("div",{class:ns,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),n?Object(nt.a)("div",{class:is},this.renderLoadingIcon()):null))}},{key:"renderPointer",value:function(){return this.dockEnabled?null:Object(nt.a)("div",{key:os("pointer"),class:Vo,role:"presentation"},Object(nt.a)("div",{class:this.classes(Uo,Ya)}))}},{key:"renderMainContainer",value:function(){var e,t=this.dockEnabled,r=this.currentAlignment,n=this.currentDockPosition,i=this.titleId,a=this.contentId,o=this.collapsible,s=this.hasContent,c=this.contentCollapsed,u=this.visibleElements,l=this.viewModel.title,f="bottom-left"===r||"bottom-center"===r||"bottom-right"===r||"top-left"===n||"top-center"===n||"top-right"===n,p="top-left"===r||"top-center"===r||"top-right"===r||"bottom-left"===n||"bottom-center"===n||"bottom-right"===n,d=(e={},Object(S.a)(e,Ya,t),Object(S.a)(e,Xa,o),Object(S.a)(e,Ka,c),e);return Object(nt.a)("div",{class:this.classes(Za,$a,d),tabIndex:u.closeButton?null:-1,role:"dialog","aria-labelledby":l?i:"","aria-describedby":s&&!c?a:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},f?this.renderFooter():null,f?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),p?this.renderFooter():null,p?this.renderFeatureMenuContainer():null)}},{key:"renderContent",value:function(){var e,t=null==(e=this.viewModel)?void 0:e.content;return t?"string"==typeof t?Object(nt.a)("div",{key:t,innerHTML:t}):this.renderNodeContent(t):null}},{key:"renderActionText",value:function(e){return Object(nt.a)("span",{key:"text",class:Fo},e)}},{key:"renderActionIcon",value:function(e){var t,r=this._getActionClass(e),n=this._getActionImage(e),i=(t={},Object(S.a)(t,qa,e.active),Object(S.a)(t,Wa,e.active),Object(S.a)(t,Mo,!!r),Object(S.a)(t,Lo,!e.active&&!!n),t);return r&&(i[r]=!e.active),Object(nt.a)("span",{key:"icon","aria-hidden":"true",class:this.classes(Mo,i),styles:this._getIconStyles(n)})}},{key:"renderAction",value:function(e){var t,r=e.action,n=e.index,i=e.type,a=this._getActionTitle(r),o=(t={},Object(S.a)(t,Do,"toggle"!==r.type),Object(S.a)(t,No,"toggle"===r.type),Object(S.a)(t,Bo,"toggle"===r.type&&r.value),Object(S.a)(t,Io,r.disabled),t),s=[this.renderActionIcon(r),this.renderActionText(a)],c="menu-item"===i?Object(nt.a)("li",{key:r.uid,role:"menuitem",tabIndex:0,title:a,"aria-label":a,class:this.classes(Po,o),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-index":n,onclick:this._triggerAction,onkeydown:this._triggerAction},s):Object(nt.a)("div",{key:r.uid,role:"button",tabIndex:0,title:a,"aria-label":a,class:this.classes(Po,o),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-index":n,onclick:this._triggerAction,onkeydown:this._triggerAction},s);return r.visible?c:null}},{key:"renderFeatureMenuItem",value:function(e,t){var r=this.messages,n=this.messagesCommon,i=this.viewModel,a=i.selectedFeatureIndex,o=e===i.selectedFeatureViewModel,s=Object(S.a)({},es,o),c=o?Object(nt.a)("span",{key:os("feature-menu-selected-feature-".concat(a)),title:r.selectedFeature,"aria-label":r.selectedFeature,class:za}):null,u=Object(nt.a)("span",{innerHTML:e.title||n.untitled});return Object(nt.a)("li",{role:"menuitem",tabIndex:-1,key:os("feature-menu-feature-".concat(a)),class:this.classes(s,Xo),bind:this,"data-feature-index":t,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},Object(nt.a)("span",{class:rs},u,c))}},{key:"renderFeatureMenu",value:function(){var e=this,t=this.featureMenuId,r=this.viewModel.featureViewModels;return r.length>1?Object(nt.a)("ol",{class:Qo,id:t,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},r.filter((function(e){return!!e.graphic})).map((function(t,r){return e.renderFeatureMenuItem(t,r)}))):null}},{key:"_getActionTitle",value:function(e){var t=this.messages,r=this.selectedFeature,n=this.messagesCommon,i=e.id,a=null==r?void 0:r.attributes,o="zoom-to-feature"===i?Object(vi.a)(e.title,{messages:t}):"remove-selected-feature"===i?Object(vi.a)(e.title,{messages:n}):"zoom-to-clustered-features"===i||"browse-clustered-features"===i?Object(vi.a)(e.title,{messages:t}):e.title;return o&&a?Object(vi.a)(o,a):o}},{key:"_getActionClass",value:function(e){var t=this.selectedFeature,r=null==t?void 0:t.attributes,n=e.className,i=e.image||n?n:Ha;return i&&r?Object(vi.a)(i,r):i}},{key:"_getActionImage",value:function(e){var t=this.selectedFeature,r=null==t?void 0:t.attributes,n=e.image;return n&&r?Object(vi.a)(n,r):n}},{key:"_createFeatureUpdatedAnimation",value:function(){return Object(tt.b)("enter",yo)}},{key:"_getInlineActionCount",value:function(){var e=this.maxInlineActions,t=this.featureNavigationVisible;if("number"!=typeof e)return null;var r=Math.round(e);return Math.max(t?r-1:r,0)}},{key:"_watchActions",value:function(){var e=this,t=this.viewModel.allActions;this.notifyChange("dividedActions");var r="actions";this._handles.remove(r),t&&t.forEach((function(t){e._handles.add(Object(w.d)(t,["active","className","disabled","id","title","image","visible"],(function(){return e.scheduleRender()})),r)}))}},{key:"_divideActions",value:function(){var e=this.viewModel.allActions,t=this._getInlineActionCount(),r=null===t,n=0===t;return{inlineActions:r?e.slice(0):n?new y.a:e.slice(0,t),menuActions:r?new y.a:n?e.slice(0):e.slice(t)}}},{key:"_featureMenuOpenChanged",value:function(e){e?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}},{key:"_actionsMenuOpenChanged",value:function(e){e?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}},{key:"_setTitleFromFeatureWidget",value:function(e){this.selectedFeatureWidget&&(this.viewModel.title=e||"")}},{key:"_setContentFromFeatureWidget",value:function(){var e=this.selectedFeatureWidget;e&&(this.viewModel.content=e)}},{key:"_unobserveFeatureMenuObserver",value:function(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}},{key:"_featureMenuIntersectionObserverCreated",value:function(e){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(e),this._featureMenuIntersectionObserverNode=e}},{key:"_handleFeatureMenuKeyup",value:function(e){"Escape"===Object(z.a)(e)&&(e.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}},{key:"_handleActionMenuKeyup",value:function(e){"Escape"===Object(z.a)(e)&&(e.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}},{key:"_handleFeatureMenuItemKeyup",value:function(e){var t=Object(z.a)(e),r=this._featureMenuNode,n=e.currentTarget["data-feature-index"];if(r){var i=r.querySelectorAll("li"),a=i.length;"ArrowUp"!==t?"ArrowDown"!==t?"Home"!==t?"End"!==t||(e.stopPropagation(),i[i.length-1].focus()):(e.stopPropagation(),i[0].focus()):(e.stopPropagation(),i[(n+1+a)%a].focus()):(e.stopPropagation(),i[(n-1+a)%a].focus())}}},{key:"_handleActionMenuItemKeyup",value:function(e){var t=Object(z.a)(e),r=this._actionsMenuNode,n=e.currentTarget["data-action-index"];if(r){var i=r.querySelectorAll("li"),a=i.length;"ArrowUp"!==t?"ArrowDown"!==t?"Home"!==t?"End"!==t||(e.stopPropagation(),i[i.length-1].focus()):(e.stopPropagation(),i[0].focus()):(e.stopPropagation(),i[(n+1+a)%a].focus()):(e.stopPropagation(),i[(n-1+a)%a].focus())}}},{key:"_handleMainKeyup",value:function(e){var t=Object(z.a)(e);"ArrowLeft"===t&&(e.stopPropagation(),this.previous()),"ArrowRight"===t&&(e.stopPropagation(),this.next())}},{key:"_spinnerEnabledChange",value:function(e){if(this._destroySpinner(),e){var t=this.get("viewModel.view");this._createSpinner(t)}}},{key:"_hideSpinner",value:function(){var e=this._spinner;e&&(e.location=null,e.hide())}},{key:"_displaySpinner",value:function(){var e=this._spinner;if(e){var t=this.viewModel,r=t.location;t.waitingForResult?e.show({location:r}):e.hide()}}},{key:"_getIconStyles",value:function(e){return{"background-image":e?"url(".concat(e,")"):""}}},{key:"_addSelectedFeatureIndexHandle",value:function(){var e=this,t=Object(w.d)(this,"viewModel.selectedFeatureIndex",(function(t,r){return e._selectedFeatureIndexUpdated(t,r)}));this._handles.add(t,"selected-index")}},{key:"_selectedFeatureIndexUpdated",value:function(e,t){this.featureCount&&e!==t&&-1!==e&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}},{key:"_destroySelectedFeatureWidget",value:function(){var e=this._feature;e&&(e.viewModel=null,e&&!e.destroyed&&e.destroy()),this._feature=null}},{key:"_isScreenLocationWithinView",value:function(e,t){return e.x>-1&&e.y>-1&&e.x<=t.width&&e.y<=t.height}},{key:"_isOutsideView",value:function(e){var t=e.popupHeight,r=e.popupWidth,n=e.screenLocation,i=e.side,a=e.view;if(isNaN(r)||isNaN(t)||!a||!n)return!1;var o=a.padding;return"right"===i&&n.x+r/2>a.width-o.right||"left"===i&&n.x-r/2<o.left||"top"===i&&n.y-t<o.top||"bottom"===i&&n.y+t>a.height-o.bottom}},{key:"_calculateAutoAlignment",value:function(e){if("auto"!==e)return e;var t=this._pointerOffsetInPx,r=this._containerNode,n=this._mainContainerNode,i=this.viewModel,a=i.screenLocation,o=i.view;if(Object(j.h)(a)||!o||!r)return"top-center";if(!this._isScreenLocationWithinView(a,o))return this._get("currentAlignment")||"top-center";function s(e){return parseInt(e.replace(/[^-\d\.]/g,""),10)}var c=n?window.getComputedStyle(n,null):null,u=c?s(c.getPropertyValue("max-height")):0,l=c?s(c.getPropertyValue("height")):0,f=r.getBoundingClientRect(),p=f.height,d=f.width+t,h=Math.max(p,u,l)+t,b=this._isOutsideView({popupHeight:h,popupWidth:d,screenLocation:a,side:"right",view:o}),y=this._isOutsideView({popupHeight:h,popupWidth:d,screenLocation:a,side:"left",view:o}),v=this._isOutsideView({popupHeight:h,popupWidth:d,screenLocation:a,side:"top",view:o}),m=this._isOutsideView({popupHeight:h,popupWidth:d,screenLocation:a,side:"bottom",view:o});return y?v?"bottom-right":"top-right":b?v?"bottom-left":"top-left":v?m?"top-center":"bottom-center":"top-center"}},{key:"_callCurrentAlignment",value:function(e){return"function"==typeof e?e.call(this):e}},{key:"_getCurrentAlignment",value:function(){var e=this.alignment;return this.dockEnabled||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)))}},{key:"_setCurrentAlignment",value:function(){this._set("currentAlignment",this._getCurrentAlignment())}},{key:"_setCurrentDockPosition",value:function(){this._set("currentDockPosition",this._getCurrentDockPosition())}},{key:"_calculatePositionResult",value:function(e){var t=["left","right"];return Object(tt.h)()&&t.reverse(),e.replace(/leading/gi,t[0]).replace(/trailing/gi,t[1])}},{key:"_callDockPosition",value:function(e){return"function"==typeof e?e.call(this):e}},{key:"_getDockPosition",value:function(){var e;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null==(e=this.dockOptions)?void 0:e.position)))}},{key:"_getCurrentDockPosition",value:function(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}},{key:"_wouldDockTo",value:function(){return this.dockEnabled?null:this._getDockPosition()}},{key:"_calculateAutoDockPosition",value:function(e){var t;if("auto"!==e)return e;var r=null==(t=this.viewModel)?void 0:t.view,n=Object(tt.h)()?"top-left":"top-right";if(!r)return n;var i=r.padding||{left:0,right:0,top:0,bottom:0},a=r.width-i.left-i.right,o=r.breakpoints;return o&&a<=o.xsmall?"bottom-center":n}},{key:"_positionContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._containerNode;if(e&&(this._containerNode=e),e){var t=this.viewModel.screenLocation,r=e.getBoundingClientRect(),n=r.width,i=this._calculatePositionStyle(t,n);i&&(e.style.top=i.top,e.style.left=i.left,e.style.bottom=i.bottom,e.style.right=i.right)}}},{key:"_calculateFullWidth",value:function(e){var t=this.currentAlignment,r=this._pointerOffsetInPx;return"top-left"===t||"bottom-left"===t||"top-right"===t||"bottom-right"===t?e+r:e}},{key:"_calculateAlignmentPosition",value:function(e,t,r,n){var i=this.currentAlignment,a=this._pointerOffsetInPx,o=n/2,s=r.height-t,c=r.width-e,u=this.view.padding;return"bottom-center"===i?{top:t+a-u.top,left:e-o-u.left}:"top-left"===i?{bottom:s+a-u.bottom,right:c+a-u.right}:"bottom-left"===i?{top:t+a-u.top,right:c+a-u.right}:"top-right"===i?{bottom:s+a-u.bottom,left:e+a-u.left}:"bottom-right"===i?{top:t+a-u.top,left:e+a-u.left}:"top-center"===i?{bottom:s+a-u.bottom,left:e-o-u.left}:void 0}},{key:"_calculatePositionStyle",value:function(e,t){var r=this.dockEnabled,n=this.view;if(n){if(r)return{left:"",top:"",right:"",bottom:""};if(!Object(j.h)(e)&&t){var i=this._calculateFullWidth(t),a=this._calculateAlignmentPosition(e.x,e.y,n,i);return a?{top:void 0!==a.top?"".concat(a.top,"px"):"auto",left:void 0!==a.left?"".concat(a.left,"px"):"auto",bottom:void 0!==a.bottom?"".concat(a.bottom,"px"):"auto",right:void 0!==a.right?"".concat(a.right,"px"):"auto"}:void 0}}}},{key:"_viewChange",value:function(e,t){e&&t&&(this.close(),this.clear())}},{key:"_viewReadyChange",value:function(e,t){if(e){var r=this.get("viewModel.view");this._wireUpView(r)}else t&&(this.close(),this.clear())}},{key:"_wireUpView",value:function(e){(this._destroySpinner(),e)&&(this.spinnerEnabled&&this._createSpinner(e),this._setDockEnabledForViewSize(this.dockOptions))}},{key:"_dockingThresholdCrossed",value:function(e,t,r){var i=Object(n.a)(e,2),a=i[0],o=i[1],s=Object(n.a)(t,2),c=s[0],u=s[1],l=r.width,f=r.height;return a<=l&&c>l||a>l&&c<=l||o<=f&&u>f||o>f&&u<=f}},{key:"_updateDockEnabledForViewSize",value:function(e,t){if(e&&t){var r=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},n=r.left+r.right,i=r.top+r.bottom,a=[],o=[];a[0]=e[0]-n,a[1]=e[1]-i,o[0]=t[0]-n,o[1]=t[1]-i;var s=this.dockOptions,c=s.breakpoint;this._dockingThresholdCrossed(a,o,c)&&this._setDockEnabledForViewSize(s),this._setCurrentDockPosition()}}},{key:"_focusDockButtonNode",value:function(e){this._focusDockButton&&(this._focusDockButton=!1,e.focus())}},{key:"_closeButtonNodeUpdated",value:function(e){return this._focusClose?(this._focusClose=!1,void e.focus()):this._blurClose?(this._blurClose=!1,void e.blur()):void 0}},{key:"_mainContainerNodeUpdated",value:function(e){return this._mainContainerNode=e,this._focusContainer?(this._focusContainer=!1,void e.focus()):this._blurContainer?(this._blurContainer=!1,void e.blur()):void 0}},{key:"_featureMenuNodeUpdated",value:function(e){if(this._featureMenuNode=e,e&&this._focusFirstFeature){this._focusFirstFeature=!1;var t=e.querySelectorAll("li");t.length&&t[0].focus()}}},{key:"_actionsMenuNodeUpdated",value:function(e){if(this._actionsMenuNode=e,e&&this._focusFirstAction){this._focusFirstAction=!1;var t=e.querySelectorAll("li");t.length&&t[0].focus()}}},{key:"_focusFeatureMenuButtonNode",value:function(e){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,e.focus())}},{key:"_focusActionsMenuButtonNode",value:function(e){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,e.focus())}},{key:"_featureMenuViewportScrollTop",value:function(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}},{key:"_toggleScreenLocationEnabled",value:function(){var e=this.dockEnabled,t=this.viewModel;if(t){var r=t.active&&!e;t.screenLocationEnabled=r}}},{key:"_shouldDockAtCurrentViewSize",value:function(e){var t,r,n=e.breakpoint,i=null==(t=this.viewModel)||null==(r=t.view)?void 0:r.ui;if(!i)return!1;var a=i.width,o=i.height;if(isNaN(a)||isNaN(o))return!1;var s=n.hasOwnProperty("width")&&a<=n.width,c=n.hasOwnProperty("height")&&o<=n.height;return s||c}},{key:"_setDockEnabledForViewSize",value:function(e){e.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(e))}},{key:"_getPageText",value:function(e,t){return this.featureNavigationVisible?Object(vi.a)(this.messages.pageText,{index:t+1,total:e}):null}},{key:"_destroySpinner",value:function(){var e=this._spinner,t=this.view;e&&(t&&t.ui&&t.ui.remove(this._spinner,"popup-spinner"),e.destroy(),this._spinner=null)}},{key:"_createSpinner",value:function(e){e&&(this._spinner=new Ji({view:e}),e.ui.add(this._spinner,{key:"popup-spinner",position:"manual"}))}},{key:"_toggleCollapsed",value:function(){this.collapsed=!this.collapsed}},{key:"_close",value:function(){this.close(),this.view&&this.view.focus()}},{key:"_toggleDockEnabled",value:function(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}},{key:"_toggleFeatureMenu",value:function(){var e=!this.featureMenuOpen;this._featureMenuOpenChanged(e),this.actionsMenuOpen=!1,this.featureMenuOpen=e}},{key:"_toggleActionsMenu",value:function(){var e=!this.actionsMenuOpen;this._actionsMenuOpenChanged(e),this.featureMenuOpen=!1,this.actionsMenuOpen=e}},{key:"_triggerAction",value:function(e){var t=e.currentTarget["data-action-index"],r=this.viewModel.allActions.getItemAt(t);r&&"toggle"===r.type&&(r.value=!r.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(t)}},{key:"_selectFeature",value:function(e){var t=e.currentTarget["data-feature-index"];isNaN(t)||(this.viewModel.selectedFeatureIndex=t),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}},{key:"_next",value:function(){this.next()}},{key:"_previous",value:function(){this.previous()}}]),r}(yi(W.a));Object(h.a)([Object(k.b)({readOnly:!0})],us.prototype,"actionsMenuId",null),Object(h.a)([Object(k.b)({readOnly:!0})],us.prototype,"actionsMenuButtonId",null),Object(h.a)([Object(k.b)({readOnly:!0})],us.prototype,"featureMenuId",null),Object(h.a)([Object(k.b)({readOnly:!0})],us.prototype,"titleId",null),Object(h.a)([Object(k.b)({readOnly:!0})],us.prototype,"contentId",null),Object(h.a)([Object(k.b)({readOnly:!0})],us.prototype,"hasContent",null),Object(h.a)([Object(k.b)({readOnly:!0})],us.prototype,"featureNavigationVisible",null),Object(h.a)([Object(k.b)({readOnly:!0})],us.prototype,"collapsible",null),Object(h.a)([Object(k.b)({readOnly:!0})],us.prototype,"featureMenuVisible",null),Object(h.a)([Object(k.b)({readOnly:!0})],us.prototype,"contentCollapsed",null),Object(h.a)([Object(k.b)({readOnly:!0})],us.prototype,"dividedActions",null),Object(h.a)([Object(H.a)("viewModel.actions")],us.prototype,"actions",void 0),Object(h.a)([Object(k.b)()],us.prototype,"actionsMenuOpen",null),Object(h.a)([Object(k.b)()],us.prototype,"alignment",void 0),Object(h.a)([Object(H.a)("viewModel.autoCloseEnabled")],us.prototype,"autoCloseEnabled",void 0),Object(h.a)([Object(H.a)("viewModel.autoOpenEnabled")],us.prototype,"autoOpenEnabled",void 0),Object(h.a)([Object(H.a)("viewModel.defaultPopupTemplateEnabled")],us.prototype,"defaultPopupTemplateEnabled",void 0),Object(h.a)([Object(H.a)("viewModel.content")],us.prototype,"content",void 0),Object(h.a)([Object(k.b)()],us.prototype,"collapsed",void 0),Object(h.a)([Object(k.b)()],us.prototype,"collapseEnabled",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],us.prototype,"currentAlignment",null),Object(h.a)([Object(k.b)({readOnly:!0})],us.prototype,"currentDockPosition",null),Object(h.a)([Object(k.b)()],us.prototype,"dockOptions",null),Object(h.a)([Object(k.b)()],us.prototype,"dockEnabled",void 0),Object(h.a)([Object(H.a)("viewModel.featureCount")],us.prototype,"featureCount",void 0),Object(h.a)([Object(k.b)()],us.prototype,"featureMenuOpen",void 0),Object(h.a)([Object(H.a)("viewModel.features")],us.prototype,"features",void 0),Object(h.a)([Object(H.a)("viewModel.goToOverride")],us.prototype,"goToOverride",void 0),Object(h.a)([Object(k.b)()],us.prototype,"headingLevel",void 0),Object(h.a)([Object(H.a)("viewModel.highlightEnabled")],us.prototype,"highlightEnabled",void 0),Object(h.a)([Object(H.a)("viewModel.location")],us.prototype,"location",void 0),Object(h.a)([Object(k.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],us.prototype,"label",void 0),Object(h.a)([Object(k.b)()],us.prototype,"maxInlineActions",void 0),Object(h.a)([Object(k.b)(),Object(rt.a)("esri/widgets/Popup/t9n/Popup")],us.prototype,"messages",void 0),Object(h.a)([Object(k.b)(),Object(rt.a)("esri/t9n/common")],us.prototype,"messagesCommon",void 0),Object(h.a)([Object(H.a)("viewModel.promises")],us.prototype,"promises",void 0),Object(h.a)([Object(H.a)("viewModel.selectedFeature")],us.prototype,"selectedFeature",void 0),Object(h.a)([Object(H.a)("viewModel.selectedFeatureIndex")],us.prototype,"selectedFeatureIndex",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],us.prototype,"selectedFeatureWidget",null),Object(h.a)([Object(k.b)()],us.prototype,"spinnerEnabled",void 0),Object(h.a)([Object(H.a)("viewModel.title")],us.prototype,"title",void 0),Object(h.a)([Object(H.a)("viewModel.updateLocationEnabled")],us.prototype,"updateLocationEnabled",void 0),Object(h.a)([Object(H.a)("viewModel.view")],us.prototype,"view",void 0),Object(h.a)([Object(k.b)({type:Ia}),Object(Ma.a)(["triggerAction","trigger-action"])],us.prototype,"viewModel",void 0),Object(h.a)([Object(H.a)("viewModel.visible")],us.prototype,"visible",void 0),Object(h.a)([Object(k.b)()],us.prototype,"visibleElements",void 0),Object(h.a)([Object(G.a)("visibleElements")],us.prototype,"castVisibleElements",null),Object(h.a)([Object(Ra.a)()],us.prototype,"_close",null),Object(h.a)([Object(Ra.a)()],us.prototype,"_toggleDockEnabled",null),Object(h.a)([Object(Ra.a)()],us.prototype,"_toggleFeatureMenu",null),Object(h.a)([Object(Ra.a)()],us.prototype,"_toggleActionsMenu",null),Object(h.a)([Object(Ra.a)()],us.prototype,"_triggerAction",null),Object(h.a)([Object(Ra.a)()],us.prototype,"_selectFeature",null),Object(h.a)([Object(Ra.a)()],us.prototype,"_next",null),Object(h.a)([Object(Ra.a)()],us.prototype,"_previous",null);var ls=us=Object(h.a)([Object(x.a)("esri.widgets.Popup")],us);function fs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var ps=[0,0];function ds(e){e&&(Object(C.b)(e),e.parentNode&&e.parentNode.removeChild(e))}var hs=r("VZ8p"),bs=r("frPA"),ys=r("eDEE"),vs=r("X6u8");function ms(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return gs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gs(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function gs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Os(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var js=r("GPuA"),ws=r("NY4G"),_s=r("eTmm"),ks=r("t4nU"),xs=r("nd5+"),Ss=r("ARTo"),Ps=r("YHXj"),Is=r("12QT"),Rs=r("KmCB");function Ms(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Es=function(e){Object(c.a)(r,e);var t=Ms(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).view=null,n.baseLayerViews=new y.a,n.referenceLayerViews=new y.a,n._loadingHandle=Object(w.a)(Object(o.a)(n),"view.map.basemap",(function(e){e&&e.load().catch((function(){}))})),n}return Object(a.a)(r,[{key:"destroy",value:function(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}},{key:"suspended",get:function(){return!this.view||this.view.suspended}},{key:"updating",get:function(){return!(this.view&&this.view.suspended||!(this.view&&this.view.map&&this.view.map.basemap)||this.view.map.basemap.loaded)}}]),r}(L.a);function Ts(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return As(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return As(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function As(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cs(e,t){var r,i=Ts(e);try{for(i.s();!(r=i.n()).done;){var a=Object(n.a)(r.value,2),o=a[0];if(t(a[1],o))return!0}}catch(s){i.e(s)}finally{i.f()}return!1}function Ds(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Ls(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ls(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Ls(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}Object(h.a)([Object(k.b)({constructOnly:!0})],Es.prototype,"view",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Es.prototype,"baseLayerViews",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Es.prototype,"referenceLayerViews",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Es.prototype,"suspended",null),Object(h.a)([Object(k.b)({type:Boolean,readOnly:!0})],Es.prototype,"updating",null),Es=Object(h.a)([Object(x.a)("esri.views.BasemapView")],Es);var Ns=O.a.getLogger("esri.views.LayerViewManager"),Bs=function(){function e(t,r,n){var a=this;Object(i.a)(this,e),this.layer=t,this.view=r,this.layerViewImporter=n,this._controller=Object(zr.d)(),this._deferred=Object(zr.f)(),this._started=!1,this.done=!1,Object(zr.q)(this._controller.signal,(function(){var e=new m.a("cancelled:layerview-create","layerview creation cancelled",{layer:t});a._deferred.reject(e)}))}var t;return Object(a.a)(e,[{key:"promise",get:function(){return this._deferred.promise}},{key:"destroy",value:function(){this._controller.abort();var e=this.layerView;if(e){var t=this.layer,r=this.view;t.emit("layerview-destroy",{view:r,layerView:e}),r.emit("layerview-destroy",{layer:t,layerView:e}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}}},{key:"start",value:(t=Object(f.a)(d.a.mark((function e(){var t,r,n,i,a,o,s,c,u,l=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._started){e.next=2;break}return e.abrupt("return");case 2:return this._started=!0,t=this._controller.signal,r=this.layer,n=this.view,this._map=n.map,e.prev=5,e.next=8,r.load({signal:t});case 8:if(e.t0="prefetchResources"in r,!e.t0){e.next=12;break}return e.next=12,r.prefetchResources({signal:t});case 12:if(!r.createLayerView){e.next=18;break}return e.next=15,r.createLayerView(n,{signal:t});case 15:o=e.sent,e.next=24;break;case 18:if(this.layerViewImporter.hasLayerViewModule(r)){e.next=20;break}throw new m.a("layer:view-not-supported","No layerview implementation was found");case 20:return e.next=22,this.layerViewImporter.importLayerView(r);case 22:c=e.sent,Object(zr.v)(t),o="default"in c?new c.default({layer:r,view:n}):new c({layer:r,view:n});case 24:return u=function(){s=Object(j.o)(s),o.destroyed||o.destroy(),o.layer=null,o.parent=null,o.view=null,l.done=!0},s=Object(zr.q)(t,u),Object(zr.v)(t),e.prev=26,e.next=29,o.when();case 29:e.next=34;break;case 31:throw e.prev=31,e.t1=e.catch(26),u(),e.t1;case 34:if(null==(i=this._map)||null==(a=i.allLayers)?void 0:a.includes(r)){e.next=36;break}return e.abrupt("return",(u(),void this._deferred.reject(new m.a("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r}))));case 36:this.layerView=o,r.emit("layerview-create",{view:n,layerView:o}),n.emit("layerview-create",{layer:r,layerView:o}),this.done=!0,this._deferred.resolve(o),e.next=42;break;case 39:e.prev=39,e.t2=e.catch(5),r.emit("layerview-create-error",{view:n,error:e.t2}),n.emit("layerview-create-error",{layer:r,error:e.t2}),this.done=!0,this._deferred.reject(new m.a("layerview:create-error","layerview creation failed",{layer:r,error:e.t2}));case 42:case"end":return e.stop()}}),e,this,[[5,39],[26,31]])}))),function(){return t.apply(this,arguments)})}]),e}(),Vs=function(e){Object(c.a)(o,e);var t,r=Fs(o);function o(e){var t;return Object(i.a)(this,o),(t=r.call(this,e))._layerLayerViewInfoMap=new Map,t._watchUpdatingTracking=new N.a,t.supportsGround=!0,t._preloadLayerViewModules=function(){var e,r=null==(e=t.view.map)?void 0:e.allLayers;if(r){var n,i=Ds(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.layerViewImporter.hasLayerViewModule(a)&&t.layerViewImporter.importLayerView(a)}}catch(o){i.e(o)}finally{i.f()}}},t._reschedule=function(){return Object(j.h)(t._workPromise)&&(t._workPromise=Object(zr.f)()),t.handles.remove("reschedule"),t.handles.add(Object(D.b)(t._doWork),"reschedule"),t._workPromise.promise},t._doWork=function(){var e,r,i,a=t.view.map;if(t._map!==a&&(t.clear(),t._map=a),Object(j.h)(t._workPromise))t.notifyChange("updating");else{t.handles.remove("reschedule"),t.handles.remove("collection-change");var o=new v.a({getCollections:function(){return t._rootCollectionNames.map((function(e){return t.get(e)}))},getChildrenFunction:function(e){return e&&"layers"in e?e.layers:null}});if(!o)return t._workPromise.resolve(),void(t._workPromise=null);var s,c=Ds(o);try{for(c.s();!(s=c.n()).done;){var u=s.value;t._createLayerView(u)}}catch(m){c.e(m)}finally{c.f()}t._refreshCollections();var l,f=Ds(t._layerLayerViewInfoMap);try{for(f.s();!(l=f.n()).done;){var p=Object(n.a)(l.value,2),d=p[0],h=p[1];o.includes(d)||(t._layerLayerViewInfoMap.delete(h.layer),h.destroy())}}catch(m){f.e(m)}finally{f.f()}var b=o.filter((function(e){return"group"===e.type})).map((function(e){return e.layers})),y=[null==a||null==(e=a.ground)?void 0:e.layers,null==a||null==(r=a.basemap)?void 0:r.baseLayers,null==a||null==(i=a.basemap)?void 0:i.referenceLayers,null==a?void 0:a.layers].concat(Object(ee.a)(b)).filter((function(e){return!!e}));t.handles.add(y.map((function(e){return t._watchUpdatingTracking.addOnCollectionChange(e,t._reschedule)})),"collection-change"),t._workPromise.resolve(),t._workPromise=null}},t}return Object(a.a)(o,[{key:"initialize",value:function(){this.handles.add([Object(w.b)(this,"view.map.allLayers","change",this._preloadLayerViewModules,this._preloadLayerViewModules),Object(w.a)(this.view,["map.basemap","map.ground","map.layers","ready"],this._reschedule,!0)]),this._preloadLayerViewModules(),this._reschedule()}},{key:"destroy",value:function(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null}},{key:"_layersToLayerViews",get:function(){var e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}},{key:"_rootCollectionNames",get:function(){return Array.from(this._layersToLayerViews.keys())}},{key:"updating",get:function(){return Object(j.i)(this._workPromise)||this._watchUpdatingTracking.updating||Cs(this._layerLayerViewInfoMap,(function(e){return!e.done}))}},{key:"updatingRemaining",get:function(){var e,t=0,r=Ds(this._layerLayerViewInfoMap.values());try{for(r.s();!(e=r.n()).done;){e.value.done||++t}}catch(n){r.e(n)}finally{r.f()}return t}},{key:"clear",value:function(){if(!this.destroyed){var e,t=Ds(this._layerLayerViewInfoMap.values());try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(r){t.e(r)}finally{t.f()}this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}},{key:"whenLayerView",value:(t=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._reschedule();case 2:if(this._layerLayerViewInfoMap.has(t)){e.next=4;break}throw new m.a("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t});case 4:return e.abrupt("return",this._layerLayerViewInfoMap.get(t).promise);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_refreshCollections",value:function(){var e,t=Ds(this._layersToLayerViews);try{for(t.s();!(e=t.n()).done;){var r=Object(n.a)(e.value,2),i=r[0],a=r[1];this._populateLayerViewsOwners(this.get(i),this.get(a),this.view)}}catch(o){t.e(o)}finally{t.f()}this.notifyChange("updating"),this.notifyChange("updatingRemaining")}},{key:"_populateLayerViewsOwners",value:function(e,t,r){if(e&&t){var n,i=0,a=Ds(e);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=this._layerLayerViewInfoMap.get(o);if(s&&s.layerView){var c=s.layerView;c.layer=o,c.parent=r,t.getItemAt(i)!==c&&t.splice(i,0,c),o.layers&&this._populateLayerViewsOwners(o.layers,c.layerViews,c),i+=1}}}catch(u){a.e(u)}finally{a.f()}i<t.length&&t.splice(i,t.length)}else t&&t.removeAll()}},{key:"_createLayerView",value:function(e){var t=this;if(this._layerLayerViewInfoMap.has(e))return this.view.ready&&this._layerLayerViewInfoMap.get(e).start(),this.notifyChange("updating"),void this.notifyChange("updatingRemaining");e.load().catch((function(){})),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);var r=new Bs(e,this.view,this.layerViewImporter);r.promise.then((function(){return t._refreshCollections()}),(function(r){var n,i;r&&(Object(zr.m)(r)||"cancelled:layerview-create"===r.name)||Ns.error("Failed to create layerview for layer title:'".concat(null!=(n=e.title)?n:"no title","', id:'").concat(null!=(i=e.id)?i:"no id","' of type '").concat(e.type,"'."),{layer:e,error:r}),t._refreshCollections()})),this._layerLayerViewInfoMap.set(e,r),this.view.ready&&r.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}}]),o}(X.a);Object(h.a)([Object(k.b)()],Vs.prototype,"_workPromise",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Vs.prototype,"_watchUpdatingTracking",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Vs.prototype,"_layersToLayerViews",null),Object(h.a)([Object(k.b)({readOnly:!0})],Vs.prototype,"_rootCollectionNames",null),Object(h.a)([Object(k.b)()],Vs.prototype,"layerViewImporter",void 0),Object(h.a)([Object(k.b)()],Vs.prototype,"supportsGround",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Vs.prototype,"updating",null),Object(h.a)([Object(k.b)({readOnly:!0})],Vs.prototype,"updatingRemaining",null),Object(h.a)([Object(k.b)({constructOnly:!0})],Vs.prototype,"view",void 0);var Us=Vs=Object(h.a)([Object(x.a)("esri.views.LayerViewManager")],Vs);function zs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var qs=function(e){Object(c.a)(r,e);var t=zs(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).factor=1.5,n.offset=Object(bs.a)(0,0),n.position=null,n.size=120,n.maskUrl=null,n.maskEnabled=!0,n.overlayUrl=null,n.overlayEnabled=!0,n.visible=!0,n}return Object(a.a)(r,[{key:"version",get:function(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}}]),r}(L.a);Object(h.a)([Object(k.b)({type:Number})],qs.prototype,"factor",void 0),Object(h.a)([Object(k.b)({nonNullable:!0})],qs.prototype,"offset",void 0),Object(h.a)([Object(k.b)()],qs.prototype,"position",void 0),Object(h.a)([Object(k.b)({type:Number,range:{min:0}})],qs.prototype,"size",void 0),Object(h.a)([Object(k.b)()],qs.prototype,"maskUrl",void 0),Object(h.a)([Object(k.b)()],qs.prototype,"maskEnabled",void 0),Object(h.a)([Object(k.b)()],qs.prototype,"overlayUrl",void 0),Object(h.a)([Object(k.b)()],qs.prototype,"overlayEnabled",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],qs.prototype,"version",null),Object(h.a)([Object(k.b)({type:Boolean})],qs.prototype,"visible",void 0);var Hs=qs=Object(h.a)([Object(x.a)("esri.views.Magnifier")],qs),Gs=r("TRFF");function Ws(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Js=function(e){Object(c.a)(r,e);var t=Ws(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments))._handles=new I.a,e._currentTick=0,e}return Object(a.a)(r,[{key:"initialize",value:function(){var e=this;this._handles.add([this.view.allLayerViews.on("after-changes",(function(){e.notifyChange("tickInterval"),e._handles.remove("layerViewsUpdating"),e._handles.add(e._getLayerViewHandles(),"layerViewsUpdating")})),this.watch("tickInterval",(function(){return e._restartTicking()})),this.watch("view.ready",(function(){return e._restartTicking()}))]),this._restartTicking()}},{key:"destroy",value:function(){this._handles&&(this._handles.destroy(),this._handles=null,this._intervalID&&clearInterval(this._intervalID),this._currentTick=0)}},{key:"tickInterval",get:function(){var e=this.view.allLayerViews.filter((function(e){return Object(Gs.b)(e)}));return this._getCommonInterval(e)}},{key:"_restartTicking",value:function(){var e=this;this._currentTick=0,this._intervalID&&clearInterval(this._intervalID),this.get("view.ready")&&this.tickInterval&&(this._intervalID=setInterval((function(){var t=Date.now();e._currentTick+=e.tickInterval,e.view.allLayerViews.forEach((function(r){if(Object(Gs.b)(r)){var n=Math.round(6e4*r.refreshInterval),i=e._currentTick%n==0,a=t-r.refreshTimestamp<5400;n&&i&&!a&&(r.refresh(t),e.emit("refresh",{layerView:r,timestamp:t,trigger:"interval"}))}}))}),this.tickInterval))}},{key:"_getLayerViewHandles",value:function(){var e=this,t=[],r=function(){return e.notifyChange("tickInterval")};return this.view.allLayerViews.forEach((function(n){Object(Gs.b)(n)&&n.layer&&t.push(n.watch("refreshInterval",r),n.layer.on("refresh",(function(){var t=Date.now();n.refresh(t),e.emit("refresh",{layerView:n,timestamp:t,trigger:"layer-refresh"})})))})),t}},{key:"_getCommonInterval",value:function(e){return e.toArray().reduce((function(e,t){return function e(t,r){return isNaN(t)||isNaN(r)?0:r<=0?t:e(r,t%r)}(Math.round(6e4*t.refreshInterval),e)}),0)}}]),r}(Di.a.EventedAccessor);Object(h.a)([Object(k.b)()],Js.prototype,"view",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Js.prototype,"tickInterval",null);var $s=Js=Object(h.a)([Object(x.a)("esri.views.RefreshManager")],Js),Zs=r("4Dxs");function Qs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}function Xs(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Ks(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ks(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Ks(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ys=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],ec={};function tc(e){return!!ec[e]}Ys.forEach((function(e){ec[e]=!0}));var rc=function(){function e(t){Object(i.a)(this,e),this.handlers=new Map,this.counter=0,this.handlerCounts=new Map,this.view=t,this.inputManager=null}return Object(a.a)(e,[{key:"connect",value:function(e){var t=this;e&&this.disconnect(),this.inputManager=e,this.handlers.forEach((function(e,r){var n=e.handler,i=e.priority;return t.inputManager.installHandlers(r,[n],i)}))}},{key:"disconnect",value:function(){var e=this;this.inputManager&&this.handlers.forEach((function(t,r){return e.inputManager.uninstallHandlers(r)})),this.inputManager=null}},{key:"destroy",value:function(){this.disconnect(),this.handlers.clear(),this.view=null}},{key:"on",value:function(e,t,r,n){var i,a,o=this,s=Array.isArray(e)?e:e.split(",");if(!function(e){var t,r=Xs(e);try{for(r.s();!(t=r.n()).done;){if(!tc(t.value))return!1}}catch(n){r.e(n)}finally{r.f()}return!0}(s))return s.some(tc)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;Array.isArray(t)?a=t:(i=t,a=[]),"function"==typeof r?i=r:n=r,n=null!=n?n:ea.b.DEFAULT;var c=this.createUniqueGroupName(),u=new nc(this.view,s,a,i);this.handlers.set(c,{handler:u,priority:n});var l,f=Xs(s);try{for(f.s();!(l=f.n()).done;){var p=l.value,d=this.handlerCounts.get(p)||0;this.handlerCounts.set(p,d+1)}}catch(h){f.e(h)}finally{f.f()}return this.inputManager&&this.inputManager.installHandlers(c,[u],n),{remove:function(){return o.removeHandler(c,s)}}}},{key:"hasHandler",value:function(e){return!!this.handlerCounts.get(e)}},{key:"removeHandler",value:function(e,t){if(this.handlers.has(e)){this.handlers.delete(e);var r,n=Xs(t);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=this.handlerCounts.get(i);void 0===a?console.error("Trying to remove handler for event that has no handlers registered: ",i):1===a?this.handlerCounts.delete(i):this.handlerCounts.set(i,a-1)}}catch(o){n.e(o)}finally{n.f()}}this.inputManager&&this.inputManager.uninstallHandlers(e)}},{key:"createUniqueGroupName",value:function(){return this.counter+=1,"viewEvents_".concat(this.counter)}}]),e}(),nc=function(e){Object(c.a)(r,e);var t=Qs(r);function r(e,n,a,o){var s;Object(i.a)(this,r),(s=t.call(this,!0)).view=e;var c,u=Xs(n);try{for(u.s();!(c=u.n()).done;){switch(c.value){case"click":s.registerIncoming("click",a,(function(e){return o(s.wrapClick(e))}));break;case"double-click":s.registerIncoming("double-click",a,(function(e){return o(s.wrapDoubleClick(e))}));break;case"immediate-click":s.registerIncoming("immediate-click",a,(function(e){return o(s.wrapImmediateClick(e))}));break;case"immediate-double-click":s.registerIncoming("immediate-double-click",a,(function(e){return o(s.wrapImmediateDoubleClick(e))}));break;case"hold":s.registerIncoming("hold",a,(function(e){return o(s.wrapHold(e))}));break;case"drag":s.registerIncoming("drag",a,(function(e){var t=s.wrapDrag(e);t&&o(t)}));break;case"key-down":s.registerIncoming("key-down",a,(function(e){return o(s.wrapKeyDown(e))}));break;case"key-up":s.registerIncoming("key-up",a,(function(e){return o(s.wrapKeyUp(e))}));break;case"pointer-down":s.registerIncoming("pointer-down",a,(function(e){return o(s.wrapPointer(e,"pointer-down"))}));break;case"pointer-move":s.registerIncoming("pointer-move",a,(function(e){return o(s.wrapPointer(e,"pointer-move"))}));break;case"pointer-up":s.registerIncoming("pointer-up",a,(function(e){return o(s.wrapPointer(e,"pointer-up"))}));break;case"pointer-drag":s.registerIncoming("pointer-drag",a,(function(e){return o(s.wrapPointerDrag(e))}));break;case"mouse-wheel":s.registerIncoming("mouse-wheel",a,(function(e){return o(s.wrapMouseWheel(e))}));break;case"pointer-enter":s.registerIncoming("pointer-enter",a,(function(e){return o(s.wrapPointer(e,"pointer-enter"))}));break;case"pointer-leave":s.registerIncoming("pointer-leave",a,(function(e){return o(s.wrapPointer(e,"pointer-leave"))}));break;case"gamepad":s.registerIncoming("gamepad",a,(function(e){o(s.wrapGamepad(e))}));break;case"focus":s.registerIncoming("focus",a,(function(e){o(s.wrapFocus(e))}));break;case"blur":s.registerIncoming("blur",a,(function(e){o(s.wrapBlur(e))}))}}}catch(l){u.e(l)}finally{u.f()}return s}return Object(a.a)(r,[{key:"wrapFocus",value:function(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapBlur",value:function(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapClick",value:function(e){var t=e.data,r=t.pointerType,n=t.button,i=t.buttons,a=t.x,o=t.y,s=t.native,c=t.eventId,u=e.cancelable;return{type:"click",pointerType:r,button:n,buttons:i,x:a,y:o,native:s,timestamp:e.timestamp,screenPoint:Object(bs.a)(a,o),mapPoint:this.getMapPoint(a,o),eventId:c,cancelable:u,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapDoubleClick",value:function(e){var t=e.data,r=t.pointerType,n=t.button,i=t.buttons,a=t.x,o=t.y,s=t.native,c=t.eventId,u=e.cancelable;return{type:"double-click",pointerType:r,button:n,buttons:i,x:a,y:o,native:s,timestamp:e.timestamp,mapPoint:this.getMapPoint(a,o),eventId:c,cancelable:u,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapImmediateClick",value:function(e){var t=e.data,r=t.pointerType,n=t.button,i=t.buttons,a=t.x,o=t.y,s=t.native,c=t.eventId,u=s.pointerId,l=e.cancelable;return{type:"immediate-click",pointerId:u,pointerType:r,button:n,buttons:i,x:a,y:o,native:s,timestamp:e.timestamp,mapPoint:this.getMapPoint(a,o),eventId:c,cancelable:l,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapImmediateDoubleClick",value:function(e){var t=e.data,r=t.pointerType,n=t.button,i=t.buttons,a=t.x,o=t.y,s=t.native,c=t.eventId,u=s.pointerId,l=e.cancelable;return{type:"immediate-double-click",pointerId:u,pointerType:r,button:n,buttons:i,x:a,y:o,native:s,timestamp:e.timestamp,mapPoint:this.getMapPoint(a,o),eventId:c,cancelable:l,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapHold",value:function(e){var t=e.data,r=t.pointerType,n=t.button,i=t.buttons,a=t.x,o=t.y,s=t.native,c=e.cancelable;return{type:"hold",pointerType:r,button:n,buttons:i,x:a,y:o,native:s,timestamp:e.timestamp,mapPoint:this.getMapPoint(a,o),cancelable:c,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"getMapPoint",value:function(e,t){return this.view.toMap(Object(bs.a)(e,t),{exclude:[]})}},{key:"wrapDrag",value:function(e){var t=e.data,r=t.center,n=r.x,i=r.y,a=t.action,o=t.pointerType,s=t.button;if("start"===a&&(this.latestDragStart=t),this.latestDragStart){var c=t.pointer.native,u=t.buttons,l=e.cancelable,f=e.timestamp,p={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};return"end"===a&&(this.latestDragStart=void 0),{type:"drag",action:a,x:n,y:i,origin:p,pointerType:o,button:s,buttons:u,radius:t.radius,angle:Object(J.q)(t.angle),native:c,timestamp:f,cancelable:l,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}}},{key:"wrapKeyDown",value:function(e){var t=e.data,r=t.key,n=t.repeat,i=t.native,a=e.cancelable;return{type:"key-down",key:r,repeat:n,native:i,timestamp:e.timestamp,cancelable:a,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapKeyUp",value:function(e){var t=e.data,r=t.key,n=t.native,i=e.cancelable;return{type:"key-up",key:r,native:n,timestamp:e.timestamp,cancelable:i,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapPointer",value:function(e,t){var r=e.data,n=r.x,i=r.y,a=r.button,o=r.buttons,s=r.native,c=r.eventId,u=s.pointerId,l=s.pointerType,f=e.cancelable;return{type:t,x:n,y:i,pointerId:u,pointerType:l,button:a,buttons:o,native:s,timestamp:e.timestamp,eventId:c,cancelable:f,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapPointerDrag",value:function(e){var t=e.data.currentEvent,r=t.x,n=t.y,i=t.buttons,a=t.native,o=t.eventId,s=e.data.startEvent.button,c=e.data.startEvent.native.pointerId,u=e.data.startEvent.native.pointerType,l=e.data.action,f={x:e.data.startEvent.x,y:e.data.startEvent.y},p=e.cancelable;return{type:"pointer-drag",x:r,y:n,pointerId:c,pointerType:u,button:s,buttons:i,action:l,origin:f,native:a,timestamp:e.timestamp,eventId:o,cancelable:p,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapMouseWheel",value:function(e){var t=e.cancelable,r=e.data,n=e.timestamp;return{type:"mouse-wheel",x:r.x,y:r.y,deltaY:r.deltaY,native:r.native,timestamp:n,cancelable:t,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"wrapGamepad",value:function(e){var t=e.data,r=t.action,n=t.state,i=t.device,a=e.cancelable;return{type:"gamepad",device:i,timestamp:e.timestamp,action:r,buttons:n.buttons,axes:n.axes,cancelable:a,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}}]),r}(Zs.a);function ic(e,t){var r=e.view;r&&(t&&r.ready&&r.activeTool!==e?(r.activeTool=e,function(e){return e&&"focus"in e}(r)&&r.focus()):t||r.activeTool!==e||(r.activeTool=null))}function ac(e){return!1!==e.visible&&!1!==e.editable&&(null==e.hasEditableFlag||e.hasEditableFlag(1))}function oc(e){return Object(j.h)(e)?{}:"function"==typeof e?e():e}function sc(e){return Object(bs.a)(e.x,e.y)}function cc(e,t){var r=(e instanceof HTMLElement?e:e.surface).getBoundingClientRect();return Object(bs.a)(t.clientX-r.left,t.clientY-r.top)}function uc(e,t){return t instanceof Event?cc(e,t):sc(t)}function lc(e){if(e instanceof Event)return!0;if("object"==typeof e&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;case"key-down":case"key-up":case"gamepad":case"focus":case"blur":default:return!1}return!1}var fc=function(){function e(){Object(i.a)(this,e),this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToActiveTool=null,this._cursor=null}return Object(a.a)(e,[{key:"cursor",get:function(){return this._cursor}},{key:"handleInputEvent",value:function(e,t){var r=function(){return e.stopPropagation()};switch(e.type){case"pointer-move":pc(e.pointerType)&&this._pointerLocations.set(e.pointerId,{x:e.x,y:e.y,pointerType:e.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(r(),"end"===e.action&&(this._stopDrag=!1));break;case"pointer-down":if(!dc(e))break;var n=sc(e),i=this._intersect(n,e.pointerType,t.forEachTool);if(Object(j.h)(i))break;var a=this._findToolAndManipulatorByKey(i,t.forEachTool,hc),o=Object(j.b)(a,(function(e){return e.manipulator})),s=Object(j.b)(a,(function(e){return e.tool}));!(Object(j.i)(o)&&Object(j.i)(s)&&o.interactive)||o.grabbable&&o.grabbableForEvent(e)||!o.grabbing||o.dragging||this._ungrabManipulatorBeforeDragging(o,s,e),Object(j.i)(o)&&o.interactive&&o.grabbable&&o.grabbableForEvent(e)&&!o.grabbing&&(this._grabbedManipulators.set(e.pointerId,{key:i,start:n}),1===this._grabbedManipulators.size&&(this._revertToActiveTool=t.activeTool,t.setActiveTool(i.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",screenPoint:n}),r());break;case"pointer-up":this._handlePointerEnd(e,t);break;case"pointer-drag":if(!dc(e))break;var c=this._grabbedManipulators.get(e.pointerId),u=this._draggedManipulators.get(e.pointerId),l=Object(j.b)(c||u,(function(e){return e.key})),f=this._findManipulatorByKey(l,t.forEachTool);if(Object(j.h)(f))break;var p=sc(e);p.x=Object(J.e)(p.x,0,t.view.width),p.y=Object(J.e)(p.y,0,t.view.height);var d=Object(j.p)(c||u).start;switch(e.action){case"start":case"update":"update"!==e.action&&1!==this._grabbedManipulators.size||(f.dragging=!0,u?f.events.emit("drag",{action:"update",start:d,screenPoint:p}):f.events.emit("drag",{action:"start",start:d,screenPoint:p,pointerType:e.pointerType}),this._draggedManipulators.set(e.pointerId,{key:Object(j.p)(l),start:d}));break;case"end":f.dragging=!1,u&&f.events.emit("drag",{action:"end",start:d,screenPoint:p}),this._draggedManipulators.delete(e.pointerId),this._handlePointerEnd(e,t)}r();break;case"immediate-click":var h=sc(e),b=this._intersect(h,e.pointerType,t.forEachTool),y=this._findToolAndManipulatorByKey(b,t.forEachTool,hc);if(function(e){return!!e.native.shiftKey}(e)||t.forEachTool((function(e){if((!Object(j.i)(y)||y.tool!==e||!e.selectionManagementDisabled)&&e.manipulators){var t=!1;e.manipulators.forEach((function(e){var r=e.manipulator;r.selected&&(r.selected=!1,t=!0)})),t&&e.manipulatorSelectionChanged&&e.manipulatorSelectionChanged()}})),Object(j.h)(y))break;var v=y.manipulator,m=y.tool;if(!v.interactive)break;v.selectable&&!m.selectionManagementDisabled&&(v.selected=!v.selected,m.manipulatorSelectionChanged&&m.manipulatorSelectionChanged());var g=e.native.shiftKey;v.events.emit("immediate-click",{screenPoint:h,button:e.button,pointerType:e.pointerType,shiftKey:g,stopPropagation:r});break;case"click":var O=sc(e),w=this._intersect(O,e.pointerType,t.forEachTool),_=this._findManipulatorByKey(w,t.forEachTool);if(Object(j.h)(_)||!_.interactive)break;var k=e.native.shiftKey;_.events.emit(e.type,{screenPoint:O,button:e.button,pointerType:e.pointerType,shiftKey:k}),r();break;case"double-click":var x=sc(e),S=this._intersect(x,e.pointerType,t.forEachTool),P=this._findManipulatorByKey(S,t.forEachTool);if(Object(j.h)(P)||!P.interactive)break;var I=e.native.shiftKey;P.events.emit("double-click",{screenPoint:x,button:e.button,pointerType:e.pointerType,shiftKey:I,stopPropagation:r});break;case"immediate-double-click":var R=sc(e),M=this._intersect(R,e.pointerType,t.forEachTool),E=this._findManipulatorByKey(M,t.forEachTool);if(Object(j.h)(E)||!E.interactive)break;var T=e.native.shiftKey;E.events.emit("immediate-double-click",{screenPoint:R,button:e.button,pointerType:e.pointerType,shiftKey:T,stopPropagation:r})}this._updateCursor(t.forEachTool)}},{key:"_ungrabManipulatorBeforeDragging",value:function(e,t,r){var n=this;e.grabbing=!1,e.events.emit("grab-changed",{action:"end",screenPoint:sc(r)}),this._grabbedManipulators.forEach((function(r,i){var a=r.key;a.tool===t&&t.manipulators.findById(a.manipulatorId)===e&&n._grabbedManipulators.delete(i)}))}},{key:"_handlePointerEnd",value:function(e,t){var r=Object(j.b)(this._grabbedManipulators.get(e.pointerId),(function(e){return e.key})),n=this._findManipulatorByKey(r,t.forEachTool);if(Object(j.i)(n)&&!n.dragging){var i=Object(j.i)(t.creatingTool)&&t.creatingTool===Object(j.p)(r).tool;1!==this._grabbedManipulators.size||0!==this._draggedManipulators.size||i||(t.setActiveTool(this._revertToActiveTool),this._revertToActiveTool=null),n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",screenPoint:sc(e)})),this._grabbedManipulators.delete(e.pointerId)}}},{key:"_cursorFromMap",value:function(e,t){var r=this,n=null;return Cs(e,(function(e){var i=e.key,a=r._findManipulatorByKey(i,t);return!!(Object(j.i)(a)&&a.interactive&&"cursor"in a&&a.cursor)&&(n=a.cursor,!0)})),n}},{key:"_updateCursor",value:function(e){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators,e)||"grabbing":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators,e)||"pointer":this._cursor=null}},{key:"clearPointers",value:function(e,t){var r=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0,a=function(t){return t.tool===e&&(Object(j.h)(i)||t.manipulatorId===i)};this._grabbedManipulators.forEach((function(e,n){var i=e.key;if(a(i)){r._grabbedManipulators.delete(n);var o=r._findManipulatorByKey(i,t);Object(j.i)(o)&&(o.grabbing=!1,o.events.emit("grab-changed",{action:"end",screenPoint:null}))}})),this._draggedManipulators.forEach((function(e,n){var i=e.key;if(a(i)){r._draggedManipulators.delete(n);var o=r._findManipulatorByKey(i,t);Object(j.i)(o)&&(o.dragging=!1,o.events.emit("drag",{action:"cancel"}))}})),n&&this._hoveredManipulators.forEach((function(e,n){var i=e.key;if(a(i)){r._hoveredManipulators.delete(n);var o=r._findManipulatorByKey(i,t);Object(j.i)(o)&&(o.hovering=!1)}})),this._updateCursor(t)}},{key:"_intersect",value:function(e,t,r){var n=null;return r((function(r){if(null==r.manipulators||!ac(r))return!1;var i=r.manipulators.intersect(e,t);return!Object(j.h)(i)&&(n={manipulatorId:i.id,tool:r},!0)})),n}},{key:"updateHoveredStateFromKnownPointers",value:function(e){var t=this;this._pointerLocations.forEach((function(r,n){t._updateHoveredStateForPointerAtScreenPosition(Object(bs.a)(r.x,r.y),n,r.pointerType,e)}))}},{key:"handleHoverEvent",value:function(e,t){"pointer-up"!==e.type&&"immediate-click"!==e.type&&"pointer-move"!==e.type||!pc(e.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(sc(e),e.pointerId,e.pointerType,t)}},{key:"_updateHoveredStateForPointerAtScreenPosition",value:function(e,t,r,n){var i=this._intersect(e,r,n),a=this._findManipulatorByKey(i,n),o=Object(j.b)(this._hoveredManipulators.get(t),(function(e){return e.key})),s=this._findManipulatorByKey(o,n);Object(j.i)(a)&&!a.interactive&&(a=null),s!==a&&(Object(j.i)(s)&&(s.hovering=!1),Object(j.i)(a)?(a.hovering=!0,this._hoveredManipulators.set(t,{key:Object(j.p)(i)})):this._hoveredManipulators.delete(t),this._updateCursor(n))}},{key:"_findManipulatorByKey",value:function(e,t){return this._findToolAndManipulatorByKey(e,t,hc)?hc.manipulator:null}},{key:"_findToolAndManipulatorByKey",value:function(e,t,r){return Object(j.h)(e)?null:(r.tool=null,r.manipulator=null,t((function(t){if(t!==e.tool||null==t.manipulators||!ac(t))return!1;var n=t.manipulators.findById(e.manipulatorId);return!!Object(j.i)(n)&&(r.manipulator=n,r.tool=t,!0)})),r.manipulator?r:null)}}]),e}();function pc(e){return"mouse"===e}function dc(e){return"mouse"!==e.pointerType||0===e.button}var hc={manipulator:null,tool:null},bc=fc;function yc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mc(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return gc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gc(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var jc=O.a.getLogger("esri.views.ToolViewManager"),wc=function(e){Object(c.a)(n,e);var t,r=Oc(n);function n(e){var t,a;return Object(i.a)(this,n),(t=r.call(this,e))._creatingTool=null,t._manipulatorState=new bc,t.tools=((a=new y.a).on("after-add",(function(e){var t=e.item;t.view&&t.view.ready&&t.attach()})),a.on("after-remove",(function(e){var t=e.item;ic(t,!1),t.destroyed||t.detach()})),a),t.cursor=null,t._forEachTool=function(e){if(!Object(j.i)(t._creatingTool)||!e(t._creatingTool)){var r,n=mc(t.tools.items);try{for(n.s();!(r=n.n()).done;){if(e(r.value))return}}catch(i){n.e(i)}finally{n.f()}}},t}return Object(a.a)(n,[{key:"initialize",value:function(){var e=this;this.handles.add([this.view.on(Ys,(function(t){e._handleInputEvent(t)}),ea.b.TOOL),this.tools.on("before-add",(function(t){var r=t.item;null==r||e.tools.includes(r)?t.preventDefault():null==r.created||r.created||(jc.error("tools","Tool can not be added to view before it has been created"),t.preventDefault())})),this.tools.on("before-remove",(function(t){var r=t.item;e._manipulatorState.clearPointers(r,e._forEachTool)})),this.tools.on("change",(function(){e._refreshToolWatchers()}))])}},{key:"destroy",value:function(){this._forEachTool((function(e){return e.destroy()}))}},{key:"activeTool",set:function(e){var t=this;!Object(j.i)(e)||this.view.ready?(function(e,t,r){var n=e.activeTool;t!==n&&(Object(j.i)(n)&&n.deactivate&&n.deactivate(),r(t),Object(j.i)(t)&&t.activate&&t.activate())}(this,e,(function(r){t._set("activeTool",r),t._removeIncompleteTools(e),t._forEachTool((function(e){var r=Object(j.h)(t.activeTool)||e===t.activeTool;e.setEditableFlag&&e.setEditableFlag(1,r);var n=ac(e);!Object(j.h)(t.activeTool)&&n||t._manipulatorState.clearPointers(e,t._forEachTool,!n)})),t._updateCursor()})),this._creatingTool!==e&&this._rejectCreatingTool()):jc.error("#activeTool=","cannot set active tool while view is not ready")}},{key:"updating",get:function(){return this.updatingHandles.updating||this.tools.some((function(e){return e.updating}))}},{key:"createTool",value:(t=Object(f.a)(d.a.mark((function e(t,r,n){var i,a,o,s,c=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="Tool creation was interrupted by another tool being created",e.next=3,this.updatingHandles.addPromise(Object(f.a)(d.a.mark((function e(){var a,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.view.whenReady();case 2:return Object(zr.v)(n,i),a=Object(zr.q)(n,(function(){return c.activeTool=null})),o=oc(r),s=new t(vc(vc({},o),{},{view:c.view})),e.next=6,s.whenCreationStarted();case 6:return Object(zr.v)(n,i),e.abrupt("return",{abortHandle:a,tool:s});case 8:case"end":return e.stop()}}),e)})))());case 3:return a=e.sent,o=a.abortHandle,s=a.tool,this._rejectCreatingTool(i),this._creatingTool=s,s.attach(),this._refreshToolWatchers(),ic(s,!0),e.next=13,s.when();case 13:return Object(j.i)(o)&&o.remove(),this._creatingTool=null,Object(zr.v)(n,i),this.tools.add(s),s instanceof L.a&&null!=s.completed&&Object(w.j)(s,"completed").then((function(){ic(s,!1)})),e.abrupt("return",s);case 19:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"attach",value:function(){var e=this;this._forEachTool((function(e){return e.attach()})),"3d"===this.view.type?this.handles.add([this.view.state.watch("camera",(function(){e.forEachManipulator((function(e){null!=e.onViewChange&&e.onViewChange()}))})),this.view.elevationProvider.on("elevation-change",(function(t){e.forEachManipulator((function(e){null!=e.onElevationChange&&e.onElevationChange(t)}))}))],"manipulators"):this.handles.add(this.view.watch("extent",(function(){e.forEachManipulator((function(e){null!=e.onViewChange&&e.onViewChange()}))})))}},{key:"detach",value:function(){this.activeTool=null,this._forEachTool((function(e){e.detach(),e.destroy()})),this.tools.removeAll(),this.handles.remove("manipulators")}},{key:"forEachManipulator",value:function(e){this._forEachTool((function(t){t.manipulators&&t.manipulators.forEach((function(r){var n=r.manipulator;return e(n,t)}))}))}},{key:"_handleInputEvent",value:function(e){var t=this,r=!1,n=vc(vc({},e),{},{stopPropagation:function(){r=!0,e.stopPropagation()}});Object(j.i)(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(n):this._forEachTool((function(e){!r&&!1!==e.visible&&e.handleInputEvent&&e.handleInputEvent(n)})),!r&&"key-down"===e.type&&"Escape"===e.key&&this.activeTool&&(e.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(n,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:function(e){t.activeTool=e},creatingTool:this._creatingTool,view:this.view}),!r&&Object(j.i)(this.activeTool)&&this.activeTool.handleInputEventAfter&&this.activeTool.handleInputEventAfter(n),this._manipulatorState.handleHoverEvent(n,this._forEachTool),this._updateCursor()}},{key:"_refreshToolWatchers",value:function(){var e=this;this.handles.remove("tools"),this._forEachTool((function(t){if(t instanceof L.a){var r=Object(w.d)(t,["cursor","visible","editable"],(function(){ac(t)||e._manipulatorState.clearPointers(t,e._forEachTool),e._updateCursor()}));e.handles.add(r,"tools")}t.manipulators&&e.handles.add(t.manipulators.on("change",(function(r){r.removed.forEach((function(r){var n=r.id;e._manipulatorState.clearPointers(t,e._forEachTool,!0,n)})),e._manipulatorState.updateHoveredStateFromKnownPointers(e._forEachTool),e._updateCursor()})),"tools")})),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}},{key:"_updateCursor",value:function(){var e=null;this._forEachTool((function(t){return null!=t.cursor&&!1!==t.visible&&(e=t.cursor,!0)})),e||(e=this._manipulatorState.cursor),this._get("cursor")!==e&&this._set("cursor",e)}},{key:"_rejectCreatingTool",value:function(e){var t=this._creatingTool;Object(j.h)(t)||(this._manipulatorState.clearPointers(t,this._forEachTool),t.rejectCreation&&t.rejectCreation(Object(zr.e)(e)),ic(t,!1),"destroyed"!==t.toolState&&t.destroy(),this._creatingTool=null,this._refreshToolWatchers())}},{key:"_removeIncompleteTools",value:function(e){var t=this;this.tools.filter((function(t){return(Object(j.h)(e)||t!==e)&&null!=t.completed&&!t.completed})).forEach((function(e){t.tools.remove(e)}))}}]),n}(X.a);Object(h.a)([Object(k.b)({constructOnly:!0,nonNullable:!0})],wc.prototype,"view",void 0),Object(h.a)([Object(k.b)({value:null})],wc.prototype,"activeTool",null),Object(h.a)([Object(k.b)({readOnly:!0,type:y.a})],wc.prototype,"tools",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],wc.prototype,"cursor",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],wc.prototype,"updating",null);var _c=wc=Object(h.a)([Object(x.a)("esri.views.ToolViewManager")],wc);function kc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var xc=function(e){Object(c.a)(r,e);var t=kc(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this)).nativeIndex=null,n._detectedDeviceType="unknown","standard"===e.mapping?n._detectedDeviceType="standard":Sc.test(e.id)?n._detectedDeviceType="spacemouse":n._detectedDeviceType="unknown",n.nativeIndex=e.index,n}return Object(a.a)(r,[{key:"native",get:function(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}},{key:"deviceType",get:function(){return this._detectedDeviceType}},{key:"axisThreshold",get:function(){return Pc[this.deviceType]}}]),r}(L.a);Object(h.a)([Object(k.b)({nonNullable:!0,readOnly:!0})],xc.prototype,"nativeIndex",void 0),Object(h.a)([Object(k.b)({type:String,readOnly:!0})],xc.prototype,"deviceType",null),Object(h.a)([Object(k.b)({type:Number,readOnly:!0})],xc.prototype,"axisThreshold",null),xc=Object(h.a)([Object(x.a)("esri.views.input.gamepad.GamepadInputDevice")],xc);var Sc=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),Pc={standard:.15,spacemouse:.025,unknown:0},Ic=xc;function Rc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Mc=function(e){Object(c.a)(r,e);var t=Rc(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).devices=new y.a,e.enabledFocusMode="document",e}return r}(L.a);Object(h.a)([Object(k.b)({type:y.a.ofType(Ic),readOnly:!0})],Mc.prototype,"devices",void 0),Object(h.a)([Object(k.b)({type:["document","view","none"]})],Mc.prototype,"enabledFocusMode",void 0);var Ec=Mc=Object(h.a)([Object(x.a)("esri.views.input.gamepad.GamepadSettings")],Mc);function Tc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Ac=function(e){Object(c.a)(r,e);var t=Tc(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).gamepad=new Ec,e}return r}(L.a);Object(h.a)([Object(k.b)({readOnly:!0})],Ac.prototype,"gamepad",void 0);var Cc=Ac=Object(h.a)([Object(x.a)("esri.views.input.Input")],Ac);function Dc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Lc=function(e){Object(c.a)(r,e);var t=Dc(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).enabled=!0,n.device=null,n.mode="pan",n.tiltDirection="forward-down",n.velocityFactor=1,n}return r}(L.a);Object(h.a)([Object(k.b)({type:Boolean,nonNullable:!0})],Lc.prototype,"enabled",void 0),Object(h.a)([Object(k.b)({type:Ic})],Lc.prototype,"device",void 0),Object(h.a)([Object(k.b)({type:["pan","zoom"],nonNullable:!0})],Lc.prototype,"mode",void 0),Object(h.a)([Object(k.b)({type:["forward-down","forward-up"],nonNullable:!0})],Lc.prototype,"tiltDirection",void 0),Object(h.a)([Object(k.b)({type:Number,nonNullable:!0})],Lc.prototype,"velocityFactor",void 0);var Fc=Lc=Object(h.a)([Object(x.a)("esri.views.navigation.gamepad.GamepadSettings")],Lc);function Nc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Bc=function(e){Object(c.a)(r,e);var t=Nc(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).browserTouchPanEnabled=!0,n.gamepad=new Fc,n.momentumEnabled=!0,n.mouseWheelZoomEnabled=!0,n}return r}(L.a);Object(h.a)([Object(k.b)({type:Boolean})],Bc.prototype,"browserTouchPanEnabled",void 0),Object(h.a)([Object(k.b)({type:Fc,nonNullable:!0})],Bc.prototype,"gamepad",void 0),Object(h.a)([Object(k.b)({type:Boolean})],Bc.prototype,"momentumEnabled",void 0),Object(h.a)([Object(k.b)({type:Boolean})],Bc.prototype,"mouseWheelZoomEnabled",void 0);var Vc=Bc=Object(h.a)([Object(x.a)("esri.views.navigation.Navigation")],Bc),Uc=r("/BCw");function zc(e){var t=e.url&&Object(Uc.f)(e.url);return null==(e.spatialReference&&e.spatialReference.vcsWkid)&&Object(j.i)(t)&&"ImageServer"===t.serverType||!qc(e)||!e.heightModelInfo?Gc(e)?Ss.a.deriveUnitFromSR($c,e.spatialReference):null:e.heightModelInfo}function qc(e){return"heightModelInfo"in e}function Hc(e){if("unknown"===e.type||!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"wfs":return!0;case"imagery":case"map-image":case"map-notes":case"tile":case"vector-tile":case"scene":case null:default:return!1}}function Gc(e){return Hc(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):Wc(e)}function Wc(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":case"slice":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"direct-line-measurement":case"area-measurement":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"line-of-sight":case"map-image":case"map-notes":case"ogc-feature":case"open-street-map":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}var Jc,$c=new Ss.a({heightModel:"gravity-related-height"});function Zc(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Qc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qc(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Qc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Kc=O.a.getLogger("esri.views.support.DefaultsFromMap"),Yc=Jc=function(e){Object(c.a)(o,e);var t,n=Xc(o);function o(){var e;return Object(i.a)(this,o),(e=n.apply(this,arguments))._handles=new I.a,e._waitTask=null,e._extentProjectController=null,e._spatialReferenceCandidates=null,e._extentCandidates=null,e.logDebugInformation=!1,e.isSpatialReferenceDone=!1,e.isTileInfoDone=!1,e.isHeightModelInfoSearching=!1,e.spatialReference=null,e.extent=null,e.heightModelInfo=null,e.vcsWkid=null,e.latestVcsWkid=null,e.mapCollectionPaths=Jc.DefaultMapCollectionPaths.slice(),e.tileInfo=null,e}return Object(a.a)(o,[{key:"initialize",value:function(){var e=this;this.watch("mapCollectionPaths",(function(){e._running&&(e.reset(),e.start())}))}},{key:"destroy",value:function(){this._set("view",null),this._handles&&(this._handles.destroy(),this._handles=null),this._cancelLoading()}},{key:"_running",get:function(){return!!(this._handles&&this._handles.size>0)}},{key:"reset",value:function(){this._handles.removeAll(),this._set("isSpatialReferenceDone",!1),this._set("isTileInfoDone",!1),this._set("isHeightModelInfoSearching",!1),this._set("spatialReference",null),this._set("extent",null),this._set("heightModelInfo",null),this._set("vcsWkid",null),this._set("latestVcsWkid",null),this._set("tileInfo",null),this._spatialReferenceCandidates=null,this._extentCandidates=null}},{key:"start",value:function(){var e=this;this._handles.removeAll();var t,r=this._updateLayerChange.bind(this),n=Zc(this.mapCollectionPaths);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._handles.add(Object(w.b)(this.view,"map.".concat(i),"change",r,r,r,!0))}}catch(a){n.e(a)}finally{n.f()}this._handles.add(Object(w.e)(this,"isSpatialReferenceDone",(function(){return e._updateTileInfo()}),!0))}},{key:"_ownerNameFromCollectionName",value:function(e){var t=e.lastIndexOf(".");return-1===t?"view":"view."+e.slice(0,t)}},{key:"_ensureLoadedOwnersFromCollectionName",value:function(e){for(var t,r=this._ownerNameFromCollectionName(e).split("."),n=0;n<r.length&&(t=this.get(r.slice(0,n+1).join(".")));n++)if(t.load&&!t.isFulfilled())return{collectionName:e,owner:null,loading:t.load().catch((function(){}))};return{collectionName:e,owner:t}}},{key:"_cancelLoading",value:function(){this._waitTask=null,this._extentProjectController&&(this._extentProjectController.abort(),this._extentProjectController=null)}},{key:"_updateWhen",value:function(e){var t=this,r=!0,n=!1,i=e.catch((function(){})).then((function(){r?n=!0:i===t._waitTask&&t._update()}));return r=!1,n||(this._waitTask=i),n}},{key:"_updateLayerChange",value:function(){this.isSpatialReferenceDone&&!this.spatialReference&&this._set("isSpatialReferenceDone",!1),this._update()}},{key:"_update",value:function(){var e=this;if(this._cancelLoading(),this.view){if(!this.isSpatialReferenceDone){this._debugLog("Starting search for spatial reference...");var t=this._processMapCollections((function(t){return e._processSpatialReferenceSource(t)}));if(this._debugLog("Search ended with status '".concat(tu(t),"'")),0!==t){var r=null,n=this._spatialReferenceCandidates;if(!n||n.length<1?(r=this.defaultSpatialReference,this._debugLog("No spatial reference found, locking to default (".concat(eu(r),")"))):(this.defaultSpatialReference&&n.length>1&&n.findIndex((function(t){return t.equals(e.defaultSpatialReference)}))>-1&&(n=[this.defaultSpatialReference]),r=n[0],this._debugLog("Locking to ".concat(eu(r)))),this._set("spatialReference",r),r)if(this.extent)this._set("isSpatialReferenceDone",!0);else{var i=this.logDebugInformation;this.logDebugInformation=!1,this._processMapCollections((function(t){return e._findExtent(t,r)})),this.logDebugInformation=i,this._projectExtentCandidate().catch((function(){})).then((function(){return e._set("isSpatialReferenceDone",!0)}))}else this._set("isSpatialReferenceDone",!0)}}if(null==this.heightModelInfo&&this.view.isHeightModelInfoRequired){this._debugLog("Starting search for height model info...");var a=this._processMapCollections((function(t){return e._processHeightModelInfoSource(t)}),(function(e){return function(e){return null!=e.layers||Wc(e)||Hc(e)||qc(e)}(e)}));this._debugLog("Search ended with status ".concat(tu(a))),this._set("isHeightModelInfoSearching",0===a)}this._updateTileInfo()}}},{key:"_processMapCollections",value:function(e,t){var r=this;this._preloadMapCollections(t);var n=2;return this._forAllMapCollectionSources((function(e){if(2!==n)return!1;var t=e.collectionName;return r._debugLog("Processing collection ".concat(t,"...")),!(e.loading&&!r._updateWhen(e.loading)&&(r._debugLog("Collection ".concat(e.collectionName," owner is loading -> wait")),n=0,1))}),(function(i){return 2===n&&(null==t||t(i)?!i.load||i.isFulfilled()||r._updateWhen(i.load())?!((!i.load||i.isResolved())&&e(i)&&(n=1,1)):(r._debugLog("Source ".concat(i.id," is loading -> wait")),n=0,!1):(r._debugLog("Source ".concat(i.id," is skipped due to predicate")),!1))})),n}},{key:"_preloadMapCollections",value:function(e){var t=this,r=10,n=this.logDebugInformation;this.logDebugInformation=!1,this._forAllMapCollectionSources((function(){return!0}),(function(i){return 0!==r&&!(null!=e&&!e(i)||(i.load&&!i.isFulfilled()&&(t.logDebugInformation=n,t._debugLog("Pre-loading source ".concat(i.id)),t.logDebugInformation=!1,i.load().catch((function(){})),r--),0))})),this.logDebugInformation=n}},{key:"_forAllMapCollectionSources",value:function(e,t){var r,n=Zc(this.mapCollectionPaths);try{for(n.s();!(r=n.n()).done;){var i=r.value,a="map.".concat(i),o=this._ensureLoadedOwnersFromCollectionName(a);if(!1!==e(o)){var s=o.owner;if(!s||s.isRejected&&s.isRejected())this._debugLog("Collection ".concat(a," owner is invalid or rejected -> skip"));else{var c=this.view.get(a);c?this._forEachSource(c,t):this._debugLog("Collection ".concat(a," does not exist -> skip"))}}}}catch(u){n.e(u)}finally{n.f()}}},{key:"_forEachSource",value:function(e,t){var r,n=Zc(e.items);try{for(n.s();!(r=n.n()).done;){var i=r.value;!1!==t(i)&&"layers"in i&&i.layers&&this._forEachSource(i.layers,t)}}catch(a){n.e(a)}finally{n.f()}}},{key:"_processSpatialReferenceSource",value:function(e){var t=this._getSupportedSpatialReferences(e);return 0!==t.length&&(this._spatialReferenceCandidates?(t=Object(vs.f)(t,this._spatialReferenceCandidates,(function(e,t){return e.equals(t)}))).length>0?this._spatialReferenceCandidates=t:this._debugLog("Layer ".concat(e.id," is ignored because its supported spatial\n          references are not compatible with the previous candidates")):this._spatialReferenceCandidates=t,1===this._spatialReferenceCandidates.length)}},{key:"_findExtent",value:function(e,t){var r="fullExtents"in e&&e.fullExtents||(e.fullExtent?[e.fullExtent]:[]),n=r.find((function(e){return e.spatialReference.equals(t)}));if(n)return this._set("extent",n),!0;if(this._getSupportedSpatialReferences(e).length>0){var i=r.map((function(t){return{extent:t,layer:e}})),a=this._extentCandidates||[];this._extentCandidates=a.concat(i)}return!1}},{key:"_projectExtentCandidate",value:(t=Object(f.a)(d.a.mark((function e(){var t,n,i,a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._extentCandidates&&this._extentCandidates.length){e.next=2;break}return e.abrupt("return");case 2:if(t=this.spatialReference,!(n=this._extentCandidates.find((function(e){return Object($i.a)(e.extent.spatialReference,t)})))){e.next=7;break}this._set("extent",Object($i.d)(n.extent,t)),e.next=22;break;case 7:return i=this._extentCandidates[0],this._extentProjectController=Object(zr.d)(),e.next=11,r.e(13).then(r.bind(null,"HKs9"));case 11:return a=e.sent,e.prev=12,e.next=15,a.projectGeometry(i.extent,t,i.layer.portalItem,this._extentProjectController.signal);case 15:o=e.sent,this._set("extent",o),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(12);case 21:this._extentProjectController=null;case 22:case"end":return e.stop()}}),e,this,[[12,19]])}))),function(){return t.apply(this,arguments)})},{key:"_getSupportedSpatialReferences",value:function(e){var t=this,r="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(0===r.length)return this._debugLog("Layer ".concat(e.id," is ignored because it does not have any spatial references")),[];var n=r.filter((function(r){return t.view.isSpatialReferenceSupported(r,e,(function(e){return t._debugLog(e)}))}));return 0===n.length?this._debugLog("Layer ".concat(e.id," has spatial references but none of them are supported (or layer doesn't require locking)")):this._debugLog("Layer ".concat(e.id," has spatial references. Resulting candidate set: ").concat(n.map(eu).join(", "))),n}},{key:"_processHeightModelInfoSource",value:function(e){var t=zc(e);return!!t&&(this._set("heightModelInfo",t),this._set("isHeightModelInfoSearching",!1),e.spatialReference&&(this._set("vcsWkid",e.spatialReference.vcsWkid),this._set("latestVcsWkid",e.spatialReference.latestVcsWkid)),!0)}},{key:"_updateTileInfo",value:function(){if(null==this.tileInfo)if(this.view.isTileInfoRequired()){if(this.isSpatialReferenceDone){var e=this.get("view.map");if(e){var t=e.basemap,r=e.get("layers.0"),n=null;if(t&&"failed"!==t.loadStatus){if(!t.loaded)return this._updateWhen(t.load()),void this._debugLog("updateTileInfo: basemap still loading");var i=t&&t.get("baseLayers.0");if(i&&"failed"!==i.loadStatus){if(!i.loaded)return this._updateWhen(i.load()),void this._debugLog("updateTileInfo: first basemap layer still loading");n="tileInfo"in i&&i.tileInfo}else{if(!r||"failed"===r.loadStatus)return this._debugLog("updateTileInfo: no tileInfo"),void this._set("isTileInfoDone",!0);if(!r.loaded)return this._updateWhen(r.load()),void this._debugLog("updateTileInfo: first operational layer still loading");n="tileInfo"in r&&r.tileInfo}}else if(r&&"failed"!==r.loadStatus){if(!r.loaded)return this._updateWhen(r.load()),void this._debugLog("updateTileInfo: first operational layer still loading");n="tileInfo"in r&&r.tileInfo}n&&!n.spatialReference.equals(this.spatialReference)&&(n=null),this._debugLog("updateTileInfo: setting ".concat(n)),this._set("tileInfo",n),this._set("isTileInfoDone",!0)}else this._debugLog("updateTileInfo: no map")}}else this._set("isTileInfoDone",!0)}},{key:"_debugLog",value:function(e){this.logDebugInformation&&Kc.info(e)}}]),o}(L.a);function eu(e){return e?JSON.stringify(e.toJSON()):"undefined"}function tu(e){switch(e){case 0:return"Waiting";case 1:return"Found";case 2:return"Exhausted"}}Yc.DefaultMapCollectionPaths=["basemap.baseLayers","layers","ground.layers","basemap.referenceLayers"],Object(h.a)([Object(k.b)()],Yc.prototype,"logDebugInformation",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Yc.prototype,"isSpatialReferenceDone",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Yc.prototype,"isTileInfoDone",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Yc.prototype,"isHeightModelInfoSearching",void 0),Object(h.a)([Object(k.b)({constructOnly:!0})],Yc.prototype,"view",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Yc.prototype,"spatialReference",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Yc.prototype,"extent",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Yc.prototype,"heightModelInfo",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Yc.prototype,"vcsWkid",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Yc.prototype,"latestVcsWkid",void 0),Object(h.a)([Object(k.b)()],Yc.prototype,"mapCollectionPaths",void 0),Object(h.a)([Object(k.b)()],Yc.prototype,"defaultSpatialReference",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Yc.prototype,"tileInfo",void 0);var ru,nu=Yc=Jc=Object(h.a)([Object(x.a)("esri.views.support.DefaultsFromMap")],Yc);function iu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var au=O.a.getLogger("esri.views.View"),ou=ru=function(e){Object(c.a)(n,e);var t,r=iu(n);function n(e){var t;return Object(i.a)(this,n),(t=r.call(this,e))._userSpatialReference=null,t._cursor=null,t.allLayerViews=new v.a({getCollections:function(){var e,r,n;return[null==(e=t.basemapView)?void 0:e.baseLayerViews,null==(r=t.groundView)?void 0:r.layerViews,t.layerViews,null==(n=t.basemapView)?void 0:n.referenceLayerViews]},getChildrenFunction:function(e){return e.layerViews}}),t.groundView=null,t.animation=null,t.basemapView=null,t.defaultsFromMap=new nu({view:Object(o.a)(t)}),t.fatalError=null,t.extent=null,t.graphics=new Rs.b,t.navigating=!1,t.layerViews=new y.a,t.magnifier=new Hs,t.padding={left:0,top:0,right:0,bottom:0},t.ready=!1,t.spatialReferenceWarningDelay=1e3,t.supportsGround=!0,t.timeExtent=null,t.type=null,t.scale=null,t.updating=!1,t.initialExtentRequired=!0,t.renderContext=null,t.input=new Cc,t.navigation=new Vc,t.layerViewManager=null,t.refreshManager=null,t.isHeightModelInfoRequired=!1,t.width=null,t.height=null,t.resizing=!1,t.suspended=!1,t.viewEvents=new rc(Object(o.a)(t)),t.persistableViewModels=new y.a,t._isValid=!1,t._readyCycleForced=!1,t.handles.add(t.watch("preconditionsReady",(function(e){e?(t._currentSpatialReference=t.spatialReference,ru.views.add(Object(o.a)(t))):(t._currentSpatialReference=null,ru.views.remove(Object(o.a)(t))),t.notifyChange("spatialReference"),!e&&t.ready?(t.layerViewManager.clear(),t.toolViewManager.detach(),t._teardown()):e&&!t.ready&&(t._startup(),t.toolViewManager.attach())}),!0)),t}return Object(a.a)(n,[{key:"initialize",value:function(){var e,t=this;this.addResolvingPromise(this.validate().then((function(){return t._isValid=!0,Object(w.j)(t,"ready")}))),this.basemapView=new Es({view:this}),this.layerViewManager=new Us({view:this,layerViewImporter:{importLayerView:function(e){return t.importLayerView(e)},hasLayerViewModule:function(e){return t.hasLayerViewModule(e)}},supportsGround:this.supportsGround}),this.refreshManager=new $s({view:this}),this.toolViewManager=new _c({view:this}),this._resetInitialViewPropertiesFromContent(),Object(w.a)(this.defaultsFromMap,"isSpatialReferenceDone",(function(r){var n=!!(t.map&&t.map.allLayers.length>0);if(r&&!t.spatialReference&&n||!e){if(r&&!t.spatialReference&&n&&!e){var i=e=Object(zr.a)(t.spatialReferenceWarningDelay);e.then((function(){i===e&&au.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")})).catch((function(){}))}}else e=null}),!0)}},{key:"destroy",value:function(){if(!this.destroyed){this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics.destroy(),this.graphics=null,this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),this.toolViewManager.destroy(),this.toolViewManager=null,this.refreshManager.destroy(),this.refreshManager=null,this.layerViewManager.destroy(),this.layerViewManager=null,this.basemapView.destroy(),this.basemapView=null,this.invalidate(),this._emitter.clear(),this.handles.removeAll();var e=this.map;this.map=null,null==e||e.destroy()}}},{key:"_startup",value:function(){this._set("ready",!0)}},{key:"_teardown",value:function(){this._set("ready",!1)}},{key:"whenReady",value:function(){return Promise.resolve(this)}},{key:"toMap",value:function(){return au.error("#toMap()","Not implemented on this instance of View"),null}},{key:"heightModelInfo",get:function(){return this.getDefaultHeightModelInfo()}},{key:"interacting",get:function(){return this.navigating}},{key:"preconditionsReady",get:function(){return!!(!this.fatalError&&this._isValid&&!this._readyCycleForced&&this.map&&(!_s.a.isLoadable(this.map)||this.map.loaded)&&0!==this.width&&0!==this.height&&this.spatialReference&&this.isSpatialReferenceSupported(this.spatialReference)&&(this._currentSpatialReference||!this.initialExtentRequired||this.initialExtent||this.defaultsFromMap&&this.defaultsFromMap.isSpatialReferenceDone)&&this.defaultsFromMap&&this.defaultsFromMap.isTileInfoDone)}},{key:"map",set:function(e){var t;e!==this._get("map")&&(null!=(t=e)&&t.destroyed&&(au.warn("#map","The provided map is already destroyed",{map:e}),e=null),_s.a.isLoadable(e)&&e.load().catch((function(){})),this.initialized&&(this.forceReadyCycle(),this._resetInitialViewPropertiesFromContent()),this._set("map",e))}},{key:"spatialReference",get:function(){var e=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return e&&this.isHeightModelInfoRequired&&this.defaultsFromMap&&((e=e.clone()).vcsWkid=this.defaultsFromMap.vcsWkid,e.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),e},set:function(e){this._userSpatialReference=e,this._set("spatialReference",e)}},{key:"stationary",get:function(){return!this.animation&&!this.navigating&&!this.resizing}},{key:"initialExtent",get:function(){return this.defaultsFromMap&&this.defaultsFromMap.extent}},{key:"cursor",get:function(){var e=this.toolViewManager?this.toolViewManager.cursor:null;return Object(j.i)(e)?e:this._cursor||"default"},set:function(e){this._cursor=e,this.notifyChange("cursor")}},{key:"size",get:function(){return[this.width,this.height]}},{key:"whenLayerView",value:function(e){return this.layerViewManager.whenLayerView(e)}},{key:"getDefaultSpatialReference",value:function(){return this.get("defaultsFromMap.spatialReference")}},{key:"getDefaultHeightModelInfo",value:function(){return this.get("map.supportsHeightModelInfo")&&this.get("map.heightModelInfo")||this.get("defaultsFromMap.heightModelInfo")||null}},{key:"importLayerView",value:function(e){throw new m.a("importLayerView() not implemented")}},{key:"hasLayerViewModule",value:function(e){return!1}},{key:"validate",value:(t=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"invalidate",value:function(){this._isValid=!1}},{key:"isSpatialReferenceSupported",value:function(e,t,r){return!0}},{key:"isTileInfoRequired",value:function(){return!1}},{key:"when",value:function(e,t){return this.isResolved()&&!this.ready&&au.warn("#when()",'Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use watchUtils.whenOnce(view, "ready").then(...) instead.'),Object(s.a)(Object(l.a)(n.prototype),"when",this).call(this,e,t)}},{key:"forceReadyCycle",value:function(){var e=this;this.ready&&(this._readyCycleForced=!0,Object(w.g)(this,"preconditionsReady",(function(){return e._readyCycleForced=!1})))}},{key:"createTool",value:function(e,t,r){return this.toolViewManager.createTool(e,t,r)}},{key:"tryFatalErrorRecovery",value:function(){this.fatalError=null}},{key:"_resetInitialViewPropertiesFromContent",value:function(){var e=this;if(this.defaultsFromMap){var t=function(){return e.defaultsFromMap&&e.defaultsFromMap.start()};this.defaultsFromMap.reset(),this._currentSpatialReference=null,this.notifyChange("spatialReference"),this.handles.remove("defaultsFromMap"),this.handles.add([Object(w.d)(this,"spatialReference",(function(e,r){Object(Is.c)(e,r)||t()})),Object(w.d)(this,"initialExtentRequired",t),Object(D.b)(t)],"defaultsFromMap")}}}]),n}(Object(X.b)(Di.a.EventedMixin(Object(ks.b)(L.a))));ou.views=new y.a,Object(h.a)([Object(H.a)("toolViewManager.activeTool")],ou.prototype,"activeTool",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],ou.prototype,"allLayerViews",void 0),Object(h.a)([Object(k.b)()],ou.prototype,"groundView",void 0),Object(h.a)([Object(k.b)()],ou.prototype,"animation",void 0),Object(h.a)([Object(k.b)()],ou.prototype,"basemapView",void 0),Object(h.a)([Object(k.b)()],ou.prototype,"defaultsFromMap",void 0),Object(h.a)([Object(k.b)()],ou.prototype,"fatalError",void 0),Object(h.a)([Object(k.b)({type:xs.a})],ou.prototype,"extent",void 0),Object(h.a)([Object(k.b)(Object(Rs.c)())],ou.prototype,"graphics",void 0),Object(h.a)([Object(k.b)({readOnly:!0,type:Ss.a,dependsOn:["map.heightModelInfo?","defaultsFromMap.heightModelInfo"]})],ou.prototype,"heightModelInfo",null),Object(h.a)([Object(k.b)({readOnly:!0})],ou.prototype,"interacting",null),Object(h.a)([Object(k.b)({readOnly:!0})],ou.prototype,"navigating",void 0),Object(h.a)([Object(k.b)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","initialExtentRequired","initialExtent","defaultsFromMap.isSpatialReferenceDone","defaultsFromMap.isTileInfoDone"]})],ou.prototype,"preconditionsReady",null),Object(h.a)([Object(k.b)({type:y.a,readOnly:!0})],ou.prototype,"layerViews",void 0),Object(h.a)([Object(k.b)({type:Hs})],ou.prototype,"magnifier",void 0),Object(h.a)([Object(k.b)({value:null,type:js.a})],ou.prototype,"map",null),Object(h.a)([Object(k.b)()],ou.prototype,"padding",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],ou.prototype,"ready",void 0),Object(h.a)([Object(k.b)({type:Ps.a})],ou.prototype,"spatialReference",null),Object(h.a)([Object(k.b)()],ou.prototype,"spatialReferenceWarningDelay",void 0),Object(h.a)([Object(k.b)()],ou.prototype,"stationary",null),Object(h.a)([Object(k.b)({readOnly:!0})],ou.prototype,"supportsGround",void 0),Object(h.a)([Object(k.b)({type:ws.a})],ou.prototype,"timeExtent",void 0),Object(h.a)([Object(H.a)("toolViewManager.tools")],ou.prototype,"tools",void 0),Object(h.a)([Object(k.b)()],ou.prototype,"toolViewManager",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],ou.prototype,"type",void 0),Object(h.a)([Object(k.b)({type:Number})],ou.prototype,"scale",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],ou.prototype,"updating",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],ou.prototype,"initialExtentRequired",void 0),Object(h.a)([Object(k.b)({readOnly:!0,type:xs.a})],ou.prototype,"initialExtent",null),Object(h.a)([Object(k.b)()],ou.prototype,"cursor",null),Object(h.a)([Object(k.b)()],ou.prototype,"renderContext",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],ou.prototype,"input",void 0),Object(h.a)([Object(k.b)({type:Vc,nonNullable:!0})],ou.prototype,"navigation",void 0),Object(h.a)([Object(k.b)()],ou.prototype,"layerViewManager",void 0),Object(h.a)([Object(k.b)()],ou.prototype,"width",void 0),Object(h.a)([Object(k.b)()],ou.prototype,"height",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],ou.prototype,"resizing",void 0),Object(h.a)([Object(k.b)({value:null,readOnly:!0})],ou.prototype,"size",null),Object(h.a)([Object(k.b)({readOnly:!0})],ou.prototype,"suspended",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],ou.prototype,"viewEvents",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],ou.prototype,"persistableViewModels",void 0),Object(h.a)([Object(k.b)()],ou.prototype,"_isValid",void 0),Object(h.a)([Object(k.b)()],ou.prototype,"_readyCycleForced",void 0),Object(h.a)([Object(k.b)()],ou.prototype,"_currentSpatialReference",void 0);var su=ou=ru=Object(h.a)([Object(x.a)("esri.views.View")],ou);function cu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var uu=function(e){Object(c.a)(r,e);var t=cu(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).state="running",n.target=null,n}return Object(a.a)(r,[{key:"initialize",value:function(){var e=this;this.addResolvingPromise(new Promise((function(t,r){return e._dfd={resolve:t,reject:r}})))}},{key:"done",get:function(){return"finished"===this.state||"stopped"===this.state}},{key:"stop",value:function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd.reject(new m.a("ViewAnimation stopped")))}},{key:"finish",value:function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._dfd.resolve())}},{key:"update",value:function(e,t){t||(t=Object(zr.p)(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",t)}}]),r}(ks.a);Object(h.a)([Object(k.b)({readOnly:!0})],uu.prototype,"done",null),Object(h.a)([Object(k.b)({readOnly:!0,type:String})],uu.prototype,"state",void 0),Object(h.a)([Object(k.b)()],uu.prototype,"target",void 0),uu=Object(h.a)([Object(x.a)("esri.views.ViewAnimation")],uu),(uu||(uu={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};var lu=uu,fu=r("r5cT"),pu=r("kBLL");function du(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var hu=function(){function e(t,r,n,a){Object(i.a)(this,e);var o=t.targetGeometry,s=r.targetGeometry;a?"string"==typeof a&&(a=Object(fu.b)(a)||fu.a.ease):a=fu.a.ease,this.easing=a,this.duration=n,this.sCenterX=o.x,this.sCenterY=o.y,this.sScale=t.scale,this.sRotation=t.rotation,this.tCenterX=s.x,this.tCenterY=s.y,this.tScale=r.scale,this.tRotation=r.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}return Object(a.a)(e,[{key:"applyRatio",value:function(e,t){var r,n,i,a,o=this.easing(t);t>=1?(r=this.tCenterX,n=this.tCenterY,i=this.tRotation,a=this.tScale):(r=this.sCenterX+o*this.dCenterX,n=this.sCenterY+o*this.dCenterY,i=this.sRotation+o*this.dRotation,a=this.sScale+o*this.dScale),e.targetGeometry.x=r,e.targetGeometry.y=n,e.scale=a,e.rotation=i}}]),e}(),bu=function(e){Object(c.a)(r,e);var t=du(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).duration=200,n.transition=null,n.easing=fu.a.ease,n.view=null,n.viewpoint=null,n.viewpoint=new hs.a({targetGeometry:new ja.a,scale:0,rotation:0}),n._updateTask=Object(D.a)({postRender:n._postRender.bind(Object(o.a)(n))}),n._updateTask.pause(),n}return Object(a.a)(r,[{key:"destroy",value:function(){this._updateTask.remove(),this._updateTask=null}},{key:"animate",value:function(e,t,r){var n=this;this.stop();var i=this.viewpoint;Object(pu.d)(i,t),this.transition=new hu(this.viewpoint,e.target,r&&r.duration||this.duration,r&&r.easing||this.easing);var a=function(){n.animation===e&&n._updateTask&&("finished"===e.state&&(n.transition.applyRatio(n.viewpoint,1),n.view.state&&(n.view.state.viewpoint=n.viewpoint.clone())),n.animation=null,n.updateFunction=null)};return e.when(a,a),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}},{key:"animateContinous",value:function(e,t){var r=this;this.stop(),this.updateFunction=t,this.viewpoint=e;var n=new lu({target:e.clone()}),i=function(){r.animation===n&&r._updateTask&&(r.animation=null,r.updateFunction=null)};return n.when(i,i),this._startTime=performance.now(),this._updateTask.resume(),this.animation=n,n}},{key:"stop",value:function(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}},{key:"_postRender",value:function(e){var t=this.animation;if(t&&t.state!==lu.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime);else{var r=(performance.now()-this._startTime)/this.transition.duration,n=r>=1;this.transition.applyRatio(this.viewpoint,r),n&&this.animation.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}}]),r}(L.a);Object(h.a)([Object(k.b)()],bu.prototype,"animation",void 0),Object(h.a)([Object(k.b)()],bu.prototype,"duration",void 0),Object(h.a)([Object(k.b)()],bu.prototype,"transition",void 0),Object(h.a)([Object(k.b)()],bu.prototype,"easing",void 0),Object(h.a)([Object(k.b)()],bu.prototype,"view",void 0),Object(h.a)([Object(k.b)()],bu.prototype,"viewpoint",void 0);var yu=bu=Object(h.a)([Object(x.a)("esri.views.2d.AnimationManager")],bu),vu=function(){function e(t){var r=this;Object(i.a)(this,e),this.view=t,this._frameTaskHandle=null,this._updateRequested=!1,this.stationary=!0,this.updateEnabled=!0,this.animationInProgress=!1,this.prepare=function(){r._updateParameters.state=r.view.state,r._updateParameters.stationary=r.view.stationary,r._updateParameters.pixelRatio=window.devicePixelRatio,r._updateParameters.renderingOptions=r.view.renderingOptions},this.update=function(){if(r._updateRequested=!1,r.updateEnabled){var e=r.view,t=e.basemapView,n=e.graphicsView,i=e.labelManager,a=e.layerViews,o=e.state.id;t.baseLayerViews.forEach(r._updateLayerView,r),a.forEach(r._updateLayerView,r),t.referenceLayerViews.forEach(r._updateLayerView,r),Object(j.i)(i)&&(i.lastUpdateId!==o&&(i.viewChange(),i.lastUpdateId=o),i.updateRequested&&i.processUpdate(r._updateParameters)),Object(j.i)(n)&&(n.lastUpdateId!==o&&(n.viewChange(),n.lastUpdateId=o),n.updateRequested&&n.processUpdate(r._updateParameters)),r.animationInProgress||r._updateRequested||r._frameTaskHandle.pause()}}}return Object(a.a)(e,[{key:"destroy",value:function(){this.stop()}},{key:"start",value:function(){var e=this;this.stationary=this.view.stationary,this._updateParameters={state:this.view.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:this.view.renderingOptions},this._stationaryHandle=this.view.watch("stationary",(function(t){e.stationary=t,e.requestFrame()})),this._frameTaskHandle=Object(D.a)(this)}},{key:"stop",value:function(){this._frameTaskHandle&&(this._stationaryHandle.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}},{key:"requestUpdate",value:function(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}},{key:"requestFrame",value:function(){this._frameTaskHandle&&this._frameTaskHandle.resume()}},{key:"_updateLayerView",value:function(e){var t=this.view.state,r=e.lastUpdateId;null!=r&&(this.stationary||e.moving)||(e.moving=!0,e.moveStart()),r!==t.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=t.id,e.updateRequested&&e.processUpdate(this._updateParameters),"layerViews"in e&&e.layerViews.forEach(this._updateLayerView,this)}}]),e}();function mu(){return Promise.all([Promise.all([r.e(0),r.e(1),r.e(24)]).then(r.bind(null,"UXWB")),Promise.all([r.e(0),r.e(1),r.e(2),r.e(23)]).then(r.bind(null,"v8b1"))])}var gu=function(){return mu().then((function(){return Promise.all([r.e(0),r.e(1),r.e(2),r.e(165)]).then(r.bind(null,"6+06"))}))},Ou=function(){return mu().then((function(){return Promise.all([r.e(0),r.e(2),r.e(6)]).then(r.bind(null,"+wab"))}))},ju={"base-dynamic":function(){return mu().then((function(){return Promise.all([r.e(0),r.e(3),r.e(6),r.e(62)]).then(r.bind(null,"51QL"))}))},"base-tile":gu,"bing-maps":gu,csv:Ou,"geo-rss":function(){return mu().then((function(){return Promise.all([r.e(0),r.e(2),r.e(57)]).then(r.bind(null,"yD0/"))}))},feature:Ou,geojson:Ou,graphics:function(){return mu().then((function(){return Promise.all([r.e(0),r.e(2),r.e(58)]).then(r.bind(null,"DvUS"))}))},group:function(){return mu().then((function(){return Promise.all([r.e(0),r.e(159)]).then(r.bind(null,"7zBn"))}))},imagery:function(){return mu().then((function(){return Promise.all([r.e(0),r.e(2),r.e(3),r.e(6),r.e(50)]).then(r.bind(null,"VHll"))}))},"imagery-tile":function(){return mu().then((function(){return Promise.all([r.e(0),r.e(1),r.e(2),r.e(22)]).then(r.bind(null,"B9qS"))}))},kml:function(){return mu().then((function(){return Promise.all([r.e(0),r.e(1),r.e(2),r.e(3),r.e(160)]).then(r.bind(null,"A5ju"))}))},"map-image":function(){return mu().then((function(){return Promise.all([r.e(0),r.e(2),r.e(3),r.e(6),r.e(54)]).then(r.bind(null,"tL2s"))}))},"map-notes":function(){return mu().then((function(){return Promise.all([r.e(0),r.e(1),r.e(2),r.e(161)]).then(r.bind(null,"C1Ij"))}))},"ogc-feature":function(){return mu().then((function(){return Promise.all([r.e(0),r.e(2),r.e(6),r.e(162)]).then(r.bind(null,"OlJN"))}))},"open-street-map":gu,route:function(){return mu().then((function(){return Promise.all([r.e(0),r.e(2),r.e(59)]).then(r.bind(null,"p6Rj"))}))},stream:function(){return mu().then((function(){return Promise.all([r.e(0),r.e(2),r.e(6),r.e(163)]).then(r.bind(null,"0cTz"))}))},"subtype-group":function(){return mu().then((function(){return Promise.all([r.e(0),r.e(2),r.e(6),r.e(164)]).then(r.bind(null,"TiPW"))}))},tile:gu,"vector-tile":function(){return mu().then((function(){return Promise.all([r.e(0),r.e(1),r.e(166)]).then(r.bind(null,"DSKt"))}))},wcs:function(){return mu().then((function(){return Promise.all([r.e(0),r.e(1),r.e(2),r.e(22)]).then(r.bind(null,"B9qS"))}))},"web-tile":gu,wfs:Ou,wms:function(){return mu().then((function(){return Promise.all([r.e(0),r.e(1),r.e(3),r.e(6),r.e(167)]).then(r.bind(null,"AsIF"))}))},wmts:function(){return mu().then((function(){return Promise.all([r.e(0),r.e(1),r.e(168)]).then(r.bind(null,"eWDn"))}))},slice:null,"base-elevation":null,"building-scene":null,"direct-line-measurement":null,"area-measurement":null,elevation:null,"integrated-mesh":null,"line-of-sight":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};var wu,_u=function(e){return Object(j.i)(ju[e.type])},ku=function(e){var t=ju[e.type];if(!Object(j.i)(t))throw function(e){var t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new m.a("".concat(r,":view-not-supported"),"".concat(t," is not supported in 2D"))}(e);return t(e)},xu=r("Viq4"),Su=r("B9Yk"),Pu=r("IZpe"),Iu=r("EOw0"),Ru=r("bYeG");function Mu(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Eu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eu(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Eu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Au,Cu=O.a.getLogger("esri.views.MapView"),Du=wu=function(e){Object(c.a)(r,e);var t=Tu(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).geometry=null,n.spatialReference=null,n}return Object(a.a)(r,[{key:"normalizedGeometry",get:function(){return this.geometry&&this.spatialReference?this.spatialReference.equals(this.geometry.spatialReference)?this.geometry:Object($i.a)(this.geometry,this.spatialReference)?Object($i.d)(this.geometry,this.spatialReference):Object(Su.f)()?Object(Su.i)(this.geometry,this.spatialReference):(Cu.error("#constraints.geometry","unsupported coordinate system. The source geometry cannot be projected to the view's coordinate system. The projection engine cannot be loaded.",{geometry:this.geometry}),null):null}},{key:"constrain",value:function(e,t){if(!this.normalizedGeometry)return e;var r=e.targetGeometry;if("extent"===this.normalizedGeometry.type?Object(Pu.e)(this.normalizedGeometry,r):Object(Pu.g)(this.normalizedGeometry,r))return e;var n=function(e,t){var r,n=t.spatialReference,i=[t.x,t.y],a=Number.POSITIVE_INFINITY,o=0,s=0,c=[0,0],u=Mu("extent"===e.type?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings);try{for(u.s();!(r=u.n()).done;)for(var l=r.value,f=0;f<l.length-1;f++){Object(Ru.e)(c,i,l,f);var p=Object(Iu.d)(i,c);p<a&&(a=p,o=c[0],s=c[1])}}catch(d){u.e(d)}finally{u.f()}return{coordinate:new ja.a({x:o,y:s,spatialReference:n}),distance:a}}(this.normalizedGeometry,r).coordinate;return n?(e.targetGeometry=n,e):e}},{key:"clone",value:function(){var e,t;return new wu({geometry:null==(e=this.geometry)?void 0:e.clone(),spatialReference:null==(t=this.spatialReference)?void 0:t.clone()})}}]),r}(L.a);function Lu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}Object(h.a)([Object(k.b)({constructOnly:!0})],Du.prototype,"geometry",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Du.prototype,"normalizedGeometry",null),Object(h.a)([Object(k.b)({constructOnly:!0})],Du.prototype,"spatialReference",void 0),Du=wu=Object(h.a)([Object(x.a)("esri.views.2d.constraints.GeometryConstraint")],Du);var Fu=Au=function(e){Object(c.a)(r,e);var t=Lu(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).enabled=!0,e.rotationEnabled=!0,e}return Object(a.a)(r,[{key:"constrain",value:function(e,t){return this.enabled&&t?(this.rotationEnabled||(e.rotation=t.rotation),e):e}},{key:"clone",value:function(){return new Au({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}}]),r}(L.a);Object(h.a)([Object(k.b)()],Fu.prototype,"enabled",void 0),Object(h.a)([Object(k.b)()],Fu.prototype,"rotationEnabled",void 0);var Nu,Bu=Fu=Au=Object(h.a)([Object(x.a)("esri.views.2d.constraints.RotationConstraint")],Fu);function Vu(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Uu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uu(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Uu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var qu=Nu=function(e){Object(c.a)(r,e);var t=zu(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e))._lodByScale={},n._scales=[],n.effectiveLODs=null,n.effectiveMinZoom=-1,n.effectiveMaxZoom=-1,n.effectiveMinScale=0,n.effectiveMaxScale=0,n.lods=null,n.minZoom=-1,n.maxZoom=-1,n.minScale=0,n.maxScale=0,n.snapToZoom=!0,n}return Object(a.a)(r,[{key:"initialize",value:function(){var e,t,r,n=this,i=this.lods,a=this.minScale,o=this.maxScale,s=this.minZoom,c=this.maxZoom,u=-1,l=-1,f=!1,p=!1;if(0!==a&&0!==o&&a<o&&(a=(e=[o,a])[0],o=e[1]),!i||!i.length)return this._set("effectiveMinScale",a),void this._set("effectiveMaxScale",o);(i=i.map((function(e){return e.clone()}))).sort((function(e,t){return t.scale-e.scale})),i.forEach((function(e,t){return e.level=t}));var d,h=Vu(i);try{for(h.s();!(d=h.n()).done;){var b=d.value;!f&&a>0&&a>=b.scale&&(u=b.level,f=!0),!p&&o>0&&o>=b.scale&&(l=r?r.level:-1,p=!0),r=b}}catch(y){h.e(y)}finally{h.f()}-1===s&&(s=0===a?0:u),-1===c&&(c=0===o?i.length-1:l),s=Math.max(s,0),s=Math.min(s,i.length-1),c=Math.max(c,0),s>(c=Math.min(c,i.length-1))&&(s=(t=[c,s])[0],c=t[1]),a=i[s].scale,o=i[c].scale,i.splice(0,s),i.splice(c-s+1,i.length),i.forEach((function(e,t){n._lodByScale[e.scale]=e,n._scales[t]=e.scale})),this._set("effectiveLODs",i),this._set("effectiveMinZoom",s),this._set("effectiveMaxZoom",c),this._set("effectiveMinScale",a),this._set("effectiveMaxScale",o)}},{key:"constrain",value:function(e,t){if(t&&e.scale===t.scale)return e;var r=this.effectiveMinScale,n=this.effectiveMaxScale,i=e.targetGeometry,a=t&&t.targetGeometry,o=0!==n&&e.scale<n,s=0!==r&&e.scale>r;if(o||s){var c=s?r:n;if(a){var u=(c-t.scale)/(e.scale-t.scale);i.x=a.x+(i.x-a.x)*u,i.y=a.y+(i.y-a.y)*u}e.scale=c}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}},{key:"fit",value:function(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);var t=this.scaleToZoom(e.scale),r=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(r>.99?Math.round(t):Math.floor(t)),e}},{key:"zoomToScale",value:function(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);var t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];var r=Math.round(e-.5),n=Math.round(e);return t[n]+(n-e)*(t[r]-t[n])}},{key:"scaleToZoom",value:function(e){if(!this.effectiveLODs)return-1;var t,r,n=this._scales;if(e>=n[0])return this.effectiveMinZoom;if(e<=n[n.length-1])return this.effectiveMaxZoom;for(var i=0;i<n.length-1;i++){if(t=n[i],(r=n[i+1])===e)return i+this.effectiveMinZoom+1;if(t>e&&r<e)return i+this.effectiveMinZoom+1-(e-r)/(t-r)}}},{key:"snapToClosestScale",value:function(e){if(!this.effectiveLODs)return e;var t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}},{key:"snapToNextScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;if(!this.effectiveLODs)return e*t;var r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r+1)}},{key:"snapToPreviousScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!this.effectiveLODs)return e*t;var r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r-1)}},{key:"clone",value:function(){return new Nu({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}},{key:"_getClosestScale",value:function(e){return this._lodByScale[e]||(e=this._scales.reduce((function(t,r){return Math.abs(r-e)<=Math.abs(t-e)?r:t}),this._scales[0])),this._lodByScale[e].scale}}]),r}(L.a);Object(h.a)([Object(k.b)({readOnly:!0})],qu.prototype,"effectiveLODs",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],qu.prototype,"effectiveMinZoom",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],qu.prototype,"effectiveMaxZoom",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],qu.prototype,"effectiveMinScale",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],qu.prototype,"effectiveMaxScale",void 0),Object(h.a)([Object(k.b)({type:[xu.a]})],qu.prototype,"lods",void 0),Object(h.a)([Object(k.b)()],qu.prototype,"minZoom",void 0),Object(h.a)([Object(k.b)()],qu.prototype,"maxZoom",void 0),Object(h.a)([Object(k.b)()],qu.prototype,"minScale",void 0),Object(h.a)([Object(k.b)()],qu.prototype,"maxScale",void 0),Object(h.a)([Object(k.b)()],qu.prototype,"snapToZoom",void 0);var Hu=qu=Nu=Object(h.a)([Object(x.a)("esri.views.2d.constraints.ZoomConstraint")],qu),Gu=r("cFtQ");function Wu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Ju={base:null,key:"type",typeMap:{extent:xs.a,polygon:Gu.a}},$u=function(e){Object(c.a)(r,e);var t=Wu(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).lods=null,e.minScale=0,e.maxScale=0,e.minZoom=-1,e.maxZoom=-1,e.rotationEnabled=!0,e.snapToZoom=!0,e}return Object(a.a)(r,[{key:"initialize",value:function(){this.watch(["_zoom","_rotation"],this.emit.bind(this,"update"),!0)}},{key:"destroy",value:function(){this.view=null,this._set("_zoom",null),this._set("_rotation",null)}},{key:"geometry",set:function(e){e?this._set("geometry",e):this._set("geometry",null)}},{key:"_defaultLODs",get:function(){var e=this.get("view.defaultsFromMap.tileInfo"),t=this.get("view.spatialReference");return e&&t&&e.spatialReference.equals(t)?e.lods:null}},{key:"_geometry",get:function(){return new Du({geometry:this.geometry,spatialReference:this.view.spatialReference})}},{key:"_rotation",get:function(){return new Bu({rotationEnabled:this.rotationEnabled})}},{key:"_zoom",get:function(){return new Hu({lods:this.lods||this._defaultLODs,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale,snapToZoom:this.snapToZoom})}},{key:"canZoomInTo",value:function(e){var t=this.effectiveMaxScale;return 0===t||e>=t}},{key:"canZoomOutTo",value:function(e){var t=this.effectiveMinScale;return 0===t||e<=t}},{key:"constrain",value:function(e,t){return this._zoom.constrain(e,t),this._rotation.constrain(e,t),this._geometry.constrain(e,t),e}},{key:"constrainByGeometry",value:function(e){return this._geometry.constrain(e)}},{key:"fit",value:function(e){return this._zoom.fit(e)}},{key:"zoomToScale",value:function(e){return this._zoom.zoomToScale(e)}},{key:"scaleToZoom",value:function(e){return this._zoom.scaleToZoom(e)}},{key:"snapScale",value:function(e){return this._zoom.snapToClosestScale(e)}},{key:"snapToNextScale",value:function(e){return this._zoom.snapToNextScale(e)}},{key:"snapToPreviousScale",value:function(e){return this._zoom.snapToPreviousScale(e)}}]),r}(Di.a.EventedAccessor);Object(h.a)([Object(k.b)({readOnly:!0,aliasOf:"_zoom.effectiveLODs"})],$u.prototype,"effectiveLODs",void 0),Object(h.a)([Object(k.b)({readOnly:!0,aliasOf:"_zoom.effectiveMinScale"})],$u.prototype,"effectiveMinScale",void 0),Object(h.a)([Object(k.b)({readOnly:!0,aliasOf:"_zoom.effectiveMaxScale"})],$u.prototype,"effectiveMaxScale",void 0),Object(h.a)([Object(k.b)({readOnly:!0,aliasOf:"_zoom.effectiveMinZoom"})],$u.prototype,"effectiveMinZoom",void 0),Object(h.a)([Object(k.b)({readOnly:!0,aliasOf:"_zoom.effectiveMaxZoom"})],$u.prototype,"effectiveMaxZoom",void 0),Object(h.a)([Object(k.b)({types:Ju,value:null})],$u.prototype,"geometry",null),Object(h.a)([Object(k.b)({type:[xu.a]})],$u.prototype,"lods",void 0),Object(h.a)([Object(k.b)()],$u.prototype,"minScale",void 0),Object(h.a)([Object(k.b)()],$u.prototype,"maxScale",void 0),Object(h.a)([Object(k.b)()],$u.prototype,"minZoom",void 0),Object(h.a)([Object(k.b)()],$u.prototype,"maxZoom",void 0),Object(h.a)([Object(k.b)()],$u.prototype,"rotationEnabled",void 0),Object(h.a)([Object(k.b)()],$u.prototype,"snapToZoom",void 0),Object(h.a)([Object(k.b)()],$u.prototype,"view",void 0),Object(h.a)([Object(k.b)()],$u.prototype,"_defaultLODs",null),Object(h.a)([Object(k.b)({type:Du})],$u.prototype,"_geometry",null),Object(h.a)([Object(k.b)({type:Bu})],$u.prototype,"_rotation",null),Object(h.a)([Object(k.b)({readOnly:!0,type:Hu})],$u.prototype,"_zoom",null);var Zu,Qu=$u=Object(h.a)([Object(x.a)("esri.views.2d.MapViewConstraints")],$u),Xu=r("MJqN"),Ku=r("0n+b"),Yu=r("p0eS"),el=r("NO3b"),tl=r("f3A3"),rl=r("fHEz"),nl=r("+MBG"),il=r("Tkaf"),al=r("0s7n");function ol(e){return(t=e)instanceof Float32Array&&t.length>=2||function(e){return Array.isArray(e)&&e.length>=2}(e);var t}function sl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var cl=[0,0],ul=Zu=function(e){Object(c.a)(r,e);var t=sl(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e))._viewpoint2D={center:Object(Xu.a)(),rotation:0,scale:0,spatialReference:null},n.center=[0,0],n.extent=new xs.a,n.id=0,n.inverseTransform=Object(rl.a)(),n.resolution=0,n.rotation=0,n.scale=0,n.transform=Object(rl.a)(),n.transformNoRotation=Object(rl.a)(),n.displayMat3=Object(il.b)(),n.displayViewMat3=Object(il.b)(),n.viewMat3=Object(il.b)(),n.viewMat2d=Object(tl.a)(),n.worldScreenWidth=0,n.size=[0,0],n}return Object(a.a)(r,[{key:"pixelRatio",set:function(e){this._set("pixelRatio",e),this._update()}},{key:"size",set:function(e){this._set("size",e),this._update()}},{key:"viewpoint",set:function(e){if(e){var t=this._viewpoint2D,r=e.targetGeometry;t.center[0]=r.x,t.center[1]=r.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=r.spatialReference}this._update()}},{key:"copy",value:function(e){var t=this.size,r=this.viewpoint;return r&&t?(this.viewpoint=Object(pu.d)(r,e.viewpoint),this._set("size",Object(Iu.c)(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}},{key:"clone",value:function(){return new Zu({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}},{key:"toMap",value:function(e,t,r){return ol(t)?Object(Iu.n)(e,t,this.inverseTransform):(cl[0]=t,cl[1]=r,Object(Iu.n)(e,cl,this.inverseTransform))}},{key:"toScreen",value:function(e,t,r){return ol(t)?Object(Iu.n)(e,t,this.transform):(cl[0]=t,cl[1]=r,Object(Iu.n)(e,cl,this.transform))}},{key:"toScreenNoRotation",value:function(e,t,r){return ol(t)?Object(Iu.n)(e,t,this.transformNoRotation):(cl[0]=t,cl[1]=r,Object(Iu.n)(e,cl,this.transformNoRotation))}},{key:"getScreenTransform",value:function(e,t){var r=this._viewpoint2D.center,n=this._get("pixelRatio")||1,i=this._get("size");return Object(pu.i)(e,r,i,t,0,n),e}},{key:"_update",value:function(){var e=this._viewpoint2D,t=e.center,r=e.spatialReference,n=e.scale,i=e.rotation,a=this._get("pixelRatio")||1,o=this._get("size"),s=new hs.a({targetGeometry:new ja.a(t[0],t[1],r),scale:n,rotation:i});if(this._set("viewpoint",s),o&&r&&n){this.resolution=Object(pu.k)(s),this.rotation=i,this.scale=n,this.spatialReference=r,Object(Iu.c)(this.center,t);var c=0!==o[0]?2/o[0]:0,u=0!==o[1]?-2/o[1]:0;Object(nl.k)(this.displayMat3,c,0,0,0,u,0,-1,1,1);var l=Object(nl.b)(this.viewMat3),f=Object(al.b)(o[0]/2,o[1]/2),p=Object(al.b)(-o[0]/2,-o[1]/2),d=Object(Yu.d)(i);Object(nl.c)(l,l,f),Object(nl.j)(l,l,d),Object(nl.c)(l,l,p),Object(nl.h)(this.displayViewMat3,this.displayMat3,l);var h=Object(el.d)(this.viewMat2d);return Object(el.h)(h,h,f),Object(el.f)(h,h,d),Object(el.h)(h,h,p),Object(pu.h)(this.extent,s,o),Object(pu.l)(this.transform,s,o,a),Object(el.a)(this.inverseTransform,this.transform),Object(pu.m)(this.transformNoRotation,s,o,a),this.worldScreenWidth=Object(pu.n)(this.spatialReference,this.resolution),this._set("id",this.id+1),this}}}]),r}(Ku.a);Object(h.a)([Object(k.b)({readOnly:!0})],ul.prototype,"id",void 0),Object(h.a)([Object(k.b)({value:1,json:{write:!0}})],ul.prototype,"pixelRatio",null),Object(h.a)([Object(k.b)({json:{write:!0}})],ul.prototype,"size",null),Object(h.a)([Object(k.b)({type:hs.a,json:{write:!0}})],ul.prototype,"viewpoint",null);var ll=ul=Zu=Object(h.a)([Object(x.a)("esri.views.2d.ViewState")],ul);function fl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var pl=function(e){Object(c.a)(r,e);var t=fl(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).left=0,e.top=0,e.right=0,e.bottom=0,e}return r}(L.a);Object(h.a)([Object(k.b)()],pl.prototype,"left",void 0),Object(h.a)([Object(k.b)()],pl.prototype,"top",void 0),Object(h.a)([Object(k.b)()],pl.prototype,"right",void 0),Object(h.a)([Object(k.b)()],pl.prototype,"bottom",void 0),pl=Object(h.a)([Object(x.a)("esri.views.2d.PaddedViewState.Padding")],pl);var dl=function(e){Object(c.a)(r,e);var t=fl(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).paddedViewState=new ll,e._updateContent=function(){var t=Object(Xu.a)();return function(){var r=e._get("size"),n=e._get("padding");if(r&&n){var i=e.paddedViewState;Object(Iu.m)(t,n.left+n.right,n.top+n.bottom),Object(Iu.a)(t,r,t),Object(Iu.c)(i.size,t);var a=i.viewpoint;a&&(e.viewpoint=a)}}}(),e.watch(["size","padding"],e._updateContent,!0),e.padding=new pl,e.size=[0,0],e}return Object(a.a)(r,[{key:"padding",set:function(e){this._set("padding",e||new pl)}},{key:"viewpoint",set:function(e){if(e){var t=e.clone();this.paddedViewState.viewpoint=e,Object(pu.a)(t,e,this._get("size"),this._get("padding"));var r=this._viewpoint2D,n=t.targetGeometry;r.center[0]=n.x,r.center[1]=n.y,r.rotation=t.rotation,r.scale=t.scale,r.spatialReference=n.spatialReference,this._update()}}}]),r}(ll);Object(h.a)([Object(k.b)()],dl.prototype,"paddedViewState",void 0),Object(h.a)([Object(k.b)({type:pl})],dl.prototype,"padding",null),Object(h.a)([Object(k.b)()],dl.prototype,"viewpoint",null);var hl=dl=Object(h.a)([Object(x.a)("esri.views.2d.PaddedViewState")],dl),bl=(r("TBsA"),r("xTsm")),yl=(r("60x+"),r("0s/2"),r("ajvB"),r("Q9Id"));function vl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ml(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vl(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Ol=O.a.getLogger("esri.views.MapView");function jl(e){return e&&"esri.Viewpoint"===e.declaredClass}var wl=function(e){Object(c.a)(r,e);var t=gl(r);function r(e){var n;Object(i.a)(this,r),(n=t.call(this,e))._stationaryTimer=null,n.frameTask=new vu(Object(o.a)(n)),n.featuresTilingScheme=null,n.fullOpacity=1,n.graphicsView=null,n.initialExtent=null,n.labelManager=null,n.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},n.resizeAlign="center",n.supportsGround=!1,n.timeline=new yl.a,n.type="2d",n.constraints=new Qu,n.padding={top:0,right:0,bottom:0,left:0};var a=n.handles,s=function(){return n.notifyChange("updating")};return a.add([n.watch("viewpoint",(function(){n._lastStationaryEventTimestamp=performance.now(),n._flipStationary(160)}),!0),n.on("resize",(function(e){return n._resizeHandler(e)})),n.watch("animationManager.animation",(function(e){n.animation=e})),n.allLayerViews.on("change",(function(){s(),a.remove("map-view-base-layerViewsUpdating"),a.add(n.allLayerViews.map((function(e){return e.watch("updating",s)})),"map-view-base-layerViewsUpdating")}))],"map-view-base"),n}return Object(a.a)(r,[{key:"destroy",value:function(){this.destroyed||(this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null)}},{key:"animation",set:function(e){var t=this,r=this._get("animation");if(e!==r)if(r&&r.stop(),e&&!e.isFulfilled()){this._set("animation",e),this.frameTask.animationInProgress=!0;var n=function(){e===t._get("animation")&&(t._set("animation",null),t.frameTask.requestFrame()),t.frameTask.animationInProgress=!1};e.when(n,n)}else this._set("animation",null)}},{key:"center",get:function(){if(!this.ready)return this._get("center");var e=this.state.paddedViewState,t=e.center,r=e.spatialReference;return new ja.a({x:t[0],y:t[1],spatialReference:r})},set:function(e){if(null!=e)if(this._normalizeInput(e)){if(!this.ready)return this._set("center",e),void this.notifyChange("initialExtentRequired");var t=this.viewpoint;Object(pu.c)(t,t,e),this.viewpoint=t}else Ol.error("#center","incompatible spatialReference ".concat(JSON.stringify(e.spatialReference)," with view's spatialReference ").concat(JSON.stringify(this.spatialReference)))}},{key:"constraints",set:function(e){var t=this,r=this._get("constraints");r&&(this.handles.remove("map-view-base-constraints"),r.destroy()),this._set("constraints",e),e&&(e.view=this,this.ready&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint)),this.handles.add(e.on("update",(function(){t.ready&&t.state&&(t.state.viewpoint=e.fit(t.state.paddedViewState.viewpoint))})),"map-view-base-constraints"))}},{key:"extent",get:function(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")},set:function(e){if(null!=e){var t=this._normalizeInput(e);if(t)if(t.width&&t.height){if(!this.ready)return this._set("extent",t),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");var r=this.viewpoint;Object(pu.v)(r,r,t,this.size,{constraints:this.constraints}),this.viewpoint=r}else Ol.error("#extent","invalid extent size");else Ol.error("#center","incompatible spatialReference ".concat(JSON.stringify(e.spatialReference)," with view's spatialReference ").concat(JSON.stringify(this.spatialReference)))}}},{key:"initialExtentRequired",get:function(){var e=this.extent,t=this.center,r=this.scale,n=this.viewpoint,i=this.zoom;return!(this.get("map.initialViewProperties.viewpoint")||e||t&&(0!==r||-1!==i)||n)}},{key:"padding",get:function(){return this.ready?this.state.padding:this._get("padding")},set:function(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}},{key:"resolution",get:function(){return this.state?this.state.resolution:0}},{key:"rotation",get:function(){return this.ready?this.state.rotation:this._get("rotation")},set:function(e){if(!isNaN(e))if(this.ready){var t=this.viewpoint;Object(pu.s)(t,t,e),this.viewpoint=t}else this._set("rotation",e)}},{key:"scale",get:function(){return this.ready?this.state.scale:this._get("scale")},set:function(e){if(e&&!isNaN(e)){if(!this.ready){this._set("scale",e),this._set("zoom",-1);var t=this._get("extent");return t&&(this._set("extent",null),this._set("center",t.center)),void this.notifyChange("initialExtentRequired")}var r=this.viewpoint;Object(pu.u)(r,r,e),this.viewpoint=r}}},{key:"stationary",get:function(){return!(this.animation||this.navigating||this._get("resizing")||this._stationaryTimer)}},{key:"updating",get:function(){return!this.destroyed&&(!0===this.get("layerViewManager.updating")||!0===this.get("labelManager.updating")||!0===this.get("graphicsView.updating")||this.allLayerViews.some((function(e){return!e.destroyed&&!("layerViews"in e)&&!0===e.updating})))}},{key:"viewpoint",get:function(){if(!this.ready)return this._get("viewpoint");var e=this.state.paddedViewState;return e&&e.viewpoint.clone()},set:function(e){if(null!=e){var t=this._normalizeInput(e);if(t){if(!this.ready)return this._set("viewpoint",t),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");var r=new hs.a({targetGeometry:new ja.a,scale:0,rotation:0});Object(pu.d)(r,t),this.constraints.constrain(r,this.state.paddedViewState.viewpoint),this.state.viewpoint=r,this.frameTask.requestFrame(),this._set("viewpoint",r)}else!e.scale||isNaN(e.scale)?Ol.error("#viewpoint","invalid scale value of ".concat(e.scale)):Object(j.h)(e.targetGeometry)?Ol.error("#viewpoint","geometry not defined"):Ol.error("#viewpoint","incompatible spatialReference ".concat(JSON.stringify(e.targetGeometry.spatialReference)," with view's spatialReference ").concat(JSON.stringify(this.spatialReference)))}}},{key:"zoom",get:function(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")},set:function(e){if(null!=e){if(!this.ready){this.notifyChange("initialExtentRequired"),this._set("zoom",e),this._set("scale",0);var t=this._get("extent");t&&(this._set("extent",null),this._set("center",t.center))}if(this.constraints.effectiveLODs){var r=this.viewpoint;Object(pu.u)(r,r,this.constraints.zoomToScale(e)),this.viewpoint=r,this._set("zoom",this.constraints.scaleToZoom(this.scale))}}}},{key:"goTo",value:function(e,t){var r=this;if(e)return this.animation&&(this.animation=null),this._createAnimation(),Object(w.l)(this,"ready",t&&t.signal).then((function(){var n=ml({animate:!0},t),i=Object(pu.e)(e,r);return r.animation.update(i),r._gotoTask={},n.animate?r._gotoAnimated(i,n):r._gotoImmediate(i,n)}));Ol.error("#goTo()","target cannot be null or undefined")}},{key:"hitTest",value:function(e){return Promise.reject("Should be implemented by subclasses")}},{key:"popupHitTest",value:function(e){var t=this;return this.hitTest(e).then((function(r){return ml(ml({},r),{},{mapPoint:t.toMap(e)})}))}},{key:"toMap",value:function(e){if(!this.ready)return null;var t=this.state.toMap([0,0],[e.x,e.y]),r=Object(n.a)(t,2),i=r[0],a=r[1],o=this.spatialReference;return new ja.a({x:i,y:a,spatialReference:o})}},{key:"isTileInfoRequired",value:function(){return!0}},{key:"toScreen",value:function(e){if(!this.ready)return null;var t=this._normalizeInput(e),r=[t.x,t.y];return this.state.toScreen(r,r),Object(bs.a)(r[0],r[1])}},{key:"pixelSizeAt",value:function(){return this.ready?this.state.resolution:(Ol.error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}},{key:"requestUpdate",value:function(){this.ready&&this.frameTask.requestUpdate()}},{key:"getDefaultSpatialReference",value:function(){return this.get("map.initialViewProperties.spatialReference")||this.get("defaultsFromMap.spatialReference")||null}},{key:"isSpatialReferenceSupported",value:function(e,t){return!(!t&&!this._get("ready"))||null!==this._getDefaultViewpoint()}},{key:"importLayerView",value:function(e){return ku(e)}},{key:"hasLayerViewModule",value:function(e){return _u(e)}},{key:"_createAnimation",value:function(){return this.animation&&!this.animation.done||(this.animation=new lu),this.animation}},{key:"_cancellableGoTo",value:function(e,t,r){var n=this,i=function(){return e===n._gotoTask},a=r.then((function(){i()&&(n.animation=null)})).catch((function(e){throw i()&&(n.animation=null,t.done||(t.stop(),n.frameTask.animationInProgress=!1)),e})),o=new Promise((function(e){return e(a)}));return t.when().catch((function(){i()&&o.cancel&&o.cancel()})),o}},{key:"_gotoImmediate",value:function(e,t){var r=this,n=this._gotoTask,i=this.animation,a=e.then((function(e){if(Object(zr.v)(t),n!==r._gotoTask)throw new m.a("view:goto-interrupted","Goto was interrupted");r.viewpoint=i.target=e,i.finish()}));return this._cancellableGoTo(n,i,a)}},{key:"_gotoAnimated",value:function(e,t){var r=this,n=this._gotoTask,i=this.animation,a=e.then((function(e){if(Object(zr.v)(t),n!==r._gotoTask)throw new m.a("view:goto-interrupted","Goto was interrupted");return i.update(e),r.animationManager.animate(i,r.viewpoint,t),i.when().then((function(){}),(function(){}))}));return this._cancellableGoTo(n,i,a)}},{key:"_resizeHandler",value:function(e){var t=this.state;if(t){var r=this.state.paddedViewState.viewpoint,n=this.state.paddedViewState.size.concat();t.size=[e.width,e.height],Object(pu.q)(r,r,n,this.state.paddedViewState.size,this.resizeAlign),r=this.constraints.constrain(r,null),this.state.viewpoint=r}}},{key:"_startup",value:function(){var e=this._getDefaultViewpoint();this.constraints.view=this,this.constraints.fit(e),this._set("animationManager",new yu({view:this})),this._set("state",new hl({padding:this._get("padding"),size:this.size,viewpoint:e})),this._set("featuresTilingScheme",new bl.a(ys.a.create({spatialReference:this.spatialReference,size:512,numLODs:36}))),this._set("ready",!0),this.frameTask&&this.frameTask.start()}},{key:"_teardown",value:function(){this.frameTask&&this.frameTask.stop(),this._set("ready",!1),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null);var e=this.state.paddedViewState,t=Object(n.a)(e.center,2),r=t[0],i=t[1],a=e.spatialReference,o=e.rotation,s=e.scale,c=new ja.a({x:r,y:i,spatialReference:a});this._set("viewpoint",null),this._set("extent",null),this._set("center",c),this._set("zoom",-1),this._set("rotation",o),this._set("scale",s),this._set("spatialReference",a),this.constraints.view=null,this.animationManager.destroy(),this._set("animationManager",null),this._set("state",null),this.animation=null}},{key:"_flipStationary",value:function(e){var t=this;return null!==this._stationaryTimer||(this._stationaryTimer=setTimeout((function(){t._stationaryTimer=null;var e=performance.now()-t._lastStationaryEventTimestamp;e<160&&(t._stationaryTimer=t._flipStationary(e))}),e)),this._stationaryTimer}},{key:"_normalizeInput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.spatialReference,r=e&&e.targetGeometry||e;return t?r?t.equals(r.spatialReference)?e:Object($i.a)(r,t)?jl(e)?(e.targetGeometry=Object($i.d)(r,t),e):Object($i.d)(r,t):null:null:e}},{key:"_getDefaultViewpoint",value:function(){var e=this.constraints,t={zoom:this._get("zoom"),scale:this._get("scale"),center:this._normalizeInput(this._get("center")),extent:this._normalizeInput(this._get("extent")),rotation:this._get("rotation"),viewpoint:this._normalizeInput(this._get("viewpoint")),spatialReference:this._userSpatialReference};e.effectiveLODs?-1!==t.zoom&&(t.scale=e.zoomToScale(t.zoom)):t.zoom=-1;var r=null,n=null,i=0,a=t.viewpoint&&t.viewpoint.rotation,o=t.viewpoint&&t.viewpoint.targetGeometry;Object(j.i)(o)&&("extent"===o.type?r=o:"point"===o.type&&(n=o,i=t.viewpoint.scale));var s=this._normalizeInput(this.get("map.initialViewProperties.viewpoint.targetGeometry.extent")),c=this._normalizeInput(this.initialExtent),u=t.extent||r||s||c,l=t.center||n||u&&u.center,f=this.get("map.initialViewProperties.viewpoint.scale"),p=t.scale||i||f||u&&Object(pu.f)(u,this.size),d=this.get("map.initialViewProperties.viewpoint.rotation"),h=t.rotation||a||d||0;return l&&p?new hs.a({targetGeometry:l,scale:p,rotation:h}):null}}]),r}(function(e){var t=function(e){Object(c.a)(s,e);var t,r,n,o=Os(s);function s(){return Object(i.a)(this,s),o.apply(this,arguments)}return Object(a.a)(s,[{key:"fetchPopupFeatures",value:(n=Object(f.a)(d.a.mark((function e(t,r){var n,i,a,o,s,c,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.when();case 2:return e.next=4,this._prepareFetchPopupFeatures(t,r);case 4:return n=e.sent,i=n.location,a=n.queryArea,o=n.layerViewsAndGraphics,s=n.clientOnlyGraphics,c=Promise.resolve(s),u=this._queryLayerPopupFeatures({queryArea:a,layerViewsAndGraphics:o,options:r}),l=u.map((function(e){return e.promise})),e.abrupt("return",{location:i,clientOnlyGraphics:s,allGraphicsPromise:Object(zr.k)([c].concat(Object(ee.a)(l))).then(vs.d),promisesPerLayerView:u});case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"_queryLayerPopupFeatures",value:function(e){var t=e.queryArea,r=e.layerViewsAndGraphics,n=e.options;return r.map((function(e){var r=e.layerView,i={clientGraphics:e.graphics,event:Object(j.i)(n)?n.event:null,signal:Object(j.i)(n)?n.signal:null,defaultPopupTemplateEnabled:!!Object(j.i)(n)&&!!n.defaultPopupTemplateEnabled},a=r.fetchPopupFeatures(t,i);return{layerView:r,promise:a}}))}},{key:"_isValidPopupGraphic",value:function(e,t){return e&&!!e.getEffectivePopupTemplate(Object(j.i)(t)&&t.defaultPopupTemplateEnabled)}},{key:"_prepareFetchPopupFeatures",value:(r=Object(f.a)(d.a.mark((function e(t,r){var n,i,a,o,s,c,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._popupHitTestGraphics(t,r);case 2:return n=e.sent,i=n.clientGraphics,a=n.queryArea,o=n.location,s=this._getFetchPopupLayerViews(),c=this._graphicsPerFetchPopupLayerView(i,s),u=c.layerViewsAndGraphics,l=c.clientOnlyGraphics,e.abrupt("return",{clientOnlyGraphics:l,layerViewsAndGraphics:u,queryArea:a,location:o});case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"_popupHitTestGraphics",value:(t=Object(f.a)(d.a.mark((function e(t,r){var n,i,a,o,s,c=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.popupHitTest(t);case 2:return n=e.sent,i=n.results,a=n.mapPoint,o=i.filter((function(e){return c._isValidPopupGraphic(e.graphic,r)})),s=o.length?o[0].mapPoint:null,e.abrupt("return",{clientGraphics:o.map((function(e){return e.graphic})),queryArea:a,location:a||s});case 8:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"_getFetchPopupLayerViews",value:function(){var e=this,t=[];return this.allLayerViews.forEach((function(r){e._isValidPopupLayerView(r)&&t.push(r)})),Object(j.i)(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&t.push(this.graphicsView),t.reverse()}},{key:"_isValidPopupLayerView",value:function(e){return Object(j.i)(e)&&(!("layer"in e)||!e.suspended)&&"fetchPopupFeatures"in e}},{key:"_graphicsPerFetchPopupLayerView",value:function(e,t){var r,n=[],i=new Map,a=t.map((function(e){var t=[];return"layer"in e?i.set(e.layer,t):i.set(e.graphics,t),{layerView:e,graphics:t}})),o=ms(e);try{for(o.s();!(r=o.n()).done;){var s=r.value,c=i.get(s.layer)||i.get(s.sourceLayer)||null;c?c.push(s):n.push(s)}}catch(u){o.e(u)}finally{o.f()}return{layerViewsAndGraphics:a,clientOnlyGraphics:n}}}]),s}(e);return t=Object(h.a)([Object(x.a)("esri.views.PopupView")],t)}(su));Object(h.a)([Object(k.b)()],wl.prototype,"_stationaryTimer",void 0),Object(h.a)([Object(k.b)()],wl.prototype,"animation",null),Object(h.a)([Object(k.b)({readOnly:!0})],wl.prototype,"animationManager",void 0),Object(h.a)([Object(k.b)({value:null,type:ja.a,dependsOn:["state.id","ready"]})],wl.prototype,"center",null),Object(h.a)([Object(k.b)({type:Qu})],wl.prototype,"constraints",null),Object(h.a)([Object(k.b)({value:null,type:xs.a,dependsOn:["state.id","ready"]})],wl.prototype,"extent",null),Object(h.a)([Object(k.b)({readOnly:!0})],wl.prototype,"featuresTilingScheme",void 0),Object(h.a)([Object(k.b)()],wl.prototype,"fullOpacity",void 0),Object(h.a)([Object(k.b)()],wl.prototype,"graphicsView",void 0),Object(h.a)([Object(k.b)({type:xs.a})],wl.prototype,"initialExtent",void 0),Object(h.a)([Object(k.b)({dependsOn:["map.initialViewProperties?.viewpoint"]})],wl.prototype,"initialExtentRequired",null),Object(h.a)([Object(k.b)()],wl.prototype,"labelManager",void 0),Object(h.a)([Object(k.b)({value:{top:0,right:0,bottom:0,left:0},cast:function(e){return ml({top:0,right:0,bottom:0,left:0},e)}})],wl.prototype,"padding",null),Object(h.a)([Object(k.b)({type:Object})],wl.prototype,"renderingOptions",void 0),Object(h.a)([Object(k.b)()],wl.prototype,"resizeAlign",void 0),Object(h.a)([Object(k.b)({readOnly:!0,dependsOn:["state.id"]})],wl.prototype,"resolution",null),Object(h.a)([Object(k.b)({value:0,type:Number,dependsOn:["state.id","ready"]})],wl.prototype,"rotation",null),Object(h.a)([Object(k.b)({value:0,type:Number,dependsOn:["state.id","ready"]})],wl.prototype,"scale",null),Object(h.a)([Object(k.b)({type:Ps.a,dependsOn:["map.initialViewProperties?.spatialReference","defaultsFromMap.isSpatialReferenceDone"]})],wl.prototype,"spatialReference",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],wl.prototype,"state",void 0),Object(h.a)([Object(k.b)({dependsOn:["animation","navigating","resizing","_stationaryTimer"]})],wl.prototype,"stationary",null),Object(h.a)([Object(k.b)({readOnly:!0})],wl.prototype,"supportsGround",void 0),Object(h.a)([Object(k.b)({type:yl.a,readOnly:!0})],wl.prototype,"timeline",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],wl.prototype,"type",void 0),Object(h.a)([Object(k.b)({readOnly:!0,dependsOn:["layerViewManager.updating","labelManager.updating","graphicsView?.updating"]})],wl.prototype,"updating",null),Object(h.a)([Object(k.b)({value:null,type:hs.a,dependsOn:["state.id","ready"]})],wl.prototype,"viewpoint",null),Object(h.a)([Object(k.b)({value:-1,dependsOn:["state.id"]})],wl.prototype,"zoom",null);var _l=wl=Object(h.a)([Object(x.a)("esri.views.MapViewBase")],wl);function kl(e,t){switch(t){case"primary":return"touch"===e.pointerType||0===e.button;case"secondary":return"touch"!==e.pointerType&&2===e.button;case"tertiary":return"touch"!==e.pointerType&&1===e.button}}function xl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Sl=function(e){Object(c.a)(r,e);var t=xl(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,!0)).view=e,a.registerIncoming("double-click",n,(function(e){return a._handleDoubleClick(e,n)})),a}return Object(a.a)(r,[{key:"_handleDoubleClick",value:function(e,t){kl(e.data,"primary")&&(e.stopPropagation(),t?this.view.mapViewNavigation.zoomOut([e.data.x,e.data.y]):this.view.mapViewNavigation.zoomIn([e.data.x,e.data.y]))}}]),r}(Zs.a);function Pl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Il=function(e){Object(c.a)(r,e);var t=Pl(r);function r(e,n,a){var o;return Object(i.a)(this,r),(o=t.call(this,!0)).view=e,o.pointerType=n,o.registerIncoming("double-tap-drag",a,(function(e){return o._handleDoubleTapDrag(e)})),o}return Object(a.a)(r,[{key:"_handleDoubleTapDrag",value:function(e){var t=e.data;if(t.pointerType===this.pointerType){e.stopPropagation();var r=t.action,n=t.delta,i=this.view,a=i.mapViewNavigation;switch(r){case"begin":var o=i.scale;this._startScale=o,this._currentScale=o,this._previousDelta=n,a.begin();break;case"update":if(this._previousDelta.y===n.y)return;this._previousDelta=n;var s=Math.pow(1.015,n.y),c=this._startScale*s,u=c/this._currentScale;a.setViewpointImmediate(u),this._currentScale=c;break;case"end":var l=i.constraints,f=l.effectiveLODs;if(!l.snapToZoom||!f)return void a.end();var p=l.snapScale(this._currentScale),d=(n.y>0?Math.max(p,l.snapToPreviousScale(this._startScale)):Math.min(p,l.snapToNextScale(this._startScale)))/this._currentScale;a.zoom(d)}}}}]),r}(Zs.a),Rl=function(){function e(t){Object(i.a)(this,e),this.callbacks=t,this.currentCount=0,this.callbacks.condition||(this.callbacks.condition=function(){return!0})}return Object(a.a)(e,[{key:"handle",value:function(e){var t=e.data,r=t.pointers.size;switch(t.action){case"start":this.currentCount=r,this.emitStart(e);break;case"added":this.emitEnd(this.previousEvent),this.currentCount=r,this.emitStart(e);break;case"update":this.emitUpdate(e);break;case"removed":this.startEvent&&this.emitEnd(this.previousEvent),this.currentCount=r,this.emitStart(e);break;case"end":this.emitEnd(e),this.currentCount=0}this.previousEvent=e}},{key:"emitStart",value:function(e){this.startEvent=e,this.callbacks.condition(this.currentCount,e)&&this.callbacks.start(this.currentCount,e,this.startEvent)}},{key:"emitUpdate",value:function(e){this.callbacks.condition(this.currentCount,e)&&this.callbacks.update(this.currentCount,e,this.startEvent)}},{key:"emitEnd",value:function(e){this.callbacks.condition(this.currentCount,e)&&this.callbacks.end(this.currentCount,e,this.startEvent),this.startEvent=null}}]),e}();function Ml(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var El=function(e){Object(c.a)(r,e);var t=Ml(r);function r(e,n,a){var o;Object(i.a)(this,r),(o=t.call(this,!0)).view=e,o.pointerAction=n,o.registerIncoming("drag",a,(function(e){return o._handleDrag(e)})),o.registerIncoming("pointer-down",(function(){return o.stopMomentumNavigation()}));var s=o.view.mapViewNavigation;return o.dragEventSeparator=new Rl({start:function(e,t){s.pan.begin(o.view,t.data),t.stopPropagation()},update:function(e,t){s.pan.update(o.view,t.data),t.stopPropagation()},end:function(e,t){s.pan.end(o.view,t.data),t.stopPropagation()},condition:function(e,t){return 1===e&&kl(t.data,o.pointerAction)}}),o}return Object(a.a)(r,[{key:"_handleDrag",value:function(e){var t=this.view.mapViewNavigation;t.pinch.zoomMomentum||t.pinch.rotateMomentum?this.stopMomentumNavigation():this.dragEventSeparator.handle(e)}},{key:"stopMomentumNavigation",value:function(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}]),r}(Zs.a);function Tl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Al=function(e){Object(c.a)(r,e);var t=Tl(r);function r(e,n,a){var o;Object(i.a)(this,r),(o=t.call(this,!0)).view=e,o.pointerAction=n;var s=o.view.mapViewNavigation;return o.dragEventSeparator=new Rl({start:function(e,t){s.rotate.begin(o.view,t.data),t.stopPropagation()},update:function(e,t){s.rotate.update(o.view,t.data),t.stopPropagation()},end:function(e,t){s.rotate.end(),t.stopPropagation()},condition:function(e,t){return 1===e&&kl(t.data,o.pointerAction)}}),o.registerIncoming("drag",a,(function(e){return o.dragEventSeparator.handle(e)})),o}return r}(Zs.a),Cl=r("KcHx");function Dl(e){var t=e*e;return e<0&&(t*=-1),t}function Ll(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Fl=function(e){Object(c.a)(r,e);var t=Ll(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,!0)).view=e,n.frameTask=null,n.watchHandles=new I.a,n.currentDevice=null,n.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},n.handle=n.registerIncoming("gamepad",(function(e){return n.handleEvent(e)})),n.handle.pause(),n}return Object(a.a)(r,[{key:"onInstall",value:function(e){var t=this;Object(s.a)(Object(l.a)(r.prototype),"onInstall",this).call(this,e),this.watchHandles.add([Object(w.a)(this.view.navigation.gamepad,"enabled",(function(e){e?(t.handle.resume(),t.frameTask||(t.frameTask=Object(D.a)({update:function(e){return t.frameUpdate(e.deltaTime)}}))):(t.handle.pause(),t.frameTask&&(t.frameTask.remove(),t.frameTask=null))}))])}},{key:"onUninstall",value:function(){this.watchHandles.removeAll(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null),Object(s.a)(Object(l.a)(r.prototype),"onUninstall",this).call(this)}},{key:"handleEvent",value:function(e){var t=this.view.navigation.gamepad.device;t&&e.data.device!==t||this.currentDevice&&this.currentDevice!==e.data.device||("end"===e.data.action?(this.currentDevice=null,function(e){e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0}(this.transformation)):(this.currentDevice=e.data.device,function(e,t,r){var n=r,i=e.state,a=e.device,o="forward-down"===t.tiltDirection?1:-1;"standard"===a.deviceType?(n.translation[0]=Dl(i.axes[0]),n.translation[1]=Dl(i.axes[1]),n.translation[2]=Dl(i.buttons[7])-Dl(i.buttons[6]),n.heading=Dl(i.axes[2]),n.tilt=Dl(i.axes[3])):"spacemouse"===a.deviceType&&(n.translation[0]=1.2*Dl(i.axes[0]),n.translation[1]=1.2*Dl(i.axes[1]),n.translation[2]=2*-Dl(i.axes[2]),n.heading=1.2*Dl(i.axes[5]),n.tilt=1.2*Dl(i.axes[3])),n.tilt*=o,Object(Cl.b)(n.translation,n.translation,1)}(e.data,this.view.navigation.gamepad,this.transformation)))}},{key:"frameUpdate",value:function(e){var t=this.transformation;if(!function(e){return 0===e.translation[0]&&0===e.translation[1]&&0===e.translation[2]&&0===e.heading&&0===e.tilt&&0===e.zoom}(t)){var r=this.view.viewpoint.clone(),n=this.view.navigation.gamepad.velocityFactor,i=Bl*n*e;Object(pu.w)(r,r,[t.translation[0]*i,-t.translation[1]*i]);var a=1+t.translation[2]*Vl*e,o=this.view.constraints.rotationEnabled?-t.heading*Nl*e:0,s=this.view.size,c=[s[0]/2,s[1]];Object(pu.t)(r,r,a,o,c,s);var u=this.view.constraints.constrain(r,this.view.viewpoint);this.view.viewpoint=u}}}]),r}(Zs.a),Nl=.06,Bl=.7,Vl=6e-4;function Ul(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var zl=function(e){Object(c.a)(r,e);var t=Ul(r);function r(e,n,a){var o,s;return Object(i.a)(this,r),(s=t.call(this,!0)).view=e,s.keys=n,s._pressed=!1,s._keyMap=(o={},Object(S.a)(o,n.left,"left"),Object(S.a)(o,n.right,"right"),Object(S.a)(o,n.up,"up"),Object(S.a)(o,n.down,"down"),o),s.registerIncoming("key-down",a,(function(e){return s._handleKeyDown(e)})),s.registerIncoming("key-up",a,(function(e){return s._handleKeyUp(e)})),s.registerIncoming("blur",a,(function(){return s._handleBlur()})),s}return Object(a.a)(r,[{key:"_handleKeyDown",value:function(e){e.data.repeat||this._handleKey(e,!0)}},{key:"_handleKeyUp",value:function(e){this._handleKey(e,!1)}},{key:"_handleBlur",value:function(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}},{key:"_handleKey",value:function(e,t){var r=this._keyMap[e.data.key];if(this._pressed=null!=r,this._pressed){if(t)switch(this.view.mapViewNavigation.begin(),r){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}}]),r}(Zs.a);function ql(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Hl=function(e){Object(c.a)(r,e);var t=ql(r);function r(e,n,a){var o,s;return Object(i.a)(this,r),(s=t.call(this,!0)).view=e,s.keys=n,s._pressed=!1,s._keyToDirection=(o={},Object(S.a)(o,n.clockwiseOption1,"clockwise"),Object(S.a)(o,n.clockwiseOption2,"clockwise"),Object(S.a)(o,n.counterClockwiseOption1,"counterClockwise"),Object(S.a)(o,n.counterClockwiseOption2,"counterClockwise"),Object(S.a)(o,n.resetOption1,"reset"),Object(S.a)(o,n.resetOption2,"reset"),o),s.registerIncoming("key-down",a,(function(e){return s._handleKeyDown(e)})),s.registerIncoming("key-up",a,(function(e){return s._handleKeyUp(e)})),s.registerIncoming("blur",a,(function(){return s._handleBlur()})),s}return Object(a.a)(r,[{key:"_handleKeyDown",value:function(e){e.data.repeat||this._handleKey(e,!0)}},{key:"_handleKeyUp",value:function(e){this._handleKey(e,!1)}},{key:"_handleBlur",value:function(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}},{key:"_handleKey",value:function(e,t){var r=e.modifiers;if(!(r.size>0&&!r.has("Shift")||!this.view.constraints.rotationEnabled)){var n=this._keyToDirection[e.data.key];if(this._pressed=null!=n,this._pressed){if(t)switch(this.view.mapViewNavigation.begin(),n){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}}}]),r}(Zs.a);function Gl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Wl=function(e){Object(c.a)(r,e);var t=Gl(r);function r(e,n,a){var o;return Object(i.a)(this,r),(o=t.call(this,!0)).view=e,o.keys=n,o._keysToZoomAction={},o.registerIncoming("key-down",a,(function(e){return o._handleKeyDown(e)})),n.zoomIn.forEach((function(e){return o._keysToZoomAction[e]=0})),n.zoomOut.forEach((function(e){return o._keysToZoomAction[e]=1})),o}return Object(a.a)(r,[{key:"_handleKeyDown",value:function(e){this._handleKey(e)}},{key:"_handleKey",value:function(e){var t=e.modifiers;if(!(t.size>0)||t.has("Shift")){var r=e.data.key;if(r in this._keysToZoomAction){var n=this._keysToZoomAction[r],i=this.view.mapViewNavigation,a=null;switch(n){case 0:a=i.zoomIn();break;case 1:a=i.zoomOut();break;default:return}i.begin(),a.then((function(){return i.end()})),e.stopPropagation()}}}}]),r}(Zs.a);function Jl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var $l=function(e){Object(c.a)(r,e);var t=Jl(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,!0)).view=e,a._canZoom=!0,a.registerIncoming("mouse-wheel",n,(function(e){return a._handleMouseWheel(e)})),a}return Object(a.a)(r,[{key:"_handleMouseWheel",value:function(e){var t=this;if(this.view.navigation.mouseWheelZoomEnabled&&(e.preventDefault(),e.stopPropagation(),this._canZoom)){var r=this.view.mapViewNavigation,n=e.data,i=n.x,a=n.y,o=n.deltaY,s=1/Math.pow(.6,1/60*o),c=r.zoom(s,[i,a]);c&&(this._canZoom=!1,c.catch((function(){})).then((function(){t._canZoom=!0,r.end()})))}}}]),r}(Zs.a);function Zl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Ql=function(e){Object(c.a)(r,e);var t=Zl(r);function r(e){var n;Object(i.a)(this,r),(n=t.call(this,!0)).view=e,n.registerIncoming("drag",(function(e){return n._handleDrag(e)})),n.registerIncoming("pointer-down",(function(){return n.stopMomentumNavigation()}));var a=n.view.mapViewNavigation;return n.dragEventSeparator=new Rl({start:function(e,t){a.pinch.begin(n.view,t.data),t.stopPropagation()},update:function(e,t){a.pinch.update(n.view,t.data),t.stopPropagation()},end:function(e,t){a.pinch.end(n.view),t.stopPropagation()},condition:function(e){return e>=2}}),n}return Object(a.a)(r,[{key:"_handleDrag",value:function(e){this.dragEventSeparator.handle(e)}},{key:"stopMomentumNavigation",value:function(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}]),r}(Zs.a),Xl=r("7WMK");function Kl(e){var t=e.native;return t?{buttons:t.buttons.map((function(e){return e.pressed?e.value?e.value:1:0})),axes:t.axes.map((function(t){return function(e,t){var r=Math.abs(e);return r<t?0:Object(J.r)(e)*(r-t)/(1-t)}(t,e.axisThreshold)}))}:{buttons:[],axes:[]}}var Yl=function(){function e(t,r){var n=this;Object(i.a)(this,e),this.element=t,this.input=r,this._hasEventListeners=!1,this.onConnectGamepad=function(e){n.connectGamepad(e.gamepad)},this.onDisconnectGamepad=function(e){var t=e.gamepad,r=t.index,i=n.inputDevices[r];i&&(n.emitGamepadEvent(t,Kl(i),!1),n.inputDevices.splice(r,1),n.latestUpdate.splice(r,1),n.input.gamepad.devices.remove(i),n.ensurePollingState())},this.frameTask=null,this.latestUpdate=new Array,this.inputDevices=new Array,this.callback=null;var a="getGamepads"in window.navigator,o=window.isSecureContext;this.supported=a&&o,this.supported&&(this.forEachGamepad(this.connectGamepad),window.addEventListener("gamepadconnected",this.onConnectGamepad),window.addEventListener("gamepaddisconnected",this.onDisconnectGamepad),this.ensurePollingState())}return Object(a.a)(e,[{key:"destroy",value:function(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this.onConnectGamepad),window.removeEventListener("gamepaddisconnected",this.onDisconnectGamepad))}},{key:"hasEventListeners",set:function(e){this._hasEventListeners!==e&&(this._hasEventListeners=e,this.ensurePollingState())}},{key:"eventsEnabled",get:function(){return this.supported&&this.inputDevices.length>0&&this._hasEventListeners}},{key:"onEvent",set:function(e){this.callback=e}},{key:"connectGamepad",value:function(e){var t=new Ic(e);"unknown"!==t.deviceType&&(this.inputDevices[e.index]=t,this.input.gamepad.devices.add(t)),this.ensurePollingState()}},{key:"ensurePollingState",value:function(){this.eventsEnabled?this.startPolling():this.stopPolling()}},{key:"startPolling",value:function(){var e=this;null==this.frameTask&&(this.frameTask=Object(D.a)({update:function(){return e.readGamepadState()}}))}},{key:"stopPolling",value:function(){null!=this.frameTask&&(this.frameTask.remove(),this.frameTask=null,this.latestUpdate=new Array)}},{key:"readGamepadState",value:function(){var e=this,t=document.hasFocus(),r=this.element.contains(document.activeElement),n="document"===this.input.gamepad.enabledFocusMode&&!t||"view"===this.input.gamepad.enabledFocusMode&&!r;this.forEachGamepad((function(t){var r=e.inputDevices[t.index];if(r){var i=e.latestUpdate[t.index],a=Kl(r),o=n||function(e){for(var t=0;t<e.axes.length;t++)if(0!==e.axes[t])return!1;for(var r=0;r<e.buttons.length;r++)if(0!==e.buttons[r])return!1;return!0}(a);if(i){if(i.timestamp===t.timestamp)return;if(!i.active&&o)return;if(function(e,t){if(e.axes.length!==t.axes.length)return!1;if(e.buttons.length!==t.buttons.length)return!1;for(var r=0;r<e.axes.length;r++)if(e.axes[r]!==t.axes[r])return!1;for(var n=0;n<e.buttons.length;n++)if(e.buttons[n]!==t.buttons[n])return!1;return!0}(i.state,a))return}e.emitGamepadEvent(t,a,!o)}}))}},{key:"forEachGamepad",value:function(e){for(var t=window.navigator.getGamepads(),r=0;r<t.length;r++){var n=t[r];this.validate(n)&&e(n)}}},{key:"emitGamepadEvent",value:function(e,t,r){var n=this.latestUpdate[e.index],i=n&&n.active;if(i||r){var a=!i&&r?"start":i&&r?"update":"end";this.latestUpdate[e.index]={timestamp:e.timestamp,state:t,active:r},this.callback&&this.callback({device:this.inputDevices[e.index],state:t,action:a})}}},{key:"validate",value:function(e){if(!e)return!1;if(!e.connected)return!1;for(var t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}}]),e}(),ef=Object(g.a)("trident"),tf=Object(g.a)("edge"),rf=Object(g.a)("chrome"),nf=Object(g.a)("ff"),af=Object(g.a)("safari"),of="esri-view-surface--touch-none",sf="esri-view-surface--touch-pan",cf=function(){function e(t,r){var n=this;Object(i.a)(this,e),this.input=r,this._active={},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new Yl(t,this.input),this._gamepadSource.onEvent=function(e){return n._callback("gamepad",e)}}return Object(a.a)(e,[{key:"destroy",value:function(){var e=this;this._callback=null,this.activeEvents=null,this._activePointerCaptures.forEach((function(t){e._releasePointerCaptureSafe(t)})),this._gamepadSource&&(this._gamepadSource.destroy(),this._gamepadSource=null),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}},{key:"browserTouchPanningEnabled",get:function(){return this._browserTouchPanningEnabled},set:function(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling()}},{key:"onEventReceived",set:function(e){this._callback=e}},{key:"activeEvents",set:function(e){var t=this;for(var r in this._active)if(!e||!e.has(r)){var n=this._active[r];this._element.removeEventListener(uf[r],n),delete this._active[r]}e&&e.forEach((function(e){if(!t._active[e]&&uf[e]){var r=(t._eventHandlers[e]||t._handleDefault).bind(t,e);t._element.addEventListener(uf[e],r),t._active[e]=r}})),this._gamepadSource.hasEventListeners=e&&e.has("gamepad")}},{key:"setPointerCapture",value:function(e,t){t?(this._element.setPointerCapture(e.pointerId),this._activePointerCaptures.add(e.pointerId)):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId))}},{key:"_updateTouchAction",value:function(){this._element.classList.remove(this._browserTouchPanningEnabled?of:sf),this._element.classList.add(this._browserTouchPanningEnabled?sf:of)}},{key:"_updateTouchEventHandling",value:function(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}},{key:"_removeTouchAction",value:function(){this._element.classList.remove(of),this._element.classList.remove(sf),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}},{key:"_releasePointerCaptureSafe",value:function(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return;this._element.releasePointerCapture(e)}catch(t){}}},{key:"_updateNormalizedPointerLikeEvent",value:function(t,r){var n=cc(this._element,t);return e.test.disableSubpixelCoordinates&&(n.x=Math.round(n.x),n.y=Math.round(n.y)),r.x=n.x,r.y=n.y,r}},{key:"_handleKey",value:function(e,t){var r=Object(Xl.a)(t);r&&"key-up"===e&&this._keyDownState.delete(r);var n={native:t,key:r,repeat:r&&this._keyDownState.has(r)};r&&"key-down"===e&&this._keyDownState.add(n.key),this._callback(e,n)}},{key:"_handlePointer",value:function(e,t){var r=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});this._callback(e,r)}},{key:"_handlePointerPreventDefault",value:function(e,t){var r=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});t.preventDefault(),this._callback(e,r)}},{key:"_handleMouseWheel",value:function(e,t){var r=t.deltaY;switch(t.deltaMode){case 0:(ef||tf)&&(r=r/document.documentElement.clientHeight*600);break;case 1:r*=30;break;case 2:r*=900}ef||tf?r*=.7:rf||af?r*=.6:nf&&(r*=1.375);var n=Math.abs(r);if(n>100){r=r/n*200/(1+Math.exp(-.02*(n-100)))}var i=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,deltaY:r});this._callback(e,i)}},{key:"_handlePointerCaptureLost",value:function(e,t){this._activePointerCaptures.delete(t.pointerId),this._handleDefault(e,t)}},{key:"_handleDefault",value:function(e,t){var r={native:t};t.preventDefault(),this._callback(e,r)}},{key:"_preventAltKeyDefault",value:function(e){"Alt"===e.key&&e.preventDefault()}},{key:"_preventMultiTouchPanning",value:function(e){e.touches.length>1&&e.preventDefault()}}]),e}();cf.test={disableSubpixelCoordinates:!1};var uf={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};function lf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var ff=function(e){Object(c.a)(r,e);var t=lf(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this,!0)).registerIncoming("context-menu",(function(e){e.data.native.preventDefault()})),e}return r}(Zs.a),pf=r("9NdK");function df(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function hf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var bf=250,yf=10,vf=350,mf=35,gf=function(e){Object(c.a)(r,e);var t=hf(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bf,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yf,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vf,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:mf,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pf.a;return Object(i.a)(this,r),(e=t.call(this,!1)).maximumDoubleClickDelay=n,e.maximumDoubleClickDistance=a,e.maximumDoubleTouchDelay=s,e.maximumDoubleTouchDistance=c,e._clock=u,e._pointerState=new Map,e._click=e.registerOutgoing("click"),e._doubleClick=e.registerOutgoing("double-click"),e.registerIncoming("immediate-click",e._handleImmediateClick.bind(Object(o.a)(e))),e.registerIncoming("pointer-drag",e._handlePointerDrag.bind(Object(o.a)(e))),e.registerIncoming("drag",e._handleDrag.bind(Object(o.a)(e))),e}return Object(a.a)(r,[{key:"onUninstall",value:function(){this._pointerState.forEach((function(e){null!=e.doubleClickTimeout&&(e.doubleClickTimeout.remove(),e.doubleClickTimeout=null)}))}},{key:"hasPendingInputs",get:function(){return Cs(this._pointerState,(function(e){return null!=e.doubleClickTimeout}))}},{key:"_pointerId",value:function(e){var t=e.native;return"mouse"===t.pointerType?"".concat(t.pointerId,":").concat(t.button):"".concat(t.pointerType)}},{key:"_handleImmediateClick",value:function(e){var t=e.data,r=this._pointerId(t),n=this._pointerState.get(r);if(n){var i="touch"===t.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;df(n.event.data,t)>i?(this._clearDoubleClickTimeout(r,!0),this._startClick(e)):(this._clearDoubleClickTimeout(r,!1),this._doubleClick.emit(n.event.data,void 0,n.event.modifiers))}else this._startClick(e)}},{key:"_startClick",value:function(e){var t=this,r=this._pointerId(e.data),n="touch"===e.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;this._pointerState.set(r,{event:e,doubleClickTimeout:this._clock.setTimeout((function(){return t._doubleClickTimeoutExceeded(r)}),n)}),this.refreshHasPendingInputs()}},{key:"_handlePointerDrag",value:function(e){var t=this._pointerId(e.data.currentEvent);this._clearDoubleClickTimeout(t,!0)}},{key:"_handleDrag",value:function(e){var t=this._pointerId(e.data.pointer);this._clearDoubleClickTimeout(t,!0)}},{key:"_clearDoubleClickTimeout",value:function(e,t){var r=this._pointerState.get(e);r&&(r.doubleClickTimeout.remove(),r.doubleClickTimeout=null,t&&this._doubleClickTimeoutExceeded(e),this._pointerState.delete(e),this.refreshHasPendingInputs())}},{key:"_doubleClickTimeoutExceeded",value:function(e){var t=this._pointerState.get(e);this._click.emit(t.event.data,void 0,t.event.modifiers),t.doubleClickTimeout=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}}]),r}(Zs.a);function Of(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var jf=function(e){Object(c.a)(r,e);var t=Of(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bf,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yf,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vf,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:mf,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pf.a;return Object(i.a)(this,r),(e=t.call(this,!1)).maximumDoubleClickDelay=n,e.maximumDoubleClickDistance=a,e.maximumDoubleTouchDelay=o,e.maximumDoubleTouchDistance=s,e._clock=c,e._doubleTapDragReady=!1,e._doubleTapDragActive=!1,e._dragStartCenter=Object(bs.a)(0,0),e._pointerState=new Map,e._doubleTapDrag=e.registerOutgoing("double-tap-drag"),e._dragEventSeparator=new Rl({start:function(t,r){return e._dragStart(t,r)},update:function(t,r){return e._dragUpdate(r)},end:function(t,r){return e._dragEnd(r)}}),e.registerIncoming("drag",(function(t){return e._dragEventSeparator.handle(t)})),e.registerIncoming("pointer-down",(function(t){return e._handlePointerDown(t)})),e.registerIncoming("pointer-up",(function(){return e._handlePointerUp()})),e}return Object(a.a)(r,[{key:"onUninstall",value:function(){this._pointerState.forEach((function(e){null!=e.doubleTapTimeout&&(e.doubleTapTimeout.remove(),e.doubleTapTimeout=null)}))}},{key:"hasPendingInputs",get:function(){return Cs(this._pointerState,(function(e){return null!=e.doubleTapTimeout}))}},{key:"_clearPointerDown",value:function(e){var t=this._pointerState.get(e);t&&(t.doubleTapTimeout.remove(),t.doubleTapTimeout=null,this._pointerState.delete(e),this.refreshHasPendingInputs())}},{key:"_createDoubleTapDragData",value:function(e,t,r){return{action:e,delta:t,button:r.button,buttons:r.buttons,pointer:r.pointer,pointers:r.pointers,pointerType:r.pointerType,timestamp:r.timestamp}}},{key:"_dragStart",value:function(e,t){if(this._doubleTapDragReady&&1===e){this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;var r=t.data,n=t.modifiers,i=r.center;this._dragStartCenter=i;var a=this._createDoubleTapDragData("begin",Object(bs.a)(0,0),r);this._doubleTapDrag.emit(a,void 0,n),t.stopPropagation()}}},{key:"_dragUpdate",value:function(e){if(this._doubleTapDragActive){var t=e.data,r=e.modifiers,n=t.center,i=Object(bs.a)(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),a=this._createDoubleTapDragData("update",i,t);this._doubleTapDrag.emit(a,void 0,r),e.stopPropagation()}}},{key:"_dragEnd",value:function(e){if(this._doubleTapDragActive){var t=e.data,r=e.modifiers,n=t.center,i=Object(bs.a)(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),a=this._createDoubleTapDragData("end",i,t);this._doubleTapDrag.emit(a,void 0,r),this._doubleTapDragActive=!1,e.stopPropagation()}}},{key:"_handlePointerDown",value:function(e){var t=e.data,r=this._pointerId(t),n=this._pointerState.get(r),i=t.native.pointerType;if(n){var a="touch"===i?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;this._clearPointerDown(r),df(n.event.data,t)>a?this._storePointerDown(e):this._doubleTapDragReady=!0}else this._storePointerDown(e)}},{key:"_handlePointerUp",value:function(){this._doubleTapDragReady=!1}},{key:"_pointerId",value:function(e){var t=e.native,r=t.pointerId,n=t.button,i=t.pointerType;return"mouse"===i?"".concat(r,":").concat(n):"".concat(i)}},{key:"_storePointerDown",value:function(e){var t=this,r=e.data,n=r.native.pointerType,i=this._pointerId(r),a="touch"===n?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay,o=this._clock.setTimeout((function(){return t._clearPointerDown(i)}),a);this._pointerState.set(i,{event:e,doubleTapTimeout:o}),this.refreshHasPendingInputs()}}]),r}(Zs.a),wf=r("tcyg");function _f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var kf,xf=function(e){Object(c.a)(r,e);var t=_f(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,!1)).navigationTouch=e,n.startStateModifiers=new Set,n.activePointerMap=new Map,n.isDragging=!1,n.isCurrentDragSuppressed=!1,n.drag=n.registerOutgoing("drag"),n.registerIncoming("pointer-drag",n.handlePointerDrag.bind(Object(o.a)(n))),n.registerIncoming("pointer-up",n.handlePointerUpAndPointerLost.bind(Object(o.a)(n))),n.registerIncoming("pointer-capture-lost",n.handlePointerUpAndPointerLost.bind(Object(o.a)(n))),n.registerIncoming("pointer-cancel",n.handlePointerUpAndPointerLost.bind(Object(o.a)(n))),n}return Object(a.a)(r,[{key:"createPayload",value:function(e,t,r,n){return{action:e,pointerType:this.pointerType,button:this.mouseButton,buttons:t.buttons,timestamp:n,pointers:If(this.activePointerMap),pointer:t,angle:r.angle,radius:r.radius,center:r.center}}},{key:"addPointer",value:function(e){var t=e.native.pointerId,r=Pf(this.activePointerMap).angle,n={event:e,initialAngle:0,lastAngle:0};this.activePointerMap.set(t,n);var i=Rf(n,Sf(this.activePointerMap));n.initialAngle=i,n.lastAngle=i,this.updatePointerAngles(r)}},{key:"updatePointer",value:function(e){if(!e||null!=e.x||null!=e.y){var t=e.native.pointerId,r=this.activePointerMap.get(t);r?r.event=e:this.addPointer(e)}}},{key:"removePointer",value:function(e){var t=Pf(this.activePointerMap).angle;this.activePointerMap.delete(e),this.updatePointerAngles(t)}},{key:"updatePointerAngles",value:function(e){var t=Pf(this.activePointerMap);this.activePointerMap.forEach((function(r){r.initialAngle=Rf(r,t)-e,r.lastAngle=Rf(r,t)-e}))}},{key:"emitEvent",value:function(e,t,r){var n=Pf(this.activePointerMap);this.drag.emit(this.createPayload(e,t,n,r),void 0,this.startStateModifiers)}},{key:"handlePointerUpAndPointerLost",value:function(e){var t=e.data.native.pointerId,r=Object(wf.a)(e.timestamp);this.activePointerMap.get(t)&&(1===this.activePointerMap.size?(this.updatePointer(e.data),!this.isCurrentDragSuppressed&&this.emitEvent("end",e.data,r),this.isDragging=!1,this.isCurrentDragSuppressed=!1,this.removePointer(t)):(this.removePointer(t),this.emitEvent("removed",e.data,Object(wf.a)(e.timestamp))))}},{key:"handlePointerDrag",value:function(e){var t=e.data,r=t.currentEvent,n=Object(wf.a)(e.timestamp);switch(t.action){case"start":case"update":this.isDragging?this.activePointerMap.has(r.native.pointerId)?(this.updatePointer(r),!this.isCurrentDragSuppressed&&this.emitEvent("update",r,n)):(this.addPointer(r),this.emitEvent("added",r,n),this.isCurrentDragSuppressed=this.isSuppressed):(this.updatePointer(r),this.pointerType=e.data.startEvent.pointerType,this.mouseButton=e.data.startEvent.button,this.startStateModifiers=e.modifiers,this.isDragging=!0,this.isCurrentDragSuppressed=this.isSuppressed,!this.isCurrentDragSuppressed&&this.emitEvent("start",r,n))}}},{key:"isSuppressed",get:function(){return this.navigationTouch&&!this.navigationTouch.browserTouchPanEnabled&&"touch"===this.pointerType&&1===this.activePointerMap.size}}]),r}(Zs.a);function Sf(e){var t=[];return e.forEach((function(e){t.push(Object(bs.a)(e.event.x,e.event.y))})),function(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:Object(bs.a)()},0===e.length)return t;if(1===e.length)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(2===e.length){var r=Object(n.a)(e,2),i=r[0],a=r[1],o=a.x-i.x,s=a.y-i.y;return t.radius=Math.sqrt(o*o+s*s)/2,t.center.x=(i.x+a.x)/2,t.center.y=(i.y+a.y)/2,t}for(var c=0,u=0,l=0;l<e.length;l++)c+=e[l].x,u+=e[l].y;c/=e.length,u/=e.length;for(var f=e.map((function(e){return e.x-c})),p=e.map((function(e){return e.y-u})),d=0,h=0,b=0,y=0,v=0,m=0,g=0,O=0;O<f.length;O++){var j=f[O],w=p[O],_=j*j,k=w*w;d+=_,h+=k,b+=j*w,y+=_*j,v+=k*w,m+=j*k,g+=w*_}var x=.5*(y+m),S=.5*(v+g),P=d*h-b*b,I=(x*h-S*b)/P,R=(d*S-b*x)/P,M=Object(bs.a)(I+c,R+u);return{radius:Math.sqrt(I*I+R*R+(d+h)/e.length),center:M}}(t)}function Pf(e){var t=Sf(e),r=0;return e.forEach((function(e){for(var n=Rf(e,t),i=n-e.lastAngle;i>Math.PI;)i-=2*Math.PI;for(;i<-Math.PI;)i+=2*Math.PI;n=e.lastAngle+i,e.lastAngle=n;var a=n-e.initialAngle;r+=a})),{angle:r/=e.size||1,radius:t.radius,center:t.center}}function If(e){var t=new Map;return e.forEach((function(e,r){return t.set(r,e.event)})),t}function Rf(e,t){var r=e.event,n=r.x-t.center.x,i=r.y-t.center.y;return Math.atan2(i,n)}function Mf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}!function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"}(kf||(kf={}));var Ef=function(e){Object(c.a)(r,e);var t=Mf(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bf,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yf,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vf,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:mf,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pf.a;return Object(i.a)(this,r),(e=t.call(this,!1)).maximumDoubleClickDelay=n,e.maximumDoubleClickDistance=a,e.maximumDoubleTouchDelay=s,e.maximumDoubleTouchDistance=c,e._clock=u,e._pointerState=new Map,e._immediateDoubleClick=e.registerOutgoing("immediate-double-click"),e.registerIncoming("pointer-down",e._handlePointerDown.bind(Object(o.a)(e))),e.registerIncoming("pointer-up",(function(t){e._handlePointerLoss(t,"pointer-up")})),e.registerIncoming("pointer-capture-lost",(function(t){e._handlePointerLoss(t,"pointer-capture-lost")})),e.registerIncoming("pointer-cancel",(function(t){e._handlePointerLoss(t,"pointer-cancel")})),e}return Object(a.a)(r,[{key:"onUninstall",value:function(){this._pointerState.forEach((function(e){e.immediateDoubleClick&&e.immediateDoubleClick.timeoutHandle.remove()})),Object(s.a)(Object(l.a)(r.prototype),"onUninstall",this).call(this)}},{key:"_handlePointerDown",value:function(e){var t=e.data,r=this._pointerId(t);if(!this._pointerState.has(r)){var n={downButton:t.native.button,immediateDoubleClick:null};this._pointerState.set(r,n),this.startCapturingPointer(t.native)}}},{key:"_handlePointerLoss",value:function(e,t){var r=e.data,n=this._pointerId(r),i=this._pointerState.get(n);if(i&&"pointer-up"===t&&i.downButton===r.native.button){var a=i.immediateDoubleClick;if(a){a.timeoutHandle.remove();var o="touch"===e.data.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;df(a,e.data)>o?this._startImmediateDoubleClick(e,i):(this._immediateDoubleClick.emit(e.data,void 0,a.modifiers),this._removeState(r))}else this._startImmediateDoubleClick(e,i)}}},{key:"_startImmediateDoubleClick",value:function(e,t){var r=this,n="touch"===e.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;t.immediateDoubleClick={x:e.data.x,y:e.data.y,modifiers:e.modifiers,timeoutHandle:this._clock.setTimeout((function(){return r._removeState(e.data)}),n)}}},{key:"_pointerId",value:function(e){var t=e.native;return"mouse"===t.pointerType?"".concat(t.pointerId,":").concat(t.button):"".concat(t.pointerType)}},{key:"_removeState",value:function(e){var t=this._pointerId(e);this._pointerState.delete(t),this.stopCapturingPointer(e.native),this.refreshHasPendingInputs()}}]),r}(Zs.a);function Tf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Af=300,Cf=1.5,Df=6,Lf=6,Ff=500,Nf=function(e){Object(c.a)(r,e);var t=Tf(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Af,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cf,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Df,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Lf,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ff,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:pf.a;return Object(i.a)(this,r),(e=t.call(this,!1)).maximumClickDelay=n,e.movementUntilMouseDrag=a,e.movementUntilPenDrag=s,e.movementUntilTouchDrag=c,e.holdDelay=u,e._clock=l,e._pointerState=new Map,e._pointerDrag=e.registerOutgoing("pointer-drag"),e._immediateClick=e.registerOutgoing("immediate-click"),e._pointerHold=e.registerOutgoing("hold"),e.registerIncoming("pointer-down",e._handlePointerDown.bind(Object(o.a)(e))),e.registerIncoming("pointer-up",(function(t){e._handlePointerLoss(t,"pointer-up")})),e.registerIncoming("pointer-capture-lost",(function(t){e._handlePointerLoss(t,"pointer-capture-lost")})),e.registerIncoming("pointer-cancel",(function(t){e._handlePointerLoss(t,"pointer-cancel")})),e._moveHandle=e.registerIncoming("pointer-move",e._handlePointerMove.bind(Object(o.a)(e))),e._moveHandle.pause(),e}return Object(a.a)(r,[{key:"onUninstall",value:function(){this._pointerState.forEach((function(e){null!=e.holdTimeout&&(e.holdTimeout.remove(),e.holdTimeout=null)})),Object(s.a)(Object(l.a)(r.prototype),"onUninstall",this).call(this)}},{key:"_handlePointerDown",value:function(e){var t=this,r=e.data,n=r.native.pointerId,i=null;0===this._pointerState.size&&(i=this._clock.setTimeout((function(){var r=t._pointerState.get(n);if(r){if(!r.isDragging){var i=r.previousEvent;t._pointerHold.emit(i,void 0,e.modifiers),r.holdEmitted=!0}r.holdTimeout=null}}),this.holdDelay));var a={startEvent:r,previousEvent:r,startTimestamp:e.timestamp,isDragging:!1,downButton:r.native.button,holdTimeout:i,modifiers:new Set};this._pointerState.set(n,a),this.startCapturingPointer(r.native),this._moveHandle.resume(),this._pointerState.size>1&&this.startDragging(e)}},{key:"_createPointerDragData",value:function(e,t,r){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:r}}},{key:"_handlePointerMove",value:function(e){var t=e.data,r=t.native.pointerId,n=this._pointerState.get(r);n&&(n.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",n,t),void 0,n.modifiers):function(e,t){var r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)}(t,n.startEvent)>this._getDragThreshold(t.native.pointerType)&&this.startDragging(e),n.previousEvent=t)}},{key:"_getDragThreshold",value:function(e){switch(e){case"touch":return this.movementUntilTouchDrag;case"pen":return this.movementUntilPenDrag;case"mouse":default:return this.movementUntilMouseDrag}}},{key:"startDragging",value:function(e){var t=this,r=e.data,n=r.native.pointerId;this._pointerState.forEach((function(i){null!=i.holdTimeout&&(i.holdTimeout.remove(),i.holdTimeout=null),i.isDragging||(i.modifiers=e.modifiers,i.isDragging=!0,n===i.startEvent.native.pointerId?t._pointerDrag.emit(t._createPointerDragData("start",i,r)):t._pointerDrag.emit(t._createPointerDragData("start",i,i.previousEvent),e.timestamp))}))}},{key:"_handlePointerLoss",value:function(e,t){var r=e.data,n=r.native.pointerId,i=this._pointerState.get(n);i&&(null!=i.holdTimeout&&(i.holdTimeout.remove(),i.holdTimeout=null),i.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",i,"pointer-up"===t?r:i.previousEvent),void 0,i.modifiers):"pointer-up"===t&&i.downButton===r.native.button&&e.timestamp-i.startTimestamp<=this.maximumClickDelay&&!i.holdEmitted&&this._immediateClick.emit(r),this._pointerState.delete(n),this.stopCapturingPointer(r.native),0===this._pointerState.size&&this._moveHandle.pause())}}]),r}(Zs.a);function Bf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Vf="Ctrl",Uf={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zf={zoomIn:["=","+"],zoomOut:["-","_"]},qf={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"},Hf=function(e){Object(c.a)(r,e);var t=Bf(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments))._handles=new I.a,e}return Object(a.a)(r,[{key:"initialize",value:function(){var e=this;this._handles.add([Object(w.h)(this.view,"ready",(function(){return e._disconnect()})),Object(w.e)(this.view,"ready",(function(){return e._connect()}))])}},{key:"destroy",value:function(){this._handles&&(this._handles.removeAll(),this._handles=null),this._disconnect()}},{key:"_disconnect",value:function(){this._inputManager&&(this.view.viewEvents.disconnect(),this._inputManager.destroy(),this._inputManager=null,this._source.destroy(),this._source=null)}},{key:"_connect",value:function(){var e=this,t=this.view.surface,r=new cf(t,this.view.input),n=[new Ef,new Nf,new gf,new xf(this.view.navigation),new jf],i=new ea.a({eventSource:r,recognizers:n});i.installHandlers("prevent-context-menu",[new ff],ea.b.INTERNAL),i.installHandlers("navigation",[new Ql(this.view),new Fl(this.view),new $l(this.view),new Sl(this.view),new Sl(this.view,[Vf]),new El(this.view,"primary"),new zl(this.view,Uf),new Wl(this.view,zf),new Hl(this.view,qf),new Al(this.view,"secondary"),new Il(this.view,"touch")],ea.b.INTERNAL),this.view.viewEvents.connect(i),this._source=r,this._inputManager=i,Object(w.a)(this.view.navigation,"browserTouchPanEnabled",(function(t){e._source.browserTouchPanningEnabled=!t}))}},{key:"test",get:function(){return{inputManager:this._inputManager}}}]),r}(L.a);Object(h.a)([Object(k.b)()],Hf.prototype,"view",void 0);var Gf=Hf=Object(h.a)([Object(x.a)("esri.views.2d.input.MapViewInputManager")],Hf),Wf=r("WYis");function Jf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var $f=0,Zf=function(e){Object(c.a)(r,e);var t=Jf(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).color=new Wf.a([0,255,255]),e.haloOpacity=1,e.fillOpacity=.25,e}return Object(a.a)(r,[{key:"version",get:function(){return $f++}}]),r}(L.a);Object(h.a)([Object(k.b)({readOnly:!0})],Zf.prototype,"version",null),Object(h.a)([Object(k.b)({type:Wf.a})],Zf.prototype,"color",void 0),Object(h.a)([Object(k.b)({type:Wf.a})],Zf.prototype,"haloColor",void 0),Object(h.a)([Object(k.b)()],Zf.prototype,"haloOpacity",void 0),Object(h.a)([Object(k.b)()],Zf.prototype,"fillOpacity",void 0);var Qf=Zf=Object(h.a)([Object(x.a)("esri.views.2d.support.HighlightOptions")],Zf),Xf=r("mIFe"),Kf=r("9PpZ");function Yf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ep(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yf(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tp={checkMajorWebPerformanceCaveat:!0};function rp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var np="esri-component",ip=function(e){Object(c.a)(r,e);var t=rp(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).widget=null,e}return Object(a.a)(r,[{key:"destroy",value:function(){this.widget&&this.widget.destroy(),this.node=null}},{key:"id",get:function(){return this.get("widget.id")||this.get("node.id")}},{key:"node",set:function(e){var t=this._get("node");e!==t&&(e&&e.classList.add(np),t&&t.classList.remove(np),this._set("node",e))}},{key:"castNode",value:function(e){return e?"string"==typeof e||function(e){return e&&"nodeType"in e}(e)?(this._set("widget",null),Object(C.a)(e)):(function(e){return e&&"function"==typeof e.render}(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}}]),r}(L.a);Object(h.a)([Object(k.b)({dependsOn:[]})],ip.prototype,"id",null),Object(h.a)([Object(k.b)()],ip.prototype,"node",null),Object(h.a)([Object(G.a)("node")],ip.prototype,"castNode",null),Object(h.a)([Object(k.b)({readOnly:!0})],ip.prototype,"widget",void 0);var ap=ip=Object(h.a)([Object(x.a)("esri.views.ui.Component")],ip);function op(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?op(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):op(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cp(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return up(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return up(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function up(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var fp={left:0,top:0,bottom:0,right:0},pp={bottom:30,top:15,right:15,left:15},dp="esri-ui",hp="esri-ui-corner",bp="esri-ui-inner-container",yp="esri-ui-manual-container",vp="esri-ui-corner-container",mp="esri-ui-top-left",gp="esri-ui-top-right",Op="esri-ui-bottom-left",jp="esri-ui-bottom-right";function wp(e){return"object"!=typeof e||e instanceof ap||"declaredClass"in e||!("component"in e||"index"in e||"position"in e)?null:e}function _p(e,t){var r=t.top,n=t.bottom,i=t.left,a=t.right;e.style.top=r,e.style.bottom=n,e.style.left=i,e.style.right=a}var kp=function(e){Object(c.a)(r,e);var t=lp(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e))._cornerNameToContainerLookup={},n._positionNameToContainerLookup={},n._components=new Array,n._componentToKey=new Map,n._handles=new I.a,n.view=null,n._initContainers(),n}return Object(a.a)(r,[{key:"initialize",value:function(){this._handles.add([Object(w.a)(this,"view.padding, container",this._applyViewPadding.bind(this)),Object(w.a)(this,"padding",this._applyUIPadding.bind(this))])}},{key:"destroy",value:function(){this.container=null;var e,t=cp(this._components);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(r){t.e(r)}finally{t.f()}this._components.length=0,this._handles.destroy(),this._componentToKey.clear()}},{key:"container",set:function(e){var t=this._get("container");e!==t&&(e&&(e.classList.add(dp),e.classList.add(Object(tt.d)()),this._attachContainers(e)),t&&(t.classList.remove(dp),_p(t,{top:"",bottom:"",left:"",right:""}),Object(C.b)(t)),this._set("container",e))}},{key:"height",get:function(){var e=this.get("view.height")||0;if(0===e)return e;var t=this._getViewPadding(),r=t.top+t.bottom;return Math.max(e-r,0)}},{key:"padding",get:function(){return this._get("padding")},set:function(e){e?this._override("padding",e):this._clearOverride("padding")}},{key:"castPadding",value:function(e){return"number"==typeof e?{bottom:e,top:e,right:e,left:e}:sp(sp({},pp),e)}},{key:"width",get:function(){var e=this.get("view.width")||0;if(0===e)return e;var t=this._getViewPadding(),r=t.left+t.right;return Math.max(e-r,0)}},{key:"add",value:function(e,t){var r,n,i,a,o=this;if(Array.isArray(e))e.forEach((function(e){return o.add(e,t)}));else{var s=wp(e);s&&(i=(r=s).index,t=r.position,e=r.component,a=r.key),t&&"object"==typeof t&&(i=(n=t).index,a=n.key,t=n.position),!e||t&&!this._isValidPosition(t)||this._add(e,t,i,a)}}},{key:"remove",value:function(e,t){var r=this;if(e){if(Array.isArray(e))return e.map((function(e){return r.remove(e,t)}));var n=this._find(e);if(n){var i=this._componentToKey;if(i.has(e)&&i.get(e)!==t)return;var a=this._components.indexOf(n);return n.node.parentNode&&n.node.parentNode.removeChild(n.node),this._componentToKey.delete(e),this._components.splice(a,1)[0]}}}},{key:"empty",value:function(e){var t=this;return Array.isArray(e)?e.map((function(e){return t.empty(e)})).reduce((function(e,t){return e.concat(t)})):"manual"===(e=e||"manual")?Array.prototype.slice.call(this._manualContainer.children).filter((function(e){return!e.classList.contains(hp)})).map((function(e){return t.remove(e)})):this._isValidPosition(e)?Array.prototype.slice.call(this._cornerNameToContainerLookup[e].children).map(this.remove,this):null}},{key:"move",value:function(e,t){var r=this;if(Array.isArray(e)&&e.forEach((function(e){return r.move(e,t)})),e){var n,i=wp(e)||wp(t);if(i&&(n=i.index,t=i.position,e=i.component||e),!t||this._isValidPosition(t)){var a=this.remove(e);a&&this.add(a,{position:t,index:n})}}}},{key:"find",value:function(e){if(!e)return null;var t=this._findById(e);return t&&(t.widget||t.node)}},{key:"getPosition",value:function(e){for(var t in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[t].contains(e))return t;return null}},{key:"_add",value:function(e,t,r,n){e instanceof ap||(e=new ap({node:e})),this._place({component:e,position:t,index:r}),this._components.push(e),n&&this._componentToKey.set(e,n)}},{key:"_find",value:function(e){return e?e instanceof ap?this._findByComponent(e):"string"==typeof e?this._findById(e):this._findByNode(e.domNode||e):null}},{key:"_getViewPadding",value:function(){return this.get("view.padding")||fp}},{key:"_attachContainers",value:function(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}},{key:"_initContainers",value:function(){var e=document.createElement("div");e.classList.add(bp),e.classList.add(vp);var t=document.createElement("div");t.classList.add(bp),t.classList.add(yp);var r=document.createElement("div");r.classList.add(mp),r.classList.add(hp),e.appendChild(r);var n=document.createElement("div");n.classList.add(gp),n.classList.add(hp),e.appendChild(n);var i=document.createElement("div");i.classList.add(Op),i.classList.add(hp),e.appendChild(i);var a=document.createElement("div");a.classList.add(jp),a.classList.add(hp),e.appendChild(a),this._innerContainer=e,this._manualContainer=t;var o=Object(tt.h)();this._cornerNameToContainerLookup={"top-left":r,"top-right":n,"bottom-left":i,"bottom-right":a,"top-leading":o?n:r,"top-trailing":o?r:n,"bottom-leading":o?a:i,"bottom-trailing":o?i:a},this._positionNameToContainerLookup=sp({manual:t},this._cornerNameToContainerLookup)}},{key:"_isValidPosition",value:function(e){return!!this._positionNameToContainerLookup[e]}},{key:"_place",value:function(e){var t=e.component,r=e.position||"manual",n=e.index,i=this._positionNameToContainerLookup[r],a=n>-1;if(function(e){return e&&!e._started&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}(t.widget)&&t.widget.startup(),a){var o=Array.prototype.slice.call(i.children);0!==n?n>=o.length?i.appendChild(t.node):Object(C.c)(t.node,o[n]):i.firstChild?Object(C.c)(t.node,i.firstChild):i.appendChild(t.node)}else i.appendChild(t.node)}},{key:"_applyViewPadding",value:function(){var e=this.container;e&&_p(e,this._toPxPosition(this._getViewPadding()))}},{key:"_applyUIPadding",value:function(){var e=this._innerContainer;e&&_p(e,this._toPxPosition(this.padding))}},{key:"_toPxPosition",value:function(e){return{top:this._toPxUnit(e.top),left:this._toPxUnit(e.left),right:this._toPxUnit(e.right),bottom:this._toPxUnit(e.bottom)}}},{key:"_toPxUnit",value:function(e){return 0===e?"0":e+"px"}},{key:"_findByComponent",value:function(e){var t,r=null;return this._components.some((function(n){return(t=n===e)&&(r=n),t})),r}},{key:"_findById",value:function(e){var t,r=null;return this._components.some((function(n){return(t=n.id===e)&&(r=n),t})),r}},{key:"_findByNode",value:function(e){var t,r=null;return this._components.some((function(n){return(t=n.node===e)&&(r=n),t})),r}}]),r}(Di.a.EventedAccessor);Object(h.a)([Object(k.b)()],kp.prototype,"container",null),Object(h.a)([Object(k.b)()],kp.prototype,"height",null),Object(h.a)([Object(k.b)({value:pp})],kp.prototype,"padding",null),Object(h.a)([Object(G.a)("padding")],kp.prototype,"castPadding",null),Object(h.a)([Object(k.b)()],kp.prototype,"view",void 0),Object(h.a)([Object(k.b)()],kp.prototype,"width",null);var xp=kp=Object(h.a)([Object(x.a)("esri.views.ui.UI")],kp),Sp=r("EKEt");function Pp(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Ip(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ip(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Ip(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}function Mp(e,t){return e&&"copyright"in e&&(!t||"function"==typeof e.originOf&&"user"===e.originOf("copyright"))}function Ep(e,t,r){r&&t&&(e.find((function(e){return e.layerView===t&&e.text===r}))||e.push({text:r,layerView:t}))}function Tp(e){return"bing-maps"===e.type}var Ap=[],Cp=function(e){Object(c.a)(n,e);var t,r=Rp(n);function n(e){var t;return Object(i.a)(this,n),(t=r.call(this,e)).clear=function(){t._fetchedAttributionData.clear(),t._pendingAttributions.clear(),t.handles.remove("suspension"),t.notifyChange("state")},t._pendingAttributions=new Set,t._fetchedAttributionData=new Map,t.items=new y.a,t.view=null,t._allLayerViewsChange=function(e){t.handles.remove("suspension");var r=t.get("view.allLayerViews");r&&t.handles.add(r.map((function(e){return e.watch(["suspended","attributionVisible"],t._updateAttributionItems)})),"suspension"),e&&e.removed&&e.removed.forEach((function(e){t._pendingAttributions.delete(e),t._fetchedAttributionData.delete(e)})),t._updateAttributionItems()},t._updateAttributionItems=function(){var e=t.get("view.allLayerViews");Ap.length=0,e?(e.forEach((function(e){if(!e.suspended&&e.get("layer.attributionVisible")){var r=e.layer;if(Mp(r,"user"))Ep(Ap,e,r.copyright);else if(r.hasAttributionData){if(t._fetchedAttributionData.has(e)){var n=t._fetchedAttributionData.get(e);return void(n?Ep(Ap,e,t._getDynamicAttribution(n,t.view,r)):Mp(r)&&Ep(Ap,e,r.copyright))}t._fetchAttributionData(e)}else{var i=r.get("portalItem.accessInformation");Ep(Ap,e,i||r.copyright)}}})),function(e,t){return e.length!==t.length||e.some((function(e,r){return e.text!==t[r].text}))}(t.items,Ap)&&(t.items.removeAll(),t.items.addMany(Ap)),Ap.length=0,t.notifyChange("state")):t.clear()},t.handles.add([Object(w.b)(Object(o.a)(t),"view.allLayerViews","change",t._allLayerViewsChange,t._allLayerViewsChange,t.clear),Object(w.k)(Object(o.a)(t),"view.stationary",(function(){return t._updateAttributionItems()}))]),t}return Object(a.a)(n,[{key:"destroy",value:function(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}},{key:"state",get:function(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}},{key:"_fetchAttributionData",value:(t=Object(f.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._pendingAttributions.has(t)){e.next=2;break}return e.abrupt("return");case 2:return this._pendingAttributions.add(t),e.next=5,Object(Sp.c)(t.layer.fetchAttributionData());case 5:r=e.sent,this._pendingAttributions.has(t)&&(n=r.ok?this._createContributionIndex(r.value,Tp(t.layer)):null,this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,n)),this._updateAttributionItems();case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_createContributionIndex",value:function(e,t){var r=e.contributors,n={};if(!r)return n;for(var i=0;i<r.length;i++){var a=r[i],o=a.coverageAreas;if(!o)return;var s,c=Pp(o);try{for(c.s();!(s=c.n()).done;)for(var u=s.value,l=u.bbox,f=u.zoomMin-(t&&u.zoomMin?1:0),p=u.zoomMax-(t&&u.zoomMax?1:0),d={xmin:l[1],ymin:l[0],xmax:l[3],ymax:l[2],spatialReference:Ps.a.WGS84},h={extent:Object($i.b)(d),attribution:a.attribution||"",score:null!=u.score?u.score:100,id:i},b=f;b<=p;b++)n[b]=n[b]||[],n[b].push(h)}catch(y){c.e(y)}finally{c.f()}}return n.maxKey=Math.max.apply(null,Object.keys(n)),n}},{key:"_getDynamicAttribution",value:function(e,t,r){var n=t.extent,i=t.scale,a=r.tileInfo.scaleToZoom(i);if(a=Math.min(e.maxKey,Math.round(a)),!n||null==a||a<=-1)return"";var o=e[a],s=Object($i.d)(n.center.clone().normalize(),t.spatialReference),c={};return o?o.filter((function(e){var t=!c[e.id]&&s&&Object(Pu.e)(e.extent,s);return t&&(c[e.id]=!0),t})).sort((function(e,t){return t.score-e.score||e.objectId-t.objectId})).map((function(e){return e.attribution})).join(", "):""}}]),n}(X.a);Object(h.a)([Object(k.b)({readOnly:!0,type:y.a})],Cp.prototype,"items",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Cp.prototype,"state",null),Object(h.a)([Object(k.b)()],Cp.prototype,"view",void 0);var Dp=Cp=Object(h.a)([Object(x.a)("esri.widgets.Attribution.AttributionViewModel")],Cp);function Lp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Fp="esri-attribution esri-widget",Np="esri-widget__anchor",Bp="esri-attribution__powered-by",Vp="esri-attribution__sources",Up="esri-attribution--open",zp="esri-attribution__sources--open",qp="esri-attribution__link",Hp="esri-icon-description",Gp="esri-interactive",Wp=function(e){Object(c.a)(r,e);var t=Lp(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n))._isOpen=!1,a._attributionTextOverflowed=!1,a._prevSourceNodeHeight=0,a.iconClass=Hp,a.itemDelimiter=" | ",a.label=void 0,a.messages=null,a.view=null,a.viewModel=new Dp,a}return Object(a.a)(r,[{key:"initialize",value:function(){var e=this;this.own(Object(w.b)(this,"viewModel.items","change",(function(){return e.scheduleRender()})))}},{key:"attributionText",get:function(){return this.viewModel.items.reduce((function(e,t){return-1===e.indexOf(t.text)&&e.push(t.text),e}),[]).join(this.itemDelimiter)}},{key:"render",value:function(){var e=Object(S.a)({},Up,this._isOpen);return Object(nt.a)("div",{bind:this,class:this.classes(Fp,e),onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}},{key:"renderPoweredBy",value:function(){return Object(nt.a)("div",{class:Bp},"Powered by"," ",Object(nt.a)("a",{class:this.classes(qp,Np),href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}},{key:"renderSourcesNode",value:function(){var e,t=this._isOpen,r=this._isInteractive(),n=r?0:-1,i=this.attributionText,a=r?"button":void 0,o=(e={},Object(S.a)(e,zp,t),Object(S.a)(e,Gp,r),e);return Object(nt.a)("div",{afterCreate:this._afterSourcesNodeCreate,afterUpdate:this._afterSourcesNodeUpdate,bind:this,class:this.classes(Vp,o),innerHTML:i,role:a,tabIndex:n})}},{key:"_afterSourcesNodeCreate",value:function(e){this._prevSourceNodeHeight=e.clientWidth}},{key:"_afterSourcesNodeUpdate",value:function(e){var t=!1,r=e.clientHeight,n=e.clientWidth,i=e.scrollWidth>=n,a=this._attributionTextOverflowed!==i;if(this._attributionTextOverflowed=i,a&&(t=!0),this._isOpen){var o=r<this._prevSourceNodeHeight;this._prevSourceNodeHeight=r,o&&(this._isOpen=!1,t=!0)}t&&this.scheduleRender()}},{key:"_toggleState",value:function(){this._isInteractive()&&(this._isOpen=!this._isOpen)}},{key:"_isInteractive",value:function(){return this._isOpen||this._attributionTextOverflowed}}]),r}(W.a);Object(h.a)([Object(k.b)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Wp.prototype,"attributionText",null),Object(h.a)([Object(k.b)()],Wp.prototype,"iconClass",void 0),Object(h.a)([Object(k.b)()],Wp.prototype,"itemDelimiter",void 0),Object(h.a)([Object(k.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Wp.prototype,"label",void 0),Object(h.a)([Object(k.b)(),Object(rt.a)("esri/widgets/Attribution/t9n/Attribution")],Wp.prototype,"messages",void 0),Object(h.a)([Object(H.a)("viewModel.view")],Wp.prototype,"view",void 0),Object(h.a)([Object(k.b)({type:Dp})],Wp.prototype,"viewModel",void 0),Object(h.a)([Object(Ra.a)()],Wp.prototype,"_toggleState",null);var Jp=Wp=Object(h.a)([Object(x.a)("esri.widgets.Attribution")],Wp);function $p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Zp=function(e){Object(c.a)(r,e);var t=$p(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e))._handles=new I.a,n.orientation={x:0,y:0,z:0},n.view=null,n._updateForCamera=n._updateForCamera.bind(Object(o.a)(n)),n._updateForRotation=n._updateForRotation.bind(Object(o.a)(n)),n._updateRotationWatcher=n._updateRotationWatcher.bind(Object(o.a)(n)),n}return Object(a.a)(r,[{key:"initialize",value:function(){this._handles.add(Object(w.a)(this,"view",this._updateRotationWatcher))}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null,this.view=null}},{key:"canShowNorth",get:function(){var e=this.get("view.spatialReference");return!(!e||!e.isWebMercator&&!e.isGeographic)}},{key:"state",get:function(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}},{key:"reset",value:function(){if(this.get("view.ready")){var e={};"2d"===this.view.type?e.rotation=0:e.heading=0,this.callGoTo({target:e})}}},{key:"_updateForRotation",value:function(e){null!=e&&(this.orientation={z:e})}},{key:"_updateForCamera",value:function(e){if(e){var t=-e.heading;this.orientation={x:0,y:0,z:t}}}},{key:"_updateRotationWatcher",value:function(e){this._handles.removeAll(),e&&("2d"===e.type?this._handles.add(Object(w.a)(this,"view.rotation",this._updateForRotation)):this._handles.add(Object(w.a)(this,"view.camera",this._updateForCamera)))}}]),r}(Object(ga.a)(L.a));Object(h.a)([Object(k.b)({readOnly:!0})],Zp.prototype,"canShowNorth",null),Object(h.a)([Object(k.b)()],Zp.prototype,"orientation",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Zp.prototype,"state",null),Object(h.a)([Object(k.b)()],Zp.prototype,"view",void 0);var Qp=Zp=Object(h.a)([Object(x.a)("esri.widgets.CompassViewModel")],Zp);function Xp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Kp="esri-compass esri-widget--button esri-widget",Yp="esri-icon-font-fallback-text",ed="esri-compass__icon",td="esri-icon-dial",rd="esri-icon-compass",nd="esri-icon-locate-circled",id="esri-interactive",ad="esri-disabled",od=function(e){Object(c.a)(r,e);var t=Xp(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n)).goToOverride=null,a.iconClass=nd,a.label=void 0,a.messages=null,a.view=null,a.viewModel=new Qp,a}return Object(a.a)(r,[{key:"reset",value:function(){return this.viewModel.reset()}},{key:"render",value:function(){var e,t,r=this.viewModel,n=r.orientation,i=r.state,a="disabled"===i,o="compass"==("rotation"===i?"rotation":"compass"),s=a?-1:0,c=(e={},Object(S.a)(e,ad,a),Object(S.a)(e,id,!a),e),u=(t={},Object(S.a)(t,rd,o),Object(S.a)(t,td,!o),t),l=this.messages;return Object(nt.a)("div",{bind:this,class:this.classes(Kp,c),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:s,"aria-label":l.reset,title:l.reset},Object(nt.a)("span",{"aria-hidden":"true",class:this.classes(ed,u),styles:this._toRotationTransform(n)}),Object(nt.a)("span",{class:Yp},l.reset))}},{key:"_reset",value:function(){this.viewModel.reset()}},{key:"_toRotationTransform",value:function(e){return{transform:"rotateZ(".concat(e.z,"deg)")}}}]),r}(W.a);Object(h.a)([Object(H.a)("viewModel.goToOverride")],od.prototype,"goToOverride",void 0),Object(h.a)([Object(k.b)()],od.prototype,"iconClass",void 0),Object(h.a)([Object(k.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],od.prototype,"label",void 0),Object(h.a)([Object(k.b)(),Object(rt.a)("esri/widgets/Compass/t9n/Compass")],od.prototype,"messages",void 0),Object(h.a)([Object(H.a)("viewModel.view")],od.prototype,"view",void 0),Object(h.a)([Object(k.b)({type:Qp})],od.prototype,"viewModel",void 0),Object(h.a)([Object(Ra.a)()],od.prototype,"_reset",null);var sd=od=Object(h.a)([Object(x.a)("esri.widgets.Compass")],od);function cd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var ud=function(e){Object(c.a)(r,e);var t=cd(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e))._handles=new I.a,n.navigationMode="pan",n.view=null,n}return Object(a.a)(r,[{key:"initialize",value:function(){this._handles.add(Object(w.e)(this,"view.inputManager",this._setNavigationMode.bind(this)))}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null,this.view=null}},{key:"state",get:function(){return this.get("view.ready")&&"3d"===this.view.type?"ready":"disabled"}},{key:"toggle",value:function(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode())}},{key:"_setNavigationMode",value:function(){this.get("view.inputManager").primaryDragAction="pan"===this.navigationMode?"pan":"rotate"}}]),r}(L.a);Object(h.a)([Object(k.b)({readOnly:!0})],ud.prototype,"state",null),Object(h.a)([Object(k.b)()],ud.prototype,"navigationMode",void 0),Object(h.a)([Object(k.b)()],ud.prototype,"view",void 0);var ld=ud=Object(h.a)([Object(x.a)("esri.widgets.NavigationToggleViewModel")],ud);function fd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var pd="esri-navigation-toggle esri-widget",dd="esri-navigation-toggle__button esri-widget--button",hd="esri-navigation-toggle__button--active",bd="esri-navigation-toggle__button--pan",yd="esri-navigation-toggle__button--rotate",vd="esri-navigation-toggle--horizontal",md="esri-icon-rotate",gd="esri-icon-pan",Od="esri-icon-pan2",jd="esri-disabled",wd=function(e){Object(c.a)(r,e);var t=fd(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n)).iconClass=Od,a.label=void 0,a.messages=null,a.view=null,a.viewModel=new ld,a}return Object(a.a)(r,[{key:"layout",set:function(e){"horizontal"!==e&&(e="vertical"),this._set("layout",e)}},{key:"toggle",value:function(){return this.viewModel.toggle()}},{key:"render",value:function(){var e,t="disabled"===this.get("viewModel.state"),r="pan"===this.get("viewModel.navigationMode"),n=(e={},Object(S.a)(e,jd,t),Object(S.a)(e,vd,"horizontal"===this.layout),e),i=Object(S.a)({},hd,r),a=Object(S.a)({},hd,!r),o=t?-1:0,s=this.messages.toggle;return Object(nt.a)("div",{bind:this,class:this.classes(pd,n),onclick:this._toggle,onkeydown:this._toggle,tabIndex:o,"aria-label":s,title:s},Object(nt.a)("div",{class:this.classes(dd,bd,i)},Object(nt.a)("span",{class:gd})),Object(nt.a)("div",{class:this.classes(dd,yd,a)},Object(nt.a)("span",{class:md})))}},{key:"_toggle",value:function(){this.toggle()}}]),r}(W.a);Object(h.a)([Object(k.b)()],wd.prototype,"iconClass",void 0),Object(h.a)([Object(k.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],wd.prototype,"label",void 0),Object(h.a)([Object(k.b)({value:"vertical"})],wd.prototype,"layout",null),Object(h.a)([Object(k.b)(),Object(rt.a)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],wd.prototype,"messages",void 0),Object(h.a)([Object(H.a)("viewModel.view")],wd.prototype,"view",void 0),Object(h.a)([Object(k.b)({type:ld})],wd.prototype,"viewModel",void 0),Object(h.a)([Object(Ra.a)()],wd.prototype,"_toggle",null);var _d=wd=Object(h.a)([Object(x.a)("esri.widgets.NavigationToggle")],wd),kd=r("k4UW");function xd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}O.a.getLogger("esri.views.ui.DefaultUI");var Sd=function(e){Object(c.a)(r,e);var t=xd(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e))._defaultPositionLookup={attribution:"manual",compass:"top-leading","navigation-toggle":"top-leading",zoom:"top-leading"},n.components=[],n}return Object(a.a)(r,[{key:"initialize",value:function(){this._handles.add([Object(w.a)(this,"components",this._componentsWatcher.bind(this)),Object(w.a)(this,"view",this._updateViewAwareWidgets.bind(this))])}},{key:"_add",value:function(e,t,n,i){if("string"==typeof e&&this._defaultPositionLookup[e]){if(this._find(e))return;e=this._createComponent(e)}Object(s.a)(Object(l.a)(r.prototype),"_add",this).call(this,e,t,n,i)}},{key:"_removeComponents",value:function(e){var t=this;e.forEach((function(e){var r=t._find(e);r&&(t.remove(r),r.destroy())}))}},{key:"_updateViewAwareWidgets",value:function(e){var t=this;this.components.forEach((function(r){var n=t._find(r),i=n&&n.widget;(function(e){return e&&void 0!==e.view})(i)&&(i.view=e)}))}},{key:"_componentsWatcher",value:function(e,t){this._removeComponents(t),this._addComponents(e),this._adjustPadding(e)}},{key:"_adjustPadding",value:function(e){if(-1===e.indexOf("attribution")&&!this._isOverridden("padding")){var t=this.padding.top;this.padding=t}}},{key:"_addComponents",value:function(e){var t=this;this.initialized&&e.forEach((function(e){return t.add(t._createComponent(e),t._defaultPositionLookup[e])}))}},{key:"_createComponent",value:function(e){var t=this._createWidget(e);if(t)return new ap({id:e,node:t})}},{key:"_createWidget",value:function(e){return"attribution"===e?this._createAttribution():"compass"===e?this._createCompass():"navigation-toggle"===e?this._createNavigationToggle():"zoom"===e?this._createZoom():void 0}},{key:"_createAttribution",value:function(){return new Jp({view:this.view})}},{key:"_createCompass",value:function(){return new sd({view:this.view})}},{key:"_createNavigationToggle",value:function(){return new _d({view:this.view})}},{key:"_createZoom",value:function(){return new kd.default({view:this.view})}}]),r}(xp);function Pd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}Object(h.a)([Object(k.b)()],Sd.prototype,"components",void 0);var Id=function(e){Object(c.a)(r,e);var t=Pd(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).components=["attribution","zoom"],n}return r}(Sd=Object(h.a)([Object(x.a)("esri.views.ui.DefaultUI")],Sd));Object(h.a)([Object(k.b)()],Id.prototype,"components",void 0);var Rd=Id=Object(h.a)([Object(x.a)("esri.views.ui.2d.DefaultUI2D")],Id),Md=r("ZV4S");function Ed(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Td,Ad,Cd,Dd,Ld,Fd,Nd=O.a.getLogger("esri.views.MapView");function Bd(){return(Bd=Object(f.a)(d.a.mark((function e(){var t,i,a,o,s,c,u,l,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Promise.all([r.e(0),r.e(1),r.e(24)]).then(r.bind(null,"UXWB")),Promise.all([r.e(0),r.e(1),r.e(2),r.e(23)]).then(r.bind(null,"v8b1"))]);case 2:t=e.sent,i=Object(n.a)(t,2),a=i[1],o=a.GraphicsView2D,s=a.GraphicContainer,c=a.LabelManager,u=a.MapViewNavigation,l=a.MagnifierView2D,f=a.Stage,Ad=o,Cd=s,Dd=c,Ld=u,Fd=l,Td=f;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vd(e,t,r){if(e)if(Array.isArray(e)||y.a.isCollection(e)){if(0===e.length)return;e.forEach((function(e){return Vd(e,t,r)}))}else!function(e){return e instanceof b.a}(e)?r.add(e):t.add(e)}var Ud,zd,qd,Hd=function(e){Object(c.a)(r,e);var t=Ed(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e))._magnifierView=null,n._stage=null,n._resolveWhenReady=[],n.rootLayerViews=new v.a({getCollections:function(){var e,t;return[null==(e=n.basemapView)?void 0:e.baseLayerViews,n.layerViews,null==(t=n.basemapView)?void 0:t.referenceLayerViews]},getChildrenFunction:function(){return null}}),n.floors=new y.a,n.graphicsView=null,n.highlightOptions=new Qf,n.inputManager=new Gf({view:Object(o.a)(n)}),n.mapViewNavigation=null,n.supersampleScreenhotsEnabled=!1,n.ui=new Rd,n.rendering=!1,Object(_.a)(),n}return Object(a.a)(r,[{key:"destroy",value:function(){this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}},{key:"background",get:function(){return this.get("map.initialViewProperties.background")||null},set:function(e){void 0===e?this._clearOverride("background"):this._override("background",e)}},{key:"textureManager",get:function(){return this._stage.painter.textureManager}},{key:"navigating",get:function(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}},{key:"toMap",value:function(e){if(lc(e)){var t=uc(this,e);return Object(s.a)(Object(l.a)(r.prototype),"toMap",this).call(this,t)}return Object(s.a)(Object(l.a)(r.prototype),"toMap",this).call(this,e)}},{key:"hitTest",value:function(e,t){var r=lc(e)?uc(this,e):e;if(!this.ready||isNaN(r.x)||isNaN(r.y))return Promise.resolve({screenPoint:r,results:[]});var n=this.toMap(r),i=[this.graphicsView];i.push.apply(i,this.allLayerViews.toArray().reverse());var a=new Set,o=new Set,s=new Set,c=new Set;return t&&(Vd(t&&t.include,a,s),Vd(t&&t.exclude,o,c)),Promise.all(i.map((function(e){return!e||!e.hitTest||s.size>0&&!e.layer||s.size>0&&e.layer&&!s.has(e.layer)||c.size>0&&e.layer&&c.has(e.layer)?null:e.hitTest(r.x,r.y)}))).then((function(e){return{screenPoint:r,results:e.filter((function(e){return null!=e&&(!(a.size>0)||a.has(e))&&(!(o.size>0)||!o.has(e))})).map((function(e){return{mapPoint:n,graphic:e}}))}}))}},{key:"takeScreenshot",value:function(e){return this.ready?this._stage.takeScreenshot(Object(Xf.e)(e,this),this.allLayerViews):Promise.reject("Map view cannot be used before it is ready")}},{key:"on",value:function(e,t,n,i){return this.inputManager&&this.viewEvents.on(e,t,n,i)||Object(s.a)(Object(l.a)(r.prototype),"on",this).call(this,e,t)}},{key:"hasEventListener",value:function(e){return Object(s.a)(Object(l.a)(r.prototype),"hasEventListener",this).call(this,e)||this.viewEvents.hasHandler(e)}},{key:"whenLayerView",value:function(e){return Object(s.a)(Object(l.a)(r.prototype),"whenLayerView",this).call(this,e)}},{key:"graphicChanged",value:function(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}},{key:"whenReady",value:function(){var e=this;return new Promise((function(t){e.ready?t(e):e._resolveWhenReady.push(t)}))}},{key:"forceDOMReadyCycle",value:function(){this.forceReadyCycle()}},{key:"validate",value:function(){var e=function(e){e=ep(ep({},tp),e);var t=Object(Kf.a)();return t.available?e.checkMajorWebPerformanceCaveat&&t.majorPerformanceCaveat?new m.a("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist."):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?t.supportsElementIndexUint?t.supportsStandardDerivatives?t.supportsInstancedArrays?null:new m.a("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported."):new m.a("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported."):new m.a("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported."):new m.a("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new m.a("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new m.a("webgl:required","WebGL is required but not supported.")}({checkMajorWebPerformanceCaveat:!1});return Object(g.a)("safari")&&Object(g.a)("safari")<9&&(e=new m.a("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:Object(g.a)("safari")})),Object(j.i)(e)?(Nd.warn("#validate()",e.message),Promise.reject(e)):function(){return Bd.apply(this,arguments)}()}},{key:"_startup",value:function(){var e=this;this.timeline.begin("MapView Startup"),Object(s.a)(Object(l.a)(r.prototype),"_startup",this).call(this),this.graphics.owner=this;var t={disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},n=new Td(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenhotsEnabled,contextOptions:t,renderingOptions:this.renderingOptions,timeline:this.timeline}),i=new Ad({view:this,graphics:this.graphics,requestUpdateCallback:function(){return e.requestUpdate()},container:new Cd(this.featuresTilingScheme)}),a=new Ld({view:this,animationManager:this.animationManager}),o=new Dd({view:this});this._magnifierView=new Fd,this._magnifierView.magnifier=this.magnifier,this._stage=n,this.frameTask.graphicsView=i,this._set("graphicsView",i),this._set("mapViewNavigation",a),this._set("labelManager",o),this.handles.add([this.rootLayerViews.on("change",(function(){return e._updateStageChildren()})),n.on("post-render",(function(){return e._set("rendering",n.renderRequested)})),n.on("will-render",(function(){return e._set("rendering",n.renderRequested)})),n.on("webgl-error",(function(t){return e.fatalError=t.error})),Object(w.a)(this,"stationary",(function(e){return n.stationary=e}),!0),Object(w.a)(this,"state.id",(function(){return n.state=e.state}),!0),Object(w.a)(this,"background",(function(t){n.background=t,e._magnifierView.background=t}),!0),Object(w.a)(this,"magnifier",(function(t){return e._magnifierView.magnifier=t}),!0),Object(w.a)(this,"renderingOptions",(function(e){return n.renderingOptions=e}),!0),Object(w.a)(this,"highlightOptions",(function(){return n.highlightOptions=e.highlightOptions}),!0)],"map-view"),n.state=this.state,this._updateStageChildren();var c=this._resolveWhenReady;this._resolveWhenReady=[],c.forEach((function(t){return t(e)})),this.timeline.end("MapView Startup")}},{key:"_teardown",value:function(){this.handles.remove("map-view"),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this.graphicsView.destroy(),this.mapViewNavigation.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,Object(s.a)(Object(l.a)(r.prototype),"_teardown",this).call(this)}},{key:"_updateStageChildren",value:function(){var e=this;this._stage.removeAllChildren(),this.rootLayerViews.forEach((function(t){e._stage.addChild(t.container)}));var t=this.graphicsView;this._stage.addChild(t.container),this._stage.addChild(this._magnifierView)}}]),r}((qd=function(e){Object(c.a)(r,e);var t=fs(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a)))._freqInfo={freq:16,time:750},e._overlayRenderTaskHandle=null,e.height=0,e.position=null,e.resizing=!1,e.root=null,e.surface=null,e.suspended=!0,e.ui=null,e.userContent=null,e.width=0,e.widthBreakpoint=null,e.handles.add([e.watch("cursor",(function(t){var r=e.surface;r&&r.setAttribute("data-cursor",t)})),e.watch("interacting",(function(t){var r=e.surface;r&&r.setAttribute("data-interacting",t.toString())}))]),e}return Object(a.a)(r,[{key:"initialize",value:function(){var e=this;this.handles.add(this.watch("ui",(function(t,r){return e._handleUIChange(t,r)}))),this._wireUI(this.ui),this.handles.add([this.on("focus",(function(){return e.notifyChange("focused")})),this.on("blur",(function(){return e.notifyChange("focused")}))])}},{key:"destroy",value:function(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}},{key:"container",set:function(e){var t=this,r=this._get("container");if(r!==e){var i="dom-size";if(this.handles.remove(i),this._stopMeasuring(),r&&(r.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),ds(this.root),this._set("root",null),Object(C.e)(this.userContent,r),ds(this.userContent),this._set("userContent",null)),e){e.classList.add("esri-view");var a=document.createElement("div");a.className="esri-view-user-storage",Object(C.e)(e,a),e.appendChild(a),this._set("userContent",a);var o=document.createElement("div");o.className="esri-view-root",e.insertBefore(o,e.firstChild),this._set("root",o);var s=document.createElement("div");s.className="esri-view-surface",s.setAttribute("role","application"),s.tabIndex=0,o.appendChild(s),this._set("surface",s);var c=new U;o.appendChild(c.surface),this._set("overlay",c),c.watch("needsRender",(function(e){e&&!t._overlayRenderTaskHandle?t._overlayRenderTaskHandle=Object(D.a)({render:function(){t.overlay.render()}}):t._overlayRenderTaskHandle&&(t._overlayRenderTaskHandle.remove(),t._overlayRenderTaskHandle=null)})),this.forceDOMReadyCycle(),this.handles.add(Object(w.a)(this,"size",(function(e){var t=Object(n.a)(e,2),r=t[0],i=t[1],a="esri-view-surface--inset-outline";r>=document.body.clientWidth||i>=document.body.clientHeight?s.classList.add(a):s.classList.remove(a)})),i),this._set("container",e),this._startMeasuring()}else this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)}}},{key:"focused",get:function(){var e=document.activeElement===this.surface;return document.hasFocus()&&e}},{key:"popup",get:function(){return this._get("popup")||new ls({view:this})},set:function(e){var t=this._get("popup");t&&t!==e&&t.destroy(),this._set("popup",e)}},{key:"size",get:function(){return[this.width,this.height]}},{key:"blur",value:function(){this.surface&&this.surface.blur()}},{key:"focus",value:function(){this.surface&&this.surface.focus()}},{key:"pageToContainer",value:function(e,t,r){var n=this.position;return e-=n[0],t-=n[1],r?(r[0]=e,r[1]=t):r=[e,t],r}},{key:"containerToPage",value:function(e,t,r){var n=this.position;return e+=n[0],t+=n[1],r?(r[0]=e,r[1]=t):r=[e,t],r}},{key:"_handleUIChange",value:function(e,t){t&&(this.handles.remove("ui"),t.destroy()),e&&this._wireUI(e),this._set("ui",e)}},{key:"_wireUI",value:function(e){this.handles.remove("ui"),e&&(e.view=this,this.handles.add([Object(w.a)(this,"root",(function(t){e.container=t?function(e){var t=document.createElement("div");return e.appendChild(t),t}(t):null})),Object(w.a)(this,"popup",(function(t,r){var n="popup";r&&e.remove(r,n),t&&(t.view=e.view,e.add(t,{key:n,position:"manual"}))}))],"ui"))}},{key:"_stopMeasuring",value:function(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}},{key:"_startMeasuring",value:function(){var e,t=this,r=this._freqInfo;r.freq=16,r.time=750,this.handles.add([(e=function(){r.freq=16,r.time=750},window.addEventListener("resize",e),{remove:function(){window.removeEventListener("resize",e)}}),Object(D.a)({prepare:function(e){var r=t._measure(),n=t._freqInfo;if(n.time+=e.deltaTime,r&&(n.freq=16,t._get("resizing")||t._set("resizing",!0)),!(n.time<n.freq)){n.time=0;var i=t._position();n.freq=i||r?16:Math.min(750,2*n.freq),!r&&n.freq>=512&&t._get("resizing")&&t._set("resizing",!1)}}})],"measuring"),this._measure(),this._position()}},{key:"_measure",value:function(){var e=this.container,t=e?e.clientWidth:0,r=e?e.clientHeight:0;if(0===t||0===r)return this.suspended||this._set("suspended",!0),!1;var n=this.width,i=this.height;return t===n&&r===i?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",t),this._set("height",r),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:n,oldHeight:i,width:t,height:r}),!0)}},{key:"_position",value:function(){var e=this.container,t=this.position,r=function(e){var t=(e.ownerDocument||window.document).defaultView,r=e.getBoundingClientRect();return ps[0]=r.left+t.pageXOffset,ps[1]=r.top+t.pageYOffset,ps}(e);return!(t&&r[0]===t[0]&&r[1]===t[1]||(this._set("position",[r[0],r[1]]),0))}},{key:"forceDOMReadyCycle",value:function(){}}]),r}(_l),Object(h.a)([Object(k.b)({value:null,cast:function(e){return Object(C.a)(e)}})],qd.prototype,"container",null),Object(h.a)([Object(k.b)({readOnly:!0})],qd.prototype,"focused",null),Object(h.a)([Object(k.b)({readOnly:!0})],qd.prototype,"height",void 0),Object(h.a)([Object(k.b)({type:ls})],qd.prototype,"popup",null),Object(h.a)([Object(k.b)({type:U})],qd.prototype,"overlay",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],qd.prototype,"position",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],qd.prototype,"resizing",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],qd.prototype,"root",void 0),Object(h.a)([Object(k.b)({value:null,readOnly:!0})],qd.prototype,"size",null),Object(h.a)([Object(k.b)({readOnly:!0})],qd.prototype,"surface",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],qd.prototype,"suspended",void 0),Object(h.a)([Object(k.b)()],qd.prototype,"ui",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],qd.prototype,"userContent",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],qd.prototype,"width",void 0),Object(h.a)([Object(k.b)()],qd.prototype,"widthBreakpoint",void 0),Ud=qd=Object(h.a)([Object(x.a)("esri.views.DOMContainer")],qd),zd=function(e){Object(c.a)(r,e);var t=M(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a)))._breakpointsHandles=new I.a,e.orientation=null,e.widthBreakpoint=null,e.heightBreakpoint=null,e.breakpoints=T,e}return Object(a.a)(r,[{key:"initialize",value:function(){this._breakpointsHandles.add(Object(w.a)(this,["breakpoints","size"],this._updateClassNames))}},{key:"destroy",value:function(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles.destroy(),this._breakpointsHandles=null)}},{key:"breakpoints",set:function(e){if(e!==this._get("breakpoints")){var t=function(e){var t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}(e);if(!t){var r=JSON.stringify(T,null,2);console.warn("provided breakpoints are not valid, using defaults:"+r)}e=t?e:T,this._set("breakpoints",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))}}},{key:"_updateClassNames",value:function(){if(this.container){var e,t=P.a.acquire(),r=P.a.acquire(),n=!1;for(e in E){var i=this[e],a=E[e].getValue({viewSize:this.size,breakpoints:this.breakpoints});i!==a&&(n=!0,this[e]=a,A(e,i).forEach((function(e){return r.push(e)})),A(e,a).forEach((function(e){return t.push(e)})))}n&&(this._applyClassNameChanges(t,r),P.a.release(t),P.a.release(r))}}},{key:"_applyClassNameChanges",value:function(e,t){var r=this.container;r&&(t.forEach((function(e){return r.classList.remove(e)})),e.forEach((function(e){return r.classList.add(e)})))}},{key:"_removeActiveClassNames",value:function(){var e,t=this.container;if(t)for(e in E)A(e,this[e]).forEach((function(e){return t.classList.remove(e)}))}}]),r}(Ud),Object(h.a)([Object(k.b)()],zd.prototype,"breakpoints",null),Object(h.a)([Object(k.b)()],zd.prototype,"orientation",void 0),Object(h.a)([Object(k.b)()],zd.prototype,"widthBreakpoint",void 0),Object(h.a)([Object(k.b)()],zd.prototype,"heightBreakpoint",void 0),zd=Object(h.a)([Object(x.a)("esri.views.BreakpointsOwner")],zd)));Object(h.a)([Object(k.b)({type:Md.a})],Hd.prototype,"background",null),Object(h.a)([Object(k.b)()],Hd.prototype,"floors",void 0),Object(h.a)([Object(k.b)()],Hd.prototype,"graphicsView",void 0),Object(h.a)([Object(k.b)({type:Qf})],Hd.prototype,"highlightOptions",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Hd.prototype,"inputManager",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Hd.prototype,"textureManager",null),Object(h.a)([Object(k.b)({readOnly:!0})],Hd.prototype,"mapViewNavigation",void 0),Object(h.a)([Object(k.b)({type:Boolean})],Hd.prototype,"navigating",null),Object(h.a)([Object(k.b)({type:Boolean,constructOnly:!0})],Hd.prototype,"supersampleScreenhotsEnabled",void 0),Object(h.a)([Object(k.b)({type:Rd})],Hd.prototype,"ui",void 0),Object(h.a)([Object(k.b)({readOnly:!0})],Hd.prototype,"rendering",void 0),Object(h.a)([Object(k.b)({constructOnly:!0})],Hd.prototype,"renderCanvas",void 0),Object(h.a)([Object(k.b)({constructOnly:!0})],Hd.prototype,"deactivatedWebGLExtensions",void 0),Object(h.a)([Object(k.b)({constructOnly:!0})],Hd.prototype,"debugWebGLExtensions",void 0);var Gd=Hd=Object(h.a)([Object(x.a)("esri.views.MapView")],Hd);t.default=Gd},nqlD:function(e,t,r){var n=r("ERkP").createContext;e.exports=n,e.exports.default=n},nrda:function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},nxZd:function(e,t,r){var n=r("SyCk"),i=r("T9Ud");e.exports=function(e){return i(e)&&n(e)}},nyn0:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb");function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return"date"===e.type||"esriFieldTypeDate"===e.type}var c=function(){function e(t){if(Object(n.a)(this,e),this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],t){var r,i=[],o=a(t);try{for(o.s();!(r=o.n()).done;){var c=r.value,l=c&&c.name;if(l){var f=u(l);this._fieldsMap.set(l,c),this._fieldsMap.set(f,c),i.push(f),s(c)&&(this.dateFields.push(c),this._dateFieldsSet.add(c))}}}catch(p){o.e(p)}finally{o.f()}i.sort(),this.uid=i.join(",")}}return Object(i.a)(e,[{key:"destroy",value:function(){this._fieldsMap.clear()}},{key:"has",value:function(e){return null!=this.get(e)}},{key:"get",value:function(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(u(e)):void 0}},{key:"isDateField",value:function(e){return this._dateFieldsSet.has(this.get(e))}},{key:"normalizeFieldName",value:function(e){var t=this.get(e);if(t)return t.name}}]),e}();function u(e){return e.toLowerCase().trim()}t.a=c},o3y2:function(e,t,r){"use strict";r.r(t);var n,i=r("eijD"),a=r("mK0O"),o=r("hisu"),s=r("yBJb"),c=r("0942"),u=r("4Mpa"),l=r("CHlC"),f=r("kMo5"),p=r("P+uj"),d=r("NthX"),h=r.n(d),b=r("dQW7"),y=r("kDog"),v=r("LuB+"),m=r("0n+b"),g=r("0fJP"),O=r("eTmm"),j=r("v2Em"),w=r("TM+E"),_=r("7im+"),k=r("IH5m"),x=r("z9dv"),S=r("xAIp"),P=(r("wckI"),r("J4Pc"),r("iaHD")),I=r("jr4m"),R=r("YHXj"),M=r("eoZi"),E=r("OYdn"),T=r("XoOG"),A=r("adv5");function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var i=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var B=0,V=w.a.getLogger("esri.Basemap"),U=n=function(e){Object(l.a)(b,e);var t,a,f,d=N(b);function b(e){var t;Object(o.a)(this,b),(t=d.call(this,e)).id=null,t.portalItem=null,t.spatialReference=null,t.thumbnailUrl=null,t.title="Basemap",t.id=Date.now().toString(16)+"-basemap-"+B++,t.baseLayers=new y.a,t.referenceLayers=new y.a;var r=function(e){e.parent&&e.parent!==Object(c.a)(t)&&"remove"in e.parent&&e.parent.remove(e),e.parent=Object(c.a)(t),"elevation"===e.type&&V.error("Layer '".concat(e.title,", id:").concat(e.id,"' of type '").concat(e.type,"' is not supported as a basemap layer and will therefore be ignored."))},n=function(e){e.parent=null};return t.baseLayers.on("after-add",(function(e){return r(e.item)})),t.referenceLayers.on("after-add",(function(e){return r(e.item)})),t.baseLayers.on("after-remove",(function(e){return n(e.item)})),t.referenceLayers.on("after-remove",(function(e){return n(e.item)})),t}return Object(s.a)(b,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){V.error("#load()","Failed to load basemap (title: '".concat(e.title,"', id: '").concat(e.id,"')"),t)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}},{key:"destroy",value:function(){var e,t,r=L(this.baseLayers.removeAll());try{for(r.s();!(t=r.n()).done;){t.value.destroy()}}catch(a){r.e(a)}finally{r.f()}var n,i=L(this.referenceLayers.removeAll());try{for(i.s();!(n=i.n()).done;){n.value.destroy()}}catch(a){i.e(a)}finally{i.f()}this.baseLayers.destroy(),this.referenceLayers.destroy(),null==(e=this.portalItem)||e.destroy(),this.portalItem=null}},{key:"normalizeCtorArgs",value:function(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e=D({},e)).resourceInfo),e}},{key:"baseLayers",set:function(e){this._set("baseLayers",Object(v.b)(e,this._get("baseLayers")))}},{key:"_writeBaseLayers",value:function(e,t,r){var n=[];e?(r=D(D({},r),{},{layerContainerType:"basemap"}),this.baseLayers.forEach((function(e){var t=Object(A.a)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);Object(_.i)(t)&&n.push(t)})),this.referenceLayers.forEach((function(e){var t=Object(A.a)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);Object(_.i)(t)&&(t.isReference=!0,n.push(t))})),t.baseMapLayers=n):t.baseMapLayers=n}},{key:"referenceLayers",set:function(e){this._set("referenceLayers",Object(v.b)(e,this._get("referenceLayers")))}},{key:"writeTitle",value:function(e,t){t.title=e||"Basemap"}},{key:"load",value:function(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}},{key:"loadAll",value:function(){var e=this;return Object(j.a)(this,(function(t){t(e.baseLayers,e.referenceLayers)}))}},{key:"clone",value:function(){var e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(e.loadStatus="loaded"),new n({resourceInfo:this.resourceInfo}).set(e)}},{key:"read",value:function(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),Object(u.a)(Object(p.a)(b.prototype),"read",this).call(this,e,t)}},{key:"write",value:function(e,t){return e=e||{},t&&t.origin||(t=D({origin:"web-map"},t)),Object(u.a)(Object(p.a)(b.prototype),"write",this).call(this,e,t),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((function(e){var t=Object(g.a)(e);return t.url&&Object(x.w)(t.url)&&(t.url="https:".concat(t.url)),t.templateUrl&&Object(x.w)(t.templateUrl)&&(t.templateUrl="https:".concat(t.templateUrl)),t}))),e}},{key:"_loadFromSource",value:(f=Object(i.a)(h.a.mark((function e(t){var r,n,i,a,o,s=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.resourceInfo,n=this.portalItem,Object(k.v)(t),i=[],r?(a=r.context?r.context.url:null,i.push(this._loadLayersFromJSON(r.data,a,t)),r.data.id&&!r.data.title&&(o=r.data.id,i.push(Object(T.b)(o).then((function(e){e&&s.read({title:e},r.context)}))))):n&&i.push(this._loadFromItem(n,t)),e.next=6,Promise.all(i);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"_loadLayersFromJSON",value:(a=Object(i.a)(h.a.mark((function e(t,n,i){var a,o,s,c,u,l,f,p,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.resourceInfo&&this.resourceInfo.context,o=this.portalItem&&this.portalItem.portal||a&&a.portal||null,s=a&&"web-scene"===a.origin?"web-scene":"web-map",e.next=5,Promise.all([r.e(1),r.e(12)]).then(r.bind(null,"VDow"));case 5:return c=e.sent,u=c.populateOperationalLayers,l=[],Object(k.v)(i),t.baseMapLayers&&Array.isArray(t.baseMapLayers)&&(f={context:{origin:s,url:n,portal:o,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},p=u(this.baseLayers,t.baseMapLayers.filter((function(e){return!e.isReference})),f),l.push(p),d=u(this.referenceLayers,t.baseMapLayers.filter((function(e){return e.isReference})),f),l.push(d)),e.next=11,Object(k.j)(l);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return a.apply(this,arguments)})},{key:"_loadFromItem",value:(t=Object(i.a)(h.a.mark((function e(t,r){var n,i,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load(r);case 2:return n=e.sent,e.next=5,n.fetchData("json",r);case 5:return i=e.sent,a=Object(x.K)(t.itemUrl),e.abrupt("return",(this._set("resourceInfo",{data:i.baseMap,context:{origin:"web-map",portal:t.portal||M.a.getDefault(),url:a}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:i.spatialReference},this.resourceInfo.context),this.read({title:t.title,thumbnailUrl:t.thumbnailUrl},{origin:"portal-item",portal:t.portal||M.a.getDefault(),url:a}),this._loadLayersFromJSON(this.resourceInfo.data,a,r)));case 8:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}],[{key:"fromId",value:function(e){var t=T.a[e];return t?n.fromJSON(t):null}}]),b}(Object(m.b)(O.a));Object(b.a)([Object(S.b)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer:function(e,t,r,n){this._writeBaseLayers(e,t,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:y.a}},writer:function(e,t,r,n){this._writeBaseLayers(e,t,n)}}}}}})],U.prototype,"baseLayers",null),Object(b.a)([Object(S.b)({type:String,json:{origins:{"web-scene":{write:!0}}}})],U.prototype,"id",void 0),Object(b.a)([Object(S.b)({type:E.default})],U.prototype,"portalItem",void 0),Object(b.a)([Object(S.b)()],U.prototype,"referenceLayers",null),Object(b.a)([Object(S.b)({readOnly:!0})],U.prototype,"resourceInfo",void 0),Object(b.a)([Object(S.b)({type:R.a})],U.prototype,"spatialReference",void 0),Object(b.a)([Object(S.b)()],U.prototype,"thumbnailUrl",void 0),Object(b.a)([Object(S.b)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],U.prototype,"title",void 0),Object(b.a)([Object(I.a)("title")],U.prototype,"writeTitle",null);var z=U=n=Object(b.a)([Object(P.a)("esri.Basemap")],U);t.default=z},o7RH:function(e,t,r){"use strict";r.r(t);var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=(r("xAIp"),r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),l=r("mK0O"),f=r("eijD"),p=r("NthX"),d=r.n(p),h=r("DGz/"),b=r("fRhz"),y=r("pkWm"),v=r("r7HD"),m=r("/xo8");function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=Object(b.a)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},outSpatialReference:{name:"outSR",getter:function(e){return e.outSpatialReference.wkid}},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},stops:!0,travelMode:!0});function w(){return(w=Object(f.a)(d.a.mark((function e(t,r,n){var i,a,o,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],a=[],o={},s={},c=Object(m.c)(t),e.abrupt("return",(r.stops&&r.stops.features&&Object(v.a)(r.stops.features,a,"stops.features",o),r.pointBarriers&&r.pointBarriers.features&&Object(v.a)(r.pointBarriers.features,a,"pointBarriers.features",o),r.polylineBarriers&&r.polylineBarriers.features&&Object(v.a)(r.polylineBarriers.features,a,"polylineBarriers.features",o),r.polygonBarriers&&r.polygonBarriers.features&&Object(v.a)(r.polygonBarriers.features,a,"polygonBarriers.features",o),Object(y.a)(a).then((function(e){for(var t in o){var r=o[t];i.push(t),s[t]=e.slice(r[0],r[1])}return Object(v.e)(s,i)?Object(v.c)(c.path):Promise.resolve({dontCheck:!0})})).then((function(e){("dontCheck"in e?e.dontCheck:e.hasZ)||Object(v.b)(s,i);var t=function(e){s[e].forEach((function(t,n){r.get(e)[n].geometry=t}))};for(var a in s)t(a);var o=O(O({},n),{},{query:O(O(O({},c.query),j.toQueryParams(r)),{},{f:"json"})}),u=c.path,l="/solve",f=u.endsWith(l)?u:u+l;return Object(h.default)(f,o)})).then((function(e){return Object(v.d)(e)}))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var k=function(e){Object(a.a)(r,e);var t=_(r);function r(e){return Object(n.a)(this,r),t.call(this,e)}return Object(i.a)(r,[{key:"solve",value:function(e,t){return function(e,t,r){return w.apply(this,arguments)}(this.url,e,t)}}]),r}(r("F8mY").a),x=k=Object(c.a)([Object(u.a)("esri.tasks.RouteTask")],k);t.default=x},oBxC:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("B2Uc"),o=function(){function e(t,r){Object(n.a)(this,e),this._context=t,this._desc=r,this._context.instanceCounter.increment(a.b.Renderbuffer,this);var i=this._context.gl;this.glName=i.createRenderbuffer(),this._context.bindRenderbuffer(this),i.renderbufferStorage(i.RENDERBUFFER,r.internalFormat,r.width,r.height)}return Object(i.a)(e,[{key:"descriptor",get:function(){return this._desc}},{key:"resize",value:function(e,t){var r=this._desc;if(r.width!==e||r.height!==t){r.width=e,r.height=t;var n=this._context.gl;this._context.bindRenderbuffer(this),n.renderbufferStorage(n.RENDERBUFFER,r.internalFormat,r.width,r.height)}}},{key:"dispose",value:function(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(a.b.Renderbuffer,this),this._context=null)}}]),e}();t.a=o},oKgo:function(e,t,r){},oLNL:function(e,t,r){"use strict";var n,i=r("eijD"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("NthX"),f=r.n(l),p=r("dQW7"),d=r("0fJP"),h=r("lZmO"),b=r("xAIp"),y=(r("wckI"),r("J4Pc"),r("TM+E"),r("vo12")),v=r("mp5+"),m=r("iaHD"),g=r("jr4m"),O=r("DuP7"),j=r("ursF");function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var _=n=function(e){Object(s.a)(c,e);var t,r=w(c);function c(e){var t;return Object(a.a)(this,c),(t=r.call(this,e)).data=null,t.type="cim",t}return Object(o.a)(c,[{key:"readData",value:function(e,t){return t}},{key:"writeData",value:function(e,t){if(e)for(var r in e)t[r]=e[r]}},{key:"collectRequiredFields",value:(t=Object(i.a)(f.a.mark((function e(t,r){var n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("CIMSymbolReference"!==this.data.type){e.next=6;break}if(!(n=this.data.primitiveOverrides)){e.next=6;break}return i=n.map((function(e){var n=e.valueExpressionInfo;return Object(O.a)(t,r,n.expression)})),e.next=6,Promise.all(i);case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"clone",value:function(){return new n({data:Object(d.a)(this.data)})}},{key:"hash",value:function(){return Object(h.b)(JSON.stringify(this.data)).toString()}}]),c}(j.a);Object(p.a)([Object(b.b)({json:{write:!1}})],_.prototype,"color",void 0),Object(p.a)([Object(b.b)({json:{write:!0}})],_.prototype,"data",void 0),Object(p.a)([Object(v.a)("data",["symbol"])],_.prototype,"readData",null),Object(p.a)([Object(g.a)("data")],_.prototype,"writeData",null),Object(p.a)([Object(y.a)({CIMSymbolReference:"cim"},{readOnly:!0})],_.prototype,"type",void 0);var k=_=n=Object(p.a)([Object(m.a)("esri.symbols.CIMSymbol")],_);t.a=k},oRkd:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0n+b"),f=r("frPA"),p=r("xAIp"),d=(r("J4Pc"),r("gljZ")),h=(r("TM+E"),r("iaHD"));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var y=n=function(e){Object(o.a)(r,e);var t=b(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).decoration="none",n.family="sans-serif",n.size=9,n.style="normal",n.weight="normal",n}return Object(a.a)(r,[{key:"castSize",value:function(e){return Object(f.e)(e)}},{key:"clone",value:function(){return new n({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}},{key:"hash",value:function(){return"".concat(this.decoration,".").concat(this.family,".").concat(this.size,".").concat(this.style,".").concat(this.weight)}}]),r}(l.a);Object(u.a)([Object(p.b)({type:["underline","line-through","none"],json:{default:"none",write:!0}})],y.prototype,"decoration",void 0),Object(u.a)([Object(p.b)({type:String,json:{write:!0}})],y.prototype,"family",void 0),Object(u.a)([Object(p.b)({type:Number,json:{write:{overridePolicy:function(e,t,r){return{enabled:!r||!r.textSymbol3D}}}}})],y.prototype,"size",void 0),Object(u.a)([Object(d.a)("size")],y.prototype,"castSize",null),Object(u.a)([Object(p.b)({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],y.prototype,"style",void 0),Object(u.a)([Object(p.b)({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],y.prototype,"weight",void 0);var v=y=n=Object(u.a)([Object(h.a)("esri.symbols.Font")],y);t.a=v},oTsO:function(e,t,r){"use strict";r.d(t,"a",(function(){return w}));var n=r("mK0O"),i=r("hisu"),a=r("yBJb"),o=r("4Mpa"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("dQW7"),f=r("Mp7X"),p=r("xAIp"),d=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),h=r("jr4m"),b=r("AZZI"),y=r("tZTS"),v={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WMS:!0,KML:!0,RasterDataLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}},m=r("NRoO");function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var w=function(e){var t=function(e){Object(s.a)(r,e);var t=j(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).title=null,e}return Object(a.a)(r,[{key:"writeListMode",value:function(e,t,r,n){(n&&"ground"===n.layerContainerType||e&&Object(y.a)(this,r,{},n))&&(t[r]=e)}},{key:"writeOperationalLayerType",value:function(e,t,r,n){!e||n&&"tables"===n.layerContainerType||(t.layerType=e)}},{key:"writeTitle",value:function(e,t){t.title=e||"Layer"}},{key:"read",value:function(e,t){var n=this;t&&(t.layer=this),Object(b.b)(this,e,(function(t){return Object(o.a)(Object(u.a)(r.prototype),"read",n).call(n,e,t)}),t)}},{key:"write",value:function(e,t){if(t&&t.origin){var n="".concat(t.origin,"/").concat(t.layerContainerType||"operational-layers"),i=v[n],a=i&&i[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===n&&(a=!1),!a)return t.messages&&t.messages.push(new f.a("layer:unsupported","Layers (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' are not supported in the context of '").concat(n,"'"),{layer:this})),null}var s=Object(o.a)(Object(u.a)(r.prototype),"write",this).call(this,e,O(O({},t),{},{layer:this})),c=!!t&&!!t.messages&&!!t.messages.filter((function(e){return e instanceof f.a&&"web-document-write:property-required"===e.name})).length;return!this.url&&c?null:s}},{key:"beforeSave",value:function(){}}]),r}(e);return Object(l.a)([Object(p.b)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),Object(l.a)([Object(p.b)({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],t.prototype,"listMode",void 0),Object(l.a)([Object(h.a)("listMode")],t.prototype,"writeListMode",null),Object(l.a)([Object(p.b)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),Object(l.a)([Object(h.a)("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),Object(l.a)([Object(p.b)(m.h)],t.prototype,"opacity",void 0),Object(l.a)([Object(p.b)({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),Object(l.a)([Object(h.a)("title")],t.prototype,"writeTitle",null),Object(l.a)([Object(p.b)({type:Boolean,json:{name:"visibility",origins:{"web-document":{name:"visibility",default:!0},"portal-item":{name:"visibility",read:{source:["visible","visibility"]}}}}})],t.prototype,"visible",void 0),t=Object(l.a)([Object(d.a)("esri.layers.mixins.OperationalLayer")],t)}},oagz:function(e,t){e.exports=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}},ofiy:function(e,t,r){var n=r("aCmY"),i=r("VbZR"),a=r("oagz");e.exports=function(e,t,r){return t==t?a(e,t,r):n(e,i,r)}},ohHe:function(e,t,r){var n=r("GI0s"),i=r("T9Ud"),a=r("NfLg");e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!a(e)}},okYM:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("eijD"),i=r("NthX"),a=r.n(i),o=r("EKEt"),s=r("IH5m"),c=r("8N15");function u(e,t,r){return l.apply(this,arguments)}function l(){return(l=Object(n.a)(a.a.mark((function e(t,r,n){var i,u,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t&&t.getAtOrigin&&t.getAtOrigin("renderer",r.origin))||"unique-value"!==i.type||!i.styleOrigin){e.next=6;break}return e.next=4,Object(o.c)(i.populateFromStyle());case 4:u=e.sent,Object(s.v)(n),!1===u.ok&&(l=u.error,r&&r.messages&&r.messages.push(new c.a("renderer:style-reference","Failed to create unique value renderer from style reference: ".concat(l.message),{error:l,context:r})),t.clear("renderer",r.origin));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},otWl:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c}));var n=r("67w/"),i=r("+xMG");function a(e,t){var r;if(t.write&&!t.write.writer&&(!1!==t.write.enabled||t.write.overridePolicy)){var a,s=null!=(r=null==e?void 0:e.ndimArray)?r:0;e&&(1===s||"type"in e&&Object(i.a)(e.type))?t.write.writer=u:t.write.writer=s>1?(a=s,function(e,t,r,i){var o;if(null===e)o=null;else{o=l(e,i,a);for(var s=a,c=o;s>0&&Array.isArray(c);)s--,c=c[0];if(void 0!==c)for(var u=0;u<s;u++)o=[o]}Object(n.c)(r,o,t)}):o}}function o(e,t,r,i){Object(n.c)(r,s(e,i),t)}function s(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?c(e):e}function c(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function u(e,t,r,i){var a;null===e?a=null:e&&"function"==typeof e.map?"function"==typeof(a=e.map((function(e){return s(e,i)}))).toArray&&(a=a.toArray()):a=[s(e,i)],Object(n.c)(r,a,t)}function l(e,t,r){return 0!==r&&Array.isArray(e)?e.map((function(e){return l(e,t,r-1)})):s(e,t)}},"p/dP":function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("60cM");function o(e){e.length=0}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;Object(n.a)(this,e),this._pool=new a.a(Array,void 0,o,r,t)}return Object(i.a)(e,[{key:"acquire",value:function(){return this._pool.acquire()}},{key:"release",value:function(e){this._pool.release(e)}},{key:"prune",value:function(){this._pool.prune(0)}}],[{key:"acquire",value:function(){return c.acquire()}},{key:"release",value:function(e){return c.release(e)}},{key:"prune",value:function(){c.prune()}}]),e}(),c=new s(100);t.a=s},p0eS:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return s}));var n=1e-6,i=Math.random,a=Math.PI/180,o=180/Math.PI;function s(e){return e*a}function c(e){return e*o}Object.freeze({__proto__:null,EPSILON:n,RANDOM:i,toRadian:s,toDegree:c,equals:function(e,t){return Math.abs(e-t)<=n*Math.max(1,Math.abs(e),Math.abs(t))}})},pCs0:function(e,t){var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(r)||[]}},pCvA:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"==typeof window&&(r=window)}e.exports=r},pEOu:function(e,t,r){"use strict";r.d(t,"a",(function(){return R})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return k}));var n=r("Mp7X"),i=r("7im+"),a=r("4i+k"),o=r("4zgH"),s=r("NJ4k"),c=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],u=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],l=["upperLeft","lowerLeft"];function f(e){return e>=c.length?null:c[e]}function p(e){return e>=u.length?null:u[e]}function d(e){return e>=l.length?null:l[e]}function h(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function b(e,t,r){for(var n=t.createPointGeometry(r);e.next();)switch(e.tag()){case 3:for(var i=e.getUInt32(),a=e.pos()+i,o=0;e.pos()<a;)t.addCoordinatePoint(n,e.getSInt64(),o++);break;case 1:case 2:default:e.skip()}return n}function y(e,t,r){for(var n=t.createGeometry(r),i=2+(r.hasZ?1:0)+(r.hasM?1:0);e.next();)switch(e.tag()){case 2:for(var a=e.getUInt32(),o=e.pos()+a,s=0;e.pos()<o;)t.addLength(n,e.getUInt32(),s++);break;case 3:var c=e.getUInt32(),u=e.pos()+c,l=0;for(t.allocateCoordinates(n);e.pos()<u;)t.addCoordinate(n,e.getSInt64(),l),++l===i&&(l=0);break;case 1:default:e.skip()}return n}function v(e){for(var t=new o.a,r="esriGeometryPoint";e.next();)switch(e.tag()){case 2:for(var n=e.getUInt32(),i=e.pos()+n;e.pos()<i;)t.lengths.push(e.getUInt32());break;case 3:for(var a=e.getUInt32(),c=e.pos()+a;e.pos()<c;)t.coords.push(e.getSInt64());break;case 1:r=s.a[e.getEnum()];break;default:e.skip()}return{queryGeometry:t,queryGeometryType:r}}function m(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getSInt32();case 5:return e.getUInt32();case 6:return e.getInt64();case 7:return e.getUInt64();case 8:return e.getSInt64();case 9:return e.getBool();default:return e.skip(),null}return null}function g(e){for(var t={type:f(0)};e.next();)switch(e.tag()){case 1:t.name=e.getString();break;case 2:t.type=f(e.getEnum());break;case 3:t.alias=e.getString();break;case 4:t.sqlType=p(e.getEnum());break;case 5:e.skip();break;case 6:t.defaultValue=e.getString();break;default:e.skip()}return t}function O(e){for(var t={};e.next();)switch(e.tag()){case 1:t.name=e.getString();break;case 2:t.isSystemMaintained=e.getBool();break;default:e.skip()}return t}function j(e,t,r,n){for(var i=t.createFeature(r),a=0;e.next();)switch(e.tag()){case 1:var o=n[a++].name;i.attributes[o]=e.processMessage(m);break;case 2:i.geometry=e.processMessageWithArgs(y,t,r);break;case 4:i.centroid=e.processMessageWithArgs(b,t,r);break;default:e.skip()}return i}function w(e){for(var t=[1,1,1,1];e.next();)switch(e.tag()){case 1:t[0]=e.getDouble();break;case 2:t[1]=e.getDouble();break;case 4:t[2]=e.getDouble();break;case 3:t[3]=e.getDouble();break;default:e.skip()}return t}function _(e){for(var t=[0,0,0,0];e.next();)switch(e.tag()){case 1:t[0]=e.getDouble();break;case 2:t[1]=e.getDouble();break;case 4:t[2]=e.getDouble();break;case 3:t[3]=e.getDouble();break;default:e.skip()}return t}function k(e){for(var t={originPosition:d(0)};e.next();)switch(e.tag()){case 1:t.originPosition=d(e.getEnum());break;case 2:t.scale=e.processMessage(w);break;case 3:t.translate=e.processMessage(_);break;default:e.skip()}return t}function x(e){for(var t={};e.next();)switch(e.tag()){case 1:t.shapeAreaFieldName=e.getString();break;case 2:t.shapeLengthFieldName=e.getString();break;case 3:t.units=e.getString();break;default:e.skip()}return t}function S(e,t){for(var r=t.createSpatialReference();e.next();)switch(e.tag()){case 1:r.wkid=e.getUInt32();break;case 5:r.wkt=e.getString();break;case 2:r.latestWkid=e.getUInt32();break;case 3:r.vcsWkid=e.getUInt32();break;case 4:r.latestVcsWkid=e.getUInt32();break;default:e.skip()}return r}function P(e,t){var r=t.createFeatureResult();r.geometryType=h(t,0);for(var n=!1;e.next();)switch(e.tag()){case 1:r.objectIdFieldName=e.getString();break;case 3:r.globalIdFieldName=e.getString();break;case 4:r.geohashFieldName=e.getString();break;case 5:r.geometryProperties=e.processMessage(x);break;case 7:r.geometryType=h(t,e.getEnum());break;case 8:r.spatialReference=e.processMessageWithArgs(S,t);break;case 10:r.hasZ=e.getBool();break;case 11:r.hasM=e.getBool();break;case 12:r.transform=e.processMessage(k);break;case 9:var i=e.getBool();r.exceededTransferLimit=i;break;case 13:t.addField(r,e.processMessage(g));break;case 15:n||(t.prepareFeatures(r),n=!0),t.addFeature(r,e.processMessageWithArgs(j,t,r,r.fields));break;case 2:r.uniqueIdField=e.processMessage(O);break;case 6:default:e.skip()}return t.finishFeatureResult(r),r}function I(e,t){for(var r={},n=null;e.next();)switch(e.tag()){case 4:n=e.processMessageWithArgs(v);break;case 1:r.featureResult=e.processMessageWithArgs(P,t);break;case 2:case 3:default:e.skip()}return Object(i.i)(n)&&r.featureResult&&t.addQueryGeometry(r,n),r}function R(e,t){try{for(var r=new a.a(new Uint8Array(e),new DataView(e)),i={};r.next();)switch(r.tag()){case 2:i.queryResult=r.processMessageWithArgs(I,t);break;default:r.skip()}return i}catch(o){throw new n.a("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:o})}}},pRE0:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("Z8Iu");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var h=n=function(e){Object(o.a)(r,e);var t=d(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).customValues=null,e}return Object(a.a)(r,[{key:"clone",value:function(){return new n({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}}]),r}(p.a);Object(u.a)([Object(l.b)({type:[Number],json:{write:!0}})],h.prototype,"customValues",void 0);var b=h=n=Object(u.a)([Object(f.a)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],h);t.a=b},pS7t:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r("fb8N"),i=r("Mp7X"),a=r("/H5Z"),o=r("FFWV"),s=r("DKWO"),c=r("lvFO"),u=r("I5De"),l=r("rgdf"),f=r("2d0T"),p=r("jVPL"),d=r("+yVN"),h=r("+JFt");function b(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],b=arguments.length>2&&void 0!==arguments[2]&&arguments[2],y=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!e)return{symbol:null};if(Object(n.c)(e)||e instanceof a.a)t=e.clone();else if("cim"===e.type)t=o.a.fromCIMSymbol(e);else if(e instanceof s.a)t=c.a.fromSimpleLineSymbol(e);else if(e instanceof u.a)t=o.a.fromSimpleMarkerSymbol(e);else if(e instanceof l.a)t=o.a.fromPictureMarkerSymbol(e);else if(e instanceof f.a)t=p.a.fromSimpleFillSymbol(e);else{if(!(e instanceof d.a))return{error:new i.a("symbol-conversion:unsupported-2d-symbol","2D symbol of type '".concat(e.type||e.declaredClass,"' is unsupported in 3D"),{symbol:e})};t=y?h.a.fromTextSymbol(e):o.a.fromTextSymbol(e)}if(r&&(t.id=e.id),b&&Object(n.c)(t))for(var v=0;v<t.symbolLayers.length;++v)t.symbolLayers.getItemAt(v)._ignoreDrivers=!0;return{symbol:t}}},"pYN/":function(e,t,r){"use strict";r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return b})),r.d(t,"f",(function(){return l})),r.d(t,"g",(function(){return p})),r.d(t,"h",(function(){return s})),r.d(t,"i",(function(){return f})),r.d(t,"j",(function(){return d})),r.d(t,"k",(function(){return c})),r.d(t,"l",(function(){return u})),r.d(t,"m",(function(){return a}));var n=r("7im+");function i(e,t){if(e.forEach)e.forEach(t);else for(var r=0;r<e.length;r++)t(e[r],r,e)}function a(e,t,r){if(e.slice)return e.slice(t,r);void 0===t?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),void 0===r?r=e.length:(r<0&&(r+=e.length),r=Math.min(e.length,Math.max(0,r)));for(var n=Math.max(0,r-t),i=new(0,e.constructor)(n),a=0;a<n;a++)i[a]=e[t+a];return i}function o(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}function s(e){return e instanceof Int8Array||e&&e.constructor&&"Int8Array"===e.constructor.name}function c(e){return e instanceof Uint8Array||e&&e.constructor&&"Uint8Array"===e.constructor.name}function u(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&"Uint8ClampedArray"===e.constructor.name}function l(e){return e instanceof Int16Array||e&&e.constructor&&"Int16Array"===e.constructor.name}function f(e){return e instanceof Uint16Array||e&&e.constructor&&"Uint16Array"===e.constructor.name}function p(e){return e instanceof Int32Array||e&&e.constructor&&"Int32Array"===e.constructor.name}function d(e){return e instanceof Uint32Array||e&&e.constructor&&"Uint32Array"===e.constructor.name}function h(e){return e instanceof Float32Array||e&&e.constructor&&"Float32Array"===e.constructor.name}function b(e){return e instanceof Float64Array||e&&e.constructor&&"Float64Array"===e.constructor.name}function y(e){return Object(n.h)(e)?0:128+e.buffer.byteLength+64}},pZIW:function(e,t,r){var n=r("b2OE"),i=r("7IP4"),a=r("OF9M"),o=n&&1/a(new n([,-0]))[1]==1/0?function(e){return new n(e)}:i;e.exports=o},pjU7:function(e,t,r){"use strict";var n=r("NthX"),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.addExpander=void 0,t.addExpander=function(e){var t=e.view,i=e.widgetContent,a=e.expandIconClass,c=e.position,u=e.defaultOpen,l=e.expandWidgetArgs;return s(void 0,void 0,void 0,n.mark((function e(){var s,f,p,d;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=Promise.resolve().then((function(){return o(r("eLT7"))})),e.next=3,f;case 3:return p=e.sent,d=p.default,s=new d(Object.assign({view:t,expandIconClass:a,content:i},l)),null==t||t.ui.add(s,c),u&&s.expand(),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))}},pkWm:function(e,t,r){"use strict";r.d(t,"a",(function(){return L})),r.d(t,"b",(function(){return N}));var n=r("aNYv"),i=r("eijD"),a=r("NthX"),o=r.n(a),s=r("sc0P"),c=r("Mp7X"),u=r("TM+E"),l=r("7im+"),f=r("cFtQ"),p=r("AQ8/"),d=r("0Qtq"),h=r("12QT"),b=r("3p7a"),y=r("mK0O"),v=(r("ZTBZ"),r("DGz/")),m=r("z9dv"),g=r("aic5");function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r,n){return _.apply(this,arguments)}function _(){return(_=Object(i.a)(o.a.mark((function e(t,r,n,i){var a,s,c,u,l,f,p,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="string"==typeof t?Object(m.K)(t):t,s=r[0].spatialReference,c=j(j({},i),{},{query:j(j({},a.query),{},{f:"json",sr:JSON.stringify(s),target:JSON.stringify({geometryType:Object(g.c)(r[0]),geometries:r}),cutter:JSON.stringify(n)})}),e.next=5,Object(v.default)(a.path+"/cut",c);case 5:return u=e.sent,l=u.data,f=l.cutIndexes,p=l.geometries,d=void 0===p?[]:p,e.abrupt("return",{cutIndexes:f,geometries:d.map((function(e){var t=Object(g.a)(e);return t.spatialReference=s,t}))});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return P.apply(this,arguments)}function P(){return(P=Object(i.a)(o.a.mark((function e(t,r,n){var i,a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="string"==typeof t?Object(m.K)(t):t,a=r[0].spatialReference,s=Object(g.c)(r[0]),c=x(x({},n),{},{query:x(x({},i.query),{},{f:"json",sr:a.wkid?a.wkid:JSON.stringify(a),geometries:JSON.stringify(I(r))})}),e.t0=R,e.next=4,Object(v.default)(i.path+"/simplify",c);case 4:return e.t1=e.sent.data,e.t2=s,e.t3=a,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return{geometryType:Object(g.c)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function R(e,t,r){var n=Object(g.b)(t);return e.map((function(e){var t=n.fromJSON(e);return t.spatialReference=r,t}))}function M(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T=u.a.getLogger("esri.geometry.support.normalizeUtils");function A(e,t,r){if(t){var n=function(e,t){if(!(e instanceof p.a||e instanceof f.a)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw T.error(r),new c.a(r)}var n,i=[],a=M(Object(d.b)(e));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=[];i.push(s),s.push([o[0][0],o[0][1]]);for(var u=0;u<o.length-1;u++){var l=o[u][0],h=o[u][1],b=o[u+1][0],y=o[u+1][1],v=Math.sqrt((b-l)*(b-l)+(y-h)*(y-h)),m=(y-h)/v,g=(b-l)/v,O=v/t;if(O>1){for(var j=1;j<=O-1;j++){var w=j*t,_=g*w+l,k=m*w+h;s.push([_,k])}var x=(v+Math.floor(O-1)*t)/2,S=g*x+l,P=m*x+h;s.push([S,P])}s.push([b,y])}}}catch(I){a.e(I)}finally{a.f()}return function(e){return"polygon"===e.type}(e)?new f.a({rings:i,spatialReference:e.spatialReference}):new p.a({paths:i,spatialReference:e.spatialReference})}(e,1e6);e=Object(b.e)(n,!0)}return r&&(e=Object(d.e)(e,r)),e}function C(e,t,r){if(Array.isArray(e)){var n=e[0];if(n>t){var i=Object(d.d)(n,t);e[0]=n+i*(-2*t)}else if(n<r){var a=Object(d.d)(n,r);e[0]=n+a*(-2*r)}}else{var o=e.x;if(o>t){var s=Object(d.d)(o,t);e=e.clone().offset(s*(-2*t),0)}else if(o<r){var c=Object(d.d)(o,r);e=e.clone().offset(c*(-2*r),0)}}return e}function D(e,t){for(var r=-1,n=function(n){for(var i=t.cutIndexes[n],a=t.geometries[n],o=Object(d.b)(a),s=function(e){var t=o[e];t.some((function(r){if(r[0]<180)return!0;for(var n=0,i=0;i<t.length;i++){var o=t[i][0];n=o>n?o:n}n=Number(n.toFixed(9));for(var s=-360*Object(d.d)(n,180),c=0;c<t.length;c++){var u=a.getPoint(e,c);a.setPoint(e,c,u.clone().offset(s,0))}return!0}))},c=0;c<o.length;c++)s(c);if(i===r){if(function(e){return"polygon"===e[0].type}(e)){var u,l=M(Object(d.b)(a));try{for(l.s();!(u=l.n()).done;){var f=u.value;e[i]=e[i].addRing(f)}}catch(y){l.e(y)}finally{l.f()}}else if(function(e){return"polyline"===e[0].type}(e)){var p,h=M(Object(d.b)(a));try{for(h.s();!(p=h.n()).done;){var b=p.value;e[i]=e[i].addPath(b)}}catch(y){h.e(y)}finally{h.f()}}}else r=i,e[i]=a},i=0;i<t.cutIndexes.length;i++)n(i);return e}function L(e,t,r){return F.apply(this,arguments)}function F(){return(F=Object(i.a)(o.a.mark((function e(t,r,n){var i,a,c,u,y,v,m,g,O,j,_,k,x,P,I,R,E,T,F,N,B,V,U,z,q,H,G,W,J,$,Z,Q,X,K,Y,ee,te,re,ne,ie;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}return e.abrupt("return",L([t],r));case 2:i=r?r.url:s.a.geometryServiceUrl,j=0,_=[],k=[],x=M(t);try{for(x.s();!(P=x.n()).done;)I=P.value,Object(l.h)(I)?k.push(I):(a||(a=I.spatialReference,c=Object(h.d)(a),u=a.isWebMercator,m=u?102100:4326,y=d.a[m].maxX,v=d.a[m].minX,g=d.a[m].plus180Line,O=d.a[m].minus180Line),c?"mesh"===I.type?k.push(I):"point"===I.type?k.push(C(I.clone(),y,v)):"multipoint"===I.type?((R=I.clone()).points=R.points.map((function(e){return C(e,y,v)})),k.push(R)):"extent"===I.type?(E=I.clone()._normalize(!1,!1,c),k.push(E.rings?new f.a(E):E)):I.extent?(T=I.extent,F=Object(d.d)(T.xmin,v)*(2*y),N=0===F?I.clone():Object(d.e)(I.clone(),F),T.offset(F,0),T.intersects(g)&&T.xmax!==y?(j=T.xmax>j?T.xmax:j,N=A(N,u),_.push(N),k.push("cut")):T.intersects(O)&&T.xmin!==v?(j=T.xmax*(2*y)>j?T.xmax*(2*y):j,N=A(N,u,360),_.push(N),k.push("cut")):k.push(N)):k.push(I.clone()):k.push(I))}catch(o){x.e(o)}finally{x.f()}for(B=Object(d.d)(j,y),V=-90,U=B,z=new p.a;B>0;)q=360*B-180,z.addPath([[q,V],[q,-1*V]]),V*=-1,B--;if(!(_.length>0&&U>0)){e.next=28;break}return e.t0=D,e.t1=_,e.next=15,w(i,_,z,n);case 15:for(e.t2=e.sent,H=(0,e.t0)(e.t1,e.t2),G=[],W=[],J=0;J<k.length;J++)"cut"!==($=k[J])?W.push($):(Z=H.shift(),Q=t[J],Object(l.i)(Q)&&"polygon"===Q.type&&Q.rings&&Q.rings.length>1&&Z.rings.length>=Q.rings.length?(G.push(Z),W.push("simplify")):W.push(u?Object(b.b)(Z):Z));if(G.length){e.next=22;break}return e.abrupt("return",W);case 22:return e.next=24,S(i,G,n);case 24:for(X=e.sent,K=[],Y=0;Y<W.length;Y++)"simplify"!==(ee=W[Y])?K.push(ee):K.push(u?Object(b.b)(X.shift()):X.shift());return e.abrupt("return",K);case 28:for(te=[],re=0;re<k.length;re++)"cut"!==(ne=k[re])?te.push(ne):(ie=_.shift(),te.push(!0===u?Object(b.b)(ie):ie));return e.abrupt("return",Promise.resolve(te));case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){var r=Object(h.d)(t);if(r){var i=Object(n.a)(r.valid,2),a=i[0],o=i[1],s=o-a;if(e<a)for(;e<a;)e+=s;if(e>o)for(;e>o;)e-=s}return e}},"q+I6":function(e,t){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},qCPK:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return p}));var n=r("XKgO");var i=[];function a(e,t,r,n){return{xmin:e,ymin:t,xmax:r,ymax:n}}function o(e,t,r,n,i,a){return{xmin:e,ymin:t,zmin:r,xmax:n,ymax:i,zmax:a}}function s(e,t,r,n,i,a){return{xmin:e,ymin:t,mmin:r,xmax:n,ymax:i,mmax:a}}function c(e,t,r,n,i,a,o,s){return{xmin:e,ymin:t,zmin:r,mmin:n,xmax:i,ymax:a,zmax:o,mmax:s}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t?r?c(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):o(e[0],e[1],e[2],e[3],e[4],e[5]):r?s(e[0],e[1],e[2],e[3],e[4],e[5]):a(e[0],e[1],e[2],e[3])}function l(e){return e?function(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}(e)?e:function(e){return void 0!==e.x&&void 0!==e.y}(e)?function(e){var t=e.x,r=e.y,n=e.z,i=e.m,u=null!=i;return null!=n?u?c(t,r,n,i,t,r,n,i):o(t,r,n,t,r,n):u?s(t,r,i,t,r,i):a(t,r,t,r)}(e):function(e){return void 0!==e.rings}(e)?f(e):function(e){return void 0!==e.paths}(e)?p(e):function(e){return void 0!==e.points}(e)?function(e){var t=e.hasZ,r=e.hasM,a=e.points;return u(Object(n.c)(i,a,t,r),t,r)}(e):null:null}function f(e){var t=e.hasZ,r=e.hasM,a=e.rings,o=Object(n.d)(i,a,t,r);return o?u(o,t,r):null}function p(e){var t=e.hasZ,r=e.hasM,a=e.paths,o=Object(n.d)(i,a,t,r);return o?u(o,t,r):null}},qCZy:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return c}));r("J4Pc");var n=r("Mp7X"),i=r("67w/"),a=r("8N15"),o=r("s9cN"),s=r("8QvB");function c(e,t,r,a){var o=function(e,t){return e?function(e,t){if(!t||"web-scene"!==t.origin)return!0;switch(e.type){case"simple":case"unique-value":case"class-breaks":return!0;case"heatmap":case"dictionary":case"dot-density":default:return!1}}(e,t)?e.write({},t):(t.messages&&t.messages.push(new n.a("renderer:unsupported","Renderer of type '".concat(e.declaredClass,"' are not supported in scenes."),{renderer:e,context:t})),null):null}(e,a);o&&Object(i.c)(r,o,t)}function u(e,t){return f(e,null,t)}var l=Object(o.b)({types:s.a});function f(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(r&&r.messages&&r.messages.push(new a.a("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):l(e,t,r):null}},qg2j:function(e,t,r){var n=r("Dh2Y"),i=r("JIgs"),a=r("tDyL");e.exports=function(e,t){var r={};return t=a(t,3),i(e,(function(e,i,a){n(r,i,t(e,i,a))})),r}},qkBe:function(e,t,r){var n=r("IqJI"),i=r("tDyL"),a=r("bim0"),o=r("i/JN"),s=r("nxZd"),c=r("mH3y"),u=a((function(e){var t=c(e);return s(t)&&(t=void 0),o(n(e,1,s,!0),i(t,2))}));e.exports=u},ql4C:function(e,t,r){"use strict";r.d(t,"a",(function(){return ee}));var n,i=r("eijD"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("NthX"),f=r.n(l),p=r("dQW7"),d=r("xAIp"),h=(r("J4Pc"),r("wckI")),b=r("TM+E"),y=r("mp5+"),v=r("iaHD"),m=r("jr4m"),g=r("DuP7"),O=r("4Mpa"),j=r("MEGb"),w=r("EwUX");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var k=n=function(e){Object(s.a)(r,e);var t=_(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).type="color",n.normalizationField=null,n}return Object(o.a)(r,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(e){e&&Array.isArray(e)&&(e=e.filter((function(e){return!!e}))).sort((function(e,t){return e.value-t.value})),this._set("stops",e)}},{key:"clone",value:function(){return new n({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((function(e){return e.clone()})),legendOptions:this.legendOptions&&this.legendOptions.clone()})}},{key:"getAttributeHash",value:function(){return"".concat(Object(O.a)(Object(u.a)(r.prototype),"getAttributeHash",this).call(this),"-").concat(this.normalizationField)}},{key:"_interpolateData",value:function(){return this.stops&&this.stops.map((function(e){return e.value||0}))}}]),r}(j.a);Object(p.a)([Object(d.b)({readOnly:!0})],k.prototype,"cache",null),Object(p.a)([Object(d.b)({type:["color"],json:{type:["colorInfo"]}})],k.prototype,"type",void 0),Object(p.a)([Object(d.b)({type:String,json:{write:!0}})],k.prototype,"normalizationField",void 0),Object(p.a)([Object(d.b)({type:[w.a],json:{write:!0}})],k.prototype,"stops",null);var x,S=k=n=Object(p.a)([Object(v.a)("esri.renderers.visualVariables.ColorVariable")],k),P=r("0n+b"),I=r("UR7D");function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var M=x=function(e){Object(s.a)(r,e);var t=R(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).label=null,n.opacity=null,n.value=null,n}return Object(o.a)(r,[{key:"readOpacity",value:function(e,t){return Object(I.b)(t.transparency)}},{key:"writeOpacity",value:function(e,t,r){t[r]=Object(I.a)(e)}},{key:"clone",value:function(){return new x({label:this.label,opacity:this.opacity,value:this.value})}}]),r}(P.a);Object(p.a)([Object(d.b)({type:String,json:{write:!0}})],M.prototype,"label",void 0),Object(p.a)([Object(d.b)({type:Number,json:{type:h.a,write:{target:"transparency"}}})],M.prototype,"opacity",void 0),Object(p.a)([Object(y.a)("opacity",["transparency"])],M.prototype,"readOpacity",null),Object(p.a)([Object(m.a)("opacity")],M.prototype,"writeOpacity",null),Object(p.a)([Object(d.b)({type:Number,json:{write:!0}})],M.prototype,"value",void 0);var E,T=M=x=Object(p.a)([Object(v.a)("esri.renderers.visualVariables.support.OpacityStop")],M);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var C=E=function(e){Object(s.a)(r,e);var t=A(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).type="opacity",n.normalizationField=null,n}return Object(o.a)(r,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(e){e&&Array.isArray(e)&&(e=e.filter((function(e){return!!e}))).sort((function(e,t){return e.value-t.value})),this._set("stops",e)}},{key:"clone",value:function(){return new E({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((function(e){return e.clone()})),legendOptions:this.legendOptions&&this.legendOptions.clone()})}},{key:"getAttributeHash",value:function(){return"".concat(Object(O.a)(Object(u.a)(r.prototype),"getAttributeHash",this).call(this),"-").concat(this.normalizationField)}},{key:"_interpolateData",value:function(){return this.stops&&this.stops.map((function(e){return e.value||0}))}}]),r}(j.a);Object(p.a)([Object(d.b)({readOnly:!0})],C.prototype,"cache",null),Object(p.a)([Object(d.b)({type:["opacity"],json:{type:["transparencyInfo"]}})],C.prototype,"type",void 0),Object(p.a)([Object(d.b)({type:String,json:{write:!0}})],C.prototype,"normalizationField",void 0),Object(p.a)([Object(d.b)({type:[T],json:{write:!0}})],C.prototype,"stops",null);var D=C=E=Object(p.a)([Object(v.a)("esri.renderers.visualVariables.OpacityVariable")],C),L=r("B8JN"),F=r("/TJE"),N=r("hZBP"),B=r("7i+s"),V=r("8N15");function U(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var H=b.a.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),G={color:S,size:F.a,opacity:D,rotation:L.a},W=new B.a({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),J=/^\[([^\]]+)\]$/i,$=function(e){Object(s.a)(r,e);var t=q(r);function r(){var e;return Object(a.a)(this,r),(e=t.apply(this,arguments)).colorVariables=null,e.opacityVariables=null,e.rotationVariables=null,e.sizeVariables=null,e}return Object(o.a)(r,[{key:"visualVariables",set:function(e){if(this._resetVariables(),(e=e&&e.filter((function(e){return!!e})))&&e.length){var t,r=U(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;switch(n.type){case"color":this.colorVariables.push(n);break;case"opacity":this.opacityVariables.push(n);break;case"rotation":this.rotationVariables.push(n);break;case"size":this.sizeVariables.push(n)}}}catch(a){r.e(a)}finally{r.f()}this.sizeVariables.length&&this.sizeVariables.some((function(e){return!!e.target}))&&e.sort((function(e,t){return e.target===t.target?0:e.target?1:-1}));for(var i=0;i<e.length;i++)e[i].index=i;this._set("visualVariables",e)}else this._set("visualVariables",e)}},{key:"readVariables",value:function(e,t,r){var n=t.rotationExpression,i=t.rotationType,a=n&&n.match(J),o=a&&a[1];if(o&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:i,field:o})),e)return e.map((function(e){var t=W.read(e.type),n=G[t];n||(H.warn("Unknown variable type: ".concat(t)),r&&r.messages&&r.messages.push(new V.a("visual-variable:unsupported","visualVariable of type '".concat(t,"' is not supported"),{definition:e,context:r})));var i=new n;return i.read(e,r),i}))}},{key:"writeVariables",value:function(e,t){var r,n=[],i=U(e);try{for(i.s();!(r=i.n()).done;){var a=r.value.toJSON(t);a&&n.push(a)}}catch(o){i.e(o)}finally{i.f()}return n}},{key:"_resetVariables",value:function(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}}]),r}(N.a);Object(p.a)([Object(d.b)()],$.prototype,"visualVariables",null);var Z=$=Object(p.a)([Object(v.a)("esri.renderers.visualVariables.VisualVariableFactory")],$);function Q(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var Y={base:j.a,key:"type",typeMap:{opacity:D,color:S,rotation:L.a,size:F.a}},ee=function(e){var t=function(e){Object(s.a)(n,e);var t,r=K(n);function n(){var e;return Object(a.a)(this,n),(e=r.apply(this,arguments))._vvFactory=new Z,e}return Object(o.a)(n,[{key:"visualVariables",set:function(e){this._vvFactory.visualVariables=e,this._set("visualVariables",this._vvFactory.visualVariables)}},{key:"readVisualVariables",value:function(e,t,r){return this._vvFactory.readVariables(e,t,r)}},{key:"writeVisualVariables",value:function(e,t,r,n){t[r]=this._vvFactory.writeVariables(e,n)}},{key:"arcadeRequiredForVisualVariables",get:function(){if(!this.visualVariables)return!1;var e,t=Q(this.visualVariables);try{for(t.s();!(e=t.n()).done;){if(e.value.arcadeRequired)return!0}}catch(r){t.e(r)}finally{t.f()}return!1}},{key:"hasVisualVariables",value:function(e,t){return e?!!this.getVisualVariablesForType(e,t):!!(this.getVisualVariablesForType("size",t)||this.getVisualVariablesForType("color",t)||this.getVisualVariablesForType("opacity",t)||this.getVisualVariablesForType("rotation",t))}},{key:"getVisualVariablesForType",value:function(e,t){var r=this.visualVariables;if(r){var n=r.filter((function(r){return r.type===e&&("string"==typeof t?r.target===t:!1!==t||!r.target)}));return n&&0===n.length?void 0:n}}},{key:"collectVVRequiredFields",value:(t=Object(i.a)(f.a.mark((function e(t,r){var n,i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],this.visualVariables&&(n=n.concat(this.visualVariables)),i=Q(n),e.prev=3,i.s();case 5:if((a=i.n()).done){e.next=17;break}if(o=a.value,e.t0=o,!e.t0){e.next=15;break}if(o.field&&Object(g.d)(t,r,o.field),o.normalizationField&&Object(g.d)(t,r,o.normalizationField),e.t1=o.valueExpression,!e.t1){e.next=15;break}return e.next=15,Object(g.a)(t,r,o.valueExpression);case 15:e.next=5;break;case 17:e.next=22;break;case 19:e.prev=19,e.t2=e.catch(3),i.e(e.t2);case 22:return e.prev=22,i.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,this,[[3,19,22,25]])}))),function(e,r){return t.apply(this,arguments)})}]),n}(e);return Object(p.a)([Object(d.b)({types:[Y],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),Object(p.a)([Object(y.a)("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),Object(p.a)([Object(m.a)("visualVariables")],t.prototype,"writeVisualVariables",null),t=Object(p.a)([Object(v.a)("esri.renderers.mixins.VisualVariablesMixin")],t)}},qnx5:function(e,t,r){"use strict";var n=r("hisu"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("dQW7"),c=(r("ZTBZ"),r("0n+b")),u=r("xAIp"),l=(r("J4Pc"),r("wckI")),f=(r("TM+E"),r("iaHD")),p=r("aic5"),d=r("AQ8/");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var b=function(e){Object(i.a)(r,e);var t=h(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).calculationType=null,i.geodesic=null,i.lengthUnit=null,i.polylines=null,i}return r}(c.a);Object(s.a)([Object(u.b)({type:String,json:{write:!0}})],b.prototype,"calculationType",void 0),Object(s.a)([Object(u.b)({type:Boolean,json:{write:!0}})],b.prototype,"geodesic",void 0),Object(s.a)([Object(u.b)({json:{write:!0}})],b.prototype,"lengthUnit",void 0),Object(s.a)([Object(u.b)({type:[d.a],json:{read:{reader:function(e){return e?e.map((function(e){return Object(p.a)(e)})):null}},write:{writer:function(e,t){t.polylines=e.map((function(e){return e.toJSON()}))}}}})],b.prototype,"polylines",void 0),(b=Object(s.a)([Object(f.a)("esri.rest.support.LengthsParameters")],b)).from=Object(l.m)(b);var y=b;t.a=y},r5cT:function(e,t,r){"use strict";function n(e,t,r,n){var i=3*e,a=3*(r-e)-i,o=1-i-a,s=3*t,c=3*(n-t)-s,u=1-s-c;function l(e){return((o*e+a)*e+i)*e}function f(e){return((u*e+c)*e+s)*e}function p(e){return(3*o*e+2*a)*e+i}function d(e,t){var r,n,i,a,o,s;for(i=e,s=0;s<8;s++){if(a=l(i)-e,Math.abs(a)<t)return i;if(o=p(i),Math.abs(o)<1e-6)break;i-=a/o}if((i=e)<(r=0))return r;if(i>(n=1))return n;for(;r<n;){if(a=l(i),Math.abs(a-e)<t)return i;e>a?r=i:n=i,i=.5*(n-r)+r}return i}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-6;return f(d(e,t))}}r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return n}));var i=/^cubic-bezier\((.*)\)/,a={};function o(e){var t=a[e]||null;if(!t){var r=i.exec(e);if(r){var o=r[1].split(",").map((function(e){return parseFloat(e.trim())}));4!==o.length||o.some((function(e){return isNaN(e)}))||(t=n.apply(n,o))}}return t}a.ease=n(.25,.1,.25,1),a.linear=n(0,0,1,1),a.easeIn=a["ease-in"]=n(.42,0,1,1),a.easeOut=a["ease-out"]=n(0,0,.58,1),a.easeInOut=a["ease-in-out"]=n(.42,0,.58,1)},r7HD:function(e,t,r){"use strict";r.d(t,"a",(function(){return B})),r.d(t,"b",(function(){return V})),r.d(t,"c",(function(){return q})),r.d(t,"d",(function(){return U})),r.d(t,"e",(function(){return z}));var n=r("eijD"),i=r("NthX"),a=r.n(i),o=r("DGz/"),s=r("Mp7X"),c=r("7im+"),u=r("67w/"),l=r("z9dv"),f=r("/xo8"),p=r("hisu"),d=r("CHlC"),h=r("kMo5"),b=r("P+uj"),y=r("dQW7"),v=r("0n+b"),m=r("xAIp"),g=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),O=r("d5Xc");function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(b.a)(e);if(t){var i=Object(b.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var w=function(e){Object(d.a)(r,e);var t=j(r);function r(e){var n;return Object(p.a)(this,r),(n=t.call(this,e)).currentVersion=null,n.defaultTravelMode=null,n.directionsLanguage=null,n.directionsSupportedLanguages=null,n.directionsTimeAttribute=null,n.hasZ=null,n.impedance=null,n.networkDataset=null,n.supportedTravelModes=null,n}return r}(v.a);Object(y.a)([Object(m.b)()],w.prototype,"currentVersion",void 0),Object(y.a)([Object(m.b)()],w.prototype,"defaultTravelMode",void 0),Object(y.a)([Object(m.b)()],w.prototype,"directionsLanguage",void 0),Object(y.a)([Object(m.b)()],w.prototype,"directionsSupportedLanguages",void 0),Object(y.a)([Object(m.b)()],w.prototype,"directionsTimeAttribute",void 0),Object(y.a)([Object(m.b)()],w.prototype,"hasZ",void 0),Object(y.a)([Object(m.b)()],w.prototype,"impedance",void 0),Object(y.a)([Object(m.b)()],w.prototype,"networkDataset",void 0),Object(y.a)([Object(m.b)({type:[O.a]})],w.prototype,"supportedTravelModes",void 0);var _=w=Object(y.a)([Object(g.a)("esri.rest.support.NetworkServiceDescription")],w),k=r("yBJb"),x=r("4VMI"),S=r("mp5+"),P=r("kJId"),I=r("OSyX"),R=r("ZOZe");function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(b.a)(e);if(t){var i=Object(b.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var E=function(e){Object(d.a)(r,e);var t=M(r);function r(e){var n;return Object(p.a)(this,r),(n=t.call(this,e)).directions=null,n.route=null,n.routeName=null,n.stops=null,n}return r}(v.a);Object(y.a)([Object(m.b)({type:R.a,json:{write:!0}})],E.prototype,"directions",void 0),Object(y.a)([Object(m.b)({type:x.a,json:{write:!0}})],E.prototype,"route",void 0),Object(y.a)([Object(m.b)({type:String,json:{write:!0}})],E.prototype,"routeName",void 0),Object(y.a)([Object(m.b)({type:[x.a],json:{write:!0}})],E.prototype,"stops",void 0);var T=E=Object(y.a)([Object(g.a)("esri.rest.support.RouteResult")],E);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(b.a)(e);if(t){var i=Object(b.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}function C(e){return e&&P.default.fromJSON(e).features.map((function(e){return e}))}var D=function(e){Object(d.a)(r,e);var t=A(r);function r(e){var n;return Object(p.a)(this,r),(n=t.call(this,e)).barriers=null,n.messages=null,n.pointBarriers=null,n.polylineBarriers=null,n.polygonBarriers=null,n.routeResults=null,n}return Object(k.a)(r,[{key:"readPointBarriers",value:function(e,t){return C(t.barriers||t.pointBarriers)}},{key:"readPolylineBarriers",value:function(e){return C(e)}},{key:"readPolygonBarriers",value:function(e){return C(e)}}]),r}(v.a);Object(y.a)([Object(m.b)({aliasOf:"pointBarriers"})],D.prototype,"barriers",void 0),Object(y.a)([Object(m.b)({type:[I.a]})],D.prototype,"messages",void 0),Object(y.a)([Object(m.b)({type:[x.a]})],D.prototype,"pointBarriers",void 0),Object(y.a)([Object(S.a)("pointBarriers",["barriers","pointBarriers"])],D.prototype,"readPointBarriers",null),Object(y.a)([Object(m.b)({type:[x.a]})],D.prototype,"polylineBarriers",void 0),Object(y.a)([Object(S.a)("polylineBarriers")],D.prototype,"readPolylineBarriers",null),Object(y.a)([Object(m.b)({type:[x.a]})],D.prototype,"polygonBarriers",void 0),Object(y.a)([Object(S.a)("polygonBarriers")],D.prototype,"readPolygonBarriers",null),Object(y.a)([Object(m.b)({type:[T]})],D.prototype,"routeResults",void 0);var L=D=Object(y.a)([Object(g.a)("esri.rest.support.RouteResultsContainer")],D);function F(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B(e,t,r,n){n[r]=[t.length,t.length+e.length],e.forEach((function(e){t.push(e.geometry)}))}function V(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length){var i,a=F(n);try{for(a.s();!(i=a.n()).done;){i.value.z=void 0}}catch(o){a.e(o)}finally{a.f()}}}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")}function U(e){var t,r,n=[],i=[],a=e.data,o=a.directions,s=void 0===o?[]:o,c=a.routes,u=(c=void 0===c?{}:c).features,l=void 0===u?[]:u,f=c.spatialReference,p=void 0===f?null:f,d=a.stops,h=(d=void 0===d?{}:d).features,b=void 0===h?[]:h,y=d.spatialReference,v=void 0===y?null:y,m=a.barriers,g=a.polygonBarriers,O=a.polylineBarriers,j=a.messages,w="esri.tasks.RouteTask.NULL_ROUTE_NAME",_=!0,k=l&&p||b&&v||m&&m.spatialReference||g&&g.spatialReference||O&&O.spatialReference;s.forEach((function(e){n.push(t=e.routeName),i[t]={directions:e}})),l.forEach((function(e){-1===n.indexOf(t=e.attributes.Name)&&(n.push(t),i[t]={}),e.geometry&&(e.geometry.spatialReference=k),i[t].route=e})),b.forEach((function(e){r=e.attributes,-1===n.indexOf(t=r.RouteName||w)&&(n.push(t),i[t]={}),t!==w&&(_=!1),e.geometry&&(e.geometry.spatialReference=k),null==i[t].stops&&(i[t].stops=[]),i[t].stops.push(e)})),b.length>0&&!0===_&&(i[n[0]].stops=i[w].stops,delete i[w],n.splice(n.indexOf(w),1));var x=n.map((function(e){return i[e].routeName=e===w?null:e,i[e]}));return L.fromJSON({routeResults:x,pointBarriers:m,polygonBarriers:g,polylineBarriers:O,messages:j})}function z(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length){var i,a=F(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(Object(c.i)(o)&&o.hasZ)return!0}}catch(s){a.e(s)}finally{a.f()}}}return!1}function q(e,t,r){return H.apply(this,arguments)}function H(){return(H=Object(n.a)(a.a.mark((function e(t,r,n){var i,c,u,l,p,d,h,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new s.a("network-service:missing-url","Url to Network service is missing");case 2:return i=Object(f.a)({f:"json",token:r},n),e.next=5,Object(o.default)(t,i);case 5:for(c=e.sent,(u=c.data).supportedTravelModes||(u.supportedTravelModes=[]),l=0;l<u.supportedTravelModes.length;l++)u.supportedTravelModes[l].id||(u.supportedTravelModes[l].id=u.supportedTravelModes[l].itemId);return p=u.currentVersion>=10.4?J(t,r,n):G(t,n),e.next=12,p;case 12:return d=e.sent,h=d.defaultTravelMode,b=d.supportedTravelModes,e.abrupt("return",(u.defaultTravelMode=h,u.supportedTravelModes=b,_.fromJSON(u)));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t){return W.apply(this,arguments)}function W(){return(W=Object(n.a)(a.a.mark((function e(t,r){var n,i,s,c,p,d,h,b,y,v,m,g,O,j,w,_,k,x,S,P,I,R,M,E,T,A;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(f.a)({f:"json"},r),e.next=3,Object(o.default)(t.replace(/\/rest\/.*$/i,"/info"),s);case 3:if(c=e.sent,(p=c.data)&&p.owningSystemUrl){e.next=7;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 7:return d=p.owningSystemUrl,h=Object(l.I)(d)+"/sharing/rest/portals/self",e.next=11,Object(o.default)(h,s);case 11:if(b=e.sent,y=b.data,v=Object(u.b)("helperServices.routingUtilities.url",y)){e.next=16;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 16:return m=Object(f.c)(d),g=/\/solve$/i.test(m.path)?"Route":/\/solveclosestfacility$/i.test(m.path)?"ClosestFacility":"ServiceAreas",O=Object(f.a)({f:"json",serviceName:g},r),j=Object(l.I)(v)+"/GetTravelModes/execute",e.next=22,Object(o.default)(j,O);case 22:if(w=e.sent,_=[],k=null,null!=w&&null!=(n=w.data)&&null!=(i=n.results)&&i.length){x=w.data.results,S=F(x);try{for(S.s();!(P=S.n()).done;)if("supportedTravelModes"===(I=P.value).paramName){if(null!=(R=I.value)&&R.features){M=F(I.value.features);try{for(M.s();!(E=M.n()).done;)(T=E.value.attributes)&&(A=JSON.parse(T.TravelMode),_.push(A))}catch(a){M.e(a)}finally{M.f()}}}else"defaultTravelMode"===I.paramName&&(k=I.value)}catch(a){S.e(a)}finally{S.f()}}return e.abrupt("return",{supportedTravelModes:_,defaultTravelMode:k});case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t,r){return $.apply(this,arguments)}function $(){return($=Object(n.a)(a.a.mark((function e(t,r,n){var i,c,u,p,d,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=Object(f.a)({f:"json",token:r},n),c=Object(l.I)(t)+"/retrieveTravelModes",e.next=5,Object(o.default)(c,i);case 5:return u=e.sent,p=u.data,d=p.supportedTravelModes,h=p.defaultTravelMode,e.abrupt("return",{supportedTravelModes:d,defaultTravelMode:h});case 12:throw e.prev=12,e.t0=e.catch(0),new s.a("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}},rV0Y:function(e,t,r){var n=r("LSEb")(r("s3UK"),"Promise");e.exports=n},rXxv:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return h}));var n=r("mK0O"),i=r("g+AA"),a=r("DGz/"),o=r("z9dv"),s=r("VVQW"),c=r("gjvr");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e){var t=e.toJSON();return t.attachmentTypes&&(t.attachmentTypes=t.attachmentTypes.join(",")),t.keywords&&(t.keywords=t.keywords.join(",")),t.globalIds&&(t.globalIds=t.globalIds.join(",")),t.objectIds&&(t.objectIds=t.objectIds.join(",")),t.size&&(t.size=t.size.join(",")),t}function h(e,t){var r,n={},a=f(e);try{for(a.s();!(r=a.n()).done;){var c,u=r.value,l=u.parentObjectId,p=u.parentGlobalId,d=f(u.attachmentInfos);try{for(d.s();!(c=d.n()).done;){var h=c.value,b=h.id,y=Object(o.b)(Object(i.a)("".concat(t,"/").concat(l,"/attachments/").concat(b))),v=s.a.fromJSON(h);v.set({url:y,parentObjectId:l,parentGlobalId:p}),n[l]?n[l].push(v):n[l]=[v]}}catch(m){d.e(m)}finally{d.f()}}}catch(m){a.e(m)}finally{a.f()}return n}function b(e,t,r){var n={query:Object(c.a)(l(l({},e.query),{},{f:"json"},d(t)))};return r&&(n=l(l(l({},r),n),{},{query:l(l({},r.query),n.query)})),Object(a.default)(e.path+"/queryAttachments",n)}},rgdf:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("4Mpa"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("dQW7"),f=r("0fJP"),p=r("frPA"),d=r("xAIp"),h=(r("wckI"),r("J4Pc"),r("TM+E"),r("vo12")),b=r("mp5+"),y=r("iaHD"),v=r("5Xgy"),m=r("3tQL");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var O=n=function(e){Object(s.a)(r,e);var t=g(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).color=null,e.type="picture-marker",e.url=null,e.source=null,e.height=12,e.width=12,e.size=null,e}return Object(a.a)(r,[{key:"normalizeCtorArgs",value:function(e,t,r){if(e&&"string"!=typeof e&&null==e.imageData)return e;var n={};return e&&(n.url=e),null!=t&&(n.width=Object(p.e)(t)),null!=r&&(n.height=Object(p.e)(r)),n}},{key:"readHeight",value:function(e,t){return t.size||e}},{key:"readWidth",value:function(e,t){return t.size||e}},{key:"clone",value:function(){var e=new n({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",Object(f.a)(this.source)),e}},{key:"hash",value:function(){return"".concat(Object(o.a)(Object(u.a)(r.prototype),"hash",this).call(this),".").concat(this.height,".").concat(this.url,".").concat(this.width)}}]),r}(v.a);Object(l.a)([Object(d.b)({json:{write:!1}})],O.prototype,"color",void 0),Object(l.a)([Object(h.a)({esriPMS:"picture-marker"},{readOnly:!0})],O.prototype,"type",void 0),Object(l.a)([Object(d.b)(m.b)],O.prototype,"url",void 0),Object(l.a)([Object(d.b)(m.a)],O.prototype,"source",void 0),Object(l.a)([Object(d.b)({type:Number,cast:p.e,json:{write:!0}})],O.prototype,"height",void 0),Object(l.a)([Object(b.a)("height",["height","size"])],O.prototype,"readHeight",null),Object(l.a)([Object(d.b)({type:Number,cast:p.e,json:{write:!0}})],O.prototype,"width",void 0),Object(l.a)([Object(d.b)({json:{write:!1}})],O.prototype,"size",void 0);var j=O=n=Object(l.a)([Object(y.a)("esri.symbols.PictureMarkerSymbol")],O);t.a=j},rk7W:function(e,t){t.f=Object.getOwnPropertySymbols},rrk0:function(e,t){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},ruIw:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("yPX3"),d=r("iVOX");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var b=n=function(e){Object(o.a)(r,e);var t=h(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="pie-chart",n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),r}(p.a);Object(u.a)([Object(l.b)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:d.a.write}})],b.prototype,"type",void 0);var y=b=n=Object(u.a)([Object(f.a)("esri.popup.content.PieChartMediaInfo")],b);t.a=y},rxbk:function(e,t,r){var n=r("UVdV");e.exports=n("navigator","userAgent")||""},rzlk:function(e,t,r){"use strict";r.r(t);var n=r("mK0O"),i=r("ERkP"),a=r.n(i),o=r("emEt"),s=r("IOVJ");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.default=function(e){var t=e.location,r=o.default.loadPageSync(t.pathname);return r?a.a.createElement(s.a,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({location:t,pageResources:r},r.json)):null}},s2cg:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0fJP"),f=r("xAIp"),p=(r("wckI"),r("J4Pc"),r("TM+E"),r("vo12")),d=r("iaHD"),h=r("0n+b");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var y=n=function(e){Object(o.a)(r,e);var t=b(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).name=null,n.code=null,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({name:this.name,code:this.code})}}]),r}(h.a);Object(u.a)([Object(f.b)({type:String,json:{write:!0}})],y.prototype,"name",void 0),Object(u.a)([Object(f.b)({type:[String,Number],json:{write:!0}})],y.prototype,"code",void 0);var v,m=y=n=Object(u.a)([Object(d.a)("esri.layers.support.CodedValue")],y),g=r("x/Hb");function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var j=v=function(e){Object(o.a)(r,e);var t=O(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).codedValues=null,n.type="coded-value",n}return Object(a.a)(r,[{key:"getName",value:function(e){var t=null;if(this.codedValues){var r=String(e);this.codedValues.some((function(e){return String(e.code)===r&&(t=e.name),!!t}))}return t}},{key:"clone",value:function(){return new v({codedValues:Object(l.a)(this.codedValues),name:this.name})}}]),r}(g.a);Object(u.a)([Object(f.b)({type:[m],json:{write:!0}})],j.prototype,"codedValues",void 0),Object(u.a)([Object(p.a)({codedValue:"coded-value"})],j.prototype,"type",void 0);var w=j=v=Object(u.a)([Object(d.a)("esri.layers.support.CodedValueDomain")],j);t.a=w},s3NK:function(e,t){e.exports={}},s3UK:function(e,t,r){var n=r("FfeU"),i="object"==typeof self&&self&&self.Object===Object&&self,a=n||i||Function("return this")();e.exports=a},s3t7:function(e,t,r){var n=r("VNQV"),i=r("0KRy"),a=r("rV0Y"),o=r("b2OE"),s=r("fxeQ"),c=r("GI0s"),u=r("bE7W"),l=u(n),f=u(i),p=u(a),d=u(o),h=u(s),b=c;(n&&"[object DataView]"!=b(new n(new ArrayBuffer(1)))||i&&"[object Map]"!=b(new i)||a&&"[object Promise]"!=b(a.resolve())||o&&"[object Set]"!=b(new o)||s&&"[object WeakMap]"!=b(new s))&&(b=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case l:return"[object DataView]";case f:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=b},s4dv:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("7i+s"),f=r("0n+b"),p=r("0fJP"),d=r("xAIp"),h=r("wckI"),b=(r("J4Pc"),r("TM+E"),r("mp5+")),y=r("iaHD");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var m=n=function(e){Object(o.a)(r,e);var t=v(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).minValue=0,n.maxValue=0,n}return Object(a.a)(r,[{key:"clone",value:function(){return new n({minValue:this.minValue,maxValue:this.maxValue})}}]),r}(f.a);Object(u.a)([Object(d.b)({type:Number,json:{write:!0}})],m.prototype,"minValue",void 0),Object(u.a)([Object(d.b)({type:Number,json:{write:!0}})],m.prototype,"maxValue",void 0);var g,O=m=n=Object(u.a)([Object(y.a)("esri.renderer.support.AuthoringInfoClassBreakInfo")],m);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var w=g=function(e){Object(o.a)(r,e);var t=j(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).field="",n.normalizationField="",n.label="",n.classBreakInfos=[],n}return Object(a.a)(r,[{key:"clone",value:function(){return new g({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:Object(p.a)(this.classBreakInfos)})}}]),r}(f.a);Object(u.a)([Object(d.b)({type:String,json:{write:!0}})],w.prototype,"field",void 0),Object(u.a)([Object(d.b)({type:String,json:{write:!0}})],w.prototype,"normalizationField",void 0),Object(u.a)([Object(d.b)({type:String,json:{write:!0}})],w.prototype,"label",void 0),Object(u.a)([Object(d.b)({type:[O],json:{write:!0}})],w.prototype,"classBreakInfos",void 0);var _,k=w=g=Object(u.a)([Object(y.a)("esri.renderers.support.AuthoringInfoFieldInfo")],w),x=r("6CzD"),S=r("gljZ");function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var I=new l.a({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),R=new l.a({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),M={key:function(e){return"number"==typeof e?"number":"string"},typeMap:{number:Number,string:String},base:null},E=["high-to-low","above-and-below","centered-on","extremes"],T=Object(x.a)(new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below"].concat(["high-to-low","above-and-below","90-10","above","below"]))),A=["seconds","minutes","hours","days","months","years"],C=_=function(e){Object(o.a)(r,e);var t=P(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).endTime=null,n.field=null,n.maxSliderValue=null,n.minSliderValue=null,n.startTime=null,n.type=null,n.units=null,n}return Object(a.a)(r,[{key:"castEndTime",value:function(e){return"string"==typeof e||"number"==typeof e?e:null}},{key:"castStartTime",value:function(e){return"string"==typeof e||"number"==typeof e?e:null}},{key:"style",get:function(){return"color"===this.type?this._get("style"):null},set:function(e){this._set("style",e)}},{key:"theme",get:function(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null},set:function(e){this._set("theme",e)}},{key:"clone",value:function(){return new _({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}}]),r}(f.a);Object(u.a)([Object(d.b)({types:M,json:{write:!0}})],C.prototype,"endTime",void 0),Object(u.a)([Object(S.a)("endTime")],C.prototype,"castEndTime",null),Object(u.a)([Object(d.b)({type:String,json:{write:!0}})],C.prototype,"field",void 0),Object(u.a)([Object(d.b)({type:Number,json:{write:!0}})],C.prototype,"maxSliderValue",void 0),Object(u.a)([Object(d.b)({type:Number,json:{write:!0}})],C.prototype,"minSliderValue",void 0),Object(u.a)([Object(d.b)({types:M,json:{write:!0}})],C.prototype,"startTime",void 0),Object(u.a)([Object(S.a)("startTime")],C.prototype,"castStartTime",null),Object(u.a)([Object(d.b)({type:I.apiValues,value:null,json:{type:I.jsonValues,read:I.read,write:I.write}})],C.prototype,"style",null),Object(u.a)([Object(d.b)({type:T,value:null,json:{type:T,origins:{"web-scene":{type:E,write:{writer:function(e,t){E.indexOf(e)>-1&&(t.theme=e)}}}},write:!0}})],C.prototype,"theme",null),Object(u.a)([Object(d.b)({type:R.apiValues,json:{type:R.jsonValues,read:R.read,write:R.write}})],C.prototype,"type",void 0),Object(u.a)([Object(d.b)({type:A,json:{type:A,write:!0}})],C.prototype,"units",void 0);var D,L=C=_=Object(u.a)([Object(y.a)("esri.renderers.support.AuthoringInfoVisualVariable")],C),F=r("Zexz");function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var B=new l.a({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),V=new l.a({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),U=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],z=D=function(e){Object(o.a)(r,e);var t=N(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).colorRamp=null,n.lengthUnit=null,n.maxSliderValue=null,n.minSliderValue=null,n.visualVariables=null,n}return Object(a.a)(r,[{key:"classificationMethod",get:function(){var e=this._get("classificationMethod"),t=this.type;return t&&"relationship"!==t?"class-breaks-size"===t||"class-breaks-color"===t?e||"manual":null:e},set:function(e){this._set("classificationMethod",e)}},{key:"readColorRamp",value:function(e){if(e)return Object(F.a)(e)}},{key:"fields",get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(e){this._set("fields",e)}},{key:"field1",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},set:function(e){this._set("field1",e)}},{key:"field2",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field2")},set:function(e){this._set("field2",e)}},{key:"focus",get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(e){this._set("focus",e)}},{key:"numClasses",get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(e){this._set("numClasses",e)}},{key:"statistics",get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null},set:function(e){this._set("statistics",e)}},{key:"standardDeviationInterval",get:function(){var e=this.type;return e&&"relationship"!==e&&"class-breaks-size"!==e&&"class-breaks-color"!==e||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(e){this._set("standardDeviationInterval",e)}},{key:"type",get:function(){return this._get("type")},set:function(e){var t=e;"classed-size"===e?t="class-breaks-size":"classed-color"===e&&(t="class-breaks-color"),this._set("type",t)}},{key:"univariateSymbolStyle",get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null},set:function(e){this._set("univariateSymbolStyle",e)}},{key:"univariateTheme",get:function(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null},set:function(e){this._set("univariateTheme",e)}},{key:"clone",value:function(){return new D({classificationMethod:this.classificationMethod,colorRamp:Object(p.a)(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:Object(p.a)(this.field1),field2:Object(p.a)(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map((function(e){return e.clone()})),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme})}}]),r}(f.a);Object(u.a)([Object(d.b)({type:B.apiValues,value:null,json:{type:B.jsonValues,read:B.read,write:B.write,origins:{"web-document":{default:"manual",type:B.jsonValues,read:B.read,write:B.write}}}})],z.prototype,"classificationMethod",null),Object(u.a)([Object(d.b)({types:F.b,json:{write:!0}})],z.prototype,"colorRamp",void 0),Object(u.a)([Object(b.a)("colorRamp")],z.prototype,"readColorRamp",null),Object(u.a)([Object(d.b)({type:[String],value:null,json:{write:!0}})],z.prototype,"fields",null),Object(u.a)([Object(d.b)({type:k,value:null,json:{write:!0}})],z.prototype,"field1",null),Object(u.a)([Object(d.b)({type:k,value:null,json:{write:!0}})],z.prototype,"field2",null),Object(u.a)([Object(d.b)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],z.prototype,"focus",null),Object(u.a)([Object(d.b)({type:Number,value:null,json:{type:h.a,write:!0}})],z.prototype,"numClasses",null),Object(u.a)([Object(d.b)({type:U,json:{type:U,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],z.prototype,"lengthUnit",void 0),Object(u.a)([Object(d.b)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],z.prototype,"maxSliderValue",void 0),Object(u.a)([Object(d.b)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],z.prototype,"minSliderValue",void 0),Object(u.a)([Object(d.b)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],z.prototype,"statistics",null),Object(u.a)([Object(d.b)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],z.prototype,"standardDeviationInterval",null),Object(u.a)([Object(d.b)({type:V.apiValues,value:null,json:{type:V.jsonValues,read:V.read,write:V.write}})],z.prototype,"type",null),Object(u.a)([Object(d.b)({type:[L],json:{write:!0}})],z.prototype,"visualVariables",void 0),Object(u.a)([Object(d.b)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],z.prototype,"univariateSymbolStyle",null),Object(u.a)([Object(d.b)({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],z.prototype,"univariateTheme",null);var q=z=D=Object(u.a)([Object(y.a)("esri.renderers.support.AuthoringInfo")],z);t.a=q},s9cN:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return p}));var n=r("TM+E"),i=r("67w/"),a=r("8N15"),o=r("9ZxH"),s=r("+xMG");function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=n.a.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function f(e,t,r){var n,a;e&&(!r&&!t.read||null!=(n=t.read)&&n.reader||!1===(null==(a=t.read)?void 0:a.enabled)||function(e){return"types"in e?m(e.types):v(e.type)}(e)&&Object(i.c)("read.reader",p(e),t))}function p(e){var t,r=null!=(t=e.ndimArray)?t:0;if(r>1)return function(e){var t,r=d(e),n=h.bind(null,r),i=null!=(t=e.ndimArray)?t:0;return function(e,t,r){if(null==e)return e;e=n(e,r,i);for(var a=i,o=e;a>0&&Array.isArray(o);)a--,o=o[0];if(void 0!==o)for(var s=0;s<a;s++)e=[e];return e}}(e);if(1===r)return b(e);if("type"in e&&y(e.type)){var n,i,a=null==(n=e.type.prototype)||null==(i=n.itemType)?void 0:i.Type,o=b("function"==typeof a?{type:a}:{types:a});return function(t,r,n){var i=o(t,r,n);return i?new e.type(i):i}}return d(e)}function d(e){return"type"in e?function(e){return e.prototype.read?function(t,r,n){if(null==t)return t;var i=typeof t;if("object"===i){var a=new e;return a.read(t,n),a}l.error("Expected JSON value of type 'object' to deserialize type '".concat(e.prototype.declaredClass,"', but got '").concat(i,"'"))}:e.fromJSON}(e.type):function(e){var t,r=null,n=null!=(t=e.errorContext)?t:"type";return function(t,i,s){if(null==t)return t;var c=typeof t;if("object"===c){r||(r=function(e){var t={};for(var r in e.typeMap){var n,i,a=e.typeMap[r],s=Object(o.a)(a.prototype);if("function"!=typeof e.key){var c=s.properties[e.key];if(c){null!=(n=c.json)&&n.type&&Array.isArray(c.json.type)&&1===c.json.type.length&&"string"==typeof c.json.type[0]&&(t[c.json.type[0]]=a);var u=null==(i=c.json)?void 0:i.write;if(u&&u.writer){var l=u.target,f="string"==typeof l?l:e.key,p={};u.writer(r,p,f),p[f]&&(t[p[f]]=a)}else t[r]=a}}}return t}(e));var u=e.key;if("string"==typeof u){var f=t[u],p=f?r[f]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!p){var d="Type '".concat(f||"unknown","' is not supported");return s&&s.messages&&t&&s.messages.push(new a.a("".concat(n,":unsupported"),d,{definition:t,context:s})),void l.error(d)}var h=new p;return h.read(t,s),h}}else l.error("Expected JSON value of type 'object' to deserialize, but got '".concat(c,"'"))}}(e.types)}function h(e,t,r,n){return 0!==n&&Array.isArray(t)?t.map((function(t){return h(e,t,r,n-1)})):e(t,void 0,r)}function b(e){var t=d(e);return function(e,r,n){if(null==e)return e;if(Array.isArray(e)){var i,a=[],o=c(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=t(s,void 0,n);void 0!==u&&a.push(u)}}catch(f){o.e(f)}finally{o.f()}return a}var l=t(e,void 0,n);return void 0!==l?[l]:void 0}}function y(e){if(!Object(s.a)(e))return!1;var t=e.prototype.itemType;return!(!t||!t.Type)&&("function"==typeof t.Type?v(t.Type):m(t.Type))}function v(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||y(e))}function m(e){for(var t in e.typeMap)if(!v(e.typeMap[t]))return!1;return!0}},sCFI:function(e,t,r){!function(e){"use strict";function t(e){if("next"===e.toLowerCase())return"next";var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function r(e){return void 0===e&&(e="4.17"),"https://js.arcgis.com/"+e+"/"}function n(e){return!e||t(e)?function(e){void 0===e&&(e="4.17");var n=r(e),i=t(e);return"next"!==i&&3===i.major?n+(i.minor<=10?"js/":"")+"esri/css/esri.css":n+"esri/themes/light/main.css"}(e):e}function i(e,t){var r=n(e),i=function(e){return document.querySelector('link[href*="'+e+'"]')}(r);return i||function(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}(i=function(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}(r),t),i}var a={Promise:"undefined"!=typeof window?window.Promise:void 0},o={};function s(e,t,r){var n;r&&(n=function(e,t){var r=function r(n){t(n.error||new Error("There was an error attempting to load "+e.src)),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}(e,r)),e.addEventListener("load",(function r(){t(e),e.removeEventListener("load",r,!1),n&&e.removeEventListener("error",n,!1)}),!1)}function c(e){void 0===e&&(e={}),o=e}function u(){return document.querySelector("script[data-esri-loader]")}function l(){var e=window.require;return e&&e.on}function f(e){void 0===e&&(e={});var t={};[o,e].forEach((function(e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}));var n=t.version,c=t.url||r(n);return new a.Promise((function(e,r){var a=u();if(a){var o=a.getAttribute("src");o!==c?r(new Error("The ArcGIS API for JavaScript is already loaded ("+o+").")):l()?e(a):s(a,e,r)}else if(l())r(new Error("The ArcGIS API for JavaScript is already loaded."));else{var f=t.css;f&&i(!0===f?n:f,t.insertCssBefore),t.dojoConfig&&(window.dojoConfig=t.dojoConfig),s(a=function(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}(c),(function(){a.setAttribute("data-esri-loader","loaded"),e(a)}),r),document.body.appendChild(a)}}))}function p(e){return new a.Promise((function(t,r){var n=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];n.remove(),t(e)}))}))}function d(e,t){if(void 0===t&&(t={}),l())return p(e);var r=u(),n=r&&r.getAttribute("src");return!t.url&&n&&(t.url=n),f(t).then((function(){return p(e)}))}var h={getScript:u,isLoaded:l,loadModules:d,loadScript:f,loadCss:i,setDefaultOptions:c,utils:a};e.getScript=u,e.isLoaded=l,e.loadModules=d,e.loadScript=f,e.loadCss=i,e.setDefaultOptions=c,e.utils=a,e.default=h,Object.defineProperty(e,"__esModule",{value:!0})}(t)},sFjk:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0fJP"),f=r("xAIp"),p=(r("wckI"),r("J4Pc"),r("TM+E"),r("iaHD")),d=r("jr4m"),h=r("SLE6"),b=r("U95q");function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var v=n=function(e){Object(o.a)(r,e);var t=y(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).description=null,n.fieldInfos=null,n.title=null,n.type="fields",n}return Object(a.a)(r,[{key:"writeFieldInfos",value:function(e,t){t.fieldInfos=e&&e.map((function(e){return e.toJSON()}))}},{key:"clone",value:function(){return new n({description:this.description,fieldInfos:Array.isArray(this.fieldInfos)?Object(l.a)(this.fieldInfos):null,title:this.title})}}]),r}(b.a);Object(u.a)([Object(f.b)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],v.prototype,"description",void 0),Object(u.a)([Object(f.b)({type:[h.a]})],v.prototype,"fieldInfos",void 0),Object(u.a)([Object(d.a)("fieldInfos")],v.prototype,"writeFieldInfos",null),Object(u.a)([Object(f.b)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],v.prototype,"title",void 0),Object(u.a)([Object(f.b)({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],v.prototype,"type",void 0);var m=v=n=Object(u.a)([Object(p.a)("esri.popup.content.FieldsContent")],v);t.a=m},sQvh:function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,"a",(function(){return n}))},sVZi:function(e,t,r){"use strict";var n=r("mK0O"),i=r("eijD"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("NthX"),f=r.n(l),p=r("dQW7"),d=r("Mp7X"),h=r("J4Pc"),b=r("7im+"),y=r("IH5m"),v=r("xAIp"),m=(r("wckI"),r("TM+E"),r("iaHD")),g=r("ZWAC"),O=r("/xo8"),j=r("rXxv"),w=r("wK6d");function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(){return(x=Object(i.a)(f.a.mark((function e(t,r,n){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(O.c)(t),e.abrupt("return",Object(j.a)(i,w.a.from(r),k({},n)).then((function(e){return Object(j.b)(e.data.attachmentGroups,i.path)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=r("KbHJ"),P=r("hdDo");function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(){return(M=Object(i.a)(f.a.mark((function e(t,r,n){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(O.c)(t),e.abrupt("return",Object(S.executeQueryForCount)(i,P.a.from(r),R({},n)).then((function(e){return e.data.count})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r("ZTBZ");var E=r("nd5+");function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(){return(C=Object(i.a)(f.a.mark((function e(t,r,n){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(O.c)(t),e.abrupt("return",Object(S.executeQueryForExtent)(i,P.a.from(r),A({},n)).then((function(e){return{count:e.data.count,extent:E.a.fromJSON(e.data.extent)}})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(){return(F=Object(i.a)(f.a.mark((function e(t,r,n){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(O.c)(t),e.abrupt("return",Object(S.executeQueryForIds)(i,P.a.from(r),L({},n)).then((function(e){return e.data.objectIds})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=r("kJId");function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e,t,r){return z.apply(this,arguments)}function z(){return(z=Object(i.a)(f.a.mark((function e(t,r,n){var i,a,o,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(O.c)(t),a=V({},n),o=P.a.from(r),e.next=5,Object(S.executeQuery)(i,o,o.sourceSpatialReference,a);case 5:return s=e.sent,c=s.data,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=r("S9oG"),H=r("4WE2"),G=r("+b7D");function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z(e,t){return t}function Q(e,t,r,n){switch(r){case 0:return ee(e,t+n,0);case 1:return"lowerLeft"===e.originPosition?ee(e,t+n,1):function(e,t,r){var n=e.translate,i=e.scale;return n[r]-t*i[r]}(e,t+n,1)}}function X(e,t,r,n){switch(r){case 2:return ee(e,t,2);default:return Q(e,t,r,n)}}function K(e,t,r,n){switch(r){case 2:return ee(e,t,3);default:return Q(e,t,r,n)}}function Y(e,t,r,n){switch(r){case 3:return ee(e,t,3);default:return X(e,t,r,n)}}function ee(e,t,r){var n=e.translate,i=e.scale;return n[r]+t*i[r]}var te=function(){function e(t){Object(a.a)(this,e),this.options=t,this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],this.previousCoordinate=[0,0],this.transform=null,this.applyTransform=Z,this.lengths=[],this.currentLengthIndex=0,this.toAddInCurrentPath=0,this.vertexDimension=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,this.AttributesConstructor=function(){}}return Object(o.a)(e,[{key:"createFeatureResult",value:function(){return{fields:[],features:[]}}},{key:"finishFeatureResult",value:function(e){if(this.options.applyTransform&&(e.transform=null),this.AttributesConstructor=function(){},this.coordinateBuffer=null,this.lengths.length=0,e.hasZ){var t=Object(G.a)(e.geometryType,this.options.sourceSpatialReference,e.spatialReference);if(t){var r,n=J(e.features);try{for(n.s();!(r=n.n()).done;){t(r.value.geometry)}}catch(i){n.e(i)}finally{n.f()}}}}},{key:"createSpatialReference",value:function(){return{}}},{key:"addField",value:function(e,t){e.fields.push(t);var r=e.fields.map((function(e){return e.name}));this.AttributesConstructor=function(){var e,t=J(r);try{for(t.s();!(e=t.n()).done;){this[e.value]=null}}catch(n){t.e(n)}finally{t.f()}}}},{key:"addFeature",value:function(e,t){e.features.push(t)}},{key:"prepareFeatures",value:function(e){var t=this;switch(this.transform=e.transform,this.options.applyTransform&&e.transform&&(this.applyTransform=this.deriveApplyTransform(e)),this.vertexDimension=2,e.hasZ&&this.vertexDimension++,e.hasM&&this.vertexDimension++,e.geometryType){case"esriGeometryPoint":this.addCoordinate=function(e,r,n){return t.addCoordinatePoint(e,r,n)},this.createGeometry=function(e){return t.createPointGeometry(e)};break;case"esriGeometryPolygon":this.addCoordinate=function(e,r,n){return t.addCoordinatePolygon(e,r,n)},this.createGeometry=function(e){return t.createPolygonGeometry(e)};break;case"esriGeometryPolyline":this.addCoordinate=function(e,r,n){return t.addCoordinatePolyline(e,r,n)},this.createGeometry=function(e){return t.createPolylineGeometry(e)};break;case"esriGeometryMultipoint":this.addCoordinate=function(e,r,n){return t.addCoordinateMultipoint(e,r,n)},this.createGeometry=function(e){return t.createMultipointGeometry(e)};break;default:Object(q.a)(e.geometryType)}}},{key:"createFeature",value:function(){return this.lengths.length=0,this.currentLengthIndex=0,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,{attributes:new this.AttributesConstructor}}},{key:"allocateCoordinates",value:function(){}},{key:"addLength",value:function(e,t,r){0===this.lengths.length&&(this.toAddInCurrentPath=t),this.lengths.push(t)}},{key:"addQueryGeometry",value:function(e,t){var r=t.queryGeometry,i=t.queryGeometryType,a=Object(H.z)(r.clone(),r,!1,!1,this.transform),o=Object(H.k)(a,i,!1,!1);e.queryGeometryType=i,e.queryGeometry=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o)}},{key:"createPointGeometry",value:function(e){var t={x:0,y:0,spatialReference:e.spatialReference};return e.hasZ&&(t.z=0),e.hasM&&(t.m=0),t}},{key:"addCoordinatePoint",value:function(e,t,r){switch(t=this.applyTransform(this.transform,t,r,0),r){case 0:e.x=t;break;case 1:e.y=t;break;case 2:"z"in e?e.z=t:e.m=t;break;case 3:e.m=t}}},{key:"transformPathLikeValue",value:function(e,t){var r=0;return t<=1&&(r=this.previousCoordinate[t],this.previousCoordinate[t]+=e),this.applyTransform(this.transform,e,t,r)}},{key:"addCoordinatePolyline",value:function(e,t,r){this.dehydratedAddPointsCoordinate(e.paths,t,r)}},{key:"addCoordinatePolygon",value:function(e,t,r){this.dehydratedAddPointsCoordinate(e.rings,t,r)}},{key:"addCoordinateMultipoint",value:function(e,t,r){0===r&&e.points.push([]);var n=this.transformPathLikeValue(t,r);e.points[e.points.length-1].push(n)}},{key:"createPolygonGeometry",value:function(e){return{rings:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}},{key:"createPolylineGeometry",value:function(e){return{paths:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}},{key:"createMultipointGeometry",value:function(e){return{points:[],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}},{key:"dehydratedAddPointsCoordinate",value:function(e,t,r){0===r&&0==this.toAddInCurrentPath--&&(e.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);var n=this.transformPathLikeValue(t,r),i=e[e.length-1];0===r&&(this.coordinateBufferPtr=0,this.coordinateBuffer=new Array(this.vertexDimension),i.push(this.coordinateBuffer)),this.coordinateBuffer[this.coordinateBufferPtr++]=n}},{key:"deriveApplyTransform",value:function(e){var t=e.hasZ,r=e.hasM;return t&&r?Y:t?X:r?K:Q}}]),e}();function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ie(e,t,r){return ae.apply(this,arguments)}function ae(){return(ae=Object(i.a)(f.a.mark((function e(t,r,n){var i,a,o,s,c,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(O.c)(t),a=ne({},n),o=P.a.from(r),s=!o.quantizationParameters,e.next=6,Object(S.executeQueryPBF)(i,o,new te({sourceSpatialReference:o.sourceSpatialReference,applyTransform:s}),a);case 6:return c=e.sent,u=c.data,e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=r("DGz/"),se=r("gjvr");function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function le(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fe(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pe(e,t){var r=e.toJSON();return r.objectIds&&(r.objectIds=r.objectIds.join(",")),r.orderByFields&&(r.orderByFields=r.orderByFields.join(",")),!r.outFields||null!=t&&t.returnCountOnly?delete r.outFields:-1!==r.outFields.indexOf("*")?r.outFields="*":r.outFields=r.outFields.join(","),r.outSpatialReference&&(r.outSR=r.outSR.wkid||JSON.stringify(r.outSR.toJSON()),delete r.outSpatialReference),r.dynamicDataSource&&(r.layer=JSON.stringify({source:r.dynamicDataSource}),delete r.dynamicDataSource),r}function de(e,t,r){return he.apply(this,arguments)}function he(){return(he=Object(i.a)(f.a.mark((function e(t,r,n){var i,a,o,s,c,u,l,p,d,h;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(t,r,n);case 2:i=e.sent,a=i.data,o=a.geometryType,s=a.spatialReference,c={},u=le(a.relatedRecordGroups);try{for(u.s();!(l=u.n()).done;)if(p=l.value,d={fields:void 0,objectIdFieldName:void 0,geometryType:o,spatialReference:s,hasZ:!!a.hasZ,hasM:!!a.hasM,features:p.relatedRecords},null!=p.objectId)c[p.objectId]=d;else for(h in p)p.hasOwnProperty(h)&&"relatedRecords"!==h&&(c[p[h]]=d)}catch(f){u.e(f)}finally{u.f()}return e.abrupt("return",ue(ue({},i),{},{data:c}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,t,r){return ye.apply(this,arguments)}function ye(){return(ye=Object(i.a)(f.a.mark((function e(t,r,n){var i,a,o,s,c,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(t,r,n,{returnCountOnly:!0});case 2:i=e.sent,a=i.data,o={},s=le(a.relatedRecordGroups);try{for(s.s();!(c=s.n()).done;)null!=(u=c.value).objectId&&(o[u.objectId]=u.count)}catch(l){s.e(l)}finally{s.f()}return e.abrupt("return",ue(ue({},i),{},{data:o}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e,t){return me.apply(this,arguments)}function me(){return(me=Object(i.a)(f.a.mark((function e(t,r){var n,i,a,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},i=o.length>3?o[3]:void 0,a=Object(se.a)(ue(ue(ue({},t.query),{},{f:"json"},i),pe(r,i))),e.abrupt("return",Object(oe.default)(t.path+"/queryRelatedRecords",ue(ue({},n),{},{query:ue(ue({},n.query),a)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ge=r("ax7y");function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function we(){return(we=Object(i.a)(f.a.mark((function e(t,r,n){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ge.a.from(r),i=Object(O.c)(t),e.abrupt("return",de(i,r,n).then((function(e){var t=e.data,r={};return Object.keys(t).forEach((function(e){return r[e]=N.default.fromJSON(t[e])})),r})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(){return(_e=Object(i.a)(f.a.mark((function e(t,r,n){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ge.a.from(r),i=Object(O.c)(t),e.abrupt("return",be(i,r,je({},n)).then((function(e){return e.data})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ke=r("z9dv"),xe=r("aic5"),Se=r("pkWm"),Pe=r("Ufrx");function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Me="Layer does not support extent calculation.";function Ee(e,t){var r,n,i=e.geometry,a=e.toJSON(),o=a;if(Object(b.i)(i)&&(o.geometry=JSON.stringify(i),o.geometryType=Object(xe.c)(i),o.inSR=i.spatialReference.wkid||JSON.stringify(i.spatialReference)),null!=(r=a.topFilter)&&r.groupByFields&&(o.topFilter.groupByFields=a.topFilter.groupByFields.join(",")),null!=(n=a.topFilter)&&n.orderByFields&&(o.topFilter.orderByFields=a.topFilter.orderByFields.join(",")),a.topFilter&&(o.topFilter=JSON.stringify(o.topFilter)),a.objectIds&&(o.objectIds=a.objectIds.join(",")),a.orderByFields&&(o.orderByFields=a.orderByFields.join(",")),a.outFields&&!(null!=t&&t.returnCountOnly||null!=t&&t.returnExtentOnly||null!=t&&t.returnIdsOnly)?-1!==a.outFields.indexOf("*")?o.outFields="*":o.outFields=a.outFields.join(","):delete o.outFields,a.outSR?o.outSR=a.outSR.wkid||JSON.stringify(a.outSR):i&&a.returnGeometry&&(o.outSR=o.inSR),a.returnGeometry&&delete a.returnGeometry,a.timeExtent){var s=a.timeExtent,c=s.start,u=s.end;null==c&&null==u||(o.time=c===u?c:"".concat(null==c?"null":c,",").concat(null==u?"null":u)),delete a.timeExtent}return o}function Te(e,t,r,n){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(i.a)(f.a.mark((function e(t,r,n,i){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(t,r,"json",i);case 2:return a=e.sent,e.abrupt("return",(Object(Pe.a)(r,n,a.data),a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e,t,r){return De.apply(this,arguments)}function De(){return(De=Object(i.a)(f.a.mark((function e(t,r,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.i)(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):Be(t,r,"json",n,{returnIdsOnly:!0}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e,t,r){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(i.a)(f.a.mark((function e(t,r,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.i)(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):Be(t,r,"json",n,{returnExtentOnly:!0,returnCountOnly:!0}).then((function(e){var t=e.data;if(t.hasOwnProperty("extent"))return e;if(t.features)throw new Error(Me);if(t.hasOwnProperty("count"))throw new Error(Me);return e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e,t,r){return Object(b.i)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):Be(e,t,"json",r,{returnIdsOnly:!0,returnCountOnly:!0})}function Be(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a="string"==typeof e?Object(ke.K)(e):e,o=t.geometry?[t.geometry]:[];return n.responseType="pbf"===r?"array-buffer":"json",Object(Se.a)(o,null,n).then((function(e){var o=e&&e[0];Object(b.i)(o)&&((t=t.clone()).geometry=o);var s=Object(se.a)(Re(Re(Re({},a.query),{},{f:r},i),Ee(t,i)));return Object(oe.default)(Object(ke.z)(a.path,"queryTopFeatures"),Re(Re({},n),{},{query:Re(Re({},s),n.query)}))}))}var Ve=r("30Qs");function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qe(){return(qe=Object(i.a)(f.a.mark((function e(t,r,n,i){var a,o,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(O.c)(t),o=ze({},i),e.next=4,Te(a,Ve.a.from(r),n,o);case 4:return s=e.sent,c=s.data,e.abrupt("return",N.default.fromJSON(c));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function We(){return(We=Object(i.a)(f.a.mark((function e(t,r,n){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(O.c)(t),e.next=3,Ce(i,Ve.a.from(r),Ge({},n));case 3:return e.abrupt("return",e.sent.data.objectIds);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ze(){return(Ze=Object(i.a)(f.a.mark((function e(t,r,n){var i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(O.c)(t),e.next=3,Le(i,Ve.a.from(r),$e({},n));case 3:return a=e.sent,e.abrupt("return",{count:a.data.count,extent:E.a.fromJSON(a.data.extent)});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ke(){return(Ke=Object(i.a)(f.a.mark((function e(t,r,n){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(O.c)(t),e.next=3,Ne(i,Ve.a.from(r),Xe({},n));case 3:return e.abrupt("return",e.sent.data.count);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return et(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var it=function(e){Object(s.a)(u,e);var t,n,c=nt(u);function u(e){var t;return Object(a.a)(this,u),(t=c.call(this,e)).dynamicDataSource=null,t.fieldsIndex=null,t.format="json",t.gdbVersion=null,t.infoFor3D=null,t.sourceSpatialReference=null,t}return Object(o.a)(u,[{key:"execute",value:function(e,t){var r=this;return this.executeJSON(e,t).then((function(n){return r.featureSetFromJSON(e,n,t)}))}},{key:"executeJSON",value:(n=Object(i.a)(f.a.mark((function e(t,r){var n,i,a,o,s,c,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=rt(rt({},this.requestOptions),r),a=this._normalizeQuery(t),o=null!=(null==(n=t.outStatistics)?void 0:n[0]),s=Object(h.a)("featurelayer-pbf-statistics"),c=!o||s,"pbf"!==this.format||!c){e.next=13;break}return e.prev=2,e.next=5,ie(this.url,a,i);case 5:u=e.sent,e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(2),"query:parsing-pbf"===e.t0.name){e.next=12;break}throw e.t0;case 12:this.format="json";case 13:if(e.t1="json"!==this.format&&c,e.t1){e.next=18;break}return e.next=17,U(this.url,a,i);case 17:u=e.sent;case 18:return this._normalizeFields(u.fields),e.abrupt("return",u);case 20:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t){return n.apply(this,arguments)})},{key:"featureSetFromJSON",value:(t=Object(i.a)(f.a.mark((function e(t,n,i){var a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._queryIs3DObjectFormat(t)&&Object(b.i)(this.infoFor3D)&&n.features&&n.features.length){e.next=2;break}return e.abrupt("return",N.default.fromJSON(n));case 2:return e.next=4,Object(y.y)(Promise.all([r.e(0),r.e(1),r.e(55)]).then(r.bind(null,"Gjx+")),i);case 4:return a=e.sent,o=a.meshFeatureSetFromJSON,e.abrupt("return",o(t,this.infoFor3D,n));case 7:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"executeForCount",value:function(e,t){var r=rt(rt({},this.requestOptions),t),n=this._normalizeQuery(e);return function(e,t,r){return M.apply(this,arguments)}(this.url,n,r)}},{key:"executeForExtent",value:function(e,t){var r=rt(rt({},this.requestOptions),t),n=this._normalizeQuery(e);return function(e,t,r){return C.apply(this,arguments)}(this.url,n,r)}},{key:"executeForIds",value:function(e,t){var r=rt(rt({},this.requestOptions),t),n=this._normalizeQuery(e);return function(e,t,r){return F.apply(this,arguments)}(this.url,n,r)}},{key:"executeRelationshipQuery",value:function(e,t){e=ge.a.from(e);var r=rt(rt({},this.requestOptions),t);return(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),function(e,t,r){return we.apply(this,arguments)}(this.url,e,r)}},{key:"executeRelationshipQueryForCount",value:function(e,t){e=ge.a.from(e);var r=rt(rt({},this.requestOptions),t);return(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),function(e,t,r){return _e.apply(this,arguments)}(this.url,e,r)}},{key:"executeAttachmentQuery",value:function(e,t){var r=rt(rt({},this.requestOptions),t);return function(e,t,r){return x.apply(this,arguments)}(this.url,e,r)}},{key:"executeTopFeaturesQuery",value:function(e,t){var r=rt(rt({},this.requestOptions),t);return function(e,t,r,n){return qe.apply(this,arguments)}(this.parsedUrl,e,this.sourceSpatialReference,r)}},{key:"executeForTopIds",value:function(e,t){var r=rt(rt({},this.requestOptions),t);return function(e,t,r){return We.apply(this,arguments)}(this.parsedUrl,e,r)}},{key:"executeForTopExtents",value:function(e,t){var r=rt(rt({},this.requestOptions),t);return function(e,t,r){return Ze.apply(this,arguments)}(this.parsedUrl,e,r)}},{key:"executeForTopCount",value:function(e,t){var r=rt(rt({},this.requestOptions),t);return function(e,t,r){return Ke.apply(this,arguments)}(this.parsedUrl,e,r)}},{key:"_normalizeQuery",value:function(e){var t=P.a.from(e);if(t.sourceSpatialReference=t.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&((t=t===e?t.clone():t).gdbVersion=e.gdbVersion||this.gdbVersion,t.dynamicDataSource=e.dynamicDataSource?g.a.from(e.dynamicDataSource):this.dynamicDataSource),Object(b.i)(this.infoFor3D)&&this._queryIs3DObjectFormat(e)){(t=t===e?t.clone():t).formatOf3DObjects=null;var r,n=Ye(this.infoFor3D.queryFormats);try{for(n.s();!(r=n.n()).done;){var i=r.value;if("3D_glb"===i.id){t.formatOf3DObjects=i.id;break}"3D_gltf"!==i.id||t.formatOf3DObjects||(t.formatOf3DObjects=i.id)}}catch(w){n.e(w)}finally{n.f()}if(!t.formatOf3DObjects)throw new d.a("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(Object(b.h)(t.outFields)||!t.outFields.includes("*")){t=t===e?t.clone():t,Object(b.h)(t.outFields)&&(t.outFields=[]);var a=this.infoFor3D.transformFieldRoles,o=a.originX,s=a.originY,c=a.originZ,u=a.translationX,l=a.translationY,f=a.translationZ,p=a.scaleX,h=a.scaleY,y=a.scaleZ,v=a.rotationX,m=a.rotationY,O=a.rotationZ,j=a.rotationDeg;t.outFields.push(o,s,c,u,l,f,p,h,y,v,m,O,j)}}return t}},{key:"_normalizeFields",value:function(e){if(Object(b.i)(this.fieldsIndex)&&Object(b.i)(e)){var t,r=Ye(e);try{for(r.s();!(t=r.n()).done;){var n=t.value,i=this.fieldsIndex.get(n.name);i&&Object.assign(n,i.toJSON())}}catch(a){r.e(a)}finally{r.f()}}}},{key:"_queryIs3DObjectFormat",value:function(e){return Object(b.i)(this.infoFor3D)&&e.returnGeometry&&"xyFootprint"!==e.multipatchOption&&!e.outStatistics}}]),u}(r("F8mY").a);Object(p.a)([Object(v.b)({type:g.a})],it.prototype,"dynamicDataSource",void 0),Object(p.a)([Object(v.b)()],it.prototype,"fieldsIndex",void 0),Object(p.a)([Object(v.b)()],it.prototype,"format",void 0),Object(p.a)([Object(v.b)()],it.prototype,"gdbVersion",void 0),Object(p.a)([Object(v.b)()],it.prototype,"infoFor3D",void 0),Object(p.a)([Object(v.b)()],it.prototype,"sourceSpatialReference",void 0);var at=it=Object(p.a)([Object(m.a)("esri.tasks.QueryTask")],it);t.a=at},sWZd:function(e,t,r){var n=r("PqlX"),i=r("BwbT"),a=r("ULAX"),o=r("zYYD");e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:a(o(e))}},sc0P:function(e,t,r){"use strict";var n=r("8jRW"),i=(r("J4Pc"),r("67w/")),a={apiKey:void 0,applicationUrl:n.a.location&&n.a.location.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(n.a.esriConfig&&(Object(i.a)(a,n.a.esriConfig,!0),delete a.has),!a.assetsPath){a.assetsPath="https://js.arcgis.com/".concat("4.20.2".slice(0,-2),"/@arcgis/core/assets")}a.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(a,"baseUrl",{set:function(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),a.request.corsEnabledServers=[],a.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0},t.a=a},scUu:function(e,t,r){e.exports={ary:r("MNFw"),assign:r("wnk4"),clone:r("5u71"),curry:r("WYPT"),forEach:r("WMT/"),isArray:r("PqlX"),isError:r("ohHe"),isFunction:r("RqPZ"),isWeakMap:r("TSPQ"),iteratee:r("vft2"),keys:r("Lalj"),rearg:r("YODn"),toInteger:r("LF0y"),toPath:r("ii79")}},"t+pe":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}},t0gZ:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r("ERkP")),o=r("iexW"),s=i(r("R0lh"));t.default=function(e){var t=e.id,r=e.webMapId,i=void 0===r?null:r,c=e.style,u=e.centerX,l=e.centerY,f=e.zoom,p=e.children,d=e.portal,h=e.theme,b=void 0===h?"light":h,y=n(e,["id","webMapId","style","centerX","centerY","zoom","children","portal","theme"]);return a.default.createElement(o.MapProvider,null,a.default.createElement(s.default,Object.assign({id:t,webMapId:i,style:c,centerX:u,centerY:l,zoom:f,portal:d},y,{theme:b}),p))}},t4nU:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return v}));var n=r("0942"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("6CzD"),c=r("hisu"),u=r("yBJb"),l=r("dQW7"),f=r("hZBP"),p=r("7im+"),d=r("IH5m"),h=r("iaHD");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var y=function(){function e(t){var r=this;Object(c.a)(this,e),this.instance=t,this._resolver=Object(d.f)(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then((function(){r._status=1,r._cleanUp()}),(function(){r._status=2,r._cleanUp()}))}return Object(u.a)(e,[{key:"addResolvingPromise",value:function(e){this._resolvingPromises.push(e),this._tryResolve()}},{key:"isResolved",value:function(){return 1===this._status}},{key:"isRejected",value:function(){return 2===this._status}},{key:"isFulfilled",value:function(){return 0!==this._status}},{key:"abort",value:function(){this._resolver.reject(Object(d.e)())}},{key:"when",value:function(e,t){return this._resolver.promise.then(e,t)}},{key:"_cleanUp",value:function(){this._allPromise=this._resolvingPromises=this._allPromise=null}},{key:"_tryResolve",value:function(){var e=this;if(!this.isFulfilled()){var t=Object(d.f)(),r=[].concat(Object(s.a)(this._resolvingPromises),[Object(p.c)(t.promise)]),n=this._allPromise=Promise.all(r);n.then((function(){e.isFulfilled()||e._allPromise!==n||e._resolver.resolve(e.instance)}),(function(t){e.isFulfilled()||e._allPromise!==n||Object(d.m)(t)||e._resolver.reject(t)})),t.resolve()}}}]),e}(),v=function(e){var t=function(e){Object(i.a)(r,e);var t=b(r);function r(){var e;Object(c.a)(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a)))._promiseProps=new y(Object(n.a)(e)),e.addResolvingPromise(Promise.resolve()),e}return Object(u.a)(r,[{key:"isResolved",value:function(){return this._promiseProps.isResolved()}},{key:"isRejected",value:function(){return this._promiseProps.isRejected()}},{key:"isFulfilled",value:function(){return this._promiseProps.isFulfilled()}},{key:"when",value:function(e,t){var r=this;return new Promise((function(e,t){r._promiseProps.when(e,t)})).then(e,t)}},{key:"catch",value:function(e){return this.when(null,e)}},{key:"addResolvingPromise",value:function(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in e?e.when():e)}}]),r}(e);return t=Object(l.a)([Object(h.a)("esri.core.Promise")],t)},m=function(e){Object(i.a)(r,e);var t=b(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return r}(v(f.a));m=Object(l.a)([Object(h.a)("esri.core.Promise")],m)},tDyL:function(e,t,r){var n=r("wiKJ"),i=r("kXPx"),a=r("yoW1"),o=r("PqlX"),s=r("0qVv");e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):n(e):s(e)}},tF07:function(e,t,r){var n=r("9pAD"),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(n(e),t)}},tM9Q:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Home=t.Directions=t.Zoom=t.Bookmarks=t.BasemapGallery=t.LayerList=t.Legend=t.GeoJSONLayer=t.MapImageLayer=t.GraphicsLayer=t.FeatureLayer=t.Map=t.useMapContext=void 0;var o=a(r("lZ6b"));t.useMapContext=o.default;var s=r("t0gZ");Object.defineProperty(t,"Map",{enumerable:!0,get:function(){return a(s).default}});var c=r("KuIS");Object.defineProperty(t,"FeatureLayer",{enumerable:!0,get:function(){return c.FeatureLayer}});var u=r("KuIS");Object.defineProperty(t,"GraphicsLayer",{enumerable:!0,get:function(){return u.GraphicsLayer}});var l=r("KuIS");Object.defineProperty(t,"MapImageLayer",{enumerable:!0,get:function(){return l.MapImageLayer}});var f=r("KuIS");Object.defineProperty(t,"GeoJSONLayer",{enumerable:!0,get:function(){return f.GeoJSONLayer}});var p=r("8h5O");Object.defineProperty(t,"Legend",{enumerable:!0,get:function(){return p.Legend}});var d=r("8h5O");Object.defineProperty(t,"LayerList",{enumerable:!0,get:function(){return d.LayerList}});var h=r("8h5O");Object.defineProperty(t,"BasemapGallery",{enumerable:!0,get:function(){return h.BasemapGallery}});var b=r("8h5O");Object.defineProperty(t,"Bookmarks",{enumerable:!0,get:function(){return b.Bookmarks}});var y=r("8h5O");Object.defineProperty(t,"Zoom",{enumerable:!0,get:function(){return y.Zoom}});var v=r("8h5O");Object.defineProperty(t,"Directions",{enumerable:!0,get:function(){return v.Directions}});var m=r("8h5O");Object.defineProperty(t,"Home",{enumerable:!0,get:function(){return m.Home}}),i(r("t0gZ"),t),i(r("Nc0w"),t)},tYqq:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return u}));var n=r("mK0O"),i=r("46c3");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=Symbol("widget"),c=new WeakMap;function u(e,t){var r=t.vnodeSelector;if(d(r)){var n=t.properties||{},i=n.key||r;return{vnodeSelector:"div",properties:{parentWidget:e,widgetConstructor:r,key:i,widgetProps:o(o({},n),{},{key:i}),afterCreate:l,afterUpdate:f,afterRemoved:p},children:void 0,text:void 0,domNode:null}}var a=t.children;if(a)for(var s=0;s<a.length;++s)a[s]=u(e,a[s]);return t}function l(e,t,r,n){var a=n.parentWidget,s=new(0,n.widgetConstructor)(o(o({},n.widgetProps),{},{container:e}));c.set(e,s),null==s.afterCreate||s.afterCreate(s,e),a._internalHandles.add(Object(i.b)((function(){return p(e)})))}function f(e,t,r,n){var i=n.widgetProps,a=c.get(e);a&&(a.set(i),null==a.afterUpdate||a.afterUpdate(a,e))}function p(e){var t=c.get(e);t&&(t.destroy(),c.delete(e))}function d(e){return"function"==typeof e&&e[s]}},tZTS:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return p}));var n=r("X6u8"),i=r("Mp7X"),a=r("TM+E"),o=r("ddfG"),s=r("F1Bx"),c=r("zuCa"),u=a.a.getLogger("esri.core.accessorSupport.write");function l(e,t,r,a,s,c){if(!a||!a.write)return!1;var l=e.get(r);if(!s&&a.write.overridePolicy){var f=a.write.overridePolicy.call(e,l,r,c);void 0!==f&&(s=f)}if(s||(s=a.write),!s||!1===s.enabled)return!1;if((null===l&&!s.allowNull||void 0===l)&&s.isRequired){var p=new i.a("web-document-write:property-required","Missing value for required property '".concat(r,"' on '").concat(e.declaredClass,"'"),{propertyName:r,target:e});return p&&c&&c.messages?c.messages.push(p):p&&!c&&u.error(p.name,p.message),!1}return void 0!==l&&(!(null===l&&!s.allowNull)&&(!function(e,t,r,i,a){var o=i.default;if(void 0===o)return!1;if(null!=i.defaultEquals)return i.defaultEquals(a);if("function"==typeof o){if(Array.isArray(a)){var s=o.call(e,t,r);return Object(n.c)(s,a)}return!1}return o===a}(e,r,c,a,l)&&(void 0!==a.default||!(!s.ignoreOrigin&&c&&c.origin&&t.store.originOf(r)<Object(o.d)(c.origin)))))}function f(e,t,r,n){var i=Object(s.a)(e),a=i.metadatas,o=Object(c.d)(a[t],n);return!!o&&l(e,i,t,o,r,n)}function p(e,t,r){if(e&&"function"==typeof e.toJSON&&(!e.toJSON.isDefaultToJSON||!e.write))return Object(s.c)(t,e.toJSON());var n=Object(s.a)(e),i=n.metadatas,a=function(a){var u=Object(c.d)(i[a],r);if(!l(e,n,a,u,void 0,r))return"continue";var d=e.get(a),h=function(e,t,r,n,i){var a,o,s={};return null==(a=t.write)||null==(o=a.writer)||o.call(e,n,s,r,i),s}(e,u,u.write&&"string"==typeof u.write.target?u.write.target:a,d,r);Object.keys(h).length>0&&(t=Object(s.c)(t,h),null!=r&&null!=(f=r.resources)&&null!=(p=f.pendingOperations)&&p.length&&Promise.all(r.resources.pendingOperations).then((function(){return Object(s.c)(t,h)})),r&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:a,oldOrigin:Object(o.c)(n.store.originOf(a)),newOrigin:r.origin}))};for(var u in i){var f,p;a(u)}return t}},tajk:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("ZFo3"),o=function(){function e(t,r){Object(n.a)(this,e),this._storage=new a.b,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}return Object(i.a)(e,[{key:"put",value:function(e,t,r){this._storage.put(e,t,r,1)}},{key:"pop",value:function(e){return this._storage.pop(e)}},{key:"get",value:function(e){return this._storage.get(e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"destroy",value:function(){this._storage.destroy()}},{key:"maxSize",get:function(){return this._storage.maxSize},set:function(e){this._storage.maxSize=e}}]),e}();t.a=o},"tb+2":function(e,t,r){var n=r("07F0"),i=r("E7Xw"),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),n(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},tcyg:function(e,t,r){"use strict";function n(e){return e}r.d(t,"a",(function(){return n}))},tdEy:function(e,t,r){"use strict";function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r.d(t,"a",(function(){return n}))},tfj2:function(e,t,r){(function(e){var n=r("s3UK"),i=r("1ezk"),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c}).call(this,r("RoC8")(e))},"tg/W":function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return v})),r.d(t,"c",(function(){return y})),r.d(t,"d",(function(){return m}));var n=r("mK0O"),i=r("eijD"),a=r("NthX"),o=r.n(a),s=(r("J4Pc"),r("7im+")),c=r("DE4D"),u=r("QXZs");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=null;function b(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function y(e,t,r){var n=e.backgroundColor,i=e.outline,a=e.dotSize,o=r&&r.swatchSize||22,s=Math.round(o*o/Math.pow(a,2)*.8),c=window.devicePixelRatio,u=document.createElement("canvas"),l=o*c;u.width=l,u.height=l,u.style.width=u.width/c+"px",u.style.height=u.height/c+"px";var f=u.getContext("2d");if(n&&(f.fillStyle=n.toCss(!0),f.fillRect(0,0,l,l),f.fill()),f.fillStyle=t.toCss(!0),h&&h.length/2===s)for(var p=0;p<2*s;p+=2){var d=h[p],y=h[p+1];f.fillRect(d,y,a*c,a*c),f.fill()}else{h=[];for(var v=0;v<2*s;v+=2){var m=b(0,l),g=b(0,l);h.push(m,g),f.fillRect(m,g,a*c,a*c),f.fill()}}i&&(i.color&&(f.strokeStyle=i.color.toCss(!0)),f.lineWidth=i.width,f.strokeRect(0,0,l,l));var O=new Image(o,o);return O.src=u.toDataURL(),O}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=24,n=75,i="horizontal"===t.align,a=i?n:r,o=i?r:n,s=t.width,c=void 0===s?a:s,u=t.height,l=void 0===u?o:u,f=t.gradient,d=void 0===f||f,h=window.devicePixelRatio,b=c*h,y=l*h,v=document.createElement("canvas");v.width=b,v.height=y,v.style.width="".concat(c,"px"),v.style.height="".concat(l,"px");var m=v.getContext("2d"),g=i?b:0,O=i?0:y;if(d){var j=m.createLinearGradient(0,0,g,O),w=e.length,_=1===w?0:1/(w-1);e.forEach((function(e,t){return j.addColorStop(t*_,e.toString())})),m.fillStyle=j,m.fillRect(0,0,b,y)}else{var k,x=i?b/e.length:b,S=i?y:y/e.length,P=0,I=0,R=p(e);try{for(R.s();!(k=R.n()).done;){var M=k.value;m.fillStyle=M.toString(),m.fillRect(P,I,x,S),P=i?P+x:0,I=i?0:I+S}}catch(T){R.e(T)}finally{R.f()}}var E=document.createElement("div");return E.style.width="".concat(c,"px"),E.style.height="".concat(l,"px"),E.appendChild(v),E}function m(e,t){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(o.a.mark((function e(t,n){var i,a,s,c,u,l,f,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="web-style"===e.t0?3:"label-3d"===e.t0||"line-3d"===e.t0||"mesh-3d"===e.t0||"point-3d"===e.t0||"polygon-3d"===e.t0?8:"simple-marker"===e.t0||"simple-line"===e.t0||"simple-fill"===e.t0||"picture-marker"===e.t0||"picture-fill"===e.t0||"text"===e.t0?13:"cim"===e.t0?18:23;break;case 3:return e.next=5,r.e(150).then(r.bind(null,"lav4"));case 5:return i=e.sent,a=i.previewWebStyleSymbol,e.abrupt("return",a(t,m,n));case 8:return e.next=10,Promise.resolve().then(r.bind(null,"F7E1"));case 10:return s=e.sent,c=s.previewSymbol3D,e.abrupt("return",c(t,n));case 13:return e.next=15,r.e(149).then(r.bind(null,"ag3Y"));case 15:return u=e.sent,l=u.previewSymbol2D,e.abrupt("return",l(t,n));case 18:return e.next=20,Promise.all([r.e(0),r.e(1),r.e(148)]).then(r.bind(null,"U7hs"));case 20:return f=e.sent,p=f.previewCIMSymbol,e.abrupt("return",p(t,n));case 23:return e.abrupt("return");case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return e&&"opacity"in e?e.opacity*O(e.parent):1}function j(e,t){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(o.a.mark((function e(t,n){var i,a,l,d,h,b,y,v,m,g,j,w,_,k,x,S,P,I,R,M,E,T,A,C,D;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(l=t.sourceLayer,d=null!=(i=Object(s.i)(n)&&null!=(a=n.useSourceLayer)&&a?l:t.layer)?i:l,h=O(d),!Object(s.i)(t.symbol)||Object(s.i)(n)&&!0===n.ignoreGraphicSymbol){e.next=13;break}if("web-style"!==t.symbol.type){e.next=10;break}return e.next=7,t.symbol.fetchSymbol(Object(s.i)(n)?n.abortOptions:null);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=t.symbol.clone();case 11:return b=e.t0,e.abrupt("return",(Object(u.a)(b,null,h),b));case 13:if(!(y=Object(s.i)(n)&&n.renderer||d&&"renderer"in d&&d.renderer)||!("getSymbolAsync"in y)){e.next=20;break}return e.next=17,y.getSymbolAsync(t,n);case 17:e.t1=e.sent,e.next=21;break;case 20:e.t1=null;case 21:if(v=e.t1){e.next=24;break}return e.abrupt("return");case 24:if("web-style"!==v.type){e.next=30;break}return e.next=27,v.fetchSymbol(Object(s.i)(n)?n.abortOptions:null);case 27:e.t2=e.sent,e.next=31;break;case 30:e.t2=v.clone();case 31:if(v=e.t2,"visualVariables"in y&&y.visualVariables&&y.visualVariables.length){e.next=34;break}return e.abrupt("return",(Object(u.a)(v,null,h),v));case 34:if(!("arcadeRequiredForVisualVariables"in y)||!y.arcadeRequiredForVisualVariables||!Object(s.h)(n)&&!Object(s.h)(n.arcade)){e.next=40;break}return m=f({},Object(s.p)(n)),e.next=38,Object(c.e)();case 38:m.arcade=e.sent,n=m;case 40:return e.next=42,Promise.resolve().then(r.bind(null,"0F8f"));case 42:g=e.sent,j=[],w=[],_=[],k=[],x=p(y.visualVariables),e.prev=48,x.s();case 50:if((S=x.n()).done){e.next=64;break}P=S.value,e.t3=P.type,e.next="color"===e.t3?55:"opacity"===e.t3?57:"rotation"===e.t3?59:"size"===e.t3?61:62;break;case 55:return j.push(P),e.abrupt("break",62);case 57:return w.push(P),e.abrupt("break",62);case 59:return k.push(P),e.abrupt("break",62);case 61:P.target||_.push(P);case 62:e.next=50;break;case 64:e.next=69;break;case 66:e.prev=66,e.t4=e.catch(48),x.e(e.t4);case 69:return e.prev=69,x.f(),e.finish(69);case 72:if(I=!!j.length&&j[j.length-1],R=I?g.getColor(I,t,n):null,M=!!w.length&&w[w.length-1],E=M?g.getOpacity(M,t,n):null,null!=h&&(E=null!=E?E*h:h),Object(u.a)(v,R,E),!_.length){e.next=78;break}return T=g.getAllSizes(_,t,n),e.next=78,Object(u.d)(v,T);case 78:for(A=0,C=k;A<C.length;A++)D=C[A],Object(u.c)(v,g.getRotationAngle(D,t,n),D.axis);return e.abrupt("return",v);case 80:case"end":return e.stop()}}),e,null,[[48,66,69,72]])})))).apply(this,arguments)}},tqwG:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a}));var n=r("FBa4"),i=r("yBbm");function a(e){if(!e)return!1;var t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength<=0)}function o(e){if(!e)return!1;if(!e.supportsCallout||!e.supportsCallout())return!1;var t=e.callout;return!!t&&!!t.visible&&!!a(e)}var s={types:{key:"type",base:n.a,typeMap:{line:i.a}},json:{write:!0}}},tv5O:function(e,t,r){"use strict";var n,i={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(n=2e3;n<=2045;n++)i[n]=0;for(n=2056;n<=2065;n++)i[n]=0;for(n=2067;n<=2135;n++)i[n]=0;for(n=2137;n<=2154;n++)i[n]=0;for(n=2161;n<=2170;n++)i[n]=0;for(n=2172;n<=2193;n++)i[n]=0;for(n=2195;n<=2198;n++)i[n]=0;for(n=2200;n<=2203;n++)i[n]=0;for(n=2205;n<=2217;n++)i[n]=0;for(n=2222;n<=2224;n++)i[n]=1;for(n=2225;n<=2250;n++)i[n]=2;for(n=2251;n<=2253;n++)i[n]=1;for(n=2257;n<=2264;n++)i[n]=2;for(n=2274;n<=2279;n++)i[n]=2;for(n=2280;n<=2282;n++)i[n]=1;for(n=2283;n<=2289;n++)i[n]=2;for(n=2290;n<=2292;n++)i[n]=0;for(n=2308;n<=2313;n++)i[n]=0;for(n=2315;n<=2491;n++)i[n]=0;for(n=2494;n<=2866;n++)i[n]=0;for(n=2867;n<=2869;n++)i[n]=1;for(n=2870;n<=2888;n++)i[n]=2;for(n=2891;n<=2895;n++)i[n]=2;for(n=2896;n<=2898;n++)i[n]=1;for(n=2902;n<=2908;n++)i[n]=2;for(n=2915;n<=2920;n++)i[n]=2;for(n=2921;n<=2923;n++)i[n]=1;for(n=2924;n<=2930;n++)i[n]=2;for(n=2931;n<=2962;n++)i[n]=0;for(n=2964;n<=2968;n++)i[n]=2;for(n=2969;n<=2973;n++)i[n]=0;for(n=2975;n<=2991;n++)i[n]=0;for(n=2995;n<=3051;n++)i[n]=0;for(n=3054;n<=3079;n++)i[n]=0;for(n=3081;n<=3088;n++)i[n]=0;for(n=3092;n<=3101;n++)i[n]=0;for(n=3106;n<=3138;n++)i[n]=0;for(n=3146;n<=3151;n++)i[n]=0;for(n=3153;n<=3166;n++)i[n]=0;for(n=3168;n<=3172;n++)i[n]=0;for(n=3174;n<=3203;n++)i[n]=0;for(n=3294;n<=3358;n++)i[n]=0;for(n=3367;n<=3403;n++)i[n]=0;for(n=3408;n<=3416;n++)i[n]=0;for(n=3417;n<=3438;n++)i[n]=2;for(n=3441;n<=3446;n++)i[n]=2;for(n=3447;n<=3450;n++)i[n]=0;for(n=3451;n<=3459;n++)i[n]=2;for(n=3460;n<=3478;n++)i[n]=0;for(n=3554;n<=3559;n++)i[n]=0;for(n=3560;n<=3570;n++)i[n]=2;for(n=3571;n<=3581;n++)i[n]=0;for(n=3594;n<=3597;n++)i[n]=0;for(n=3601;n<=3604;n++)i[n]=0;for(n=3637;n<=3639;n++)i[n]=0;for(n=3665;n<=3667;n++)i[n]=0;for(n=3693;n<=3695;n++)i[n]=0;for(n=3701;n<=3727;n++)i[n]=0;for(n=3728;n<=3739;n++)i[n]=2;for(n=3740;n<=3751;n++)i[n]=0;for(n=3753;n<=3760;n++)i[n]=2;for(n=3761;n<=3773;n++)i[n]=0;for(n=3775;n<=3777;n++)i[n]=0;for(n=3779;n<=3781;n++)i[n]=0;for(n=3783;n<=3785;n++)i[n]=0;for(n=3788;n<=3791;n++)i[n]=0;for(n=3797;n<=3802;n++)i[n]=0;for(n=3814;n<=3816;n++)i[n]=0;for(n=3825;n<=3829;n++)i[n]=0;for(n=3832;n<=3841;n++)i[n]=0;for(n=3844;n<=3852;n++)i[n]=0;for(n=3873;n<=3885;n++)i[n]=0;for(n=3890;n<=3893;n++)i[n]=0;for(n=3907;n<=3912;n++)i[n]=0;for(n=3942;n<=3950;n++)i[n]=0;for(n=3968;n<=3970;n++)i[n]=0;for(n=3973;n<=3976;n++)i[n]=0;for(n=3986;n<=3989;n++)i[n]=0;for(n=3994;n<=3997;n++)i[n]=0;for(n=4048;n<=4051;n++)i[n]=0;for(n=4056;n<=4063;n++)i[n]=0;for(n=4093;n<=4096;n++)i[n]=0;for(n=4390;n<=4398;n++)i[n]=0;for(n=4399;n<=4413;n++)i[n]=2;for(n=4418;n<=4433;n++)i[n]=2;for(n=4455;n<=4457;n++)i[n]=2;for(n=4484;n<=4489;n++)i[n]=0;for(n=4491;n<=4554;n++)i[n]=0;for(n=4568;n<=4589;n++)i[n]=0;for(n=4652;n<=4656;n++)i[n]=0;for(n=4766;n<=4800;n++)i[n]=0;for(n=5014;n<=5016;n++)i[n]=0;for(n=5069;n<=5072;n++)i[n]=0;for(n=5105;n<=5130;n++)i[n]=0;for(n=5173;n<=5188;n++)i[n]=0;for(n=5253;n<=5259;n++)i[n]=0;for(n=5269;n<=5275;n++)i[n]=0;for(n=5292;n<=5311;n++)i[n]=0;for(n=5329;n<=5331;n++)i[n]=0;for(n=5343;n<=5349;n++)i[n]=0;for(n=5355;n<=5357;n++)i[n]=0;for(n=5387;n<=5389;n++)i[n]=0;for(n=5459;n<=5463;n++)i[n]=0;for(n=5479;n<=5482;n++)i[n]=0;for(n=5518;n<=5520;n++)i[n]=0;for(n=5530;n<=5539;n++)i[n]=0;for(n=5550;n<=5552;n++)i[n]=0;for(n=5562;n<=5583;n++)i[n]=0;for(n=5623;n<=5625;n++)i[n]=2;for(n=5631;n<=5639;n++)i[n]=0;for(n=5649;n<=5653;n++)i[n]=0;for(n=5663;n<=5680;n++)i[n]=0;for(n=5682;n<=5685;n++)i[n]=0;for(n=5875;n<=5877;n++)i[n]=0;for(n=5896;n<=5899;n++)i[n]=0;for(n=5921;n<=5940;n++)i[n]=0;for(n=6050;n<=6125;n++)i[n]=0;for(n=6244;n<=6275;n++)i[n]=0;for(n=6328;n<=6348;n++)i[n]=0;for(n=6350;n<=6356;n++)i[n]=0;for(n=6366;n<=6372;n++)i[n]=0;for(n=6381;n<=6387;n++)i[n]=0;for(n=6393;n<=6404;n++)i[n]=0;for(n=6480;n<=6483;n++)i[n]=0;for(n=6511;n<=6514;n++)i[n]=0;for(n=6579;n<=6581;n++)i[n]=0;for(n=6619;n<=6624;n++)i[n]=0;for(n=6625;n<=6627;n++)i[n]=2;for(n=6628;n<=6632;n++)i[n]=0;for(n=6634;n<=6637;n++)i[n]=0;for(n=6669;n<=6692;n++)i[n]=0;for(n=6707;n<=6709;n++)i[n]=0;for(n=6720;n<=6723;n++)i[n]=0;for(n=6732;n<=6738;n++)i[n]=0;for(n=6931;n<=6933;n++)i[n]=0;for(n=6956;n<=6959;n++)i[n]=0;for(n=7005;n<=7007;n++)i[n]=0;for(n=7057;n<=7070;n++)i[n]=2;for(n=7074;n<=7082;n++)i[n]=0;for(n=7109;n<=7118;n++)i[n]=0;for(n=7119;n<=7127;n++)i[n]=1;for(n=7374;n<=7376;n++)i[n]=0;for(n=7528;n<=7586;n++)i[n]=0;for(n=7587;n<=7645;n++)i[n]=2;for(n=7692;n<=7696;n++)i[n]=0;for(n=7755;n<=7787;n++)i[n]=0;for(n=7791;n<=7795;n++)i[n]=0;for(n=7799;n<=7801;n++)i[n]=0;for(n=7803;n<=7805;n++)i[n]=0;for(n=7825;n<=7831;n++)i[n]=0;for(n=7845;n<=7859;n++)i[n]=0;for(n=8013;n<=8032;n++)i[n]=0;for(n=8065;n<=8068;n++)i[n]=1;for(n=8518;n<=8529;n++)i[n]=2;for(n=8533;n<=8536;n++)i[n]=2;for(n=8538;n<=8540;n++)i[n]=2;for(n=8677;n<=8679;n++)i[n]=0;for(n=8836;n<=8840;n++)i[n]=0;for(n=8857;n<=8859;n++)i[n]=0;for(n=8908;n<=8910;n++)i[n]=0;for(n=9154;n<=9159;n++)i[n]=0;for(n=9205;n<=9218;n++)i[n]=0;for(n=9271;n<=9273;n++)i[n]=0;for(n=9295;n<=9297;n++)i[n]=0;for(n=9356;n<=9360;n++)i[n]=0;for(n=9404;n<=9407;n++)i[n]=0;for(n=9476;n<=9482;n++)i[n]=0;for(n=9487;n<=9494;n++)i[n]=0;for(n=9697;n<=9699;n++)i[n]=0;for(n=20002;n<=20032;n++)i[n]=0;for(n=20062;n<=20092;n++)i[n]=0;for(n=20135;n<=20138;n++)i[n]=0;for(n=20248;n<=20258;n++)i[n]=0;for(n=20348;n<=20358;n++)i[n]=0;for(n=20436;n<=20440;n++)i[n]=0;for(n=20822;n<=20824;n++)i[n]=0;for(n=20934;n<=20936;n++)i[n]=0;for(n=21035;n<=21037;n++)i[n]=0;for(n=21095;n<=21097;n++)i[n]=0;for(n=21148;n<=21150;n++)i[n]=0;for(n=21413;n<=21423;n++)i[n]=0;for(n=21453;n<=21463;n++)i[n]=0;for(n=21473;n<=21483;n++)i[n]=0;for(n=21780;n<=21782;n++)i[n]=0;for(n=21891;n<=21894;n++)i[n]=0;for(n=21896;n<=21899;n++)i[n]=0;for(n=22171;n<=22177;n++)i[n]=0;for(n=22181;n<=22187;n++)i[n]=0;for(n=22191;n<=22197;n++)i[n]=0;for(n=22234;n<=22236;n++)i[n]=0;for(n=22521;n<=22525;n++)i[n]=0;for(n=22991;n<=22994;n++)i[n]=0;for(n=23028;n<=23038;n++)i[n]=0;for(n=23830;n<=23853;n++)i[n]=0;for(n=23866;n<=23872;n++)i[n]=0;for(n=23877;n<=23884;n++)i[n]=0;for(n=23886;n<=23894;n++)i[n]=0;for(n=23946;n<=23948;n++)i[n]=0;for(n=24311;n<=24313;n++)i[n]=0;for(n=24342;n<=24347;n++)i[n]=0;for(n=24370;n<=24374;n++)i[n]=10;for(n=24375;n<=24381;n++)i[n]=0;for(n=24718;n<=24721;n++)i[n]=0;for(n=24817;n<=24821;n++)i[n]=0;for(n=24877;n<=24882;n++)i[n]=0;for(n=24891;n<=24893;n++)i[n]=0;for(n=25391;n<=25395;n++)i[n]=0;for(n=25828;n<=25838;n++)i[n]=0;for(n=26191;n<=26195;n++)i[n]=0;for(n=26391;n<=26393;n++)i[n]=0;for(n=26701;n<=26722;n++)i[n]=0;for(n=26729;n<=26799;n++)i[n]=2;for(n=26801;n<=26803;n++)i[n]=2;for(n=26811;n<=26813;n++)i[n]=2;for(n=26847;n<=26870;n++)i[n]=2;for(n=26891;n<=26899;n++)i[n]=0;for(n=26901;n<=26923;n++)i[n]=0;for(n=26929;n<=26946;n++)i[n]=0;for(n=26948;n<=26998;n++)i[n]=0;for(n=27037;n<=27040;n++)i[n]=0;for(n=27205;n<=27232;n++)i[n]=0;for(n=27258;n<=27260;n++)i[n]=0;for(n=27391;n<=27398;n++)i[n]=0;for(n=27561;n<=27564;n++)i[n]=0;for(n=27571;n<=27574;n++)i[n]=0;for(n=27581;n<=27584;n++)i[n]=0;for(n=27591;n<=27594;n++)i[n]=0;for(n=28191;n<=28193;n++)i[n]=0;for(n=28348;n<=28358;n++)i[n]=0;for(n=28402;n<=28432;n++)i[n]=0;for(n=28462;n<=28492;n++)i[n]=0;for(n=29118;n<=29122;n++)i[n]=0;for(n=29168;n<=29172;n++)i[n]=0;for(n=29177;n<=29185;n++)i[n]=0;for(n=29187;n<=29195;n++)i[n]=0;for(n=29900;n<=29903;n++)i[n]=0;for(n=30161;n<=30179;n++)i[n]=0;for(n=30491;n<=30494;n++)i[n]=0;for(n=30729;n<=30732;n++)i[n]=0;for(n=31251;n<=31259;n++)i[n]=0;for(n=31265;n<=31268;n++)i[n]=0;for(n=31275;n<=31279;n++)i[n]=0;for(n=31281;n<=31297;n++)i[n]=0;for(n=31461;n<=31469;n++)i[n]=0;for(n=31491;n<=31495;n++)i[n]=0;for(n=31917;n<=31922;n++)i[n]=0;for(n=31965;n<=32e3;n++)i[n]=0;for(n=32001;n<=32003;n++)i[n]=2;for(n=32005;n<=32031;n++)i[n]=2;for(n=32033;n<=32060;n++)i[n]=2;for(n=32064;n<=32067;n++)i[n]=2;for(n=32074;n<=32077;n++)i[n]=2;for(n=32081;n<=32086;n++)i[n]=0;for(n=32107;n<=32130;n++)i[n]=0;for(n=32133;n<=32158;n++)i[n]=0;for(n=32164;n<=32167;n++)i[n]=2;for(n=32180;n<=32199;n++)i[n]=0;for(n=32201;n<=32260;n++)i[n]=0;for(n=32301;n<=32360;n++)i[n]=0;for(n=32601;n<=32662;n++)i[n]=0;for(n=32664;n<=32667;n++)i[n]=2;for(n=32701;n<=32761;n++)i[n]=0;for(n=53001;n<=53004;n++)i[n]=0;for(n=53008;n<=53019;n++)i[n]=0;for(n=53021;n<=53032;n++)i[n]=0;for(n=53034;n<=53037;n++)i[n]=0;for(n=53042;n<=53046;n++)i[n]=0;for(n=53074;n<=53080;n++)i[n]=0;for(n=54001;n<=54004;n++)i[n]=0;for(n=54008;n<=54019;n++)i[n]=0;for(n=54021;n<=54032;n++)i[n]=0;for(n=54034;n<=54037;n++)i[n]=0;for(n=54042;n<=54046;n++)i[n]=0;for(n=54048;n<=54053;n++)i[n]=0;for(n=54074;n<=54080;n++)i[n]=0;for(n=54098;n<=54101;n++)i[n]=0;for(n=102001;n<=102040;n++)i[n]=0;for(n=102042;n<=102063;n++)i[n]=0;for(n=102065;n<=102067;n++)i[n]=0;for(n=102070;n<=102117;n++)i[n]=0;for(n=102122;n<=102216;n++)i[n]=0;for(n=102221;n<=102377;n++)i[n]=0;for(n=102382;n<=102388;n++)i[n]=0;for(n=102389;n<=102398;n++)i[n]=2;for(n=102399;n<=102444;n++)i[n]=0;for(n=102445;n<=102447;n++)i[n]=2;for(n=102448;n<=102458;n++)i[n]=0;for(n=102459;n<=102468;n++)i[n]=2;for(n=102469;n<=102499;n++)i[n]=0;for(n=102500;n<=102519;n++)i[n]=1;for(n=102520;n<=102524;n++)i[n]=0;for(n=102525;n<=102529;n++)i[n]=2;for(n=102530;n<=102588;n++)i[n]=0;for(n=102590;n<=102598;n++)i[n]=0;for(n=102601;n<=102603;n++)i[n]=0;for(n=102605;n<=102628;n++)i[n]=0;for(n=102629;n<=102646;n++)i[n]=2;for(n=102648;n<=102700;n++)i[n]=2;for(n=102701;n<=102703;n++)i[n]=0;for(n=102707;n<=102730;n++)i[n]=2;for(n=102733;n<=102758;n++)i[n]=2;for(n=102767;n<=102900;n++)i[n]=0;for(n=102965;n<=102969;n++)i[n]=0;for(n=102971;n<=102973;n++)i[n]=0;for(n=102975;n<=102989;n++)i[n]=0;for(n=102990;n<=102992;n++)i[n]=1;for(n=102997;n<=103002;n++)i[n]=0;for(n=103003;n<=103008;n++)i[n]=2;for(n=103009;n<=103011;n++)i[n]=0;for(n=103012;n<=103014;n++)i[n]=2;for(n=103019;n<=103021;n++)i[n]=0;for(n=103022;n<=103024;n++)i[n]=2;for(n=103029;n<=103031;n++)i[n]=0;for(n=103032;n<=103034;n++)i[n]=2;for(n=103065;n<=103068;n++)i[n]=0;for(n=103074;n<=103076;n++)i[n]=0;for(n=103077;n<=103079;n++)i[n]=1;for(n=103080;n<=103082;n++)i[n]=0;for(n=103083;n<=103085;n++)i[n]=2;for(n=103090;n<=103093;n++)i[n]=0;for(n=103097;n<=103099;n++)i[n]=0;for(n=103100;n<=103102;n++)i[n]=2;for(n=103107;n<=103109;n++)i[n]=0;for(n=103110;n<=103112;n++)i[n]=2;for(n=103113;n<=103116;n++)i[n]=0;for(n=103117;n<=103120;n++)i[n]=2;for(n=103153;n<=103157;n++)i[n]=0;for(n=103158;n<=103162;n++)i[n]=2;for(n=103163;n<=103165;n++)i[n]=0;for(n=103166;n<=103168;n++)i[n]=1;for(n=103169;n<=103171;n++)i[n]=2;for(n=103186;n<=103188;n++)i[n]=0;for(n=103189;n<=103191;n++)i[n]=2;for(n=103192;n<=103195;n++)i[n]=0;for(n=103196;n<=103199;n++)i[n]=2;for(n=103200;n<=103224;n++)i[n]=0;for(n=103225;n<=103227;n++)i[n]=1;for(n=103232;n<=103237;n++)i[n]=0;for(n=103238;n<=103243;n++)i[n]=2;for(n=103244;n<=103246;n++)i[n]=0;for(n=103247;n<=103249;n++)i[n]=2;for(n=103254;n<=103256;n++)i[n]=0;for(n=103257;n<=103259;n++)i[n]=2;for(n=103264;n<=103266;n++)i[n]=0;for(n=103267;n<=103269;n++)i[n]=2;for(n=103300;n<=103375;n++)i[n]=0;for(n=103381;n<=103383;n++)i[n]=0;for(n=103384;n<=103386;n++)i[n]=1;for(n=103387;n<=103389;n++)i[n]=0;for(n=103390;n<=103392;n++)i[n]=2;for(n=103397;n<=103399;n++)i[n]=0;for(n=103400;n<=103471;n++)i[n]=2;for(n=103476;n<=103478;n++)i[n]=0;for(n=103479;n<=103481;n++)i[n]=2;for(n=103486;n<=103488;n++)i[n]=0;for(n=103489;n<=103491;n++)i[n]=2;for(n=103492;n<=103495;n++)i[n]=0;for(n=103496;n<=103499;n++)i[n]=2;for(n=103528;n<=103543;n++)i[n]=0;for(n=103544;n<=103548;n++)i[n]=2;for(n=103549;n<=103551;n++)i[n]=0;for(n=103552;n<=103554;n++)i[n]=1;for(n=103555;n<=103557;n++)i[n]=2;for(n=103558;n<=103560;n++)i[n]=0;for(n=103571;n<=103573;n++)i[n]=0;for(n=103574;n<=103576;n++)i[n]=2;for(n=103577;n<=103580;n++)i[n]=0;for(n=103581;n<=103583;n++)i[n]=2;for(n=103595;n<=103694;n++)i[n]=0;for(n=103696;n<=103699;n++)i[n]=0;for(n=103700;n<=103793;n++)i[n]=2;for(n=103794;n<=103872;n++)i[n]=0;for(n=103900;n<=103971;n++)i[n]=2;t.a=i},u0xB:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("7i+s"),f=r("0n+b"),p=r("0fJP"),d=r("xAIp"),h=(r("wckI"),r("J4Pc"),r("TM+E"),r("iaHD")),b=r("jr4m");function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var v=new l.a({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete"}),m=n=function(e){Object(o.a)(r,e);var t=y(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).maxPointCount=void 0,n.maxRecordCount=void 0,n.maxVertexCount=void 0,n.onStatisticField=null,n.outStatisticFieldName=null,n.statisticType=null,n.statisticParameters=null,n}return Object(a.a)(r,[{key:"writeStatisticParameters",value:function(e,t){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(t.statisticParameters=Object(p.a)(e))}},{key:"clone",value:function(){return new n({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:Object(p.a)(this.statisticParameters)})}}]),r}(f.a);Object(u.a)([Object(d.b)({type:Number,json:{write:!0}})],m.prototype,"maxPointCount",void 0),Object(u.a)([Object(d.b)({type:Number,json:{write:!0}})],m.prototype,"maxRecordCount",void 0),Object(u.a)([Object(d.b)({type:Number,json:{write:!0}})],m.prototype,"maxVertexCount",void 0),Object(u.a)([Object(d.b)({type:String,json:{write:!0}})],m.prototype,"onStatisticField",void 0),Object(u.a)([Object(d.b)({type:String,json:{write:!0}})],m.prototype,"outStatisticFieldName",void 0),Object(u.a)([Object(d.b)({type:String,json:{read:{source:"statisticType",reader:v.read},write:{target:"statisticType",writer:v.write}}})],m.prototype,"statisticType",void 0),Object(u.a)([Object(d.b)({type:Object})],m.prototype,"statisticParameters",void 0),Object(u.a)([Object(b.a)("statisticParameters")],m.prototype,"writeStatisticParameters",null);var g=m=n=Object(u.a)([Object(h.a)("esri.rest.support.StatisticDefinition")],m);t.a=g},u2vY:function(e,t,r){var n=r("Exs5");e.exports=function(e){return function(t){return n(t,e)}}},u6UW:function(e,t,r){var n=r("O76R")((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}));e.exports=n},u7St:function(e,t){var r=Date.now;e.exports=function(e){var t=0,n=0;return function(){var i=r(),a=16-(i-n);if(n=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},uNCi:function(e,t,r){"use strict";var n=r("tM9Q"),i=r("aD51");"undefined"!=typeof ILegendWidget&&ILegendWidget&&ILegendWidget===Object(ILegendWidget)&&Object.isExtensible(ILegendWidget)&&!ILegendWidget.hasOwnProperty("__filemeta")&&Object.defineProperty(ILegendWidget,"__filemeta",{configurable:!0,value:{name:"ILegendWidget",filename:"src/widgets/Legend.tsx"}});var a=function(e){return Object(i.c)(n.Legend,e)};t.a=a,void 0!==a&&a&&a===Object(a)&&Object.isExtensible(a)&&!a.hasOwnProperty("__filemeta")&&Object.defineProperty(a,"__filemeta",{configurable:!0,value:{name:"Legendy",filename:"src/widgets/Legend.tsx"}})},uYTh:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=new(r("7i+s").a)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},ucOy:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("eijD"),i=r("NthX"),a=r.n(i),o=r("Vs6/"),s=new Map([["ar",function(){return Promise.all([r.e(0),r.e(188)]).then(r.t.bind(null,"NcOb",7))}],["ar-dz",function(){return Promise.all([r.e(0),r.e(182)]).then(r.t.bind(null,"1ors",7))}],["ar-kw",function(){return Promise.all([r.e(0),r.e(183)]).then(r.t.bind(null,"Sc1Y",7))}],["ar-ly",function(){return Promise.all([r.e(0),r.e(184)]).then(r.t.bind(null,"GzvP",7))}],["ar-ma",function(){return Promise.all([r.e(0),r.e(185)]).then(r.t.bind(null,"hH25",7))}],["ar-sa",function(){return Promise.all([r.e(0),r.e(186)]).then(r.t.bind(null,"u2jB",7))}],["ar-tn",function(){return Promise.all([r.e(0),r.e(187)]).then(r.t.bind(null,"5Mza",7))}],["bs",function(){return Promise.all([r.e(0),r.e(189)]).then(r.t.bind(null,"EL7g",7))}],["ca",function(){return Promise.all([r.e(0),r.e(190)]).then(r.t.bind(null,"vd/2",7))}],["cs",function(){return Promise.all([r.e(0),r.e(191)]).then(r.t.bind(null,"K+3W",7))}],["da",function(){return Promise.all([r.e(0),r.e(192)]).then(r.t.bind(null,"YcFX",7))}],["de",function(){return Promise.all([r.e(0),r.e(195)]).then(r.t.bind(null,"BKZ+",7))}],["de-at",function(){return Promise.all([r.e(0),r.e(193)]).then(r.t.bind(null,"Oq9h",7))}],["de-ch",function(){return Promise.all([r.e(0),r.e(194)]).then(r.t.bind(null,"hHY4",7))}],["el",function(){return Promise.all([r.e(0),r.e(196)]).then(r.t.bind(null,"tSbB",7))}],["en-au",function(){return Promise.all([r.e(0),r.e(197)]).then(r.t.bind(null,"HgyJ",7))}],["en-ca",function(){return Promise.all([r.e(0),r.e(198)]).then(r.t.bind(null,"ZyTy",7))}],["en-gb",function(){return Promise.all([r.e(0),r.e(199)]).then(r.t.bind(null,"exaB",7))}],["en-ie",function(){return Promise.all([r.e(0),r.e(200)]).then(r.t.bind(null,"yKzn",7))}],["en-il",function(){return Promise.all([r.e(0),r.e(201)]).then(r.t.bind(null,"TB59",7))}],["en-in",function(){return Promise.all([r.e(0),r.e(202)]).then(r.t.bind(null,"S70V",7))}],["en-nz",function(){return Promise.all([r.e(0),r.e(203)]).then(r.t.bind(null,"iDxo",7))}],["en-sg",function(){return Promise.all([r.e(0),r.e(204)]).then(r.t.bind(null,"zS0P",7))}],["es",function(){return Promise.all([r.e(0),r.e(208)]).then(r.t.bind(null,"GNPT",7))}],["es-do",function(){return Promise.all([r.e(0),r.e(205)]).then(r.t.bind(null,"R7mU",7))}],["es-mx",function(){return Promise.all([r.e(0),r.e(206)]).then(r.t.bind(null,"FkqR",7))}],["es-us",function(){return Promise.all([r.e(0),r.e(207)]).then(r.t.bind(null,"Nstw",7))}],["et",function(){return Promise.all([r.e(0),r.e(209)]).then(r.t.bind(null,"ZOjb",7))}],["fi",function(){return Promise.all([r.e(0),r.e(210)]).then(r.t.bind(null,"vcN1",7))}],["fr",function(){return Promise.all([r.e(0),r.e(213)]).then(r.t.bind(null,"Y8Ij",7))}],["fr-ca",function(){return Promise.all([r.e(0),r.e(211)]).then(r.t.bind(null,"t+Zl",7))}],["fr-ch",function(){return Promise.all([r.e(0),r.e(212)]).then(r.t.bind(null,"SPXN",7))}],["he",function(){return Promise.all([r.e(0),r.e(214)]).then(r.t.bind(null,"ACAV",7))}],["hr",function(){return Promise.all([r.e(0),r.e(215)]).then(r.t.bind(null,"OnNk",7))}],["hu",function(){return Promise.all([r.e(0),r.e(216)]).then(r.t.bind(null,"EQmw",7))}],["id",function(){return Promise.all([r.e(0),r.e(217)]).then(r.t.bind(null,"0yow",7))}],["it",function(){return Promise.all([r.e(0),r.e(219)]).then(r.t.bind(null,"xD/0",7))}],["it-ch",function(){return Promise.all([r.e(0),r.e(218)]).then(r.t.bind(null,"foQf",7))}],["ja",function(){return Promise.all([r.e(0),r.e(220)]).then(r.t.bind(null,"jOnb",7))}],["ko",function(){return Promise.all([r.e(0),r.e(221)]).then(r.t.bind(null,"ZNZT",7))}],["lt",function(){return Promise.all([r.e(0),r.e(222)]).then(r.t.bind(null,"6PD3",7))}],["lv",function(){return Promise.all([r.e(0),r.e(223)]).then(r.t.bind(null,"YKe2",7))}],["nb",function(){return Promise.all([r.e(0),r.e(224)]).then(r.t.bind(null,"h+U8",7))}],["nl",function(){return Promise.all([r.e(0),r.e(226)]).then(r.t.bind(null,"jsZ8",7))}],["nl-be",function(){return Promise.all([r.e(0),r.e(225)]).then(r.t.bind(null,"+h6j",7))}],["pl",function(){return Promise.all([r.e(0),r.e(227)]).then(r.t.bind(null,"8Bez",7))}],["pt",function(){return Promise.all([r.e(0),r.e(229)]).then(r.t.bind(null,"DDip",7))}],["pt-br",function(){return Promise.all([r.e(0),r.e(228)]).then(r.t.bind(null,"uHm5",7))}],["ro",function(){return Promise.all([r.e(0),r.e(230)]).then(r.t.bind(null,"baBi",7))}],["ru",function(){return Promise.all([r.e(0),r.e(231)]).then(r.t.bind(null,"ecsu",7))}],["sk",function(){return Promise.all([r.e(0),r.e(232)]).then(r.t.bind(null,"K+Lk",7))}],["sl",function(){return Promise.all([r.e(0),r.e(233)]).then(r.t.bind(null,"QK6v",7))}],["sr",function(){return Promise.all([r.e(0),r.e(235)]).then(r.t.bind(null,"Ndyf",7))}],["sr-cyrl",function(){return Promise.all([r.e(0),r.e(234)]).then(r.t.bind(null,"PGvg",7))}],["sv",function(){return Promise.all([r.e(0),r.e(236)]).then(r.t.bind(null,"WF5B",7))}],["th",function(){return Promise.all([r.e(0),r.e(237)]).then(r.t.bind(null,"OY2w",7))}],["tr",function(){return Promise.all([r.e(0),r.e(238)]).then(r.t.bind(null,"EqYs",7))}],["uk",function(){return Promise.all([r.e(0),r.e(239)]).then(r.t.bind(null,"6Olw",7))}],["vi",function(){return Promise.all([r.e(0),r.e(240)]).then(r.t.bind(null,"EnIJ",7))}],["zh-cn",function(){return Promise.all([r.e(0),r.e(241)]).then(r.t.bind(null,"bjMe",7))}],["zh-hk",function(){return Promise.all([r.e(0),r.e(242)]).then(r.t.bind(null,"JFCg",7))}],["zh-mo",function(){return Promise.all([r.e(0),r.e(243)]).then(r.t.bind(null,"5BRa",7))}],["zh-tw",function(){return Promise.all([r.e(0),r.e(244)]).then(r.t.bind(null,"xBDH",7))}]]);function c(){return u.apply(this,arguments)}function u(){return(u=Object(n.a)(a.a.mark((function e(){var t,n,i,c,u=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:Object(o.b)(),e.next=3,r.e(0).then(r.t.bind(null,"wgY5",7));case 3:if(n=e.sent.default,t=t.toLowerCase(),(i=s.has(t))||(c=t.split("-")).length>1&&s.has(c[0])&&(t=c[0],i=!0),!i){e.next=12;break}return e.next=10,s.get(t)();case 10:e.next=13;break;case 12:t="en";case 13:return t!==n.locale()&&n.locale(t),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},ueY8:function(e,t,r){"use strict";var n=r("tM9Q"),i=(r("ERkP"),r("aD51"));"undefined"!=typeof _MapProps&&_MapProps&&_MapProps===Object(_MapProps)&&Object.isExtensible(_MapProps)&&!_MapProps.hasOwnProperty("__filemeta")&&Object.defineProperty(_MapProps,"__filemeta",{configurable:!0,value:{name:"_MapProps",filename:"src/Map Component/Map.tsx"}}),"undefined"!=typeof MapProps&&MapProps&&MapProps===Object(MapProps)&&Object.isExtensible(MapProps)&&!MapProps.hasOwnProperty("__filemeta")&&Object.defineProperty(MapProps,"__filemeta",{configurable:!0,value:{name:"MapProps",filename:"src/Map Component/Map.tsx"}});var a=function(e){return Object(i.c)(n.Map,e)};t.a=a,void 0!==a&&a&&a===Object(a)&&Object.isExtensible(a)&&!a.hasOwnProperty("__filemeta")&&Object.defineProperty(a,"__filemeta",{configurable:!0,value:{name:"Mapp",filename:"src/Map Component/Map.tsx"}})},ursF:function(e,t,r){"use strict";var n=r("eijD"),i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("NthX"),l=r.n(u),f=r("dQW7"),p=r("WYis"),d=r("7i+s"),h=r("0n+b"),b=r("xAIp"),y=(r("J4Pc"),r("wckI"),r("TM+E"),r("mp5+")),v=r("iaHD");function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var g=new d.a({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),O=0,j=function(e){Object(o.a)(s,e);var t,r=m(s);function s(e){var t;return Object(i.a)(this,s),(t=r.call(this,e)).id="sym"+O++,t.type=null,t}return Object(a.a)(s,[{key:"color",set:function(e){this._set("color",e)}},{key:"readColor",value:function(e){return e&&null!=e[0]?[e[0],e[1],e[2],e[3]/255]:e}},{key:"collectRequiredFields",value:(t=Object(n.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})},{key:"hash",value:function(){return JSON.stringify(this.toJSON())}},{key:"clone",value:function(){}}]),s}(h.a);Object(f.a)([Object(b.b)({type:g.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:g.write}}})],j.prototype,"type",void 0),Object(f.a)([Object(b.b)({type:p.a,value:new p.a([0,0,0,1]),json:{write:{allowNull:!0}}})],j.prototype,"color",null),Object(f.a)([Object(y.a)("color")],j.prototype,"readColor",null);var w=j=Object(f.a)([Object(v.a)("esri.symbols.Symbol")],j);t.a=w},v0JE:function(e,t,r){var n=r("tF07"),i=r("LMdw"),a=r("Fup7"),o=r("nRc6");e.exports=function(e,t){for(var r=i(t),s=o.f,c=a.f,u=0;u<r.length;u++){var l=r[u];n(e,l)||s(e,l,c(t,l))}}},v2Em:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return d}));var n=r("6CzD"),i=r("eijD"),a=r("NthX"),o=r.n(a),s=r("EKEt"),c=r("kDog"),u=r("eTmm"),l=r("7im+");function f(e,t){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(o.a.mark((function e(t,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:return e.abrupt("return",d(t,r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(o.a.mark((function e(t,r){var a,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r((function e(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var o=0,s=r;o<s.length;o++){var f=s[o];Object(l.h)(f)||(Array.isArray(f)?e.apply(void 0,Object(n.a)(f)):c.a.isCollection(f)?f.forEach((function(t){return e(t)})):u.a.isLoadable(f)&&a.push(f))}})),f=null,e.next=5,Object(s.b)(a,function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t1=!1,e.next=3,Object(s.c)(b(t)?t.loadAll():t.load());case 3:if(e.t2=e.sent.ok,e.t0=e.t1!==e.t2,e.t0){e.next=7;break}e.t0=f;case 7:if(e.t3=e.t0,e.t3){e.next=10;break}f=t;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:if(!f){e.next=7;break}throw f.loadError;case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return"loadAll"in e&&"function"==typeof e.loadAll}},v3KF:function(e,t,r){"use strict";var n=r("0942"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("6CzD"),c=r("hisu"),u=r("yBJb"),l=r("dQW7"),f=r("hZBP"),p=r("46c3"),d=r("iaHD");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var b=function(){function e(){Object(c.a)(this,e),this._emitter=new e.EventEmitter(this)}return Object(u.a)(e,[{key:"emit",value:function(e,t){return this._emitter.emit(e,t)}},{key:"on",value:function(e,t){return this._emitter.on(e,t)}},{key:"once",value:function(e,t){return this._emitter.once(e,t)}},{key:"hasEventListener",value:function(e){return this._emitter.hasEventListener(e)}}]),e}();!function(e){var t=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(c.a)(this,e),this.target=t,this._listenersMap=null}return Object(u.a)(e,[{key:"clear",value:function(){this._listenersMap&&this._listenersMap.clear()}},{key:"emit",value:function(e,t){var r=this._listenersMap&&this._listenersMap.get(e);if(!r)return!1;var n=this.target||this;return Object(s.a)(r).forEach((function(e){e.call(n,t)})),r.length>0}},{key:"on",value:function(e,t){var r=this;if(Array.isArray(e)){var n=e.map((function(e){return r.on(e,t)}));return Object(p.a)(n)}if(e.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);var i=this._listenersMap.get(e)||[];return i.push(t),this._listenersMap.set(e,i),{remove:function(){var n=r._listenersMap&&r._listenersMap.get(e)||[],i=n.indexOf(t);i>=0&&n.splice(i,1)}}}},{key:"once",value:function(e,t){var r=this.on(e,(function(e){r.remove(),t.call(null,e)}));return r}},{key:"hasEventListener",value:function(e){var t=this._listenersMap&&this._listenersMap.get(e);return null!=t&&t.length>0}}]),e}();e.EventEmitter=t,e.EventedMixin=function(e){var r=function(e){Object(i.a)(n,e);var r=h(n);function n(){var e;return Object(c.a)(this,n),(e=r.apply(this,arguments))._emitter=new t,e}return Object(u.a)(n,[{key:"destroy",value:function(){this._emitter.clear()}},{key:"emit",value:function(e,t){return this._emitter.emit(e,t)}},{key:"on",value:function(e,t){return this._emitter.on(e,t)}},{key:"once",value:function(e,t){return this._emitter.once(e,t)}},{key:"hasEventListener",value:function(e){return this._emitter.hasEventListener(e)}}]),n}(e);return r=Object(l.a)([Object(d.a)("esri.core.Evented")],r)};var r=function(e){Object(i.a)(r,e);var t=h(r);function r(){var e;return Object(c.a)(this,r),(e=t.apply(this,arguments))._emitter=new b.EventEmitter(Object(n.a)(e)),e}return Object(u.a)(r,[{key:"emit",value:function(e,t){return this._emitter.emit(e,t)}},{key:"on",value:function(e,t){return this._emitter.on(e,t)}},{key:"once",value:function(e,t){return this._emitter.once(e,t)}},{key:"hasEventListener",value:function(e){return this._emitter.hasEventListener(e)}}]),r}(f.a);r=Object(l.a)([Object(d.a)("esri.core.Evented")],r),e.EventedAccessor=r}(b||(b={}));var y=b;t.a=y},vDbd:function(e,t,r){var n=r("V2ZB"),i=r("Vujp");e.exports=function(e){return n(e,i(e))}},vMVM:function(e,t,r){var n=r("jgJv"),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(c){}var i=o.call(e);return n&&(t?e[s]=r:delete e[s]),i}},vR3I:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("hZBP"),l=r("UfAV"),f=r("7im+"),p=r("+JF/"),d=r("j56I"),h=r("K2z9"),b=r("QdvJ"),y=r("xAIp"),v=r("iaHD");function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var g=function(e){Object(a.a)(r,e);var t=m(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).updating=!1,e.handleId=0,e.handles=new l.a,e.scheduleHandleId=0,e.pendingPromises=new Set,e}return Object(i.a)(r,[{key:"destroy",value:function(){this.removeAll(),this.handles.destroy()}},{key:"add",value:function(e,t,r){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=0!=(1&i),o=++this.handleId;a||this.installSyncUpdatingWatch(e,t,o);var s=0!=(2&i)?Object(d.a)(e,t,r,a):e.watch(t,r,a);return this.handles.add(s,o),{remove:function(){return n.handles.remove(o)}}}},{key:"addOnCollectionPropertyChange",value:function(e,t,r){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=0!=(2&i),o=++this.handleId;return this.handles.add([Object(d.b)(e,t,"after-changes",this.createSyncUpdatingCallback()),Object(d.b)(e,t,"change",r,a?function(e){r({added:e.items,removed:[],moved:[],target:e})}:void 0)],o),{remove:function(){n.handles.remove(o)}}}},{key:"addOnCollectionChange",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0!=(2&n),a=++this.handleId;return this.handles.add([e.on("after-changes",this.createSyncUpdatingCallback()),e.on("change",t)],a),i&&t({added:e.items,removed:[],moved:[],target:e}),{remove:function(){r.handles.remove(a)}}}},{key:"addPromise",value:function(e){var t=this;if(Object(f.h)(e))return e;var r=++this.handleId;this.handles.add({remove:function(){t.pendingPromises.delete(e)&&(0!==t.pendingPromises.size||t.handles.has(O)||t._set("updating",!1))}},r),this.pendingPromises.add(e),this._set("updating",!0);var n=function(){return t.handles.remove(r)};return e.then(n,n),e}},{key:"removeAll",value:function(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}},{key:"installSyncUpdatingWatch",value:function(e,t,r){var n=this.createSyncUpdatingCallback(),i=Object(b.b)((function(){return Object(h.c)(e,t)}),n);return this.handles.add(i,r),i}},{key:"createSyncUpdatingCallback",value:function(){var e=this;return function(){e.handles.remove(O),++e.scheduleHandleId;var t=e.scheduleHandleId;e._get("updating")||e._set("updating",!0),e.handles.add(Object(p.b)((function(){t===e.scheduleHandleId&&(e._set("updating",e.pendingPromises.size>0),e.handles.remove(O))})),O)}}}]),r}(u.a);Object(c.a)([Object(y.b)({readOnly:!0})],g.prototype,"updating",void 0),g=Object(c.a)([Object(v.a)("esri.views.support.WatchUpdatingTracking")],g);var O=-42},vU4c:function(e,t,r){"use strict";var n,i=r("eijD"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("NthX"),f=r.n(l),p=r("dQW7"),d=r("0fJP"),h=r("xAIp"),b=(r("wckI"),r("J4Pc"),r("TM+E"),r("vo12")),y=r("iaHD"),v=r("6yFL"),m=r("ql4C"),g=r("XfeU");function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var j=n=function(e){Object(s.a)(l,e);var t,r,c,u=O(l);function l(e){var t;return Object(a.a)(this,l),(t=u.call(this,e)).description=null,t.label=null,t.symbol=null,t.type="simple",t}return Object(o.a)(l,[{key:"collectRequiredFields",value:(c=Object(i.a)(f.a.mark((function e(t,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.collectSymbolFields(t,r),this.collectVVRequiredFields(t,r)]);case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"collectSymbolFields",value:(r=Object(i.a)(f.a.mark((function e(t,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.getSymbols().map((function(e){return e.collectRequiredFields(t,r)})));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getSymbol",value:function(e,t){return this.symbol}},{key:"getSymbolAsync",value:(t=Object(i.a)(f.a.mark((function e(t,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.symbol);case 1:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"getSymbols",value:function(){return this.symbol?[this.symbol]:[]}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return this.getSymbols().reduce((function(e,t){return e+JSON.stringify(t)}),"")}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables}},{key:"clone",value:function(){return new n({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:Object(d.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}}]),l}(Object(m.a)(v.a));Object(p.a)([Object(h.b)({type:String,json:{write:!0}})],j.prototype,"description",void 0),Object(p.a)([Object(h.b)({type:String,json:{write:!0}})],j.prototype,"label",void 0),Object(p.a)([Object(h.b)(g.b)],j.prototype,"symbol",void 0),Object(p.a)([Object(b.a)({simple:"simple"})],j.prototype,"type",void 0);var w=j=n=Object(p.a)([Object(y.a)("esri.renderers.SimpleRenderer")],j);t.a=w},vVXE:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return s}));var n=r("J4Pc"),i=new Set;function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r&&i.has(t)||(r&&i.add(t),e.warn(" DEPRECATED - ".concat(t)))}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object(n.a)("esri-deprecation-warnings")){var i=r.moduleName;c(e,"Function: ".concat((i?i+"::":"")+t+"()"),r)}}function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object(n.a)("esri-deprecation-warnings")){var i=r.moduleName;c(e,"Property: ".concat((i?i+"::":"")+t),r)}}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object(n.a)("esri-deprecation-warnings")){var i=r.replacement,o=r.version,s=r.see,c=r.warnOnce,u=t;i&&(u+="\n\t Replacement: ".concat(i)),o&&(u+="\n\t Version: ".concat(o)),s&&(u+="\n\t See ".concat(s," for more details.")),a(e,u,c)}}},vW4k:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("NY4G"),f=r("2slW"),p=r("0n+b"),d=r("0fJP"),h=r("7im+"),b=r("xAIp"),y=(r("wckI"),r("J4Pc"),r("TM+E"),r("mp5+")),v=r("iaHD"),m=r("jr4m");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var O=n=function(e){Object(o.a)(r,e);var t=g(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).respectsDaylightSaving=!1,n.timezone=null,n}return Object(a.a)(r,[{key:"readRespectsDaylightSaving",value:function(e,t){return void 0!==t.respectsDaylightSaving?t.respectsDaylightSaving:void 0!==t.respectDaylightSaving&&t.respectDaylightSaving}},{key:"clone",value:function(){var e=this.respectsDaylightSaving,t=this.timezone;return new n({respectsDaylightSaving:e,timezone:t})}}]),r}(p.a);Object(u.a)([Object(b.b)({type:Boolean,json:{write:!0}})],O.prototype,"respectsDaylightSaving",void 0),Object(u.a)([Object(y.a)("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],O.prototype,"readRespectsDaylightSaving",null),Object(u.a)([Object(b.b)({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],O.prototype,"timezone",void 0);var j,w=O=n=Object(u.a)([Object(v.a)("esri.layers.support.TimeReference")],O),_=r("SBR8");function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var x=j=function(e){Object(o.a)(r,e);var t=k(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).cumulative=!1,n.endField=null,n.fullTimeExtent=null,n.hasLiveData=!1,n.interval=null,n.startField=null,n.timeReference=null,n.trackIdField=null,n.useTime=!0,n}return Object(a.a)(r,[{key:"readFullTimeExtent",value:function(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||2!==t.timeExtent.length)return null;var r=new Date(t.timeExtent[0]),n=new Date(t.timeExtent[1]);return new l.a({start:r,end:n})}},{key:"writeFullTimeExtent",value:function(e,t){e&&Object(h.i)(e.start)&&Object(h.i)(e.end)?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}},{key:"readInterval",value:function(e,t){return t.timeInterval&&t.timeIntervalUnits?new f.a({value:t.timeInterval,unit:_.a.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new f.a({value:t.defaultTimeInterval,unit:_.a.fromJSON(t.defaultTimeIntervalUnits)}):null}},{key:"writeInterval",value:function(e,t){if(e){var r=e.toJSON();t.timeInterval=r.value,t.timeIntervalUnits=r.unit}else t.timeInterval=null,t.timeIntervalUnits=null}},{key:"clone",value:function(){var e=this.cumulative,t=this.endField,r=this.hasLiveData,n=this.interval,i=this.startField,a=this.timeReference,o=this.fullTimeExtent,s=this.trackIdField,c=this.useTime;return new j({cumulative:e,endField:t,hasLiveData:r,interval:n,startField:i,timeReference:Object(d.a)(a),fullTimeExtent:Object(d.a)(o),trackIdField:s,useTime:c})}}]),r}(p.a);Object(u.a)([Object(b.b)({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],x.prototype,"cumulative",void 0),Object(u.a)([Object(b.b)({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],x.prototype,"endField",void 0),Object(u.a)([Object(b.b)({type:l.a,json:{write:{enabled:!0,allowNull:!0}}})],x.prototype,"fullTimeExtent",void 0),Object(u.a)([Object(y.a)("fullTimeExtent",["timeExtent"])],x.prototype,"readFullTimeExtent",null),Object(u.a)([Object(m.a)("fullTimeExtent")],x.prototype,"writeFullTimeExtent",null),Object(u.a)([Object(b.b)({type:Boolean,json:{write:!0}})],x.prototype,"hasLiveData",void 0),Object(u.a)([Object(b.b)({type:f.a,json:{write:{enabled:!0,allowNull:!0}}})],x.prototype,"interval",void 0),Object(u.a)([Object(y.a)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],x.prototype,"readInterval",null),Object(u.a)([Object(m.a)("interval")],x.prototype,"writeInterval",null),Object(u.a)([Object(b.b)({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],x.prototype,"startField",void 0),Object(u.a)([Object(b.b)({type:w,json:{write:{enabled:!0,allowNull:!0}}})],x.prototype,"timeReference",void 0),Object(u.a)([Object(b.b)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],x.prototype,"trackIdField",void 0),Object(u.a)([Object(b.b)({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],x.prototype,"useTime",void 0);var S=x=j=Object(u.a)([Object(v.a)("esri.layers.support.TimeInfo")],x);t.a=S},vbdg:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n,i=r("hz2j"),a=function(e,t){for(var r=[];e&&e!==t;)r.push(e),e=e.parentNode;return r};n=Array.prototype.find?function(e,t){return e.find(t)}:function(e,t){return e.filter(t)[0]};var o=function(e,t){var r=e;return t.forEach((function(e){r=r&&r.children?n(r.children,(function(t){return t.domNode===e})):void 0})),r},s=function(e,t,r){var n=function(n){r("domEvent",n);var i=t(),s=a(n.currentTarget,i.domNode);s.reverse();var c,u=o(i.getLastRender(),s);return e.scheduleRender(),u&&(c=u.properties["on".concat(n.type)].apply(u.properties.bind||this,arguments)),r("domEventProcessed",n),c};return function(e,t,r,i){return n}},c=function(e){var t,r,n=Object(i.a)(e),a=n.performanceLogger,o=!0,c=!1,u=[],l=[],f=function(e,r,i){var o;n.eventHandlerInterceptor=s(t,(function(){return o}),a),o=e(r,i(),n),u.push(o),l.push(i)},p=function(){if(r=void 0,o){o=!1,a("renderStart",void 0);for(var e=0;e<u.length;e++){var t=l[e]();a("rendered",void 0),u[e].update(t),a("patched",void 0)}a("renderDone",void 0),o=!0}};return t={renderNow:p,scheduleRender:function(){r||c||(r=requestAnimationFrame(p))},stop:function(){r&&(cancelAnimationFrame(r),r=void 0),c=!0},resume:function(){c=!1,o=!0,t.scheduleRender()},append:function(e,t){f(i.b.append,e,t)},insertBefore:function(e,t){f(i.b.insertBefore,e,t)},merge:function(e,t){f(i.b.merge,e,t)},replace:function(e,t){f(i.b.replace,e,t)},detach:function(e){for(var t=0;t<l.length;t++)if(l[t]===e)return l.splice(t,1),u.splice(t,1)[0];throw new Error("renderFunction was not found")}}}},vdEC:function(e,t,r){var n=r("e+GP").default;function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var c=o?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(a,s,c):a[s]=e[s]}return a.default=e,r&&r.set(e,a),a},e.exports.default=e.exports,e.exports.__esModule=!0},vft2:function(e,t,r){var n=r("0711"),i=r("tDyL");e.exports=function(e){return i("function"==typeof e?e:n(e,1))}},vhWV:function(e,t,r){"use strict";t.__esModule=!0,t.parsePath=function(e){var t=e||"/",r="",n="",i=t.indexOf("#");-1!==i&&(n=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");-1!==a&&(r=t.substr(a),t=t.substr(0,a));return{pathname:t,search:"?"===r?"":r,hash:"#"===n?"":n}}},vo12:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("7i+s"),i=r("xAIp");function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e instanceof n.a?e:new n.a(e,r),o={type:null==(t=null==r?void 0:r.ignoreUnknown)||t?a.apiValues:String,readOnly:null==r?void 0:r.readOnly,json:{type:a.jsonValues,read:(null==r||!r.readOnly)&&{reader:a.read},write:{writer:a.write}}};return void 0!==(null==r?void 0:r.default)&&(o.json.default=r.default),void 0!==(null==r?void 0:r.name)&&(o.json.name=r.name),Object(i.b)(o)}},vvBr:function(e,t,r){var n=r("naAV");e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},w5ta:function(e,t,r){var n=r("PYDc"),i=r("XXCu"),a=r("DZMJ"),o=r("i0JV"),s=r("xKNE");function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=o,c.prototype.set=s,e.exports=c},wC0I:function(e,t,r){"use strict";r.r(t);var n=r("mK0O"),i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("UfAV"),f=r("j56I"),p=r("PVS0"),d=(r("J4Pc"),r("gljZ")),h=r("TM+E"),b=r("xAIp"),y=r("iaHD"),v=r("IXv3"),m=(r("U7uu"),r("hZBP")),g=r("kDog"),O=(r("wckI"),r("6CzD")),j=r("eijD"),w=r("NthX"),_=r.n(w),k=r("WYis"),x=r("g+AA"),S=r("DGz/"),P=r("fb8N"),I=r("7i+s"),R=r("7im+"),M=r("IH5m"),E=r("frPA"),T=r("z9dv"),A=r("cEAa"),C=r("DuP7"),D=r("qCZy");r("Mp7X"),r("pS7t");function L(e){return Object(R.h)(e)||"simple"===e.type||"unique-value"===e.type||"class-breaks"===e.type||"dictionary"===e.type}var F=r("pRE0"),N=r("+3Lk"),B=r("tg/W"),V=r("QXZs"),U=r("/TJE");function z(e,t){if(!e||!("visualVariables"in e)||!e.visualVariables)return null;var r=e.visualVariables.find((function(e){return"size"===e.type})),n=function(e,t){var r=e.featuresTilingScheme.getClosestInfoForScale(e.scale).level;return null!=t&&t.levels?t.levels[r]:null}(t,r);return n?new U.a({field:r.field,minSize:n[2].size,minDataValue:n[2].value,maxSize:n[3].size,maxDataValue:n[3].value}):null}var q=r("TO7i"),H=r("jOdF"),G=/^-?(\d+)(\.(\d+))?$/i;function W(e,t){return e-t}function J(e,t){var r,n;return(r=Number(e.toFixed(t)))<e?n=r+1/Math.pow(10,t):(n=r,r-=1/Math.pow(10,t)),[r=Number(r.toFixed(t)),n=Number(n.toFixed(t))]}function $(e,t,r,n,i){var a=Q(e,t,r,n),o=null==a.previous||a.previous<=i,s=null==a.next||a.next<=i;return o&&s||a.previous+a.next<=2*i}function Z(e){var t=String(e),r=t.match(G);if(r&&r[1])return{integer:r[1].split("").length,fractional:r[3]?r[3].split("").length:0};if(t.toLowerCase().indexOf("e")>-1){var n=t.split("e"),i=n[0],a=n[1];if(i&&a){var o=Number(i),s=Number(a),c=s>0;c||(s=Math.abs(s));var u=Z(o);return c?(u.integer+=s,s>u.fractional?u.fractional=0:u.fractional-=s):(u.fractional+=s,s>u.integer?u.integer=1:u.integer-=s),u}}return{integer:0,fractional:0}}function Q(e,t,r,n){var i={previous:null,next:null};if(null!=r){var a=e-r,o=t-r-a;i.previous=Math.floor(Math.abs(100*o/a))}if(null!=n){var s=n-e,c=n-t-s;i.next=Math.floor(Math.abs(100*c/s))}return i}function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.slice(0),n=t.tolerance,i=void 0===n?2:n,a=t.strictBounds,o=void 0!==a&&a,s=t.indexes,c=void 0===s?r.map((function(e,t){return t})):s;c.sort(W);for(var u=0;u<c.length;u++){var l=c[u],f=r[l],p=0===l?null:r[l-1],d=l===r.length-1?null:r[l+1],h=Z(f).fractional;if(h){for(var b=void 0,y=0,v=!1;y<=h&&!v;){var m=J(f,y);v=$(f,b=o&&0===u?m[1]:m[0],p,d,i),y++}v&&(r[l]=b)}}return r}var K={maximumFractionDigits:20};var Y=Object(q.a)("short-date");function ee(e,t,r,n){var i="";0===t?i="".concat("<"," "):t===r&&(i="".concat(">"," "));var a;return i+(n?Object(q.b)(e,Y):(a=e,Object(H.b)(a,K)))}var te=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII="],re=new k.a([64,64,64]);function ne(e,t){var r=[],n=e.length-1;return 5===e.length?r.push(0,2,4):r.push(0,n),e.map((function(e,i){return r.indexOf(i)>-1?ee(e,i,n,t):null}))}function ie(e,t,r){return ae.apply(this,arguments)}function ae(){return(ae=Object(j.a)(_.a.mark((function e(t,n,i){var a,o,s,c,u,l,f;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,o=[],s=[],t.stops&&(c=t.stops,o=c.map((function(e){return e.value})),(a=c.some((function(e){return!!e.label})))&&(s=c.map((function(e){return e.label})))),u=o[0],l=o[o.length-1],null!=u||null!=l){e.next=5;break}return e.abrupt("return",null);case 5:return f=a?null:ne(o,i),e.next=8,Promise.all(o.map(function(){var e=Object(j.a)(_.a.mark((function e(i,o){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i,"opacity"!==t.type){e.next=7;break}return e.next=4,oe(i,t,n);case 4:e.t1=e.sent,e.next=10;break;case 7:return e.next=9,Promise.resolve().then(r.bind(null,"0F8f"));case 9:e.t1=e.sent.getColor(t,i);case 10:return e.t2=e.t1,e.t3=a?s[o]:f[o],e.abrupt("return",{value:e.t0,color:e.t2,label:e.t3});case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",e.sent.reverse());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t){return se.apply(this,arguments)}function se(){return(se=Object(j.a)(_.a.mark((function e(t,n){var i,a,o,s=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>2&&void 0!==s[2]?s[2]:re,a=new k.a(i),e.next=4,Promise.resolve().then(r.bind(null,"0F8f"));case 4:return o=e.sent.getOpacity(n,t),e.abrupt("return",(null!=o&&(a.a=o),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){var t,r=[],n=[];r=e.map((function(e){return e.value})),(t=e.some((function(e){return!!e.label})))&&(n=e.map((function(e){return e.label})));var i=r[0],a=r[r.length-1];if(null==i&&null==a)return null;var o=t?null:ne(r,!1);return r.map((function(r,i){return{value:r,color:ue(r,e),label:t?n[i]:o[i]}})).reverse()}function ue(e,t){var r=function(e,t){var r=0,n=t.length-1;return t.some((function(t,i){return e<t.value?(n=i,!0):(r=i,!1)})),{startIndex:r,endIndex:n,weight:(e-t[r].value)/(t[n].value-t[r].value)}}(e,t),n=r.startIndex,i=r.endIndex,a=r.weight;if(n===i)return t[n].color;var o=k.a.blendColors(t[n].color,t[i].color,a);return new k.a(o)}var le=r("CSkC");function fe(e){var t=e.colorStops,r=t.length-1;if(t&&t[0]){var n=t[r];n&&1!==n.ratio&&((t=t.slice(0)).push(new le.a({ratio:1,color:n.color})),r++)}return t.map((function(e,t){var n="";return 0===t?n="low":t===r&&(n="high"),{color:e.color,label:n,ratio:e.ratio}})).reverse()}r("0fJP");var pe=r("fVET"),de=r("F7E1"),he={HH:315,HL:45,LL:135,LH:225},be={2:[["HL","HH"],["LL","LH"]],3:[["HL","HM","HH"],["ML","MM","MH"],["LL","LM","LH"]],4:[["HL","HM1","HM2","HH"],["M2L","M2M1","M2M2","M2H"],["M1L","M1M1","M1M2","M1H"],["LL","LM1","LM2","LH"]]};function ye(e){if(e){var t=e.type;if(t.indexOf("3d")>-1)return Object(de.getSymbolLayerFill)(e.symbolLayers.getItemAt(0));if("simple-line"===t){var r=Object(pe.d)(e);return r&&r.color}if("simple-marker"===e.type&&("x"===e.style||"cross"===e.style)){var n=Object(pe.d)(e);return n&&n.color}return Object(pe.b)(e)}}function ve(e,t){var r=t.HH.label,n=t.LL.label,i=t.HL.label,a=t.LH.label;switch(e){case"HH":return{top:r,bottom:n,left:i,right:a};case"HL":return{top:i,bottom:a,left:n,right:r};case"LL":return{top:n,bottom:r,left:a,right:i};case"LH":return{top:a,bottom:i,left:r,right:n};default:return{top:r,bottom:n,left:i,right:a}}}function me(e){var t=e.focus,r=e.infos,n=e.numClasses,i=be[n],a={};r.forEach((function(e){a[e.value]={label:e.label,fill:ye(e.symbol)}}));for(var o=[],s=0;s<n;s++){for(var c=[],u=0;u<n;u++){var l=a[i[s][u]];c.push(l.fill)}o.push(c)}return{type:"relationship-ramp",numClasses:n,focus:t,colors:o,labels:ve(t,a),rotation:ge(t)}}function ge(e){var t=he[e];return e&&null==t&&(t=he.HH),t||0}var Oe=r("aNYv"),je=[255,255,255],we=[200,200,200],_e=[128,128,128];function ke(e,t){var r=e.length-1;return e.map((function(e,n){return ee(e,n,r,t)}))}function xe(e,t,r,n,i,a){return Se.apply(this,arguments)}function Se(){return(Se=Object(j.a)(_.a.mark((function e(t,r,n,i,a,o){var s,c,u,l,f,p,d,h,b,y,v,m,g,O,w,k,x,S,P,I;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r.legendOptions,l=u&&u.customValues,f=Re(t,n),p=!!f,d=!!l,h=null!=r.minSize&&null!=r.maxSize,b=r.stops&&r.stops.length>1,y=!!r.target,p&&(d||h||b&&!y)){e.next=3;break}return e.abrupt("return");case 3:if(v=Object(V.h)(f),m=null,g=null,O=null,!v||b){e.next=9;break}e.t0=X([r.minDataValue,r.maxDataValue]),e.next=15;break;case 9:if(e.t1=l,e.t1){e.next=14;break}return e.next=13,Te(r,f,i,a);case 13:e.t1=e.sent;case 14:e.t0=e.t1;case 15:if(g=e.t0,w=null==t?void 0:t.authoringInfo,k="univariate-color-size"===(null==w?void 0:w.type),x=k&&"above-and-below"===(null==w?void 0:w.univariateTheme),!g&&b&&(g=r.stops.map((function(e){return e.value})),(m=r.stops.some((function(e){return!!e.label})))&&(O=r.stops.map((function(e){return e.label})))),v&&(null==(s=g)?void 0:s.length)>2&&!x&&(g=[g[0],g[g.length-1]]),g){e.next=19;break}return e.abrupt("return",null);case 19:return k&&5!==(null==(c=g)?void 0:c.length)&&(g=Ce({minSize:g[0],maxSize:g[g.length-1]})),S=v?Pe(t,g):null,P=Object(V.g)(f),I=m?null:ke(g,o),e.next=23,Promise.all(g.map(function(){var e=Object(j.a)(_.a.mark((function e(n,o){var s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=4;break}e.t0=S[o],e.next=7;break;case 4:return e.next=6,Ne(r,f,n,i,a);case 6:e.t0=e.sent;case 7:return s=e.t0,e.abrupt("return",{value:n,symbol:Ve(x&&"class-breaks"===t.type?Ie(t,o):f,s),label:m?O[o]:I[o],size:s,outlineSize:P});case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 23:return e.abrupt("return",e.sent.reverse());case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e,t){var r=null==e?void 0:e.authoringInfo,n="univariate-color-size"===(null==r?void 0:r.type),i=[12,30];if(n){var a=t[0],o=t[t.length-1];i=t.map((function(e){return 12+(e-a)/(o-a)*18}))}return n&&"below"===(null==r?void 0:r.univariateTheme)&&i.reverse(),i}function Ie(e,t){var r=e.classBreakInfos,n=r.length,i=n<2||!(t>=2)?r[0].symbol.clone():r[n-1].symbol.clone();return e.visualVariables.some((function(e){return"color"===e.type}))&&(i.type.indexOf("3d")>-1?Me(i):Ee(i)),i}function Re(e,t){var r=null,n=null;if("simple"===e.type)r=e.symbol;else if("class-breaks"===e.type){var i=e.classBreakInfos;r=i&&i[0]&&i[0].symbol,n=i.length>1}else if("unique-value"===e.type){var a=e.uniqueValueInfos;r=a&&a[0]&&a[0].symbol,n=a.length>1}return!r||function(e){if(e)return Object(P.c)(e)?!!e.symbolLayers&&e.symbolLayers.some((function(e){return e&&"fill"===e.type})):-1!==e.type.indexOf("fill");return!1}(r)?null:(r=r.clone(),(t||n)&&(r.type.indexOf("3d")>-1?Me(r):Ee(r)),r)}function Me(e){"line-3d"===e.type?e.symbolLayers.forEach((function(e){e.material={color:_e}})):e.symbolLayers.forEach((function(e){"icon"!==e.type||e.resource&&e.resource.href?e.material={color:we}:(e.material={color:je},e.outline={color:_e,size:1.5})}))}function Ee(e){"cim"===e.type?Object(N.a)(e,new k.a(we)):-1!==e.type.indexOf("line")?e.color=_e:(e.color=je,"simple-marker"===e.type&&(e.outline={color:_e,width:1.5}))}function Te(e,t,r,n){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(j.a)(_.a.mark((function e(t,n,i,a){var o,s,c,u,l;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(r.bind(null,"0F8f"));case 2:if(o=e.sent.getSizeRangeAtScale(t,i,a),s=o&&Ce(o),o||s){e.next=6;break}return e.abrupt("return");case 6:c=X(c=s.map((function(e){return De(e,t,o)}))),u=1;case 9:if(!(u<c.length-1)){e.next=17;break}return e.next=12,Le(t,n,c[u],c[u-1],i,a);case 12:(l=e.sent)&&(c[u]=l[0],s[u]=l[1]);case 14:u++,e.next=9;break;case 17:return e.abrupt("return",c);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e){for(var t=e.minSize,r=(e.maxSize-t)/4,n=[],i=0;i<5;i++)n.push(t+r*i);return n}function De(e,t,r){var n=r.minSize,i=r.maxSize,a=t.minDataValue,o=t.maxDataValue;return e<=n?a:e>=i?o:(e-n)/(i-n)*(o-a)+a}function Le(e,t,r,n,i,a){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(j.a)(_.a.mark((function e(t,r,n,i,a,o){var s,c,u,l,f,p,d,h,b,y,v,m,g,O,j,w,k,x,S,P,I,R,M;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(t,r,n,a,o);case 2:return s=e.sent,e.next=5,Ne(t,r,i,a,o);case 5:c=e.sent,u=Z(n),l=u.fractional,f=20,p=u.integer,d=null,h=null,n>0&&n<1&&(d=Math.pow(10,l),p=Z(n*=d).integer),b=p-1;case 12:if(!(b>=0)){e.next=38;break}return y=Math.pow(10,b),v=Math.floor(n/y)*y,m=Math.ceil(n/y)*y,null!=d&&(v/=d,m/=d),O=X([v,g=(v+m)/2,m],{indexes:[1]}),j=Object(Oe.a)(O,2),g=j[1],e.next=22,Ne(t,r,v,a,o);case 22:return w=e.sent,e.next=25,Ne(t,r,m,a,o);case 25:return k=e.sent,e.next=28,Ne(t,r,g,a,o);case 28:if(x=e.sent,S=Q(s,w,c,null),P=Q(s,k,c,null),I=Q(s,x,c,null),R=S.previous<=f,M=P.previous<=f,R&&M&&(S.previous<=P.previous?(R=!0,M=!1):(M=!0,R=!1)),R?h=[v,w]:M?h=[m,k]:I.previous<=f&&(h=[g,x]),!h){e.next=35;break}return e.abrupt("break",38);case 35:b--,e.next=12;break;case 38:return e.abrupt("return",h);case 39:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e,t,r,n,i){return Be.apply(this,arguments)}function Be(){return(Be=Object(j.a)(_.a.mark((function e(t,n,i,a,o){var s,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(r.bind(null,"0F8f"));case 2:return s=e.sent,c=s.getSize,e.abrupt("return",c(t,i,{scale:a,view:o,shape:"simple-marker"===n.type?n.style:null}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(e,t){var r=e.clone();if(Object(P.c)(r))Object(V.h)(r)||r.symbolLayers.forEach((function(e){"fill"!==e.type&&(e.size=t)}));else if(function(e){return"esri.symbols.SimpleMarkerSymbol"===e.declaredClass}(r))r.size=t;else if(function(e){return"esri.symbols.PictureMarkerSymbol"===e.declaredClass}(r)){var n=r.width,i=r.height;r.height=t,r.width=t*(n/i)}else!function(e){return"esri.symbols.SimpleLineSymbol"===e.declaredClass}(r)?function(e){return"esri.symbols.TextSymbol"===e.declaredClass}(r)&&r.font&&(r.font.size=t):r.width=t;return r}var Ue=r("I5De"),ze=r("2d0T");function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ge(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return We(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var $e=h.a.getLogger("esri.widgets.Legend.support.ActiveLayerInfo"),Ze=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i,Qe=new I.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),Xe={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Ke=new Ue.a({size:6,outline:{color:[128,128,128,.5],width:.5}}),Ye=new ze.a({style:"solid"});function et(e){return"vector-field"===e.type}function tt(e){return"raster-colormap"===e.type}function rt(e){return"raster-stretch"===e.type}function nt(e){return"raster-shaded-relief"===e.type}function it(e){return"esri.renderers.SimpleRenderer"===e.declaredClass}function at(e){return"esri.renderers.ClassBreaksRenderer"===e.declaredClass}function ot(e){return"esri.renderers.UniqueValueRenderer"===e.declaredClass}function st(e){return"esri.renderers.HeatmapRenderer"===e.declaredClass}function ct(e){return ut(e)||lt(e)||ft(e)||function(e){return"esri.renderers.PointCloudRGBRenderer"===e.declaredClass}(e)}function ut(e){return"esri.renderers.PointCloudClassBreaksRenderer"===e.declaredClass}function lt(e){return"esri.renderers.PointCloudStretchRenderer"===e.declaredClass}function ft(e){return"esri.renderers.PointCloudUniqueValueRenderer"===e.declaredClass}function pt(e){return"esri.renderers.DotDensityRenderer"===e.declaredClass}function dt(e,t){return it(e)||at(e)||ot(e)||st(e)||pt(e)?"2d"===t.type||L(e):rt(e)||tt(e)||nt(e)||ut(e)||lt(e)||ft(e)||et(e)}function ht(e){return"esri.layers.BuildingSceneLayer"===e.declaredClass}function bt(e){return"esri.layers.WMSLayer"===e.declaredClass}function yt(e){return"esri.layers.WMTSLayer"===e.declaredClass}function vt(e){return"esri.layers.MapImageLayer"===e.declaredClass}function mt(e){return"esri.layers.TileLayer"===e.declaredClass}function gt(e){return"esri.layers.FeatureLayer"===e.declaredClass}function Ot(e){return"esri.layers.ImageryLayer"===e.declaredClass}function jt(e){return"esri.layers.ImageryTileLayer"===e.declaredClass}function wt(e){return"esri.layers.WCSLayer"===e.declaredClass}function _t(e){return"stretch-ramp"===e.type}function kt(e){var t="authoringInfo"in e&&(null==e?void 0:e.authoringInfo);return"univariate-color-size"===(null==t?void 0:t.type)}function xt(e){var t="authoringInfo"in e&&(null==e?void 0:e.authoringInfo);return"univariate-color-size"===(null==t?void 0:t.type)&&"above-and-below"===(null==t?void 0:t.univariateTheme)}var St=new Ue.a({style:"path",path:"M10,5 L5,0 0,5 M5,0 L5,15",size:15,outline:{width:1,color:[85,85,85,1]}}),Pt={},It=function(e){Object(o.a)(G,e);var t,n,s,c,u,p,d,h,b,y,v,m,w,P,I,L,U,q,H=Je(G);function G(e){var t;return Object(i.a)(this,G),(t=H.call(this,e))._handles=new l.a,t._hasColorRamp=!1,t._hasOpacityRamp=!1,t._hasSizeRamp=!1,t._webStyleSymbolCache=new Map,t._dotDensityUrlCache=new Map,t._scaleDrivenSizeVariable=null,t._hasClusterSizeVariable=!1,t.children=new g.a,t.layerView=null,t.layer=null,t.legendElements=[],t.parent=null,t.keepCacheOnDestroy=!1,t.respectLayerVisibility=!0,t.sublayerIds=[],t.title=null,t.view=null,t}return Object(a.a)(G,[{key:"initialize",value:function(){var e=this,t=function(){return e.notifyChange("ready")};this._handles.add([Object(f.b)(this,"children","change",(function(r){var n=r.added,i=r.removed,a=e._handles;n.map((function(e){var r="activeLayerInfo-ready-watcher-".concat(e.layer.uid);a.add(Object(f.a)(e,"ready",t),r)})),i.forEach((function(e){return a.remove(e.layer.uid)})),t()}))]),this.keepCacheOnDestroy||(Pt={})}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null,this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(Pt=null)}},{key:"opacity",get:function(){var e,t=this.layer.opacity,r=null==(e=this.parent)?void 0:e.opacity,n=this.layer.parent,i=n&&"uid"in n?this._getParentLayerOpacity(n):null;return null!=r?r*t:null!=i?i*t:t}},{key:"ready",get:function(){return null===this.layer||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}},{key:"scale",get:function(){return this.view&&this.view.scale}},{key:"isScaleDriven",get:function(){var e=this,t=this.layer;if(null===t)return!1;if("featureReduction"in t&&t.featureReduction&&"cluster"===t.featureReduction.type)return!0;if("renderer"in t&&t.renderer){if("dot-density"===t.renderer.type)return!0;var r=t.get("renderer.valueExpression");if(Ze.test(r))return!0;var n=t.get("renderer.visualVariables");if(n)return n.some((function(t){return e._isScaleDrivenSizeVariable(t)}))}return this._isLayerScaleDriven(this.layer)}},{key:"version",get:function(){return this._get("version")+1}},{key:"buildLegendElementsForFeatureCollections",value:(q=Object(j.a)(_.a.mark((function e(t){var r,n,i=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.map((function(e){if(gt(e))return i._getRendererLegendElements(e.renderer,{title:e.title});if(e.featureSet&&e.featureSet.features.length){var t=e.layerDefinition,r=t&&t.drawingInfo,n=r&&Object(D.a)(r.renderer),a=Qe.read(t.geometryType);return n?i._getRendererLegendElements(n,{title:e.name,geometryType:a}):($e.warn("drawingInfo not available!"),null)}return null})),e.prev=1,n=[],e.next=5,Object(M.j)(r).then((function(e){e.forEach((function(e){var t=e.value;return t&&n.push.apply(n,Object(O.a)(t))}))}));case 5:this.legendElements=n,this.notifyChange("ready"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),$e.warn("error while building legend for layer!",e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e){return q.apply(this,arguments)})},{key:"buildLegendElementsForRenderer",value:(U=Object(j.a)(_.a.mark((function e(t){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._getRendererLegendElements(t);case 3:r=e.sent,this.legendElements=r,this.notifyChange("ready"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),$e.warn("error while building legend for layer!",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return U.apply(this,arguments)})},{key:"buildLegendElementsForTools",value:(L=Object(j.a)(_.a.mark((function e(){var t,r,n,i,a,o=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!yt(t=this.layer)){e.next=5;break}this._constructLegendElementsForWMTSlayer(),e.next=25;break;case 5:if(!bt(t)){e.next=10;break}return e.next=8,this._constructLegendElementsForWMSSublayers();case 8:e.next=25;break;case 10:if(!ht(t)){e.next=15;break}return e.next=13,this._constructLegendElementsForBuildingSceneLayer();case 13:e.next=25;break;case 15:if(!(vt(t)||mt(t)||ht(t))){e.next=20;break}return e.next=18,this._constructLegendElementsForSublayers();case 18:e.next=25;break;case 20:return this._handles.remove("imageryLayers-watcher"),r="default",Ot(t)&&(r=((null==(a=t)||null==(n=a.renderingRule)?void 0:n.functionName)||"default")+"_"+(null!=(i=t.bandIds)&&i.length?t.bandIds.join(""):"###")),e.next=25,this._getLegendLayers("".concat(t.uid,"-").concat(r)).then(function(){var e=Object(j.a)(_.a.mark((function e(r){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.legendElements=[],o.notifyChange("ready"),n=r.map(function(){var e=Object(j.a)(_.a.mark((function e(r){var n,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(Ot(t)||jt(t))&&(n=t.watch(["renderingRule","bandIds"],(function(){return Object(M.i)(Object(j.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pt.default=null,!t.renderer){e.next=6;break}return e.next=4,o.buildLegendElementsForRenderer(t.renderer);case 4:e.next=8;break;case 6:return e.next=8,o.buildLegendElementsForTools();case 8:case"end":return e.stop()}}),e)}))))()})),o._handles.add(n,"imageryLayers-watcher")),(i=o._generateSymbolTableElementForLegendLayer(r))&&i.infos.length&&(Ot(t)&&(i.title=t.title),o.legendElements.push(i)),o.notifyChange("ready");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Object(M.j)(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){$e.warn("Request to server for legend has failed!",e)}));case 25:case"end":return e.stop()}}),e,this)}))),function(){return L.apply(this,arguments)})},{key:"_getParentLayerOpacity",value:function(e){var t=1,r=e.parent;return r&&"uid"in r&&(t=this._getParentLayerOpacity(r)),e.opacity*t}},{key:"_isGroupActive",value:function(){var e=this.children;return!!e.length&&e.some((function(e){return e.ready}))}},{key:"_isScaleDrivenSizeVariable",value:function(e){if(e&&"size"!==e.type)return!1;var t=e,r=t.minSize,n=t.maxSize;return"object"==typeof r&&r?this._isScaleDrivenSizeVariable(r):"object"==typeof n&&n?this._isScaleDrivenSizeVariable(n):!!t.expression||Ze.test(t.valueExpression)}},{key:"_isLayerScaleDriven",value:function(e){var t=this;if("minScale"in e&&e.minScale>0||"maxScale"in e&&e.maxScale>0)return!0;if("sublayers"in e&&e.sublayers)return e.sublayers.some((function(e){return t._isLayerScaleDriven(e)}));var r=e.parent;if(!1===e.loaded&&r&&vt(r)&&"source"in e&&e.source&&"map-layer"===e.source.type){var n,i=Ge(r.sourceJSON.layers);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.id===e.source.mapLayerId&&(a.minScale>0||a.maxScale>0))return!0}}catch(o){i.e(o)}finally{i.f()}}return!1}},{key:"_constructLegendElementsForWMTSlayer",value:function(){var e=this;this.legendElements=[],this._handles.remove("wmts-activeLayer-watcher");var t=this.layer.activeLayer;if(this._handles.add(Object(f.d)(this.layer,"activeLayer",(function(){return e._constructLegendElementsForWMTSlayer()})),"wmts-activeLayer-watcher"),t.styleId&&t.styles){var r=null;t.styles.some((function(e){return t.styleId===e.id&&(r=e.legendUrl,!0)})),r&&(this.legendElements=[{type:"symbol-table",title:t.title,infos:[{src:r,opacity:this.opacity}]}])}this.notifyChange("ready")}},{key:"_constructLegendElementsForWMSSublayers",value:(I=Object(j.a)(_.a.mark((function e(){var t,r,n=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.legendElements=[],this._handles.remove("wms-sublayers-watcher"),t=this.layer,r=null,(t.customParameters||t.customLayerParameters)&&(r=He(He({},t.customParameters),t.customLayerParameters)),this._handles.add(Object(f.d)(this.layer,"sublayers",(function(){return n._constructLegendElementsForWMSSublayers()})),"wms-sublayers-watcher"),e.next=7,this._generateLegendElementsForWMSSublayers(t.sublayers,r);case 7:this.legendElements=e.sent,this.notifyChange("ready");case 9:case"end":return e.stop()}}),e,this)}))),function(){return I.apply(this,arguments)})},{key:"_generateLegendElementsForWMSSublayers",value:(P=Object(j.a)(_.a.mark((function e(t,r){var n,i,a,o,s,c,u,l=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],this._handles.add(t.on("change",(function(){return l._constructLegendElementsForWMSSublayers()})),"wms-sublayers-watcher"),i=t.toArray(),a=Ge(i),e.prev=4,a.s();case 6:if((o=a.n()).done){e.next=16;break}if(s=o.value,c=s.watch(["title","visible","legendEnabled"],(function(){return l._constructLegendElementsForWMSSublayers()})),this._handles.add(c,"wms-sublayers-watcher"),!(!this.respectLayerVisibility||s.visible&&s.legendEnabled)){e.next=14;break}return e.next=12,this._generateSymbolTableElementForWMSSublayer(s,r);case 12:(u=e.sent)&&u.infos.length&&n.unshift(u);case 14:e.next=6;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4),a.e(e.t0);case 21:return e.prev=21,a.f(),e.finish(21);case 24:return e.abrupt("return",n);case 25:case"end":return e.stop()}}),e,this,[[4,18,21,24]])}))),function(e,t){return P.apply(this,arguments)})},{key:"_generateSymbolTableElementForWMSSublayer",value:(w=Object(j.a)(_.a.mark((function e(t,r){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.legendUrl||!t.sublayers){e.next=5;break}return e.next=3,this._generateLegendElementsForWMSSublayers(t.sublayers,r);case 3:return n=e.sent.filter((function(e){return e})),e.abrupt("return",{type:"symbol-table",title:t.title,infos:n});case 5:return e.abrupt("return",this._generateSymbolTableElementForLegendUrl(t,r));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return w.apply(this,arguments)})},{key:"_generateSymbolTableElementForLegendUrl",value:(m=Object(j.a)(_.a.mark((function e(t,r){var n,i,a,o,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.legendUrl){e.next=3;break}return e.abrupt("return");case 3:return a={type:"symbol-table",title:t.title||t.name||t.id&&t.id+"",infos:[]},r&&(i+="?"+Object(T.E)(r)),o=null,s=null==(n=t.layer)?void 0:n.opacity,e.prev=7,e.next=10,Object(S.default)(i,{responseType:"image"});case 10:(o=e.sent.data)&&(o.style.opacity=s),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(7);case 16:return e.abrupt("return",(a.infos.push({src:i,preview:o,opacity:s}),a));case 17:case"end":return e.stop()}}),e,null,[[7,14]])}))),function(e,t){return m.apply(this,arguments)})},{key:"_getLegendLayers",value:function(e,t){var r=Pt&&Pt[e];return r?Promise.resolve(r):this._legendRequest(t).then((function(t){var r=t.layers;return Pt[e]=r,r}))}},{key:"_legendRequest",value:function(e){var t=this.layer,r={f:"json",dynamicLayers:e};if(Ot(t)){var n=t.exportImageServiceParameters.renderingRule;if(n&&(r.renderingRule=JSON.stringify(n.toJSON())),t.bandIds&&(r.bandIds=t.bandIds.join()),t.raster||t.viewId)r=He({raster:t.raster,viewId:t.viewId},r)}var i=t.url.replace(/(\/)+$/,"");if("version"in t&&t.version>=10.01){var a=i.indexOf("?");a>-1?i=i.substring(0,a)+"/legend"+i.substring(a):i+="/legend"}else{var o=i.toLowerCase().indexOf("/rest/"),s=i.substring(0,o)+i.substring(o+5,i.length);i="https://utility.arcgis.com/sharing/tools/legend?soapUrl="+encodeURI(s)+"&returnbytes=true"}return Object(S.default)(i,{query:r}).then((function(e){return e.data}))}},{key:"_constructLegendElementsForBuildingSceneLayer",value:(v=Object(j.a)(_.a.mark((function e(){var t,r=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.legendElements=[],this._handles.remove("sublayers-watcher"),t=this.layer,this._handles.add(Object(f.d)(t,"sublayers",(function(){return r._constructLegendElementsForBuildingSceneLayer()})),"sublayers-watcher"),e.prev=3,e.next=6,this._generateLegendElementsForBuildingSublayers(t.sublayers,this.opacity);case 6:this.legendElements=e.sent,this.notifyChange("ready"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),$e.warn("Request to server for legend has failed!",e.t0);case 13:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(){return v.apply(this,arguments)})},{key:"_generateLegendElementsForBuildingSublayers",value:(y=Object(j.a)(_.a.mark((function e(t,r){var n,i,a,o,s,c,u,l,f,p,d,h=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],this._handles.add(t.on("change",(function(){return h._constructLegendElementsForBuildingSceneLayer()})),"sublayers-watcher"),i=t.toArray(),a=Ge(i),e.prev=4,a.s();case 6:if((o=a.n()).done){e.next=30;break}if(s=o.value,c=s.watch(["renderer","opacity","title","visible"],(function(){return h._constructLegendElementsForBuildingSceneLayer()})),this._handles.add(c,"sublayers-watcher"),this.respectLayerVisibility&&!s.visible){e.next=28;break}if(u=s&&null!=s.opacity?s.opacity:null,l=null!=u?u*r:r,"building-group"!==s.type){e.next=19;break}return p={type:"symbol-table",title:s.title,infos:[]},e.next=15,this._generateLegendElementsForBuildingSublayers(s.sublayers,l);case 15:d=e.sent,(f=p.infos).push.apply(f,Object(O.a)(d)),n=[p].concat(Object(O.a)(n)),e.next=28;break;case 19:if(!s.renderer){e.next=28;break}return e.t0=[],e.t1=O.a,e.next=24,this._getRendererLegendElements(s.renderer,{title:s.title,opacity:l,sublayer:s});case 24:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t4=Object(O.a)(n),n=e.t0.concat.call(e.t0,e.t3,e.t4);case 28:e.next=6;break;case 30:e.next=35;break;case 32:e.prev=32,e.t5=e.catch(4),a.e(e.t5);case 35:return e.prev=35,a.f(),e.finish(35);case 38:return e.abrupt("return",n.filter((function(e){return!!e&&(!("infos"in e)||e.infos.length>0)})));case 39:case"end":return e.stop()}}),e,this,[[4,32,35,38]])}))),function(e,t){return y.apply(this,arguments)})},{key:"_constructLegendElementsForSublayers",value:(b=Object(j.a)(_.a.mark((function e(){var t,r=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.legendElements=[],this._handles.remove("sublayers-watcher"),t=this.layer,this._handles.add(Object(f.d)(t,"sublayers",(function(){return r._constructLegendElementsForSublayers})),"sublayers-watcher"),e.prev=3,e.next=6,this._generateLegendElementsForSublayers(t.sublayers,this.opacity);case 6:this.legendElements=e.sent,this.notifyChange("ready"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),$e.warn("Request to server for legend has failed!",e.t0);case 13:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(){return b.apply(this,arguments)})},{key:"_generateLegendElementsForSublayers",value:(h=Object(j.a)(_.a.mark((function e(t,r,n){var i,a,o,s,c,u,l,f,p,d,h=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=this.layer,a=[],this._handles.add(t.on("change",(function(){return h._constructLegendElementsForSublayers()})),"sublayers-watcher"),o=t.toArray(),!n&&this.sublayerIds&&this.sublayerIds.length&&(o=this.sublayerIds.map((function(e){return i.findSublayerById(e)})).filter(Boolean)),s=Ge(o),e.prev=6,s.s();case 8:if((c=s.n()).done){e.next=32;break}if(u=c.value,l=u.watch("renderer, opacity, title, visible, legendEnabled",(function(){return h._constructLegendElementsForSublayers()})),this._handles.add(l,"sublayers-watcher"),this.respectLayerVisibility&&!(u.visible&&u.legendEnabled&&this._isSublayerInScale(u))){e.next=30;break}if(f=u&&null!=u.opacity?u.opacity:null,p=null!=f?f*r:r,!(u.renderer&&!u.sublayers&&u.originIdOf("renderer")>2)){e.next=26;break}return e.next=16,u.load();case 16:return e.t0=[],e.t1=O.a,e.next=20,this._getRendererLegendElements(u.renderer,{title:u.title,opacity:p,sublayer:u});case 20:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t4=Object(O.a)(a),a=e.t0.concat.call(e.t0,e.t3,e.t4),e.next=30;break;case 26:return e.next=28,this._generateSymbolTableElementForSublayer(u,p,n);case 28:(d=e.sent)&&a.unshift(d);case 30:e.next=8;break;case 32:e.next=37;break;case 34:e.prev=34,e.t5=e.catch(6),s.e(e.t5);case 37:return e.prev=37,s.f(),e.finish(37);case 40:return e.abrupt("return",a.filter((function(e){return!!e&&(!("infos"in e)||e.infos.length>0)})));case 41:case"end":return e.stop()}}),e,this,[[6,34,37,40]])}))),function(e,t,r){return h.apply(this,arguments)})},{key:"_generateSymbolTableElementForSublayer",value:(d=Object(j.a)(_.a.mark((function e(t,r,n){var i,a,o,s,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=8;break}return n=new Map,i=new A.a({layer:this.layer}),a=i.hasDynamicLayers?i.dynamicLayers:null,i.destroy(),o=a||"".concat(this.layer.uid,"-").concat(t.id,"-default"),e.next=7,this._getLegendLayers(o,a);case 7:e.sent.forEach((function(e){return n.set(e.layerId,e)}));case 8:if((s=n.get(t.id))||!t.sublayers){e.next=14;break}return e.next=12,this._generateLegendElementsForSublayers(t.sublayers,r,n);case 12:return c=e.sent,e.abrupt("return",{type:"symbol-table",title:t.title,infos:c});case 14:return e.abrupt("return",this._generateSymbolTableElementForLegendLayer(s,t,r));case 15:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return d.apply(this,arguments)})},{key:"_generateSymbolTableElementForLegendLayer",value:function(e,t,r){var n,i=this;if(!e||!e.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;var a=null==t?void 0:t.renderer,o=(null==t?void 0:t.title)||e.layerName;if(a&&(!t||(null==t?void 0:t.originIdOf("renderer"))>2)){var s=(null==t?void 0:t.title)||this._getRendererTitle(a,t);s&&(o&&"string"!=typeof s&&"title"in s&&(s.title=o),o=s)}var c={type:"symbol-table",title:o,legendType:e.legendType?e.legendType:null,infos:[]},u=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return(null==(n=e.legendGroups)?void 0:n.length)>0?e.legendGroups.forEach((function(t){var n,a={type:"symbol-table",title:t.heading,legendType:e.legendType?e.legendType:null,infos:i._generateSymbolTableElementInfosForLegendLayer(u.filter((function(e){return e.groupId===t.id})),e.layerId,r)};(null==(n=a.infos)?void 0:n.length)>0&&c.infos.push(a)})):c.infos=this._generateSymbolTableElementInfosForLegendLayer(u,e.layerId,r),c.infos.length>0?c:null}},{key:"_generateSymbolTableElementInfosForLegendLayer",value:function(e,t,r){var n=this;return e.map((function(e){var i=e.url;if(e.imageData&&e.imageData.length>0)i="data:image/png;base64,".concat(e.imageData);else{if(0===i.indexOf("http"))return null;i=Object(x.a)("".concat(n.layer.url,"/").concat(t,"/images/").concat(i))}return{label:e.label,src:i,opacity:null==r?n.opacity:r,width:e.width,height:e.height}})).filter((function(e){return!!e}))}},{key:"_isSublayerInScale",value:function(e){var t=e.minScale||0,r=e.maxScale||0;return!(t>0&&t<this.scale||r>this.scale)}},{key:"_isLegendLayerInScale",value:function(e,t){var r=t||this.layer,n=null,i=null,a=!0;return!r.minScale&&0!==r.minScale||!r.maxScale&&0!==r.maxScale?(0===e.minScale&&r.tileInfo&&(n=r.tileInfo.lods[0].scale),0===e.maxScale&&r.tileInfo&&(i=r.tileInfo.lods[r.tileInfo.lods.length-1].scale)):(n=Math.min(r.minScale,e.minScale)||r.minScale||e.minScale,i=Math.max(r.maxScale,e.maxScale)),(n>0&&n<this.scale||i>this.scale)&&(a=!1),a}},{key:"_sanitizeLegendForSublayer",value:function(e,t){if("version"in this.layer&&this.layer.version<10.1||0===e.length)return e;var r=t.renderer,n=e.some((function(e){return e.values})),i=null,a=null;return n&&e.some((function(e,t){return e.values||(i=t,(a=e).label||(a.label="others")),null!=a})),r?"unique-value"===r.type?a&&(e.splice(i,1),e.push(a)):"class-breaks"===r.type&&(a&&e.splice(i,1),e.reverse(),a&&e.push(a)):a&&(e.splice(i,1),e.push(a)),e}},{key:"_getRendererLegendElements",value:(p=Object(j.a)(_.a.mark((function e(t){var r,n=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",dt(t,this.view)?ct(t)?this._constructPointCloudRendererLegendElements(t,r):pt(t)?this._constructDotDensityRendererLegendElements(t):this._constructRendererLegendElements(t,r):($e.warn("Renderer of type '".concat(t.type,"' not supported!")),[]));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"_getPointCloudRendererTitle",value:function(e){return e.legendOptions&&e.legendOptions.title||e.field}},{key:"_constructPointCloudRendererLegendElements",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.title,i=[],a=null,o=null;if(ut(e))a={type:"symbol-table",title:n||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach((function(e){a.infos.unshift({label:e.label||e.minValue+" - "+e.maxValue,value:[e.minValue,e.maxValue],symbol:t._getAppliedCloneSymbol(Ke,e.color)})}));else if(lt(e)){var s=e.stops,c=null;if(s.length&&(1===s.length&&(c=s[0].color),!c)){var u=s[0].value,l=s[s.length-1].value;null!=u&&null!=l&&(c=ue(u+(l-u)/2,s))}a={type:"symbol-table",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(Ke,c||Ke.color)}]};var f=ce(e.stops);o={type:"color-ramp",title:n||this._getPointCloudRendererTitle(e),infos:f,preview:Object(B.b)(f.map((function(e){return e.color})))}}else ft(e)&&(a={type:"symbol-table",title:n||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos.forEach((function(e){a.infos.push({label:e.label||e.values.join(", "),value:e.values.join(", "),symbol:t._getAppliedCloneSymbol(Ke,e.color)})})));a&&a.infos.length&&i.push(a),o&&o.infos.length&&i.push(o);var p=i.reduce((function(e,t){return e.concat(t.infos)}),[]).filter((function(e){return!!e.symbol})).map((function(r){return t._getSymbolPreview(r,t.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}})}));return Object(M.j)(p).then((function(){return i}))}},{key:"_getElementInfoForDotDensity",value:function(e,t){var r=e.backgroundColor,n=e.outline,i=e.dotSize+"-"+t+"-"+r+"-"+(n&&JSON.stringify(n.toJSON())),a=this._dotDensityUrlCache,o=a.has(i)?a.get(i):Object(B.c)(e,t);return a.set(i,o),{opacity:1,src:o.src,preview:o,width:o.width,height:o.height}}},{key:"_constructDotDensityRendererLegendElements",value:function(e){var t=this,r=e.calculateDotValue(this.view.scale),n=e.legendOptions&&e.legendOptions.unit,i={type:"symbol-table",title:{value:r&&Math.round(r),unit:n||""},infos:[]};return e.attributes.forEach((function(r){var n=t._getElementInfoForDotDensity(e,r.color);n.label=r.label||r.valueExpressionTitle||r.field,i.infos.push(n)})),Promise.resolve([i])}},{key:"_constructRendererLegendElements",value:(u=Object(j.a)(_.a.mark((function e(t){var r,n,i,a,o,s,c,u,l,f,p,d,h,b,y,v,m,g,O,j,w,k,x,S,P,I,E,T,A,C,D,L,F,N,V,U,z,q,H,G,W,J,$,Z,Q,X,K,Y,ee,te,re,ne,ie,ae=this,oe=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oe.length>1&&void 0!==oe[1]?oe[1]:{},n=r.title,i=r.sublayer,a=i||this.layer,e.next=4,this._loadRenderer(t);case 4:return o=e.sent,this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null,e.next=8,this._getVisualVariableLegendElements(o,a);case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0=[];case 11:if(s=e.t0,c={type:"symbol-table",title:n||this._getRendererTitle(o,a),infos:[]},u=null,l=!1,f=new Set,!kt(o)){e.next=21;break}p=n,d=xt(o)?"univariate-above-and-below-ramp":"univariate-color-size-ramp",h=s.findIndex((function(e){return"color-ramp"===e.type})),b=s.splice(h,1)[0],y=s.findIndex((function(e){return"size-ramp"===e.type})),v=s.splice(y,1)[0],m=[],b&&(p=b.title,m.push(b)),v&&(p=v.title,m.push(v)),m.length>0&&s.push({type:d,title:p,infos:m}),e.next=82;break;case 21:if(!st(o)){e.next=26;break}g=fe(o),s.push({type:"heatmap-ramp",title:n,infos:g,preview:Object(B.b)(g.map((function(e){return e.color})))}),e.next=82;break;case 26:if(!ot(o)){e.next=32;break}if((O=o&&o.authoringInfo)&&"relationship"===O.type){if(j=O.focus,w=O.numClasses,k=O.field1,x=O.field2,w&&k&&x){for(S=[k,x],P=ge(j)||0,I=0,E=S;I<E.length;I++)T=E[I],A=T.field,C=T.normalizationField,D=T.label,L=D||{field:this._getFieldAlias(A,a),normField:C&&this._getFieldAlias(C,a)},(F=St.clone()).angle=P,c.infos.push({label:L,symbol:F}),f.add(F),P+=90;N=me({focus:j,numClasses:w,infos:o.uniqueValueInfos}),s.unshift(N)}}else V=o.field,o.uniqueValueInfos.forEach((function(e){e.symbol&&c.infos.push({label:e.label||ae._getDomainName(V,e.value,a)||e.value,value:e.value,symbol:e.symbol})}));o.defaultSymbol&&(c.infos.push({label:o.defaultLabel||"others",symbol:o.defaultSymbol}),l=!0),e.next=82;break;case 32:if(!at(o)){e.next=37;break}(!(u=this._isUnclassedRenderer(o))||!this._hasSizeRamp)&&(o.classBreakInfos.forEach((function(e){e.symbol&&c.infos.unshift({label:e.label||(u?null:e.minValue+" - "+e.maxValue),value:[e.minValue,e.maxValue],symbol:e.symbol})})),u&&(c.title=null),this._updateInfosforClassedSizeRenderer(o,c.infos)),o.defaultSymbol&&!u&&(c.infos.push({label:o.defaultLabel||"others",symbol:o.defaultSymbol}),l=!0),e.next=82;break;case 37:if(!rt(o)){e.next=64;break}if(!jt(this.layer)||"Map"!==(null==(U=this.layer)||null==(z=U.raster)?void 0:z.tileType)){e.next=42;break}this._getServerSideLegend(),e.next=62;break;case 42:if(!jt(this.layer)&&!wt(this.layer)){e.next=47;break}_t(q=this._constructTileImageryStretchRendererElements(o))?s.push(q):c.infos=q,e.next=62;break;case 47:if(H=this.layer,o.statistics&&o.statistics.length?(G=null!=o.statistics[0].min?o.statistics[0].min:o.statistics[0][0],W=null!=o.statistics[0].max?o.statistics[0].max:o.statistics[0][1]):(G=null==(J=o)?void 0:J.outputMin,W=null==($=o)?void 0:$.outputMax),Z=[],e.t1=R.p,!H.renderingRule){e.next=57;break}return e.next=54,H.generateRasterInfo(H.renderingRule);case 54:e.t2=e.sent,e.next=58;break;case 57:e.t2=H.serviceRasterInfo;case 58:e.t3=e.t2,Q=(0,e.t1)(e.t3),X=Q.keyProperties.BandProperties,1===Q.bandCount?(G=null!=G?G:Q.statistics&&Q.statistics[0].min,W=null!=W?W:Q.statistics&&Q.statistics[0].max,G||W?s.push(this._getStretchLegendElements(o,{min:G,max:W})):this._getServerSideLegend()):H.bandIds&&1===H.bandIds.length?(G=null!=G?G:Q.statistics&&Q.statistics[H.bandIds[0]].min,W=null!=W?W:Q.statistics&&Q.statistics[H.bandIds[0]].max,G||W?s.push(this._getStretchLegendElements(o,{min:G,max:W})):this._getServerSideLegend()):Q.bandCount>=3?X&&X.length>=Q.bandCount?H.bandIds&&3===H.bandIds.length?(Z=H.bandIds.map((function(e){return X[e].BandName})),c.infos=this._createSymbolTableElementMultiBand(Z)):"lerc"===H.format?(Z=[0,1,2].map((function(e){return X[e].BandName})),c.infos=this._createSymbolTableElementMultiBand(Z)):this._getServerSideLegend():"lerc"===H.format?(Z=["band1","band2","band3"],c.infos=this._createSymbolTableElementMultiBand(Z)):this._getServerSideLegend():this._getServerSideLegend();case 62:e.next=82;break;case 64:if(!tt(o)){e.next=68;break}o.colormapInfos.forEach((function(e){c.infos.push({label:e.label,value:e.value,symbol:ae._getAppliedCloneSymbol(Ye,e.color)})})),e.next=82;break;case 68:if(!it(o)){e.next=81;break}K=o.symbol,e.t4=r.geometryType,e.next="point"===e.t4?73:"polyline"===e.t4?75:"polygon"===e.t4?77:78;break;case 73:return K="pointSymbol"in a&&a.pointSymbol,e.abrupt("break",78);case 75:return K="lineSymbol"in a&&a.lineSymbol,e.abrupt("break",78);case 77:K="polygonSymbol"in a&&a.polygonSymbol;case 78:o.symbol&&!this._hasSizeRamp&&c.infos.push({label:o.label,symbol:K}),e.next=82;break;case 81:et(o)?(o.outputUnit&&(this.title="("+o.toJSON().outputUnit+")"),c.title=o.attributeField,null!=(Y=o.getClassBreakInfos())&&Y.length?Y.forEach((function(e){c.infos.push({label:e.minValue+" - "+e.maxValue,symbol:e.symbol})})):c.infos.push({label:o.attributeField,symbol:o.getDefaultSymbol()})):nt(o)&&s.push(this._getStretchLegendElements(o,{min:0,max:255}));case 82:return!(ee=o.defaultSymbol)||l||it(o)||u&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||s.push({type:"symbol-table",infos:[{label:o.defaultLabel||"others",symbol:ee}]}),c.infos.length&&s.unshift(c),te=null==r.opacity?this.opacity:r.opacity,re=this._isTallSymbol("visualVariables"in o&&o.visualVariables),ne=Ot(this.layer)||jt(this.layer),ie=s.reduce((function(e,t){return e.concat(ae._getAllInfos(t))}),[]).filter((function(e){return!(!e||!e.symbol)})).map((function(e){return ae._getSymbolPreview(e,te,{applyScaleDrivenSize:!f.has(e.symbol),symbolConfig:{isTall:re,isSquareFill:ne}})})),o=null,e.next=88,Object(M.j)(ie);case 88:return e.abrupt("return",s);case 89:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"_getServerSideLegend",value:function(){var e=this;setTimeout((function(){return e.buildLegendElementsForTools()}),0)}},{key:"_getAllInfos",value:function(e){var t=this,r=null==e?void 0:e.infos;return r?r.reduce((function(e,r){return e.concat(t._getAllInfos(r))}),[]):[e]}},{key:"_constructTileImageryStretchRendererElements",value:function(e){var t,r,n,i,a,o=this.layer,s=o.rasterInfo,c=s.bandCount||e.statistics.length,u=s.keyProperties&&s.keyProperties.BandProperties,l=null!=e&&null!=(t=e.statistics)&&t.length?e.statistics:null==s?void 0:s.statistics;if(l)n=void 0!==l[0].min?l[0].min:l[0][0],i=l[0].max||l[0][1];else{var f=Xe[o.rasterInfo.pixelType.toLowerCase()];n=f[0],i=f[1]}if(o.hasStandardTime()&&(n=o.getStandardTimeValue(n),i=o.getStandardTimeValue(i)),1===s.bandCount||1===(null==(r=o.bandIds)?void 0:r.length))return this._getStretchLegendElements(e,{min:n,max:i});function p(e){var t,r=(null!=o&&null!=(t=o.bandIds)&&t.length?o.bandIds:Array.from(Array(Math.min(s.bandCount,3)).keys())).map((function(t){return e&&e[t]&&e[t].BandName||"band"+(t+1)}));return r.length<3?r.push(r[1]):r.length>3&&r.splice(3),r}return a=u&&u.length>=c?p(u):p(),this._createSymbolTableElementMultiBand(a)}},{key:"_getStretchLegendElements",value:function(e,t){var r=function(e,t){var r,n,i=[];return e&&"multipart"===e.type?e.colorRamps.reverse().forEach((function(r,n){0===n?i.push({value:t.max,color:new k.a(r.toColor),label:"high"}):i.push({value:null,color:new k.a(r.toColor),label:""}),n===e.colorRamps.length-1?i.push({value:t.min,color:new k.a(r.fromColor),label:"low"}):i.push({value:null,color:new k.a(r.fromColor),label:""})})):(e&&"algorithmic"===e.type?(r=e.fromColor,n=e.toColor):(r=[0,0,0,1],n=[255,255,255,1]),i=[{value:t.max,color:new k.a(n),label:"high"},{value:t.min,color:new k.a(r),label:"low"}]),i}(e.colorRamp,t);return{type:"stretch-ramp",title:"",infos:r,preview:Object(B.b)(r.map((function(e){return e.color})))}}},{key:"_createSymbolTableElementMultiBand",value:function(e){var t=[],r=["red","green","blue"];return e.forEach((function(e,n){t.push({label:{colorName:r[n],bandName:e},src:te[n],opacity:1})})),t}},{key:"_updateInfosforClassedSizeRenderer",value:function(e,t){var r=e.authoringInfo&&"class-breaks-size"===e.authoringInfo.type,n=e.classBreakInfos.some((function(e){return Object(V.h)(e.symbol)}));if(r&&n){var i=e.classBreakInfos.length,a=18/(i>1?i-1:i);t.forEach((function(e,t){e.size=30-a*t}))}}},{key:"_isTallSymbol",value:function(e){var t=!1,r=!1;if(e)for(var n=0;n<e.length&&(!t||!r);n++){var i=e[n];"size"===i.type&&("height"===i.axis&&(t=!0),"width-and-depth"===i.axis&&(r=!0))}return t&&r}},{key:"_getSymbolPreview",value:(c=Object(j.a)(_.a.mark((function e(t,n,i){var a,o,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null==t.size&&this._hasSizeRamp?Object(E.d)(22):t.size,!this._scaleDrivenSizeVariable||null==i||!i.applyScaleDrivenSize){e.next=7;break}return e.next=4,Promise.resolve().then(r.bind(null,"0F8f"));case 4:o=e.sent,s=o.getSize,a=s(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:"simple-marker"===t.symbol.type?t.symbol.style:null});case 7:return e.abrupt("return",Object(B.d)(t.symbol,{size:a,opacity:n,scale:!1,symbolConfig:null==i?void 0:i.symbolConfig}).then((function(e){return t.preview=e,t})).catch((function(){return t.preview=null,t})));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return c.apply(this,arguments)})},{key:"_loadRenderer",value:(s=Object(j.a)(_.a.mark((function e(t){var r,n,i,a,o,s,c,u,l,f,p,d,h,b=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],a=this.layer,t=t.clone(),this._hasClusterSizeVariable=!1,o="visualVariables"in t&&(null==(r=t.visualVariables)?void 0:r.some((function(e){return"size"===e.type&&"outline"!==e.target&&!Ze.test(e.valueExpression)}))),t&&"visualVariables"in t&&!o&&"featureReduction"in a&&"cluster"===(null==(n=a.featureReduction)?void 0:n.type)&&(s=this.layerView._effectiveRenderer,(c=Object(R.p)(z(s,this.view)))&&("clusterMinSize"in(u=a.featureReduction)&&"clusterMaxSize"in u&&(l=u.clusterMinSize,f=u.clusterMaxSize,c.legendOptions=new F.a({showLegend:l!==f})),p=t.visualVariables||[],t.visualVariables=p.concat([c]),this._hasClusterSizeVariable=!0)),e.next=6,this._getMedianColor(t);case 6:return d=e.sent,(at(t)||ot(t))&&(h=(t.classBreakInfos||t.uniqueValueInfos).map((function(e){return b._fetchSymbol(e.symbol,d).then((function(t){e.symbol=t})).catch((function(){e.symbol=null}))})),Array.prototype.push.apply(i,h)),e.abrupt("return",(i.push(this._fetchSymbol(t.symbol||t.defaultSymbol,t.defaultSymbol?null:d).then((function(e){b._applySymbolToRenderer(t,e,it(t))})).catch((function(){b._applySymbolToRenderer(t,null,it(t))}))),Object(M.j)(i).then((function(){return t}))));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"_applySymbolToRenderer",value:function(e,t,r){r?e.symbol=t:e.defaultSymbol=t}},{key:"_getMedianColor",value:(n=Object(j.a)(_.a.mark((function e(t){var n,i,a,o,s,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("visualVariables"in t&&t.visualVariables){e.next=2;break}return e.abrupt("return",null);case 2:if(n=t.visualVariables.find((function(e){return"color"===e.type}))){e.next=5;break}return e.abrupt("return",null);case 5:if(i=null,a=null,!n.stops){e.next=10;break}if(1!==n.stops.length){e.next=9;break}return e.abrupt("return",n.stops[0].color);case 9:i=n.stops[0].value,a=n.stops[n.stops.length-1].value;case 10:return o=i+(a-i)/2,e.next=13,Promise.resolve().then(r.bind(null,"0F8f"));case 13:return s=e.sent,c=s.getColor,e.abrupt("return",c(n,o));case 16:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"_fetchSymbol",value:function(e,t){var r=this;if(!e)return Promise.reject();if("web-style"===e.type){var n=e.portal,i=n&&n.url,a=n&&n.user&&n.user.username,o=e.name+"-"+e.styleName+"-"+e.styleUrl+"-"+i+"-"+a,s=this._webStyleSymbolCache;return s.has(o)||("2d"===this.view.type?s.set(o,e.fetchCIMSymbol()):s.set(o,e.fetchSymbol())),s.get(o).then((function(e){return r._getAppliedCloneSymbol(e,t)})).catch((function(){return $e.warn("Fetching web-style failed!"),Promise.reject()}))}return Promise.resolve(this._getAppliedCloneSymbol(e,t))}},{key:"_getAppliedCloneSymbol",value:function(e,t){if(!e||!t)return e;var r=e.clone(),n=t&&t.toRgba();return r.type.indexOf("3d")>-1?this._applyColorTo3dSymbol(r,n):"cim"===r.type?Object(N.a)(r,t):r.color&&(r.color=new k.a(n||r.color)),r}},{key:"_applyColorTo3dSymbol",value:function(e,t){t&&e.symbolLayers.forEach((function(e){e&&(e.material||(e.material={}),e.material.color=new k.a(t))}))}},{key:"_getVisualVariableLegendElements",value:(t=Object(j.a)(_.a.mark((function e(t,r){var n,i,a,o,s,c,u,l,f,p,d,h,b=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("visualVariables"in t&&t.visualVariables&&"vector-field"!==t.type){e.next=2;break}return e.abrupt("return",null);case 2:n=t.visualVariables,i=[],a=[],o=[],s=Ge(n);try{for(s.s();!(c=s.n()).done;)"color"===(u=c.value).type?i.push(u):"size"===u.type?a.push(u):"opacity"===u.type&&o.push(u)}catch(y){s.e(y)}finally{s.f()}return l=[].concat(i,a,o),0===i.length&&at(t)&&t.classBreakInfos&&1===t.classBreakInfos.length&&(d=t.classBreakInfos[0],f=d&&d.symbol),0===i.length&&it(t)&&(f=t.symbol),f&&(f.type.indexOf("3d")>-1?"water"===(h=f.symbolLayers.getItemAt(0)).type?Object(R.i)(h.color)&&(p=h.color):Object(R.i)(h.material)&&Object(R.i)(h.material.color)&&(p=h.material.color):f.url||(p=f.color)),e.next=10,Promise.all(l.map(function(){var e=Object(j.a)(_.a.mark((function e(n){var i,a,o,s,c,u;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.legendOptions&&!1===n.legendOptions.showLegend){e.next=39;break}if(i=b._getRampTitle(n,r),a=null,o="getField"in r&&r.getField&&r.getField(n.field),s=o&&Object(C.o)(o),"color"!==n.type){e.next=11;break}return e.next=7,ie(n,null,s);case 7:c=e.sent,a={type:"color-ramp",title:i,infos:c,preview:Object(B.b)(c.map((function(e){return e.color})))},b._hasColorRamp||(b._hasColorRamp=!(null==a.infos||!a.infos.length)),e.next=38;break;case 11:if("size"!==n.type||"outline"===n.target){e.next=33;break}if(!Ze.test(n.valueExpression)){e.next=16;break}b._hasClusterSizeVariable||(b._scaleDrivenSizeVariable=n),e.next=31;break;case 16:return e.t0=b._hasClusterSizeVariable?b._getClusterTitle(n):i,e.t1=xe,e.t2=t,e.t3=n,e.next=22,b._getMedianColor(t);case 22:return e.t4=e.sent,e.t5=b.scale,e.t6=b.view.type,e.t7=s,e.next=28,(0,e.t1)(e.t2,e.t3,e.t4,e.t5,e.t6,e.t7);case 28:e.t8=e.sent,a={type:"size-ramp",title:e.t0,infos:e.t8},b._hasSizeRamp||(b._hasSizeRamp=!(null==a.infos||!a.infos.length));case 31:e.next=38;break;case 33:if("opacity"!==n.type){e.next=38;break}return e.next=36,ie(n,p,s);case 36:u=e.sent,a={type:"opacity-ramp",title:i,infos:u,preview:Object(B.b)(u.map((function(e){return e.color})))},b._hasOpacityRamp||(b._hasOpacityRamp=!(null==a.infos||!a.infos.length));case 38:return e.abrupt("return",a&&a.infos?a:null);case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:return e.abrupt("return",e.sent.filter((function(e){return!!e})));case 11:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})},{key:"_getDomainName",value:function(e,t,r){if(e&&"function"!=typeof e){var n="getField"in r&&r.getField&&r.getField(e),i=n&&"getFieldDomain"in r&&r.getFieldDomain?r.getFieldDomain(n.name):null;return i&&"coded-value"===i.type?i.getName(t):null}return null}},{key:"_getClusterTitle",value:function(e){var t=this.layer,r=e.field;if("featureReduction"in t&&t.featureReduction&&"cluster"===t.featureReduction.type){var n=t.featureReduction,i="popupTemplate"in n&&n.popupTemplate,a=i&&i.fieldInfos;if(a){var o,s=Ge(a);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(c.fieldName===r)return"cluster_count"===r?c.label||{showCount:!0}:c.label}}catch(u){s.e(u)}finally{s.f()}}}return{showCount:!0}}},{key:"_getRampTitle",value:function(e,t){var r=e.field,n=e.normalizationField,i=!1,a=!1,o=!1,s=null;r="function"==typeof r?null:r,n="function"==typeof n?null:n;var c=e.legendOptions&&e.legendOptions.title;if(null!=c)s=c;else if(e.valueExpressionTitle)s=e.valueExpressionTitle;else{if("renderer"in t&&t.renderer&&"authoringInfo"in t.renderer&&t.renderer.authoringInfo&&t.renderer.authoringInfo.visualVariables)for(var u=t.renderer.authoringInfo.visualVariables,l=0;l<u.length;l++){var f=u[l];if("color"===f.type){if("ratio"===f.style){i=!0;break}if("percent"===f.style){a=!0;break}if("percent-of-total"===f.style){o=!0;break}}}s={field:r&&this._getFieldAlias(r,t),normField:n&&this._getFieldAlias(n,t),ratio:i,ratioPercent:a,ratioPercentTotal:o}}return s}},{key:"_getRendererTitle",value:function(e,t){var r=e;if(r.legendOptions&&r.legendOptions.title)return r.legendOptions.title;if(r.valueExpressionTitle)return r.valueExpressionTitle;var n=r.field,i=null,a=null;at(r)&&(i=r.normalizationField,a="percent-of-total"===r.normalizationType),i="function"==typeof i?null:i;var o=null;return((n="function"==typeof n?null:n)||i)&&(o={field:n&&this._getFieldAlias(n,t),normField:i&&this._getFieldAlias(i,t),normByPct:a}),o}},{key:"_getFieldAlias",value:function(e,t){var r="popupTemplate"in t&&t.popupTemplate,n=r&&r.fieldInfos,i=null;n&&n.some((function(t){return e===t.fieldName&&(i=t,!0)}));var a=null;"getField"in t&&t.getField?a=t.getField(e):"fieldsIndex"in t&&t.fieldsIndex&&(a=t.fieldsIndex.get(e));var o=i||a,s=null;return o&&(s=i&&i.label||a&&a.alias||"name"in o&&o.name||"fieldName"in o&&o.fieldName),s}},{key:"_isUnclassedRenderer",value:function(e){var t=e.visualVariables,r=!1;return at(e)&&e.classBreakInfos&&1===e.classBreakInfos.length&&t&&(r=e.field?t.some((function(t){return!(!t||e.field!==t.field||(e.normalizationField||t.normalizationField)&&e.normalizationField!==t.normalizationField)})):!!t.length),r}}]),G}(m.a);Object(u.a)([Object(b.b)()],It.prototype,"children",void 0),Object(u.a)([Object(b.b)()],It.prototype,"layerView",void 0),Object(u.a)([Object(b.b)()],It.prototype,"layer",void 0),Object(u.a)([Object(b.b)()],It.prototype,"legendElements",void 0),Object(u.a)([Object(b.b)({readOnly:!0})],It.prototype,"opacity",null),Object(u.a)([Object(b.b)()],It.prototype,"parent",void 0),Object(u.a)([Object(b.b)({readOnly:!0,dependsOn:[]})],It.prototype,"ready",null),Object(u.a)([Object(b.b)()],It.prototype,"keepCacheOnDestroy",void 0),Object(u.a)([Object(b.b)()],It.prototype,"respectLayerVisibility",void 0),Object(u.a)([Object(b.b)({readOnly:!0})],It.prototype,"scale",null),Object(u.a)([Object(b.b)()],It.prototype,"sublayerIds",void 0),Object(u.a)([Object(b.b)({readOnly:!0})],It.prototype,"isScaleDriven",null),Object(u.a)([Object(b.b)()],It.prototype,"title",void 0),Object(u.a)([Object(b.b)({readOnly:!0,dependsOn:["ready"],value:0})],It.prototype,"version",null),Object(u.a)([Object(b.b)()],It.prototype,"view",void 0);var Rt=It=Object(u.a)([Object(y.a)("esri.widgets.Legend.support.ActiveLayerInfo")],It),Mt=r("Vs6/");function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var Tt="state",At="view",Ct="all-layer-views",Dt="legend-properties",Lt=g.a.ofType(Rt),Ft=["esri.layers.BuildingSceneLayer","esri.layers.CSVLayer","esri.layers.FeatureLayer","esri.layers.GeoJSONLayer","esri.layers.GeoRSSLayer","esri.layers.GroupLayer","esri.layers.HeatmapLayer","esri.layers.ImageryLayer","esri.layers.ImageryTileLayer","esri.layers.MapImageLayer","esri.layers.OGCFeatureLayer","esri.layers.PointCloudLayer","esri.layers.StreamLayer","esri.layers.SceneLayer","esri.layers.TileLayer","esri.layers.WFSLayer","esri.layers.WMSLayer","esri.layers.WMTSLayer","esri.layers.WCSLayer"],Nt=["view.basemapView.baseLayerViews","view.groundView.layerViews","view.layerViews","view.basemapView.referenceLayerViews"],Bt=function(e){Object(o.a)(r,e);var t=Et(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e))._handles=new l.a,n._layerViewByLayerId={},n._layerInfosByLayerViewId={},n._activeLayerInfosByLayerViewId={},n._activeLayerInfosWithNoParent=new g.a,n.activeLayerInfos=new Lt,n.basemapLegendVisible=!1,n.groundLegendVisible=!1,n.keepCacheOnDestroy=!1,n.respectLayerVisibility=!0,n.layerInfos=[],n.view=null,n}return Object(a.a)(r,[{key:"initialize",value:function(){var e=this;this._handles.add(Object(f.a)(this,"view",this._viewHandles),At),this._handles.add(Object(Mt.c)((function(){return e._refresh()})))}},{key:"destroy",value:function(){this._destroyViewActiveLayerInfos(),this._handles.destroy(),this._handles=null,this.view=null}},{key:"state",get:function(){return this.get("view.ready")?"ready":"disabled"}},{key:"_viewHandles",value:function(){this._handles.remove(Tt),this.view&&this._handles.add(Object(f.a)(this,"state",this._stateHandles),Tt)}},{key:"_stateHandles",value:function(){this._resetAll(),"ready"===this.state&&this._watchPropertiesAndAllLayerViews()}},{key:"_resetAll",value:function(){this._handles.remove([Ct,Dt]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}},{key:"_destroyViewActiveLayerInfos",value:function(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}},{key:"_destroyViewActiveLayerInfo",value:function(e){this._handles.remove(e);var t=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],t&&t.parent&&t.parent.children.remove(t)}},{key:"_watchPropertiesAndAllLayerViews",value:function(){var e=this.view.allLayerViews;e.length&&this._refresh(),this._handles.add(e.on("change",this._allLayerViewsChangeHandle.bind(this)),Ct),this._handles.add(Object(f.d)(this,"layerInfos, basemapLegendVisible, groundLegendVisible",this._propertiesChangeHandle.bind(this)),Dt)}},{key:"_allLayerViewsChangeHandle",value:function(e){var t=this;e.removed.forEach((function(e){return t._destroyViewActiveLayerInfo(e.uid)})),this._refresh()}},{key:"_propertiesChangeHandle",value:function(){this._destroyViewActiveLayerInfos(),this._refresh()}},{key:"_refresh",value:function(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}},{key:"_sortActiveLayerInfos",value:function(e){var t=this;if(!(e.length<2)){var r=[];e.forEach((function(n){if(!n.parent){var i=n.layer.parent,a=i&&"uid"in i&&t._layerViewByLayerId[i.uid],o=a&&t._activeLayerInfosByLayerViewId[a.uid];o&&-1!==e.indexOf(o)&&(r.push(n),n.parent=o,o.children.add(n),t._sortActiveLayerInfos(o.children))}})),e.removeMany(r);var n={};this.view.allLayerViews.forEach((function(e,t){return n[e.layer.uid]=t})),e.sort((function(e,t){var r=n[e.layer.uid]||0;return(n[t.layer.uid]||0)-r}))}}},{key:"_generateLayerViews",value:function(){var e=[];return Nt.filter(this._filterLayerViews,this).map(this.get,this).filter((function(e){return null!=e})).forEach(this._collectLayerViews("layerViews",e)),e}},{key:"_filterLayerViews",value:function(e){var t=!this.basemapLegendVisible&&("view.basemapView.baseLayerViews"===e||"view.basemapView.referenceLayerViews"===e),r=!this.groundLegendVisible&&"view.groundView.layerViews"===e;return!t&&!r}},{key:"_collectLayerViews",value:function(e,t){return function r(n){return n&&n.forEach((function(n){t.push(n),r(n[e])})),t}}},{key:"_filterLayerViewsByLayerInfos",value:function(e){var t=this,r=this.layerInfos;return!r||!r.length||r.some((function(r){return t._hasLayerInfo(r,e)}))}},{key:"_hasLayerInfo",value:function(e,t){var r=this._isLayerUIDMatching(e.layer,t.layer.uid);return r&&(this._layerInfosByLayerViewId[t.uid]=e),r}},{key:"_isLayerUIDMatching",value:function(e,t){return e&&(e.uid===t||this._hasLayerUID(e.layers,t))}},{key:"_hasLayerUID",value:function(e,t){var r=this;return e&&e.some((function(e){return r._isLayerUIDMatching(e,t)}))}},{key:"_isLayerViewSupported",value:function(e){return!!Ft.includes(e.layer.declaredClass)&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}},{key:"_generateActiveLayerInfo",value:function(e){var t=this;this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this._handles.remove(e.uid),this._handles.add(Object(f.d)(e,"legendEnabled, layer.legendEnabled",(function(){return t._layerActiveHandle(e)})),e.uid))}},{key:"_layerActiveHandle",value:function(e){this._isLayerActive(e)&&(this._handles.remove(e.uid),this._buildActiveLayerInfo(e))}},{key:"_isLayerActive",value:function(e){return!this.respectLayerVisibility||e.legendEnabled&&e.get("layer.legendEnabled")}},{key:"_buildActiveLayerInfo",value:function(e){var t,r=this,n=e.layer,i=e.uid,a=this._layerInfosByLayerViewId[i],o=this._activeLayerInfosByLayerViewId[i];if(!o){var s=a&&void 0!==a.title&&a.layer.uid===n.uid;o=new Rt({layer:n,layerView:e,title:s?a.title:n.title,view:this.view,respectLayerVisibility:this.respectLayerVisibility,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:a&&a.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[i]=o}var c=n.parent&&"uid"in n.parent&&this._layerViewByLayerId[null==(t=n.parent)?void 0:t.uid];if(o.parent=this._activeLayerInfosByLayerViewId[null==c?void 0:c.uid],!this._handles.has(i)){var u=[Object(f.d)(n,"title",(function(e){return r._titleHandle(e,o)})),Object(f.d)(n,"renderer?, opacity, pointSymbol?, lineSymbol?, polygonSymbol?",(function(){return r._constructLegendElements(o)})),Object(f.k)(this.view,"stationary",(function(){return r._scaleHandle(o)})),Object(f.d)(e,"_effectiveRenderer",(function(){return r._constructLegendElements(o)}))];if(this.respectLayerVisibility){var l=Object(f.d)(e,"legendEnabled",(function(e){return r._legendEnabledHandle(e,o)})),p=Object(f.d)(n,"legendEnabled",(function(e){return r._legendEnabledHandle(e,o)}));u.push(l,p)}this._handles.add(u,i)}o.isScaleDriven||this._constructLegendElements(o),this._addActiveLayerInfo(o)}},{key:"_titleHandle",value:function(e,t){t.title=e,this._constructLegendElements(t)}},{key:"_legendEnabledHandle",value:function(e,t){e?this._addActiveLayerInfo(t):this._removeActiveLayerInfo(t)}},{key:"_scaleHandle",value:function(e){e.isScaleDriven&&this._constructLegendElements(e)}},{key:"_addActiveLayerInfo",value:function(e){var t=this,r=e.layerView,n=e.layer;if(this._isLayerActive(r)&&-1===this.activeLayerInfos.indexOf(e)){var i=e.parent;if(i)-1===i.children.indexOf(e)&&i.children.push(e),this._sortActiveLayerInfos(i.children);else{var a,o=null==(a=this.layerInfos)?void 0:a.some((function(e){return e.layer.uid===n.uid}));n.parent&&"uid"in n.parent&&!o?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){var s=[];this._activeLayerInfosWithNoParent.forEach((function(e){var r=e.layer.parent,n=r&&"uid"in r&&t._layerViewByLayerId[null==r?void 0:r.uid],i=t._activeLayerInfosByLayerViewId[null==n?void 0:n.uid];i&&(s.push(e),e.parent=i)})),s.length&&(this._activeLayerInfosWithNoParent.removeMany(s),s.forEach((function(e){return t._addActiveLayerInfo(e)})))}}}},{key:"_removeActiveLayerInfo",value:function(e){var t=e.parent;t?t.children.remove(e):this.activeLayerInfos.remove(e)}},{key:"_constructLegendElements",value:function(e){var t=this,r=e.layer;"featureCollections"in r&&r.featureCollections?e.buildLegendElementsForFeatureCollections(r.featureCollections):"renderer"in r&&r.renderer?e.buildLegendElementsForRenderer(r.renderer):"url"in r&&r.url?e.buildLegendElementsForTools():e.children.forEach((function(e){return t._constructLegendElements(e)}))}}]),r}(m.a);Object(u.a)([Object(b.b)({type:Lt})],Bt.prototype,"activeLayerInfos",void 0),Object(u.a)([Object(b.b)()],Bt.prototype,"basemapLegendVisible",void 0),Object(u.a)([Object(b.b)()],Bt.prototype,"groundLegendVisible",void 0),Object(u.a)([Object(b.b)()],Bt.prototype,"keepCacheOnDestroy",void 0),Object(u.a)([Object(b.b)()],Bt.prototype,"respectLayerVisibility",void 0),Object(u.a)([Object(b.b)()],Bt.prototype,"layerInfos",void 0),Object(u.a)([Object(b.b)({readOnly:!0})],Bt.prototype,"state",null),Object(u.a)([Object(b.b)()],Bt.prototype,"view",void 0);var Vt=Bt=Object(u.a)([Object(y.a)("esri.widgets.Legend.LegendViewModel")],Bt),Ut=r("DUO2"),zt=r("c+HS"),qt=r("mjOD"),Ht="esri-relationship-ramp--diamond__container",Gt="esri-relationship-ramp--diamond__left-column",Wt="esri-relationship-ramp--diamond__right-column",Jt="esri-relationship-ramp--diamond__middle-column",$t="esri-relationship-ramp--diamond__middle-column--label",Zt="esri-relationship-ramp--diamond__middle-column--ramp",Qt="esri-relationship-ramp--square__table",Xt="esri-relationship-ramp--square__table-row",Kt="esri-relationship-ramp--square__table-cell",Yt="esri-relationship-ramp--square__table-label",er="esri-relationship-ramp--square__table-label--left-bottom",tr="esri-relationship-ramp--square__table-label--right-bottom",rr="esri-relationship-ramp--square__table-label--left-top",nr="esri-relationship-ramp--square__table-label--right-top";function ir(e,t,r){var n=e.focus,i=e.labels,a=!!n,o=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:60,i=e.focus,a=e.numClasses,o=e.colors,s=e.rotation,c=!!i,u=Math.sqrt(Math.pow(n,2)+Math.pow(n,2))+(c?0:5),l=null;null!=r&&(l="opacity: ".concat(r));for(var f=[],p=[],d=[],h=(n||75)/a,b=0;b<a;b++)for(var y=b*h,v=0;v<a;v++){var m=v*h,g=Object(Ut.b)(o[b][v]),O=Object(Ut.c)(null),j={type:"rect",x:m,y:y,width:h,height:h};f.push(Object(Ut.f)(g)),p.push(Object(Ut.h)(j,g.fill,O,null)),d.push(Object(Ut.d)(j))}var w=10,_=15,k=15,x=10,S=null;c||(S="margin: -15px -15px -18px -15px");var P=ar("left",i,t),I=ar("right",i,t),R=Object(Ut.a)(d),M=Object(Ut.e)(R,u,u,0,!1,s,!1),E=Object(Ut.e)(R,u,u,0,!1,c?-45:null,!1);return Object(qt.a)("div",{style:l,class:c?Zt:Kt},Object(qt.a)("svg",{xmlns:"http://www.w3.org/2000/svg",width:u,height:u,style:S},Object(qt.a)("defs",null,Object(qt.a)("marker",{id:"".concat(t,"_arrowStart"),markerWidth:"10",markerHeight:"10",refX:"5",refY:"5",markerUnits:"strokeWidth",orient:"auto"},Object(qt.a)("polyline",{points:"0,0 5,5 0,10",fill:"none",stroke:"#555555","stroke-width":"1"})),Object(qt.a)("marker",{id:"".concat(t,"_arrowEnd"),markerWidth:"10",markerHeight:"10",refX:"0",refY:"5",markerUnits:"strokeWidth",orient:"auto"},Object(qt.a)("polyline",{points:"5,0 0,5 5,10",fill:"none",stroke:"#555555","stroke-width":"1"})),f),Object(qt.a)("g",{transform:M},p),Object(qt.a)("g",{transform:E},Object(qt.a)("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":P.markerStart,"marker-end":P.markerEnd,x1:-w,y1:n-_,x2:-w,y2:_}),Object(qt.a)("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":I.markerStart,"marker-end":I.markerEnd,x1:k,y1:n+x,x2:n-k,y2:n+x}))))}(e,t,r);return a?Object(qt.a)("div",{class:Ht},Object(qt.a)("div",{class:Gt},i.left),Object(qt.a)("div",{class:Jt},Object(qt.a)("div",{class:$t},i.top),o,Object(qt.a)("div",{class:$t},i.bottom)),Object(qt.a)("div",{class:Wt},i.right)):Object(qt.a)("div",{class:Qt},Object(qt.a)("div",{class:Xt},Object(qt.a)("div",{class:Object(zt.a)(Kt,Yt,tr)},i.left),Object(qt.a)("div",{class:Kt}),Object(qt.a)("div",{class:Object(zt.a)(Kt,Yt,er)},i.top)),Object(qt.a)("div",{class:Xt},Object(qt.a)("div",{class:Kt}),o,Object(qt.a)("div",{class:Kt})),Object(qt.a)("div",{class:Xt},Object(qt.a)("div",{class:Object(zt.a)(Kt,Yt,nr)},i.bottom),Object(qt.a)("div",{class:Kt}),Object(qt.a)("div",{class:Object(zt.a)(Kt,Yt,rr)},i.right)))}function ar(e,t,r){var n="".concat(r,"_arrowStart"),i="".concat(r,"_arrowEnd"),a="left"===e,o={markerStart:null,markerEnd:null};switch(t){case"HL":a?o.markerStart="url(#".concat(i,")"):o.markerEnd="url(#".concat(n,")");break;case"LL":o.markerStart="url(#".concat(i,")");break;case"LH":a?o.markerEnd="url(#".concat(n,")"):o.markerStart="url(#".concat(i,")");break;default:o.markerEnd="url(#".concat(n,")")}return o}r("MrgE");var or=r("vbdg");function sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ur=Object(or.a)(),lr="esri-univariate-above-and-below-ramp__symbol",fr="esri-legend__color-ramp";function pr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vertical",t="stroke:rgb(200, 200, 200);stroke-width:1";return"vertical"===e?Object(qt.a)("svg",{height:"4",width:"10"},Object(qt.a)("line",{x1:"0",y1:"2",x2:"10",y2:"2",style:t})):Object(qt.a)("svg",{height:"10",width:"10"},Object(qt.a)("line",{x1:"5",y1:"0",x2:"5",y2:"10",style:t}))}function dr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"vertical",r=document.createElement("div");return r.style.height="".concat(20,"px"),r.className=lr,null!=e&&(r.style.opacity=e.toString()),ur.append(r,pr.bind(null,t)),r}function hr(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vertical",n=arguments.length>3?arguments[3]:void 0;e.infos.forEach((function(e,i){if(n&&2===i)e.preview=dr(t,r);else{var a=Object(E.c)(e.size)+("horizontal"===r?20:10),o="div"===e.preview.tagName.toLowerCase(),s=o?e.preview:document.createElement("div");s.className=lr,"horizontal"===r?s.style.width="".concat(a,"px"):s.style.height="".concat(a,"px"),o||s.appendChild(e.preview),e.preview=s}}))}function br(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"classic",r=e.infos;return"classic"===t?(Object(E.c)(r[0].size)+10)/2:(Object(E.c)(r[0].size)-Object(E.c)(r[r.length-1].size))/2}function yr(e,t){if(!e)return null;var r=e.infos.map((function(e){return e.color})),n=Object(B.b)("full"===t.type?r:"above"===t.type?r.slice(0,3):r.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment});return n.className=fr,null!=t.opacity&&(n.style.opacity=t.opacity.toString()),n}function vr(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vertical",i=0,a=e.infos,o=Math.floor(a.length/2),s="full"===t||"above"===t?0:o,c="full"===t||"below"===t?a.length-1:o,u=s;u<=c;u++)i+=r&&u===o?"horizontal"===n?10:20:Object(E.c)(a[u].size)+("horizontal"===n?20:10);return Math.round(i)}function mr(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vertical",i=vr(e,t,r,n),a=e.infos,o=Math.floor(a.length/2),s="full"===t||"above"===t?0:o,c="full"===t||"below"===t?a.length-1:o,u="full"===t?a[s].size+a[c].size:"above"===t?a[s].size:a[c].size,l=r?"vertical"===n?20:10:0,f="vertical"===n?10*("full"===t?2:1):20*("full"===t?2:1);return Math.round(i-(Object(E.c)(u)/2+l/2+f/2))}function gr(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vertical",i=e.infos,a=i.filter((function(e){return"size-ramp"===e.type}))[0],o=i.filter((function(e){return"color-ramp"===e.type}))[0];return a&&((a=cr({},a)).infos=Object(O.a)(a.infos)),o&&((o=cr({},o)).infos=Object(O.a)(o.infos)),hr(a,t,n,!0),"horizontal"===n&&(a.infos.reverse(),null==(r=o)||r.infos.reverse()),{sizeRampElement:a,colorRampElement:o}}function Or(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"vertical",n=e.infos,i=n.filter((function(e){return"size-ramp"===e.type}))[0],a=n.filter((function(e){return"color-ramp"===e.type}))[0];return i&&((i=cr({},i)).infos=Object(O.a)(i.infos)),a&&((a=cr({},a)).infos=Object(O.a)(a.infos)),hr(i,null,r,!1),"horizontal"===r&&(i.infos.reverse(),null==(t=a)||t.infos.reverse()),{sizeRampElement:i,colorRampElement:a}}var jr=r("Iyey");function wr(e){e.appendChild(this)}function _r(e,t,r){if(t){if("string"==typeof t||"number"==typeof t)return t;if("value"in t||"unit"in t)return Object(jr.a)(e.dotValue,t);if("colorName"in t||"bandName"in t)return e[t.colorName]+": "+(e[t.bandName]||t.bandName);if("showCount"in t)return t.showCount?e.clusterCountTitle:null;var n=null;return r?n=t.ratioPercentTotal?"showRatioPercentTotal":t.ratioPercent?"showRatioPercent":t.ratio?"showRatio":t.normField?"showNormField":t.field?"showField":null:kr(t,r)&&(n=t.normField?"showNormField":t.normByPct?"showNormPct":t.field?"showField":null),n?Object(jr.a)("showField"===n?"{field}":e[n],{field:t.field,normField:t.normField}):null}}function kr(e,t){return!t}function xr(e,t){return!!(t&&"Stretched"===t&&e.version>=10.3&&"esri.layers.ImageryLayer"===e.declaredClass)}var Sr=r("foBe"),Pr=r("Q7Dg"),Ir=r("XRld");function Rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var Mr="esri-legend--card__carousel-indicator--activated",Er="esri-legend--card",Tr="esri-legend--stacked",Ar="esri-legend--card__carousel-title",Cr="esri-legend--card__carousel-indicator",Dr="esri-legend--card__interval-separator",Lr="esri-legend--card__imagery-layer-image--stretched",Fr="esri-legend--card__image-label",Nr="esri-legend--card__layer-caption",Br="esri-legend--card__label-element",Vr="esri-legend--card__layer-row",Ur="esri-legend--card__label-cell",zr="esri-legend--card__message",qr="esri-legend--card__ramp-label",Hr="esri-legend--card__section",Gr="esri-legend--card__service-caption-text",Wr="esri-legend--card__service-content",Jr="esri-legend--card__service",$r="esri-legend--card__group-layer",Zr="esri-legend--card__group-layer-child",Qr="esri-legend--card__symbol",Xr="esri-legend--card__size-ramp-row",Kr="esri-legend--card__symbol-row",Yr="esri-legend--card__symbol-cell",en="esri-legend--card__carousel-indicator-container",tn="esri-legend--card__interval-separators-container",rn="esri-legend--card__relationship-label-container",nn="esri-legend--card__label-container",an="esri-legend--card__service-caption-container",on="esri-legend--card__symbol-container",sn="esri-legend--card__size-ramp-container",cn="esri-legend--card__size-ramp-preview",un="esri-legend__size-ramp--horizontal",ln="esri-legend__ramp-labels",fn="esri-legend__layer-cell esri-legend__layer-cell--info",pn="esri-univariate-above-and-below-ramp__color--card",dn=window.devicePixelRatio;var hn=function(e){Object(o.a)(r,e);var t=Rr(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n))._handles=new l.a,a._hasIndicators=!1,a._selectedSectionName=null,a._sectionNames=[],a._sectionMap=new Map,a.activeLayerInfos=null,a.headingLevel=3,a.layout="stack",a.messages=null,a.messagesCommon=null,a.type="card",a.view=null,a}return Object(a.a)(r,[{key:"initialize",value:function(){var e=this;this.own([this.watch("activeLayerInfos",(function(t){e._handles.removeAll(),e._watchForSectionChanges(t)}))])}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null}},{key:"render",value:function(){var e=this;this._hasIndicators="auto"===this.layout&&this.view.container.clientWidth<=768||"stack"===this.layout;var t=this.activeLayerInfos,r=t&&t.toArray().map((function(t){return e._renderLegendForLayer(t)})).filter((function(e){return!!e}));this._hasIndicators?this._selectedSectionName&&-1!==this._sectionNames.indexOf(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;var i=this._sectionNames.length,a=this._sectionNames.map((function(t,r){var a=Object(jr.a)(e.messagesCommon.pagination.pageText,{index:r+1,total:i});return Object(qt.a)("div",{key:t,role:"tab",id:t,"aria-label":a,"aria-controls":"".concat(t,"-panel"),"aria-selected":(e._selectedSectionName===t).toString(),tabIndex:e._selectedSectionName===t?0:-1,title:a,onclick:e._selectSection,onkeydown:e._focusSection,bind:e,class:e.classes(Cr,Object(n.a)({},Mr,e._selectedSectionName===t)),"data-section-name":t})})),o=this._hasIndicators&&i>1?Object(qt.a)("div",{class:en,key:"carousel-navigation",role:"tablist"},a):null,s=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):r&&r.length?r:null,c=Object(n.a)({},Tr,this._hasIndicators);return Object(qt.a)("div",{class:this.classes(Er,c)},s||Object(qt.a)("div",{class:zr},this.messages.noLegend),o)}},{key:"_selectSection",value:function(e){var t=e.target.getAttribute("data-section-name");t&&(this._selectedSectionName=t)}},{key:"_focusSection",value:function(e){switch(e.key){case"ArrowLeft":case"ArrowRight":this._switchSectionOnArrowPress(e);break;case"Enter":case" ":this._selectSection(e)}}},{key:"_switchSectionOnArrowPress",value:function(e){var t=e.key,r="ArrowLeft"===t?-1:1,n=e.target.getAttribute("data-section-name"),i=this._sectionNames.indexOf(n),a=this._sectionNames,o=null;-1!==i&&(a[i+r]?o=document.getElementById(a[i+r]):"ArrowLeft"===t?o=document.getElementById(a[a.length-1]):"ArrowRight"===t&&(o=document.getElementById(a[0])),o&&o.focus())}},{key:"_watchForSectionChanges",value:function(e){var t=this;if(this._generateSectionNames(),e){e.forEach((function(e){var r="activeLayerInfo-".concat(e.layer.uid,"-version-change");t._handles.remove(r),t._watchForSectionChanges(e.children),t._handles.add(e.watch("version",(function(){return t._generateSectionNames()})),r)}));var r="activeLayerInfos-collection-change";this._handles.remove(r),this._handles.add(e.on("change",(function(){return t._watchForSectionChanges(e)})),r)}}},{key:"_generateSectionNames",value:function(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}},{key:"_getSectionName",value:function(e,t,r){return"".concat(this.id).concat(e.uid,"-type-").concat(t.type,"-").concat(r)}},{key:"_generateSectionNamesForActiveLayerInfo",value:function(e){var t=this;e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach((function(r,n){t._sectionNames.push(t._getSectionName(e.layer,r,n))}))}},{key:"_renderLegendForLayer",value:function(e){var t=this;if(!e.ready)return null;if(e.children.length){var r=e.children.map((function(e){return t._renderLegendForLayer(e)})).toArray();return Object(qt.a)("div",{key:e.layer.uid,class:this.classes(Jr,$r)},Object(qt.a)("div",{class:an},e.title),r)}var i=e.legendElements;if(i&&!i.length)return null;var a=i.some((function(e){return"relationship-ramp"===e.type})),o=i.map((function(r,n){return t._renderLegendForElement(r,e,n,a)})).filter((function(e){return!!e}));if(!o.length)return null;var s=Object(n.a)({},Zr,!!e.parent);return Object(qt.a)("div",{key:e.layer.uid,class:this.classes(Jr,s)},Object(qt.a)("div",{class:an},Object(qt.a)("div",{class:Gr},e.title)),Object(qt.a)("div",{class:Wr},o))}},{key:"_renderLegendForElement",value:function(e,t,r){var i=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o="color-ramp"===e.type,s="opacity-ramp"===e.type,c="size-ramp"===e.type,u=t.layer,l=null;if("string"==typeof e.title)l=e.title;else if(e.title){var f=e.title,p=_r(this.messages,f,o||s);l=f.title?"".concat(f.title," (").concat(p,")"):p}var d=this._getSectionName(u,e,r),h=this._hasIndicators?Object(qt.a)("div",null,Object(qt.a)(Sr.a,{level:this.headingLevel,class:Ar},t.title),Object(qt.a)(Sr.a,{level:this.headingLevel+1,class:Nr},l)):l?Object(qt.a)(Sr.a,{level:this.headingLevel,class:Nr},l):null,b=null;if("symbol-table"===e.type){var y=e.infos.map((function(r,n){return i._renderLegendForElementInfo(r,t,e.legendType,n)})).filter((function(e){return!!e}));if(y.length){var v,m=y[0].properties.classes&&y[0].properties.classes[Kr],g=(v={},Object(n.a)(v,nn,!m&&!a),Object(n.a)(v,rn,a),v);b=Object(qt.a)("div",{class:this.classes(g)},y)}}else"color-ramp"===e.type||"opacity-ramp"===e.type||"heatmap-ramp"===e.type?b=this._renderLegendForRamp(e,u.opacity):c?b=this._renderSizeRamp(e,u.opacity):"relationship-ramp"===e.type?b=ir(e,this.id,u.opacity):"univariate-above-and-below-ramp"===e.type?b=this._renderUnivariateAboveAndBelowRamp(e,u.opacity):"univariate-color-size-ramp"===e.type&&(b=this._renderUnivariateColorSizeRamp(e,u.opacity));if(!b)return null;var O=Object(qt.a)("div",{key:d,class:Hr,id:"".concat(d,"-panel"),role:"tabpanel","aria-labelledby":d,tabIndex:0},[h,b]);return this._sectionMap.set(d,O),O}},{key:"_renderUnivariateAboveAndBelowRamp",value:function(e,t){var r=gr(e,t,"horizontal"),n=r.sizeRampElement,i=r.colorRampElement,a=vr(n,"full",!0,"horizontal"),o=mr(n,"above",!0,"horizontal"),s=mr(n,"below",!0,"horizontal"),c=yr(i,{width:o,height:12,rampAlignment:"horizontal",opacity:t,type:"above"}),u=yr(i,{width:s,height:12,rampAlignment:"horizontal",opacity:t,type:"below"}),l=br(n,"card"),f=n.infos.map((function(e){return e.label})),p=f.length-1,d=f.map((function(e,t){return 0===t||t===p?Object(qt.a)("div",{key:t},e):null})),h={marginTop:"3px",marginLeft:"".concat(l,"px"),display:"flex"},b={width:"".concat(a,"px"),display:"flex",flexDirection:"row",justifyContent:"space-between"};return Object(qt.a)("div",{class:Vr,key:"size-ramp-preview",styles:{display:"flex",flexDirection:"column"}},Object(qt.a)("div",{class:this.classes(on,un),styles:{display:"flex",flexDirection:"row"}},n.infos.map((function(e,t){return Object(qt.a)("div",{key:t,class:Qr,bind:e.preview,afterCreate:wr})}))),c?Object(qt.a)("div",{class:pn,styles:h,key:"color-ramp-preview"},Object(qt.a)("div",{bind:c,afterCreate:wr}),Object(qt.a)("div",{bind:u,afterCreate:wr})):null,Object(qt.a)("div",{class:fn},Object(qt.a)("div",{class:ln,styles:b},d)))}},{key:"_renderUnivariateColorSizeRamp",value:function(e,t){var r=Or(e,"horizontal"),n=r.sizeRampElement,i=r.colorRampElement,a=vr(n,"full",!1,"horizontal"),o=yr(i,{width:mr(n,"full",!1,"horizontal"),height:12,rampAlignment:"horizontal",opacity:t,type:"full"}),s=br(n,"card"),c=n.infos.length-1,u=n.infos.map((function(e,t){return 0===t||t===c?Object(qt.a)("div",{key:t},e.label):null})),l={marginTop:"3px",marginLeft:"".concat(s,"px"),display:"flex"},f={width:"".concat(a,"px"),display:"flex",flexDirection:"row",justifyContent:"space-between"};return Object(qt.a)("div",{class:Vr,key:"size-ramp-preview",styles:{display:"flex",flexDirection:"column"}},Object(qt.a)("div",{class:this.classes(on,un),styles:{display:"flex",flexDirection:"row"}},n.infos.map((function(e,t){return Object(qt.a)("div",{key:t,class:Qr,bind:e.preview,afterCreate:wr})}))),Object(qt.a)("div",{class:pn,styles:l,key:"color-ramp-preview"},Object(qt.a)("div",{bind:o,afterCreate:wr})),Object(qt.a)("div",{class:fn},Object(qt.a)("div",{class:ln,styles:f},u)))}},{key:"_renderLegendForElementInfo",value:function(e,t,r,i){var a=t.layer;if(e.type)return this._renderLegendForElement(e,t,i);var o=xr(a,r);if(e.preview){var s,c;if(!e.symbol||-1===e.symbol.type.indexOf("simple-fill")){if(!e.label)return Object(qt.a)("div",{key:i,bind:e.preview,afterCreate:wr});var u=Object(n.a)({},Yr,this._hasIndicators);return Object(qt.a)("div",{key:i,class:this.classes(Vr,Object(n.a)({},Kr,this._hasIndicators))},Object(qt.a)("div",{class:this.classes(u),bind:e.preview,afterCreate:wr}),Object(qt.a)("div",{class:this.classes(Fr,Object(n.a)({},Ur,this._hasIndicators))},_r(this.messages,e.label,!1)||""))}var l=255,f=255,p=255,d=0,h=255,b=255,y=255,v=0,m=e.symbol.color&&e.symbol.color.a,g=e.symbol.outline&&e.symbol.outline.color&&e.symbol.outline.color.a;m&&(l=e.symbol.color.r,f=e.symbol.color.g,p=e.symbol.color.b,d=e.symbol.color.a*a.opacity),g&&(h=e.symbol.outline.color.r,b=e.symbol.outline.color.g,y=e.symbol.outline.color.b,v=e.symbol.outline.color.a*a.opacity);var O=null==(s=null==(c=e.symbol.color)?void 0:c.isBright)||s,j=O?"rgba(255, 255, 255, .6)":"rgba(0, 0, 0, .6)",w={background:m?"rgba(".concat(l,", ").concat(f,", ").concat(p,", ").concat(d,")"):"none",color:O?"black":"white",textShadow:"-1px -1px 0 ".concat(j,",\n                                              1px -1px 0 ").concat(j,",\n                                              -1px 1px 0 ").concat(j,",\n                                              1px 1px 0 ").concat(j),border:g?"1px solid rgba(".concat(h,", ").concat(b,", ").concat(y,", ").concat(v,")"):"none"};return Object(qt.a)("div",{key:i,class:Vr},Object(qt.a)("div",{class:Br,styles:w}," ",e.label," "))}if(e.src){var _=this._renderImage(e,a,o);return Object(qt.a)("div",{key:i,class:Vr},_,Object(qt.a)("div",{class:Fr},e.label||""))}}},{key:"_renderImage",value:function(e,t,r){var i,a=e.label,o=e.src,s=e.opacity,c=(i={},Object(n.a)(i,Lr,r),Object(n.a)(i,Qr,!r),i),u={opacity:"".concat(null!=s?s:t.opacity)};return Object(qt.a)("img",{alt:_r(this.messages,a,!1),src:o,border:0,width:e.width,height:e.height,class:this.classes(c),styles:u})}},{key:"_renderSizeRampLines",value:function(e){var t=e.infos,r=t[0],n=t[t.length-1],i=r.symbol,a=this._hasIndicators,o=Object(E.c)(r.size+r.outlineSize)*dn,s=Object(E.c)(n.size+n.outlineSize)*dn,c=a?o:o+50*dn,u=a?o/2+50*dn:o,l=function(e){if(e){if(e.type.indexOf("3d")>-1){var t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;var r=e.symbolLayers.getItemAt(t-1).get("resource.primitive");return"triangle"===r||"cone"===r||"tetrahedron"===r}return"triangle"===e.style}}(i),f=function(e){if(e){if(e.type.indexOf("3d")>-1){var t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;var r=e.symbolLayers.getItemAt(t-1),n=r.resource&&r.resource.primitive;return"circle"===n||"cross"===n||"kite"===n||"sphere"===n||"cube"===n||"diamond"===n}var i=e.style;return"circle"===i||"diamond"===i||"cross"===i}}(i),p=document.createElement("canvas");p.width=c,p.height=u,p.style.width=p.width/dn+"px",p.style.height=p.height/dn+"px";var d=p.getContext("2d");if(a){d.beginPath();var h=c/2-s/2,b=u;d.moveTo(0,0),d.lineTo(h,b);var y=c,v=c/2+s/2,m=u;d.moveTo(y,0),d.lineTo(v,m)}else{d.beginPath();var g=u/2-s/2,O=c;d.moveTo(0,g),d.lineTo(O,0);var j=u/2+s/2,w=c,_=u;d.moveTo(0,j),d.lineTo(w,_)}return d.strokeStyle="#ddd",d.stroke(),Object(qt.a)("div",{bind:p,afterCreate:wr,styles:a?{display:"flex",marginTop:"-".concat(l?0:f?o/2:0,"px"),marginBottom:"-".concat(l?s:f?s/2:0,"px")}:{display:"flex",marginRight:"-".concat(l?0:f?o/2:0,"px"),marginLeft:"-".concat(l?0:f?s/2:0,"px")}})}},{key:"_renderSizeRamp",value:function(e,t){var r=e.infos,i=r[0].label,a=r[r.length-1].label,o=r[0].preview,s=r[r.length-1].preview,c=this._hasIndicators,u={"flex-direction":c?"column":"row-reverse"};o&&((o=o.cloneNode(!0)).style.display="flex"),s&&((s=s.cloneNode(!0)).style.display="flex");var l={opacity:null!=t?"".concat(t):""};return Object(qt.a)("div",{class:this.classes(Vr,Object(n.a)({},Xr,c))},Object(qt.a)("div",{class:qr},c?i:a),Object(qt.a)("div",{class:sn,styles:u},Object(qt.a)("div",{bind:o,afterCreate:wr,class:cn,styles:l}),this._renderSizeRampLines(e),Object(qt.a)("div",{bind:s,afterCreate:wr,class:sn,styles:l})),Object(qt.a)("div",{class:qr},c?a:i))}},{key:"_renderLegendForRamp",value:function(e,t){var r=e.infos,n="heatmap-ramp"===e.type,i=r.length-1,a=25,o=i>2&&!n?25*i:100,s=o+20,c=10,u=r.slice(0).reverse();u.forEach((function(e,t){e.offset=n?e.ratio:t/i}));var l=u.length-1,f=u.length%2!=0&&u[u.length/2|0],p=f&&Object(qt.a)("div",{class:tn},Object(qt.a)("div",{class:Dr},"|"),Object(qt.a)("div",{class:qr},f.label)),d=r[r.length-1].label,h=r[0].label,b=null;null!=t&&(b="opacity: ".concat(t));var y=[[{shape:{type:"path",path:"M0 ".concat(12.5," L").concat(c," 0 L").concat(c," ").concat(a," Z")},fill:u[0].color,stroke:{width:0}},{shape:{type:"rect",x:c,y:0,width:o,height:a},fill:{type:"linear",x1:c,y1:0,x2:o+c,y2:0,colors:u},stroke:{width:0}},{shape:{type:"path",path:"M".concat(o+c," 0 L").concat(s," ").concat(12.5," L").concat(o+c," ").concat(a," Z")},fill:u[l].color,stroke:{width:0}}]],v=Object(Ut.g)(y,s,a),m=this.messages;return Object(qt.a)("div",{class:Vr},Object(qt.a)("div",{class:qr},n?m[d]:d),Object(qt.a)("div",{class:on},Object(qt.a)("div",{style:b},v),p),Object(qt.a)("div",{class:qr},n?m[h]:h))}}]),r}(v.a);Object(u.a)([Object(b.b)()],hn.prototype,"activeLayerInfos",void 0),Object(u.a)([Object(b.b)()],hn.prototype,"headingLevel",void 0),Object(u.a)([Object(b.b)()],hn.prototype,"layout",void 0),Object(u.a)([Object(b.b)(),Object(Ir.a)("esri/widgets/Legend/t9n/Legend")],hn.prototype,"messages",void 0),Object(u.a)([Object(b.b)(),Object(Ir.a)("esri/t9n/common")],hn.prototype,"messagesCommon",void 0),Object(u.a)([Object(b.b)({readOnly:!0})],hn.prototype,"type",void 0),Object(u.a)([Object(b.b)()],hn.prototype,"view",void 0),Object(u.a)([Object(Pr.a)()],hn.prototype,"_selectSection",null);var bn=hn=Object(u.a)([Object(y.a)("esri.widgets.Legend.styles.Card")],hn);function yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var vn="esri-legend__service",mn="esri-legend__service-label",gn="esri-legend__layer",On="esri-legend__group-layer",jn="esri-legend__group-layer-child",wn="esri-legend__layer-table",_n="esri-legend__layer-table--size-ramp",kn="esri-legend__layer-child-table",xn="esri-legend__layer-caption",Sn="esri-legend__layer-body",Pn="esri-legend__layer-row",In="esri-legend__layer-cell esri-legend__layer-cell--info",Rn="esri-legend__imagery-layer-image--stretched",Mn="esri-legend__imagery-layer-info--stretched",En="esri-legend__layer-cell esri-legend__layer-cell--symbols",Tn="esri-legend__symbol",An="esri-legend__ramps",Cn="esri-legend__size-ramp",Dn="esri-legend__color-ramp",Ln="esri-legend__opacity-ramp",Fn="esri-legend__ramp-labels",Nn="esri-legend__ramp-label",Bn="esri-univariate-above-and-below-ramp__label",Vn="esri-legend__message",Un="esri-widget__heading",zn={display:"flex",alignItems:"flex-start"},qn={marginLeft:"3px"},Hn={display:"table-cell",verticalAlign:"middle"},Gn=function(e){Object(o.a)(r,e);var t=yn(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n)).activeLayerInfos=null,a.headingLevel=3,a.messages=null,a.type="classic",a}return Object(a.a)(r,[{key:"render",value:function(){var e=this,t=this.activeLayerInfos,r=t&&t.toArray().map((function(t){return e._renderLegendForLayer(t)})).filter((function(e){return!!e}));return Object(qt.a)("div",null,r&&r.length?r:Object(qt.a)("div",{class:Vn},this.messages.noLegend))}},{key:"_renderLegendForLayer",value:function(e){var t=this;if(!e.ready)return null;var r=!!e.children.length,i="".concat("esri-legend__").concat(e.layer.uid,"-version-").concat(e.version),a=e.title?Object(Sr.a)({level:this.headingLevel,class:this.classes(Un,mn)},e.title):null;if(r){var o=e.children.map((function(e){return t._renderLegendForLayer(e)})).toArray();return Object(qt.a)("div",{key:i,class:this.classes(vn,On)},a,o)}var s=e.legendElements;if(s&&!s.length)return null;var c=s.map((function(r){return t._renderLegendForElement(r,e.layer)})).filter((function(e){return!!e}));if(!c.length)return null;var u=Object(n.a)({},jn,!!e.parent);return Object(qt.a)("div",{key:i,class:this.classes(vn,u),tabIndex:0},a,Object(qt.a)("div",{class:gn},c))}},{key:"_renderLegendForElement",value:function(e,t,r){var i=this,a="color-ramp"===e.type,o="opacity-ramp"===e.type,s="size-ramp"===e.type,c=null;if("symbol-table"===e.type||s){var u=e.infos.map((function(r){return i._renderLegendForElementInfo(r,t,s,e.legendType)})).filter((function(e){return!!e}));u.length&&(c=Object(qt.a)("div",{class:Sn},u))}else"color-ramp"===e.type||"opacity-ramp"===e.type||"heatmap-ramp"===e.type||"stretch-ramp"===e.type?c=this._renderLegendForRamp(e,t.opacity):"relationship-ramp"===e.type?c=ir(e,this.id,t.opacity):"univariate-above-and-below-ramp"===e.type?c=this._renderUnivariateAboveAndBelowRamp(e,t.opacity):"univariate-color-size-ramp"===e.type&&(c=this._renderUnivariateColorSizeRamp(e,t.opacity));if(!c)return null;var l=e.title,f=null;if("string"==typeof l)f=l;else if(l){var p=_r(this.messages,l,a||o);f=kr(0,a||o)&&l.title?"".concat(l.title," (").concat(p,")"):p}var d=r?kn:wn,h=f?Object(qt.a)("div",{class:xn},f):null,b=Object(n.a)({},_n,s||!r);return Object(qt.a)("div",{class:this.classes(d,b)},h,c)}},{key:"_renderUnivariateAboveAndBelowRamp",value:function(e,t){var r=this,n=gr(e,t),i=n.sizeRampElement,a=n.colorRampElement,o=mr(i,"above",!0),s=mr(i,"below",!0),c=yr(a,{width:12,height:o,rampAlignment:"vertical",opacity:t,type:"above"}),u=yr(a,{width:12,height:s,rampAlignment:"vertical",opacity:t,type:"below"}),l=br(i),f=i.infos.map((function(e){return e.label})),p=f.map((function(e,t){var r=2===t;return 0===t?Object(qt.a)("div",{key:t,class:e?c?Bn:Nn:null},e):r?Object(qt.a)("div",null):null})),d=f.length-1,h=Math.floor(f.length/2),b=f.map((function(e,t){return t===h||t===d?Object(qt.a)("div",{key:t,class:e?c?Bn:Nn:null},e):null})),y={display:"table-cell",verticalAlign:"middle"},v={marginTop:"".concat(l,"px")},m={height:"".concat(o,"px")},g={height:"".concat(s,"px")};return Object(qt.a)("div",{key:"univariate-above-and-below-ramp-preview",styles:zn},Object(qt.a)("div",{class:Sn},i.infos.map((function(e,t){return Object(qt.a)("div",{class:r.classes(Pn,Cn)},Object(qt.a)("div",{class:Tn,styles:y,bind:e.preview,afterCreate:wr}),c||t%2!=0?null:Object(qt.a)("div",{class:In},f[t]))}))),c?Object(qt.a)("div",{styles:v,key:"color-ramp-preview"},Object(qt.a)("div",{styles:qn},Object(qt.a)("div",{styles:Hn},Object(qt.a)("div",{class:An,bind:c,afterCreate:wr})),Object(qt.a)("div",{styles:Hn},Object(qt.a)("div",{class:Fn,styles:m},p))),Object(qt.a)("div",{styles:qn},Object(qt.a)("div",{styles:Hn},Object(qt.a)("div",{class:An,bind:u,afterCreate:wr})),Object(qt.a)("div",{styles:Hn},Object(qt.a)("div",{class:Fn,styles:g},b)))):null)}},{key:"_renderUnivariateColorSizeRamp",value:function(e,t){var r=this,n=Or(e),i=n.sizeRampElement,a=n.colorRampElement,o=br(i),s=mr(i,"full",!1),c=yr(a,{width:12,height:s,rampAlignment:"vertical",opacity:t,type:"full"}),u=i.infos.length-1,l=i.infos.map((function(e,t){return 0===t||t===u?Object(qt.a)("div",{key:t,class:e.label?a?Bn:Nn:null},e.label):null})),f={display:"table-cell",verticalAlign:"middle"},p={marginTop:"".concat(o,"px")},d={height:"".concat(s,"px")};return Object(qt.a)("div",{key:"univariate-above-and-below-ramp-preview",styles:zn},Object(qt.a)("div",{class:Sn},i.infos.map((function(e){return Object(qt.a)("div",{class:r.classes(Pn,Cn)},Object(qt.a)("div",{class:Tn,styles:f,bind:e.preview,afterCreate:wr}))}))),Object(qt.a)("div",{styles:p,key:"color-ramp-preview"},Object(qt.a)("div",{styles:qn},Object(qt.a)("div",{styles:Hn},Object(qt.a)("div",{class:An,bind:c,afterCreate:wr})),Object(qt.a)("div",{styles:Hn},Object(qt.a)("div",{class:Fn,styles:d},l)))))}},{key:"_renderLegendForRamp",value:function(e,t){var r=this,n=e.infos,i="opacity-ramp"===e.type,a="heatmap-ramp"===e.type,o="stretch-ramp"===e.type,s=e.preview,c=i?Ln:"";s.className="".concat(Dn," ").concat(c),null!=t&&(s.style.opacity=t.toString());var u=n.map((function(e){return Object(qt.a)("div",{class:e.label?Nn:null},a?r.messages[e.label]:o?r._getStretchStopLabel(e):e.label)})),l={width:"".concat(24,"px")},f={height:s.style.height};return Object(qt.a)("div",{class:Pn},Object(qt.a)("div",{class:En,styles:l},Object(qt.a)("div",{class:An,bind:s,afterCreate:wr})),Object(qt.a)("div",{class:In},Object(qt.a)("div",{class:Fn,styles:f},u)))}},{key:"_getStretchStopLabel",value:function(e){return e.label?this.messages[e.label]+": "+("string"==typeof e.value?e.value:Object(H.b)(e.value,{style:"decimal",notation:e.value.toString().indexOf("e")>-1?"scientific":"standard"})):""}},{key:"_renderLegendForElementInfo",value:function(e,t,r,i){var a;if(e.type)return this._renderLegendForElement(e,t,!0);var o=null,s=xr(t,i);if(e.preview?o=Object(qt.a)("div",{class:Tn,bind:e.preview,afterCreate:wr}):e.src&&(o=this._renderImage(e,t,s)),!o)return null;var c=Object(n.a)({},Mn,s),u=(a={},Object(n.a)(a,Mn,s),Object(n.a)(a,Cn,!s&&r),a);return Object(qt.a)("div",{class:Pn},Object(qt.a)("div",{class:this.classes(En,u)},o),Object(qt.a)("div",{class:this.classes(In,c)},_r(this.messages,e.label,!1)||""))}},{key:"_renderImage",value:function(e,t,r){var i,a=e.label,o=e.src,s=e.opacity,c=(i={},Object(n.a)(i,Rn,r),Object(n.a)(i,Tn,!r),i),u={opacity:"".concat(null!=s?s:t.opacity)};return Object(qt.a)("img",{alt:_r(this.messages,a,!1),src:o,border:0,width:e.width,height:e.height,class:this.classes(c),styles:u})}}]),r}(v.a);Object(u.a)([Object(b.b)()],Gn.prototype,"activeLayerInfos",void 0),Object(u.a)([Object(b.b)()],Gn.prototype,"headingLevel",void 0),Object(u.a)([Object(b.b)(),Object(Ir.a)("esri/widgets/Legend/t9n/Legend")],Gn.prototype,"messages",void 0),Object(u.a)([Object(b.b)({readOnly:!0})],Gn.prototype,"type",void 0);var Wn=Gn=Object(u.a)([Object(y.a)("esri.widgets.Legend.styles.Classic")],Gn);function Jn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var Zn="esri-legend",Qn="esri-widget",Xn="esri-widget--panel",Kn="esri-icon-layer-list",Yn=function(e){Object(o.a)(r,e);var t=$n(r);function r(e,n){var a;return Object(i.a)(this,r),(a=t.call(this,e,n))._handles=new l.a,a.activeLayerInfos=null,a.basemapLegendVisible=!1,a.groundLegendVisible=!1,a.headingLevel=3,a.keepCacheOnDestroy=!1,a.respectLayerVisibility=!0,a.iconClass=Kn,a.label=void 0,a.layerInfos=null,a.messages=null,a.style=new Wn,a.view=null,a.viewModel=new Vt,a}return Object(a.a)(r,[{key:"initialize",value:function(){var e=this;this.own(Object(f.b)(this,"activeLayerInfos","change",(function(){return e._refreshActiveLayerInfos(e.activeLayerInfos)})),Object(f.d)(this,"headingLevel",(function(t){var r=e.style;r&&(r.headingLevel=t)})),Object(f.a)(this,"style",(function(t,r){r&&t!==r&&r.destroy(),t&&(t.activeLayerInfos=e.activeLayerInfos,"card"===t.type&&(t.view=e.view),t.headingLevel=e.headingLevel)})))}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null}},{key:"castStyle",value:function(e){if(e instanceof bn||e instanceof Wn)return e;if("string"==typeof e)return"card"===e?new bn:new Wn;if(e&&"string"==typeof e.type){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);return delete t.type,new("card"===e.type?bn:Wn)(t)}return new Wn}},{key:"render",value:function(){return Object(qt.a)("div",{class:this.classes(Zn,Qn,this.style instanceof Wn?Xn:null)},this.style.render())}},{key:"_refreshActiveLayerInfos",value:function(e){var t=this;this._handles.removeAll(),e.forEach((function(e){return t._renderOnActiveLayerInfoChange(e)})),this.scheduleRender()}},{key:"_renderOnActiveLayerInfoChange",value:function(e){var t=this,r=Object(f.a)(e,"version",(function(){return t.scheduleRender()}));this._handles.add(r,"version_".concat(e.layer.uid));var n=Object(f.b)(e,"children","change",(function(){e.children.forEach((function(e){return t._renderOnActiveLayerInfoChange(e)}))}));this._handles.add(n,"children_".concat(e.layer.uid)),e.children.forEach((function(e){return t._renderOnActiveLayerInfoChange(e)}))}}]),r}(v.a);Object(u.a)([Object(p.a)("viewModel.activeLayerInfos")],Yn.prototype,"activeLayerInfos",void 0),Object(u.a)([Object(p.a)("viewModel.basemapLegendVisible")],Yn.prototype,"basemapLegendVisible",void 0),Object(u.a)([Object(p.a)("viewModel.groundLegendVisible")],Yn.prototype,"groundLegendVisible",void 0),Object(u.a)([Object(b.b)()],Yn.prototype,"headingLevel",void 0),Object(u.a)([Object(p.a)("viewModel.keepCacheOnDestroy")],Yn.prototype,"keepCacheOnDestroy",void 0),Object(u.a)([Object(p.a)("viewModel.respectLayerVisibility")],Yn.prototype,"respectLayerVisibility",void 0),Object(u.a)([Object(b.b)()],Yn.prototype,"iconClass",void 0),Object(u.a)([Object(b.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Yn.prototype,"label",void 0),Object(u.a)([Object(p.a)("viewModel.layerInfos")],Yn.prototype,"layerInfos",void 0),Object(u.a)([Object(b.b)(),Object(Ir.a)("esri/widgets/Legend/t9n/Legend")],Yn.prototype,"messages",void 0),Object(u.a)([Object(b.b)()],Yn.prototype,"style",void 0),Object(u.a)([Object(d.a)("style")],Yn.prototype,"castStyle",null),Object(u.a)([Object(p.a)("viewModel.view")],Yn.prototype,"view",void 0),Object(u.a)([Object(b.b)()],Yn.prototype,"viewModel",void 0);var ei=Yn=Object(u.a)([Object(y.a)("esri.widgets.Legend")],Yn);t.default=ei},wJzb:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("xAIp"),l=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var p=function(e){var t=function(e){Object(a.a)(r,e);var t=f(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).minScale=0,e.maxScale=0,e}return Object(i.a)(r,[{key:"scaleRangeId",get:function(){return"".concat(this.minScale,",").concat(this.maxScale)}}]),r}(e);return Object(c.a)([Object(u.b)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),Object(c.a)([Object(u.b)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),Object(c.a)([Object(u.b)({readOnly:!0})],t.prototype,"scaleRangeId",null),t=Object(c.a)([Object(l.a)("esri.layers.mixins.ScaleRangeLayer")],t)}},wK6d:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0n+b"),f=r("0fJP"),p=r("xAIp"),d=r("wckI"),h=(r("J4Pc"),r("TM+E"),r("iaHD")),b=r("jr4m");function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var v=n=function(e){Object(o.a)(r,e);var t=y(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).attachmentTypes=null,n.attachmentsWhere=null,n.keywords=null,n.globalIds=null,n.name=null,n.num=null,n.objectIds=null,n.returnMetadata=!1,n.size=null,n.start=null,n.where=null,n}return Object(a.a)(r,[{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}},{key:"clone",value:function(){return new n(Object(f.a)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}}]),r}(l.a);Object(u.a)([Object(p.b)({type:[String],json:{write:!0}})],v.prototype,"attachmentTypes",void 0),Object(u.a)([Object(p.b)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],v.prototype,"attachmentsWhere",void 0),Object(u.a)([Object(p.b)({type:[String],json:{write:!0}})],v.prototype,"keywords",void 0),Object(u.a)([Object(p.b)({type:[Number],json:{write:!0}})],v.prototype,"globalIds",void 0),Object(u.a)([Object(p.b)({json:{write:!0}})],v.prototype,"name",void 0),Object(u.a)([Object(p.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],v.prototype,"num",void 0),Object(u.a)([Object(p.b)({type:[Number],json:{write:!0}})],v.prototype,"objectIds",void 0),Object(u.a)([Object(p.b)({type:Boolean,json:{default:!1,write:!0}})],v.prototype,"returnMetadata",void 0),Object(u.a)([Object(p.b)({type:[Number],json:{write:!0}})],v.prototype,"size",void 0),Object(u.a)([Object(p.b)({type:Number,json:{read:{source:"resultOffset"}}})],v.prototype,"start",void 0),Object(u.a)([Object(b.a)("start"),Object(b.a)("num")],v.prototype,"writeStart",null),Object(u.a)([Object(p.b)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],v.prototype,"where",void 0),(v=n=Object(u.a)([Object(h.a)("esri.rest.support.AttachmentQuery")],v)).from=Object(d.m)(v);var m=v;t.a=m},wPzt:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("7im+");function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.values().next().value};Object(n.a)(this,e),this._peeker=t,this._items=new Set}return Object(i.a)(e,[{key:"length",get:function(){return this._items.size}},{key:"clear",value:function(){this._items.clear()}},{key:"last",value:function(){if(0!==this._items.size){var e,t,r=o(this._items);try{for(r.s();!(t=r.n()).done;)e=t.value}catch(n){r.e(n)}finally{r.f()}return e}}},{key:"peek",value:function(){if(0!==this._items.size)return this._peeker(this._items)}},{key:"push",value:function(e){this.contains(e)||this._items.add(e)}},{key:"contains",value:function(e){return this._items.has(e)}},{key:"pop",value:function(){if(0!==this.length){var e=this.peek();return this._items.delete(Object(a.c)(e)),e}}},{key:"popLast",value:function(){if(0!==this.length){var e=this.last();return this._items.delete(Object(a.c)(e)),e}}},{key:"remove",value:function(e){this._items.delete(e)}},{key:"filter",value:function(e){var t=this;return this._items.forEach((function(r){e(r)||t._items.delete(r)})),this}}]),e}();t.a=c},wTAb:function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},wXp5:function(e,t,r){var n=r("jcrF"),i=r("X3Hh"),a=r("e766");e.exports=function(e){if(e instanceof n)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=a(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},wYF9:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"g",(function(){return u}));var n=[252,146,31,255],i={type:"esriSMS",style:"esriSMSCircle",size:6,color:n,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},a={type:"esriSLS",style:"esriSLSSolid",width:.75,color:n},o={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},s={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},c={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},u={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},l={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},wcNg:function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return x()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=O(o,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,o),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=c;var l={};function f(){}function p(){}function d(){}var h={};h[i]=function(){return this};var b=Object.getPrototypeOf,y=b&&b(b(k([])));y&&y!==t&&r.call(y,i)&&(h=y);var v=d.prototype=f.prototype=Object.create(h);function m(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var n;this._invoke=function(i,a){function o(){return new t((function(n,o){!function n(i,a,o,s){var c=u(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}(i,a,n,o)}))}return n=n?n.then(o,o):o()}}function O(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=v.constructor=d,d.constructor=p,p.displayName=s(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},m(g.prototype),g.prototype[a]=function(){return this},e.AsyncIterator=g,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new g(c(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},m(v),s(v,o,"Generator"),v[i]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;w(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=n}catch(i){Function("r","regeneratorRuntime = r")(n)}},wckI:function(e,t,r){"use strict";r.d(t,"a",(function(){return R})),r.d(t,"b",(function(){return w})),r.d(t,"c",(function(){return j})),r.d(t,"d",(function(){return v})),r.d(t,"e",(function(){return f})),r.d(t,"f",(function(){return T})),r.d(t,"g",(function(){return x})),r.d(t,"h",(function(){return k})),r.d(t,"i",(function(){return l})),r.d(t,"j",(function(){return P})),r.d(t,"k",(function(){return I})),r.d(t,"l",(function(){return u})),r.d(t,"m",(function(){return O})),r.d(t,"n",(function(){return E})),r.d(t,"o",(function(){return S})),r.d(t,"p",(function(){return M}));var n=r("hisu");r("J4Pc");function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o=r("TM+E").a.getLogger("esri.core.Accessor");function s(e){return null==e?e:new Date(e)}function c(e){return null==e?e:!!e}function u(e){return null==e?e:e.toString()}function l(e){return null==e?e:(e=parseFloat(e),isNaN(e)?0:e)}function f(e){return null==e?e:Math.round(parseFloat(e))}function p(e){return e&&e.constructor&&void 0!==e.constructor.__accessorMetadata__}function d(e,t){return null!=t&&e&&!(t instanceof e)}function h(e){return e&&"isCollection"in e}function b(e){return e&&e.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function y(e,t){return!!p(t)&&(o.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+m(e)+"'"),!0)}function v(e,t){return null==t?t:h(e)?function(e,t){if(!t||!t.constructor||!h(t.constructor))return y(e,t)?t:new e(t);var r=b(e.prototype.itemType),n=b(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(y(e,t),t):new e(t):t}(e,t):d(e,t)?y(e,t)?t:new e(t):t}function m(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}function g(e){switch(e){case Number:return l;case R:return f;case Boolean:return c;case String:return u;case Date:return s;default:return v.bind(null,e)}}function O(e,t){var r=g(e);return 1===arguments.length?r:r(t)}function j(e,t,r){return 1===arguments.length?j.bind(null,e):t?Array.isArray(t)?t.map((function(t){return e(t,r)})):[e(t,r)]:t}function w(e,t){return 1===arguments.length?j(O.bind(null,e)):j(O.bind(null,e),t)}function _(e,t,r){return 0!==t&&Array.isArray(r)?r.map((function(r){return _(e,t-1,r)})):e(r)}function k(e,t,r){if(2===arguments.length)return k.bind(null,e,t);if(!r)return r;for(var n=t,i=r=_(e,t,r);n>0&&Array.isArray(i);)n--,i=i[0];if(void 0!==i)for(var a=0;a<n;a++)r=[r];return r}function x(e,t,r){return 2===arguments.length?k(O.bind(null,e),t):k(O.bind(null,e),t,r)}function S(e){return!!Array.isArray(e)&&!e.some((function(t){var r=typeof t;return!("string"===r||"number"===r||"function"===r&&e.length>1)}))}function P(e,t){if(2===arguments.length)return P(e).call(null,t);var r,n=new Set,a=e.filter((function(e){return"function"!=typeof e})),s=e.filter((function(e){return"function"==typeof e})),c=i(e);try{for(c.s();!(r=c.n()).done;){var u=r.value;"string"!=typeof u&&"number"!=typeof u||n.add(u)}}catch(p){c.e(p)}finally{c.f()}var l=null,f=null;return function(e,t){if(null==e)return e;var r=typeof e,i="string"===r||"number"===r;return i&&(n.has(e)||s.some((function(e){return"string"===r&&e===String||"number"===r&&e===Number})))||"object"===r&&s.some((function(t){return!d(e,t)}))?e:(i&&a.length?(l||(l=a.map((function(e){return"string"==typeof e?"'".concat(e,"'"):"".concat(e)})).join(", ")),o.error("Accessor#set","'".concat(e,"' is not a valid value for this property, only the following values are valid: ").concat(l))):"object"==typeof e&&s.length?(f||(f=s.map((function(e){return m(e)})).join(", ")),o.error("Accessor#set","'".concat(e,"' is not a valid value for this property, value must be one of ").concat(f))):o.error("Accessor#set","'".concat(e,"' is not a valid value for this property")),t&&(t.valid=!1),null)}}function I(e,t){if(2===arguments.length)return I(e).call(null,t);var r={},n=[],i=[];for(var a in e.typeMap){var s=e.typeMap[a];r[a]=O(s),n.push(m(s)),i.push(a)}var c=function(){return"'".concat(n.join("', '"),"'")},u=function(){return"'".concat(i.join("', '"),"'")},l="string"==typeof e.key?function(t){return t[e.key]}:e.key;return function(t){if(e.base&&!d(e.base,t))return t;if(null==t)return t;var n=l(t)||e.defaultKeyValue,i=r[n];if(!i)return o.error("Accessor#set","Invalid property value, value needs to be one of ".concat(c(),", or a plain object that can autocast (having .type = ").concat(u(),")")),null;if(!d(e.typeMap[n],t))return t;if("string"==typeof e.key&&!p(t)){var a={};for(var s in t)s!==e.key&&(a[s]=t[s]);return i(a)}return i(t)}}var R=function e(){Object(n.a)(this,e)},M={native:function(e){return{type:"native",value:e}},array:function(e){return{type:"array",value:e}},oneOf:function(e){return{type:"one-of",values:e}}};function E(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function T(e){switch(e.type){case"native":return O(e.value);case"array":return j(T(e.value));case"one-of":return function(e){var t=null;return function(r,n){return function e(t,r){if(null==t)return!0;switch(r.type){case"native":switch(r.value){case Number:case R:return"number"==typeof t;case Boolean:return"boolean"==typeof t;case String:return"string"==typeof t}return t instanceof r.value;case"array":return!!Array.isArray(t)&&!t.some((function(t){return!e(t,r.value)}));case"one-of":return r.values.some((function(r){return e(t,r)}))}}(r,e)?r:(null==t&&(t=function e(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case R:return"integer";case Date:return"date";default:return m(t.value)}case"array":return"array of ".concat(e(t.value));case"one-of":var r=t.values.map((function(t){return e(t)}));return"one of ".concat(r.slice(0,r.length-1)," or ").concat(r[r.length-1])}return"unknown"}(e)),o.error("Accessor#set","Invalid property value, value needs to be of type ".concat(t)),n&&(n.valid=!1),null)}}(e);default:return null}}},wetf:function(e,t,r){"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t,r){return t.flatten((function(e){return e.sublayers})).length!==e.length||(!!e.some((function(e){return e.originIdOf("minScale")>r||e.originIdOf("maxScale")>r||e.originIdOf("renderer")>r||e.originIdOf("labelingInfo")>r||e.originIdOf("opacity")>r||e.originIdOf("labelsVisible")>r||e.originIdOf("source")>r}))||!s(e,t))}function o(e,t,r){return!!e.some((function(e){var t=e.source;return!(!t||"map-layer"===t.type&&t.mapLayerId===e.id&&(!t.gdbVersion||t.gdbVersion===r.gdbVersion))||e.originIdOf("renderer")>2||e.originIdOf("labelingInfo")>2||e.originIdOf("opacity")>2||e.originIdOf("labelsVisible")>2}))||!s(e,t)}function s(e,t){if(!e||!e.length)return!0;var r=t.slice().reverse().flatten((function(e){var t=e.sublayers;return t&&t.toArray().reverse()})).map((function(e){return e.id})).toArray();if(e.length>r.length)return!1;var i,a=0,o=r.length,s=n(e);try{for(s.s();!(i=s.n()).done;){for(var c=i.value.id;a<o&&r[a]!==c;)a++;if(a>=o)return!1}}catch(u){s.e(u)}finally{s.f()}return!0}function c(e){return!!e&&e.some((function(e){return null!=e.minScale||e.layerDefinition&&null!=e.layerDefinition.minScale}))}r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return a}))},wiKJ:function(e,t,r){var n=r("VY7S"),i=r("Akg/"),a=r("a7YA");e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},wnk4:function(e,t,r){var n=r("V2ZB"),i=r("h0av");e.exports=function(e,t){return e&&n(t,i(t),e)}},wvjj:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={expander:!1,expanderDefaultOpen:!1,position:"top-right",widgetArgs:{},expandWidgetArgs:{}}},"x/Hb":function(e,t,r){"use strict";var n=r("hisu"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("dQW7"),c=r("7i+s"),u=r("0n+b"),l=r("xAIp"),f=(r("J4Pc"),r("wckI"),r("TM+E"),r("vo12")),p=r("iaHD");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var h=new c.a({inherited:"inherited",codedValue:"coded-value",range:"range"}),b=function(e){Object(i.a)(r,e);var t=d(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).name=null,i.type=null,i}return r}(u.a);Object(s.a)([Object(l.b)({type:String,json:{write:!0}})],b.prototype,"name",void 0),Object(s.a)([Object(f.a)(h)],b.prototype,"type",void 0);var y=b=Object(s.a)([Object(p.a)("esri.layers.support.Domain")],b);t.a=y},x7dA:function(e,t,r){var n=r("e766"),i=r("q+I6"),a=Math.min;e.exports=function(e,t){for(var r=e.length,o=a(t.length,r),s=n(e);o--;){var c=t[o];e[o]=i(c,r)?s[c]:void 0}return e}},xAIp:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return l}));var n=r("TM+E"),i=r("wckI"),a=r("K2z9"),o=r("9ZxH"),s=r("30K6"),c=n.a.getLogger("esri.core.accessorSupport.decorators.property");function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,r,n){if(t===Function.prototype)throw new Error("Inappropriate use of @property() on a static field: ".concat(t.name,".").concat(r,". Accessor does not support static properties."));var u=Object(o.b)(t,r);n&&(n.get||n.set?(u.get=n.get||u.get,u.set=n.set||u.set):"value"in n&&("value"in e&&c.warn('@property() will redefine the value of "'.concat(r,'" on "').concat(t.constructor.name,'" already defined in the metadata'),e),u.value=e.value=n.value)),null!=e.readOnly&&(u.readOnly=e.readOnly);var l=e.aliasOf;if(l){var d,h="string"==typeof l?l:l.source,b="string"==typeof l?null:!0===l.overridable;u.dependsOn=[h],u.get=function(){var e=Object(a.b)(this,h);if("function"==typeof e){d||(d=h.split(".").slice(0,-1).join("."));var t=Object(a.b)(this,d);t&&(e=e.bind(t))}return e},u.readOnly||(u.set=b?function(e){void 0!==e?this._override(r,e):this._clearOverride(r)}:function(e){Object(s.a)(this,h,e)})}var y=e.type,v=e.types;u.cast||(y?u.cast=f(y):v&&(Array.isArray(v)?u.cast=Object(i.c)(Object(i.k)(v[0])):u.cast=Object(i.k)(v))),e.range&&(u.cast=p(u.cast,e.range)),Object(o.c)(u,e)}}function l(e,t,r){var n=Object(o.b)(e,r);n.json||(n.json={});var i=n.json;return void 0!==t&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function f(e){var t=0,r=e;if(Object(i.n)(e))return Object(i.f)(e);for(;Array.isArray(r)&&1===r.length&&"string"!=typeof r[0]&&"number"!=typeof r[0];)r=r[0],t++;var n=r;if(Object(i.o)(n))return 0===t?Object(i.j)(n):Object(i.h)(Object(i.j)(n),t);if(1===t)return Object(i.b)(n);if(t>1)return Object(i.g)(n,t);var a=e;return a.from?a.from:Object(i.m)(a)}function p(e,t){return function(r){var n=+e(r);return null!=t.step&&(n=Math.round(n/t.step)*t.step),null!=t.min&&(n=Math.max(t.min,n)),null!=t.max&&(n=Math.min(t.max,n)),n}}},xKNE:function(e,t,r){var n=r("FEiO");e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},xOY0:function(e,t,r){"use strict";var n=r("tM9Q"),i=r("aD51");"undefined"!=typeof IBookmarksWidget&&IBookmarksWidget&&IBookmarksWidget===Object(IBookmarksWidget)&&Object.isExtensible(IBookmarksWidget)&&!IBookmarksWidget.hasOwnProperty("__filemeta")&&Object.defineProperty(IBookmarksWidget,"__filemeta",{configurable:!0,value:{name:"IBookmarksWidget",filename:"src/widgets/Bookmarks.tsx"}});var a=function(e){return Object(i.c)(n.Bookmarks,e)};t.a=a,void 0!==a&&a&&a===Object(a)&&Object.isExtensible(a)&&!a.hasOwnProperty("__filemeta")&&Object.defineProperty(a,"__filemeta",{configurable:!0,value:{name:"Bookmarksy",filename:"src/widgets/Bookmarks.tsx"}})},xPnu:function(e,t,r){var n=r("zcvR");e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},xSTV:function(e,t,r){"use strict";var n=r("NthX"),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r("ERkP"),f=u(r("lZ6b"));t.default=function(e){var t=c(e,[]),i=f.default(),a=i.map,u=i.view;return l.useEffect((function(){return u&&u.ready&&s(void 0,void 0,void 0,n.mark((function e(){var i,s,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return o(r("EOOn"))}));case 2:i=e.sent,s=i.default,c=new s(t),null==a||a.layers.add(c);case 6:case"end":return e.stop()}}),e)}))),function(){!1,null==a||a.layers.remove(void 0)}}),[a,u]),null}},xTsm:function(e,t,r){"use strict";var n=r("aNYv"),i=r("hisu"),a=r("yBJb"),o=r("12QT"),s=r("60x+");function c(e,t){return[e,t]}function u(e,t,r){return e[0]=t,e[1]=r,e}function l(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}var f=new s.a("0/0/0/0"),p=function(){function e(t,r,n,a,o,s,c,u,l,f,p,d){Object(i.a)(this,e),this.level=t,this.resolution=r,this.scale=n,this.origin=a,this.first=o,this.last=s,this.size=c,this.norm=u,this.worldStart=l,this.worldEnd=f,this.worldSize=p,this.wrap=d}return Object(a.a)(e,[{key:"normalizeCol",value:function(e){if(!this.wrap)return e;var t=this.worldSize[0];return e<0?t-1-Math.abs((e+1)%t):e%t}},{key:"denormalizeCol",value:function(e,t){return this.wrap?this.worldSize[0]*t+e:e}},{key:"getWorldForColumn",value:function(e){return this.wrap?Math.floor(e/this.worldSize[0]):0}},{key:"getFirstColumnForWorld",value:function(e){return e*this.worldSize[0]+this.first[0]}},{key:"getLastColumnForWorld",value:function(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1}},{key:"getColumnForX",value:function(e){return(e-this.origin[0])/this.norm[0]}},{key:"getXForColumn",value:function(e){return this.origin[0]+e*this.norm[0]}},{key:"getRowForY",value:function(e){return(this.origin[1]-e)/this.norm[1]}},{key:"getYForRow",value:function(e){return this.origin[1]-e*this.norm[1]}},{key:"getTileBounds",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f.set(t);var n=r?f.col:this.denormalizeCol(f.col,f.world),i=f.row;return l(e,this.getXForColumn(n),this.getYForRow(i+1),this.getXForColumn(n+1),this.getYForRow(i)),e}},{key:"getTileCoords",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f.set(t);var n=r?f.col:this.denormalizeCol(f.col,f.world);return Array.isArray(e)?u(e,this.getXForColumn(n),this.getYForRow(f.row)):(e.x=this.getXForColumn(n),e.y=this.getYForRow(f.row)),e}}],[{key:"create",value:function(t,r,n){var i,a,s,l,f=Object(o.d)(t.spatialReference),p=c(t.origin.x,t.origin.y),d=c(t.size[0]*r.resolution,t.size[1]*r.resolution),h=c(-1/0,-1/0),b=c(1/0,1/0),y=c(1/0,1/0);return n&&(u(h,Math.max(0,Math.floor((n.xmin-p[0])/d[0])),Math.max(0,Math.floor((p[1]-n.ymax)/d[1]))),u(b,Math.max(0,Math.floor((n.xmax-p[0])/d[0])),Math.max(0,Math.floor((p[1]-n.ymin)/d[1]))),u(y,b[0]-h[0]+1,b[1]-h[1]+1)),t.isWrappable?(i=c(Math.ceil(Math.round((f.valid[1]-f.valid[0])/r.resolution)/t.size[0]),y[1]),a=c(Math.floor((f.origin[0]-p[0])/d[0]),h[1]),s=c(i[0]+a[0]-1,b[1]),l=!0):(a=h,s=b,i=y,l=!1),new e(r.level,r.resolution,r.scale,p,h,b,y,d,a,s,i,l)}}]),e}(),d=r("EGWc"),h=function e(t,r,n){Object(i.a)(this,e),this.row=t,this.colFrom=r,this.colTo=n};function b(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=new s.a("0/0/0/0"),m=function(){function e(t,r,n,a,o,s,c,u){Object(i.a)(this,e),this.x=t,this.ymin=r,this.ymax=n,this.invM=a,this.leftAdjust=o,this.rightAdjust=s,this.leftBound=c,this.rightBound=u}return Object(a.a)(e,[{key:"incrRow",value:function(){this.x+=this.invM}},{key:"getLeftCol",value:function(){return Math.max(this.x+this.leftAdjust,this.leftBound)}},{key:"getRightCol",value:function(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}],[{key:"create",value:function(t,r){var i;t[1]>r[1]&&(t=(i=[r,t])[0],r=i[1]);var a=t,o=Object(n.a)(a,2),s=o[0],c=o[1],u=r,l=Object(n.a)(u,2),f=l[0],p=l[1],d=f-s,h=p-c,b=0!==h?d/h:0,y=(Math.ceil(c)-c)*b,v=(Math.floor(c)-c)*b;return new e(s,Math.floor(c),Math.ceil(p),b,d<0?y:v,d<0?v:y,d<0?f:s,d<0?s:f)}}]),e}(),g=[[0,0],[0,0],[0,0],[0,0]],O=function(){function e(t,r){var n=this;Object(i.a)(this,e),this.tileInfo=t,this.fullExtent=r,this.scales=[],this._lodInfos=null,this._infoByScale={},this._infoByLevel={};var a=t.lods.slice();a.sort((function(e,t){return t.scale-e.scale}));var o=this._lodInfos=a.map((function(e){return p.create(t,e,r)}));a.forEach((function(e,t){n._infoByLevel[e.level]=o[t],n._infoByScale[e.scale]=o[t],n.scales[t]=e.scale}),this),this._wrap=t.isWrappable}return Object(a.a)(e,[{key:"spatialReference",get:function(){return this.tileInfo.spatialReference}},{key:"getLODInfoAt",value:function(e){return this._infoByLevel["number"==typeof e?e:e.level]}},{key:"getTileBounds",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];v.set(t);var n=this._infoByLevel[v.level];return n?n.getTileBounds(e,v,r):e}},{key:"getTileCoords",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];v.set(t);var n=this._infoByLevel[v.level];return n?n.getTileCoords(e,v,r):e}},{key:"getTileCoverage",value:function(e){var t,r,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:192,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"closest",o="closest"===a?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),s=d.a.pool.acquire(o),c=this._wrap,u=1/0,l=-1/0,f=s.spans;g[0][0]=g[0][1]=g[1][1]=g[3][0]=-i,g[1][0]=g[2][0]=e.size[0]+i,g[2][1]=g[3][1]=e.size[1]+i;var p,y=b(g);try{for(y.s();!(p=y.n()).done;){var v=p.value;e.toMap(v,v),v[0]=o.getColumnForX(v[0]),v[1]=o.getRowForY(v[1])}}catch(E){y.e(E)}finally{y.f()}for(var O=[],j=3,w=0;w<4;w++)if(g[w][1]!==g[j][1]){var _=m.create(g[w],g[j]);u=Math.min(_.ymin,u),l=Math.max(_.ymax,l),void 0===O[_.ymin]&&(O[_.ymin]=[]),O[_.ymin].push(_),j=w}else j=w;if(null==u||null==l||l-u>100)return null;var k=[];for(t=u;t<l;){null!=O[t]&&(k=k.concat(O[t])),r=1/0,n=-1/0;for(var x=k.length-1;x>=0;x--){var S=k[x];r=Math.min(r,S.getLeftCol()),n=Math.max(n,S.getRightCol())}if(r=Math.floor(r),n=Math.floor(n),t>=o.first[1]&&t<=o.last[1])if(c)if(o.size[0]<o.worldSize[0])for(var P=Math.floor(n/o.worldSize[0]),I=Math.floor(r/o.worldSize[0]);I<=P;I++)f.push(new h(t,Math.max(o.getFirstColumnForWorld(I),r),Math.min(o.getLastColumnForWorld(I),n)));else f.push(new h(t,r,n));else r>o.last[0]||n<o.first[0]||(r=Math.max(r,o.first[0]),n=Math.min(n,o.last[0]),f.push(new h(t,r,n)));t+=1;for(var R=k.length-1;R>=0;R--){var M=k[R];M.ymax>=t?M.incrRow():k.splice(R,1)}}return s}},{key:"getTileParentId",value:function(e){v.set(e);var t=this._infoByLevel[v.level],r=this._lodInfos.indexOf(t)-1;return r<0?null:(this._getTileIdAtLOD(v,this._lodInfos[r],v),v.id)}},{key:"getTileResolution",value:function(e){var t=this._infoByLevel["object"==typeof e?e.level:e];return t?t.resolution:-1}},{key:"getTileScale",value:function(e){var t=this._infoByLevel[e.level];return t?t.scale:-1}},{key:"intersects",value:function(e,t){v.set(t);var r=this._infoByLevel[v.level],i=e.lodInfo;if(i.resolution>r.resolution){this._getTileIdAtLOD(v,i,v);var a,o=i.denormalizeCol(v.col,v.world),s=b(e.spans);try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c.row===v.row&&c.colFrom<=o&&c.colTo>=o)return!0}}catch(_){s.e(_)}finally{s.f()}}if(i.resolution<r.resolution){var u=e.spans.reduce((function(e,t){return e[0]=Math.min(e[0],t.row),e[1]=Math.max(e[1],t.row),e[2]=Math.min(e[2],t.colFrom),e[3]=Math.max(e[3],t.colTo),e}),[1/0,-1/0,1/0,-1/0]),l=Object(n.a)(u,4),f=l[0],p=l[1],d=l[2],h=l[3],y=r.denormalizeCol(v.col,v.world),m=i.getColumnForX(r.getXForColumn(y)),g=i.getRowForY(r.getYForRow(v.row)),O=i.getColumnForX(r.getXForColumn(y+1))-1,j=i.getRowForY(r.getYForRow(v.row+1))-1;return!(m>h||O<d||g>p||j<f)}var w=i.denormalizeCol(v.col,v.world);return e.spans.some((function(e){return e.row===v.row&&e.colFrom<=w&&e.colTo>=w}))}},{key:"normalizeBounds",value:function(e,t,r){if(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this._wrap){var n=Object(o.d)(this.tileInfo.spatialReference),i=-r*(n.valid[1]-n.valid[0]);e[0]+=i,e[2]+=i}return e}},{key:"getSmallestInfoForScale",value:function(e){var t=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>t[0])return this._infoByScale[t[0]];for(var r=1;r<t.length-1;r++)if(e>t[r]+1e-6)return this._infoByScale[t[r-1]];return this._infoByScale[t[t.length-1]]}},{key:"getClosestInfoForScale",value:function(e){var t=this.scales;return this._infoByScale[e]||(e=t.reduce((function(t,r){return Math.abs(r-e)<Math.abs(t-e)?r:t}),t[0])),this._infoByScale[e]}},{key:"scaleToLevel",value:function(e){var t=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(var r=t.length-1;r>=0;r--)if(e<t[r])return r===t.length-1?this._infoByScale[t[t.length-1]].level:this._infoByScale[t[r]].level+(t[r]-e)/(t[r]-t[r+1]);return this._infoByScale[t[0]].level}},{key:"scaleToZoom",value:function(e){return this.tileInfo.scaleToZoom(e)}},{key:"_getTileIdAtLOD",value:function(e,t,r){var n=this._infoByLevel[r.level];return e.set(r),t.resolution<n.resolution?null:(t.resolution===n.resolution||(e.level=t.level,e.col=Math.floor(r.col*n.resolution/t.resolution+.01),e.row=Math.floor(r.row*n.resolution/t.resolution+.01)),e)}}]),e}();t.a=O},xZtp:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7");function u(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function l(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function f(e){var t=l(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function p(e){return e instanceof l(e).Element||e instanceof Element}function d(e){return e instanceof l(e).HTMLElement||e instanceof HTMLElement}function h(e){return"undefined"!=typeof ShadowRoot&&(e instanceof l(e).ShadowRoot||e instanceof ShadowRoot)}function b(e){return e?(e.nodeName||"").toLowerCase():null}function y(e){return((p(e)?e.ownerDocument:e.document)||window.document).documentElement}function v(e){return u(y(e)).left+f(e).scrollLeft}function m(e){return l(e).getComputedStyle(e)}function g(e){var t=m(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function O(e,t,r){void 0===r&&(r=!1);var n,i,a=y(t),o=u(e),s=d(t),c={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(s||!s&&!r)&&(("body"!==b(t)||g(a))&&(c=(n=t)!==l(n)&&d(n)?{scrollLeft:(i=n).scrollLeft,scrollTop:i.scrollTop}:f(n)),d(t)?((p=u(t)).x+=t.clientLeft,p.y+=t.clientTop):a&&(p.x=v(a))),{x:o.left+c.scrollLeft-p.x,y:o.top+c.scrollTop-p.y,width:o.width,height:o.height}}function j(e){var t=u(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function w(e){return"html"===b(e)?e:e.assignedSlot||e.parentNode||(h(e)?e.host:null)||y(e)}function _(e,t){var r;void 0===t&&(t=[]);var n=function e(t){return["html","body","#document"].indexOf(b(t))>=0?t.ownerDocument.body:d(t)&&g(t)?t:e(w(t))}(e),i=n===(null==(r=e.ownerDocument)?void 0:r.body),a=l(n),o=i?[a].concat(a.visualViewport||[],g(n)?n:[]):n,s=t.concat(o);return i?s:s.concat(_(w(o)))}function k(e){return["table","td","th"].indexOf(b(e))>=0}function x(e){return d(e)&&"fixed"!==m(e).position?e.offsetParent:null}function S(e){for(var t=l(e),r=x(e);r&&k(r)&&"static"===m(r).position;)r=x(r);return r&&("html"===b(r)||"body"===b(r)&&"static"===m(r).position)?t:r||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&d(e)&&"fixed"===m(e).position)return null;for(var r=w(e);d(r)&&["html","body"].indexOf(b(r))<0;){var n=m(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}var P="top",I="bottom",R="right",M="left",E=[P,I,R,M],T=E.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),A=[].concat(E,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),C=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function D(e){var t=new Map,r=new Set,n=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||function e(i){r.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach((function(n){if(!r.has(n)){var i=t.get(n);i&&e(i)}})),n.push(i)}(e)})),n}var L={placement:"bottom",modifiers:[],strategy:"absolute"};function F(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function N(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,i=t.defaultOptions,a=void 0===i?L:i;return function(e,t,r){void 0===r&&(r=a);var i,o,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},L,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,l={state:s,setOptions:function(r){f(),s.options=Object.assign({},a,s.options,r),s.scrollParents={reference:p(e)?_(e):e.contextElement?_(e.contextElement):[],popper:_(t)};var i=function(e){var t=D(e);return C.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}(function(e){var t=e.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,s.options.modifiers)));return s.orderedModifiers=i.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,i=e.effect;if("function"==typeof i){var a=i({state:s,name:t,instance:l,options:n});c.push(a||function(){})}})),l.update()},forceUpdate:function(){if(!u){var e=s.elements,t=e.reference,r=e.popper;if(F(t,r)){s.rects={reference:O(t,S(r),"fixed"===s.options.strategy),popper:j(r)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<s.orderedModifiers.length;n++)if(!0!==s.reset){var i=s.orderedModifiers[n],a=i.fn,o=i.options,c=void 0===o?{}:o,f=i.name;"function"==typeof a&&(s=a({state:s,options:c,name:f,instance:l})||s)}else s.reset=!1,n=-1}}},update:(i=function(){return new Promise((function(e){l.forceUpdate(),e(s)}))},function(){return o||(o=new Promise((function(e){Promise.resolve().then((function(){o=void 0,e(i())}))}))),o}),destroy:function(){f(),u=!0}};if(!F(e,t))return l;function f(){c.forEach((function(e){return e()})),c=[]}return l.setOptions(r).then((function(e){!u&&r.onFirstUpdate&&r.onFirstUpdate(e)})),l}}var B={passive:!0};var V={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,a=void 0===i||i,o=n.resize,s=void 0===o||o,c=l(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",r.update,B)})),s&&c.addEventListener("resize",r.update,B),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",r.update,B)})),s&&c.removeEventListener("resize",r.update,B)}},data:{}};function U(e){return e.split("-")[0]}function z(e){return e.split("-")[1]}function q(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function H(e){var t,r=e.reference,n=e.element,i=e.placement,a=i?U(i):null,o=i?z(i):null,s=r.x+r.width/2-n.width/2,c=r.y+r.height/2-n.height/2;switch(a){case P:t={x:s,y:r.y-n.height};break;case I:t={x:s,y:r.y+r.height};break;case R:t={x:r.x+r.width,y:c};break;case M:t={x:r.x-n.width,y:c};break;default:t={x:r.x,y:r.y}}var u=a?q(a):null;if(null!=u){var l="y"===u?"height":"width";switch(o){case"start":t[u]=t[u]-(r[l]/2-n[l]/2);break;case"end":t[u]=t[u]+(r[l]/2-n[l]/2)}}return t}var G={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=H({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},W=Math.max,J=Math.min,$=Math.round,Z={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Q(e){var t,r=e.popper,n=e.popperRect,i=e.placement,a=e.offsets,o=e.position,s=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,f=!0===u?function(e){var t=e.x,r=e.y,n=window.devicePixelRatio||1;return{x:$($(t*n)/n)||0,y:$($(r*n)/n)||0}}(a):"function"==typeof u?u(a):a,p=f.x,d=void 0===p?0:p,h=f.y,b=void 0===h?0:h,v=a.hasOwnProperty("x"),g=a.hasOwnProperty("y"),O=M,j=P,w=window;if(c){var _=S(r),k="clientHeight",x="clientWidth";_===l(r)&&"static"!==m(_=y(r)).position&&(k="scrollHeight",x="scrollWidth"),_=_,i===P&&(j=I,b-=_[k]-n.height,b*=s?1:-1),i===M&&(O=R,d-=_[x]-n.width,d*=s?1:-1)}var E,T=Object.assign({position:o},c&&Z);return s?Object.assign({},T,((E={})[j]=g?"0":"",E[O]=v?"0":"",E.transform=(w.devicePixelRatio||1)<2?"translate("+d+"px, "+b+"px)":"translate3d("+d+"px, "+b+"px, 0)",E)):Object.assign({},T,((t={})[j]=g?b+"px":"",t[O]=v?d+"px":"",t.transform="",t))}var X={left:"right",right:"left",bottom:"top",top:"bottom"};function K(e){return e.replace(/left|right|bottom|top/g,(function(e){return X[e]}))}var Y={start:"end",end:"start"};function ee(e){return e.replace(/start|end/g,(function(e){return Y[e]}))}function te(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&h(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function re(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ne(e,t){return"viewport"===t?re(function(e){var t=l(e),r=y(e),n=t.visualViewport,i=r.clientWidth,a=r.clientHeight,o=0,s=0;return n&&(i=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,s=n.offsetTop)),{width:i,height:a,x:o+v(e),y:s}}(e)):d(t)?function(e){var t=u(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):re(function(e){var t,r=y(e),n=f(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=W(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=W(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+v(e),c=-n.scrollTop;return"rtl"===m(i||r).direction&&(s+=W(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:c}}(y(e)))}function ie(e,t,r){var n="clippingParents"===t?function(e){var t=_(w(e)),r=["absolute","fixed"].indexOf(m(e).position)>=0&&d(e)?S(e):e;return p(r)?t.filter((function(e){return p(e)&&te(e,r)&&"body"!==b(e)})):[]}(e):[].concat(t),i=[].concat(n,[r]),a=i[0],o=i.reduce((function(t,r){var n=ne(e,r);return t.top=W(n.top,t.top),t.right=J(n.right,t.right),t.bottom=J(n.bottom,t.bottom),t.left=W(n.left,t.left),t}),ne(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function ae(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function oe(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function se(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=void 0===n?e.placement:n,a=r.boundary,o=void 0===a?"clippingParents":a,s=r.rootBoundary,c=void 0===s?"viewport":s,l=r.elementContext,f=void 0===l?"popper":l,d=r.altBoundary,h=void 0!==d&&d,b=r.padding,v=void 0===b?0:b,m=ae("number"!=typeof v?v:oe(v,E)),g="popper"===f?"reference":"popper",O=e.elements.reference,j=e.rects.popper,w=e.elements[h?g:f],_=ie(p(w)?w:w.contextElement||y(e.elements.popper),o,c),k=u(O),x=H({reference:k,element:j,strategy:"absolute",placement:i}),S=re(Object.assign({},j,x)),M="popper"===f?S:k,T={top:_.top-M.top+m.top,bottom:M.bottom-_.bottom+m.bottom,left:_.left-M.left+m.left,right:M.right-_.right+m.right},A=e.modifiersData.offset;if("popper"===f&&A){var C=A[i];Object.keys(T).forEach((function(e){var t=[R,I].indexOf(e)>=0?1:-1,r=[P,I].indexOf(e)>=0?"y":"x";T[e]+=C[r]*t}))}return T}function ce(e,t,r){return W(e,J(t,r))}function ue(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function le(e){return[P,R,I,M].some((function(t){return e[t]>=0}))}var fe=N({defaultModifiers:[V,G,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=void 0===n||n,a=r.adaptive,o=void 0===a||a,s=r.roundOffsets,c=void 0===s||s,u={placement:U(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Q(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Q(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},i=t.elements[e];d(i)&&b(i)&&(Object.assign(i.style,r),Object.keys(n).forEach((function(e){var t=n[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});d(n)&&b(n)&&(Object.assign(n.style,a),Object.keys(i).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.offset,a=void 0===i?[0,0]:i,o=A.reduce((function(e,r){return e[r]=function(e,t,r){var n=U(e),i=[M,P].indexOf(n)>=0?-1:1,a="function"==typeof r?r(Object.assign({},t,{placement:e})):r,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[M,R].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}(r,t.rects,a),e}),{}),s=o[t.placement],c=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,a=void 0===i||i,o=r.altAxis,s=void 0===o||o,c=r.fallbackPlacements,u=r.padding,l=r.boundary,f=r.rootBoundary,p=r.altBoundary,d=r.flipVariations,h=void 0===d||d,b=r.allowedAutoPlacements,y=t.options.placement,v=U(y),m=c||(v===y||!h?[K(y)]:function(e){if("auto"===U(e))return[];var t=K(e);return[ee(e),t,ee(t)]}(y)),g=[y].concat(m).reduce((function(e,r){return e.concat("auto"===U(r)?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,s=r.flipVariations,c=r.allowedAutoPlacements,u=void 0===c?A:c,l=z(n),f=l?s?T:T.filter((function(e){return z(e)===l})):E,p=f.filter((function(e){return u.indexOf(e)>=0}));0===p.length&&(p=f);var d=p.reduce((function(t,r){return t[r]=se(e,{placement:r,boundary:i,rootBoundary:a,padding:o})[U(r)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:r,boundary:l,rootBoundary:f,padding:u,flipVariations:h,allowedAutoPlacements:b}):r)}),[]),O=t.rects.reference,j=t.rects.popper,w=new Map,_=!0,k=g[0],x=0;x<g.length;x++){var S=g[x],C=U(S),D="start"===z(S),L=[P,I].indexOf(C)>=0,F=L?"width":"height",N=se(t,{placement:S,boundary:l,rootBoundary:f,altBoundary:p,padding:u}),B=L?D?R:M:D?I:P;O[F]>j[F]&&(B=K(B));var V=K(B),q=[];if(a&&q.push(N[C]<=0),s&&q.push(N[B]<=0,N[V]<=0),q.every((function(e){return e}))){k=S,_=!1;break}w.set(S,q)}if(_)for(var H=function(e){var t=g.find((function(t){var r=w.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},G=h?3:1;G>0;G--){if("break"===H(G))break}t.placement!==k&&(t.modifiersData[n]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,a=void 0===i||i,o=r.altAxis,s=void 0!==o&&o,c=r.boundary,u=r.rootBoundary,l=r.altBoundary,f=r.padding,p=r.tether,d=void 0===p||p,h=r.tetherOffset,b=void 0===h?0:h,y=se(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:l}),v=U(t.placement),m=z(t.placement),g=!m,O=q(v),w="x"===O?"y":"x",_=t.modifiersData.popperOffsets,k=t.rects.reference,x=t.rects.popper,E="function"==typeof b?b(Object.assign({},t.rects,{placement:t.placement})):b,T={x:0,y:0};if(_){if(a||s){var A="y"===O?P:M,C="y"===O?I:R,D="y"===O?"height":"width",L=_[O],F=_[O]+y[A],N=_[O]-y[C],B=d?-x[D]/2:0,V="start"===m?k[D]:x[D],H="start"===m?-x[D]:-k[D],G=t.elements.arrow,$=d&&G?j(G):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Q=Z[A],X=Z[C],K=ce(0,k[D],$[D]),Y=g?k[D]/2-B-K-Q-E:V-K-Q-E,ee=g?-k[D]/2+B+K+X+E:H+K+X+E,te=t.elements.arrow&&S(t.elements.arrow),re=te?"y"===O?te.clientTop||0:te.clientLeft||0:0,ne=t.modifiersData.offset?t.modifiersData.offset[t.placement][O]:0,ie=_[O]+Y-ne-re,ae=_[O]+ee-ne;if(a){var oe=ce(d?J(F,ie):F,L,d?W(N,ae):N);_[O]=oe,T[O]=oe-L}if(s){var ue="x"===O?P:M,le="x"===O?I:R,fe=_[w],pe=fe+y[ue],de=fe-y[le],he=ce(d?J(pe,ie):pe,fe,d?W(de,ae):de);_[w]=he,T[w]=he-fe}}t.modifiersData[n]=T}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,i=e.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,s=U(r.placement),c=q(s),u=[M,R].indexOf(s)>=0?"height":"width";if(a&&o){var l=function(e,t){return ae("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:oe(e,E))}(i.padding,r),f=j(a),p="y"===c?P:M,d="y"===c?I:R,h=r.rects.reference[u]+r.rects.reference[c]-o[c]-r.rects.popper[u],b=o[c]-r.rects.reference[c],y=S(a),v=y?"y"===c?y.clientHeight||0:y.clientWidth||0:0,m=h/2-b/2,g=l[p],O=v-f[u]-l[d],w=v/2-f[u]/2+m,_=ce(g,w,O),k=c;r.modifiersData[n]=((t={})[k]=_,t.centerOffset=_-w,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&te(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=se(t,{elementContext:"reference"}),s=se(t,{altBoundary:!0}),c=ue(o,n),u=ue(s,i,a),l=le(c),f=le(u);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}}]}),pe=r("8JNV"),de=r("7im+"),he=r("j56I"),be=r("xAIp"),ye=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),ve=r("IXv3"),me=(r("c+HS"),r("mjOD"));function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var Oe=["bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","top","top-start","top-end"],je="esri-popover",we="esri-popover--open",_e={position:"fixed","z-index":"1000"},ke=function(e){Object(a.a)(r,e);var t=ge(r);function r(e,i){var a;return Object(n.a)(this,r),(a=t.call(this,e,i))._popper=null,a._contentNode=null,a._renderAttached=!1,a._rootNode=null,a.anchorElement=null,a.offset=[0,0],a.open=!1,a.renderContentFunction=null,a._afterRootCreate=function(e){a._rootNode=e},a._afterContentCreate=function(e){a._contentNode=e},a._updatePosition=function(){Object(de.i)(a._popper)&&a._popper.update()},a}return Object(i.a)(r,[{key:"initialize",value:function(){var e=this;this.when((function(){e._projector.append(document.body,e.render),e._renderAttached=!0})),this.own(Object(he.a)(this,["open","anchorElement"],(function(){return e._buildPopper()})),Object(he.a)(this,["placement","offset"],(function(){return e._setPopperOptions()})))}},{key:"destroy",value:function(){this.owner=null,this.anchorElement=null,this.renderContentFunction=null,this._renderAttached&&(this._projector.detach(this.render),this._renderAttached=!1),Object(de.i)(this._rootNode)&&(Object(pe.d)(this._rootNode),this._rootNode=null),this._contentNode=null,Object(de.i)(this._popper)&&(this._popper.destroy(),this._popper=null)}},{key:"container",set:function(e){}},{key:"owner",set:function(e){this._set("owner",e)}},{key:"placement",get:function(){return"top"},set:function(e){-1!==Oe.indexOf(e)?this._override("placement",e):this._clearOverride("placement")}},{key:"render",value:function(){var e=this.open,t=this.owner,r=this.renderContentFunction;return Object(me.a)("div",{afterCreate:this._afterRootCreate,class:this.classes(je,e?we:null),styles:_e},Object(me.a)("div",{afterCreate:this._afterContentCreate,afterUpdate:this._updatePosition},e&&(null==r?void 0:r.call(t))))}},{key:"_buildPopper",value:function(){Object(de.i)(this._popper)&&(this._popper.destroy(),this._popper=null);var e=this._contentNode;if(!Object(de.h)(e)&&this.open&&this.renderContentFunction){var t=this._getAnchor();t&&(this._popper=fe(t,e),this._setPopperOptions())}}},{key:"_setPopperOptions",value:function(){var e=this.placement,t=this.offset,r=this._popper;Object(de.h)(r)||(r.setOptions({placement:e,modifiers:[{name:"offset",options:{offset:t}}]}),r.forceUpdate())}},{key:"_getAnchor",value:function(){var e=this.anchorElement;return Object(pe.a)("function"==typeof e?e():e)}}]),r}(ve.a);Object(c.a)([Object(be.b)()],ke.prototype,"anchorElement",void 0),Object(c.a)([Object(be.b)()],ke.prototype,"container",null),Object(c.a)([Object(be.b)()],ke.prototype,"offset",void 0),Object(c.a)([Object(be.b)()],ke.prototype,"open",void 0),Object(c.a)([Object(be.b)()],ke.prototype,"owner",null),Object(c.a)([Object(be.b)()],ke.prototype,"placement",null),Object(c.a)([Object(be.b)()],ke.prototype,"renderContentFunction",void 0);var xe=ke=Object(c.a)([Object(ye.a)("esri.widgets.support.Popover")],ke);t.a=xe},xkFB:function(e,t,r){var n=r("CzB4"),i=r("WjON"),a=r("aBIM"),o=r("yVxb"),s=r("xPnu");function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=o,c.prototype.set=s,e.exports=c},xtsi:function(e,t,r){var n=r("LeKB"),i=r("emEt").publicLoader,a=i.getResourcesForPathname,o=i.getResourcesForPathnameSync,s=i.getResourceURLsForPathname,c=i.loadPage,u=i.loadPageSync;t.apiRunner=function(e,t,r,i){void 0===t&&(t={});var l=n.map((function(r){if(r.plugin[e]){t.getResourcesForPathnameSync=o,t.getResourcesForPathname=a,t.getResourceURLsForPathname=s,t.loadPage=c,t.loadPageSync=u;var n=r.plugin[e](t,r.options);return n&&i&&(t=i({args:t,result:n,plugin:r})),n}}));return(l=l.filter((function(e){return void 0!==e}))).length>0?l:r?[r]:[]},t.apiRunnerAsync=function(e,t,r){return n.reduce((function(r,n){return n.plugin[e]?r.then((function(){return n.plugin[e](t,n.options)})):r}),Promise.resolve())}},xuB6:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r("hisu"),i=r("CHlC"),a=r("kMo5"),o=r("P+uj"),s=r("dQW7"),c=r("xAIp"),u=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(f){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var i=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var f=function(e){var t=function(e){Object(i.a)(r,e);var t=l(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).customParameters=null,e}return r}(e);return Object(s.a)([Object(c.b)({type:Object,json:{write:!0}})],t.prototype,"customParameters",void 0),t=Object(s.a)([Object(u.a)("esri.layers.mixins.CustomParametersMixin")],t)}},xvMO:function(e,t,r){"use strict";t.__esModule=!0,t.useScrollRestoration=function(e){var t=(0,a.useLocation)(),r=(0,i.useContext)(n.ScrollContext),o=(0,i.useRef)();return(0,i.useLayoutEffect)((function(){if(o.current){var n=r.read(t,e);o.current.scrollTo(0,n||0)}}),[]),{ref:o,onScroll:function(){o.current&&r.save(t,e,o.current.scrollTop)}}};var n=r("czn3"),i=r("ERkP"),a=r("JF+v")},xwiM:function(e,t,r){var n=r("Hvpk"),i=r("+iL7"),a=r("HRgQ");e.exports=!n&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},y2zH:function(e,t,r){"use strict";var n,i=r("mK0O"),a=r("hisu"),o=r("yBJb"),s=r("CHlC"),c=r("kMo5"),u=r("P+uj"),l=r("dQW7"),f=r("0fJP"),p=r("7im+"),d=r("xAIp"),h=(r("wckI"),r("J4Pc"),r("TM+E"),r("vo12")),b=r("iaHD"),y=r("jr4m"),v=r("oRkd"),m=r("1lXL"),g=r("I2xc"),O=r("WYis"),j=r("0n+b");function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var _=n=function(e){Object(s.a)(r,e);var t=w(r);function r(){var e;return Object(a.a)(this,r),(e=t.apply(this,arguments)).color=new O.a([0,0,0,1]),e.size=0,e}return Object(o.a)(r,[{key:"clone",value:function(){return new n({color:Object(f.a)(this.color),size:this.size})}}]),r}(j.a);Object(l.a)([Object(d.b)(g.a)],_.prototype,"color",void 0),Object(l.a)([Object(d.b)(g.b)],_.prototype,"size",void 0);var k,x=_=n=Object(l.a)([Object(b.a)("esri.symbols.support.Symbol3DHalo")],_),S=r("y75+");function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var M=k=function(e){Object(s.a)(r,e);var t=R(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e))._userSize=void 0,n.halo=null,n.material=null,n.text=void 0,n.type="text",n}return Object(o.a)(r,[{key:"font",get:function(){return this._get("font")||null},set:function(e){e&&this._userSize&&(e.size=this._userSize),this._set("font",e)}},{key:"writeFont",value:function(e,t,r,n){var i=I(I({},n),{},{textSymbol3D:!0});t.font=e.write({},i),delete t.font.size}},{key:"size",get:function(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:9},set:function(e){this._userSize=e,this.font&&(this.font.size=this._userSize),this.notifyChange("size")}},{key:"clone",value:function(){return new k({enabled:this.enabled,font:this.font&&Object(f.a)(this.font),halo:this.halo&&Object(f.a)(this.halo),material:Object(p.i)(this.material)?this.material.clone():null,size:this.size,text:this.text})}}],[{key:"fromTextSymbol",value:function(e){var t=function(e,t){return e&&t>0?{color:Object(f.a)(e),size:t}:null}(e.haloColor,e.haloSize),r=e.font?e.font.clone():new v.a;return new k({size:r.size,font:r,halo:t,material:e.color?{color:e.color.clone()}:null,text:e.text})}}]),r}(m.a);Object(l.a)([Object(d.b)({type:v.a,json:{write:!0}})],M.prototype,"font",null),Object(l.a)([Object(y.a)("font")],M.prototype,"writeFont",null),Object(l.a)([Object(d.b)({type:x,json:{write:!0}})],M.prototype,"halo",void 0),Object(l.a)([Object(d.b)({type:S.a,json:{write:!0}})],M.prototype,"material",void 0),Object(l.a)([Object(d.b)(g.b),Object(d.b)()],M.prototype,"size",null),Object(l.a)([Object(d.b)({type:String,json:{write:!0}})],M.prototype,"text",void 0),Object(l.a)([Object(h.a)({Text:"text"},{readOnly:!0})],M.prototype,"type",void 0);var E=M=k=Object(l.a)([Object(b.a)("esri.symbols.TextSymbol3DLayer")],M);t.a=E},y3sw:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0n+b"),f=r("xAIp"),p=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var h=n=function(e){Object(o.a)(r,e);var t=d(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).url="",e}return Object(a.a)(r,[{key:"destroy",value:function(){this.url=""}},{key:"clone",value:function(){return new n({url:this.url})}}]),r}(l.a);Object(u.a)([Object(f.b)({type:String,json:{write:{isRequired:!0}}})],h.prototype,"url",void 0);var b=h=n=Object(u.a)([Object(p.a)("esri.webdoc.support.Thumbnail")],h);t.a=b},"y75+":function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("0n+b"),f=r("7im+"),p=r("xAIp"),d=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),h=r("I2xc");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var y=n=function(e){Object(o.a)(r,e);var t=b(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).color=null,e}return Object(a.a)(r,[{key:"clone",value:function(){return new n({color:Object(f.i)(this.color)?this.color.clone():null})}}]),r}(l.a);Object(u.a)([Object(p.b)(h.a)],y.prototype,"color",void 0);var v=y=n=Object(u.a)([Object(d.a)("esri.symbols.support.Symbol3DMaterial")],y);t.a=v},yBJb:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return i}))},yBbm:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("WYis"),f=r("0fJP"),p=r("7im+"),d=r("frPA"),h=r("xAIp"),b=(r("wckI"),r("J4Pc"),r("TM+E"),r("vo12")),y=r("iaHD"),v=r("FBa4"),m=r("EeA9"),g=r("I2xc");function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var j=n=function(e){Object(o.a)(r,e);var t=O(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type="line",n.color=new l.a([0,0,0,1]),n.size=Object(d.d)(1),n.border=null,n}return Object(a.a)(r,[{key:"visible",get:function(){return this.size>0&&Object(p.i)(this.color)&&this.color.a>0}},{key:"clone",value:function(){return new n({color:Object(f.a)(this.color),size:this.size,border:Object(f.a)(this.border)})}}]),r}(v.a);Object(u.a)([Object(b.a)({line:"line"},{readOnly:!0})],j.prototype,"type",void 0),Object(u.a)([Object(h.b)(g.a)],j.prototype,"color",void 0),Object(u.a)([Object(h.b)(g.b)],j.prototype,"size",void 0),Object(u.a)([Object(h.b)({type:m.a,json:{write:!0}})],j.prototype,"border",void 0),Object(u.a)([Object(h.b)({readOnly:!0})],j.prototype,"visible",null);var w=j=n=Object(u.a)([Object(y.a)("esri.symbols.callouts.LineCallout3D")],j);t.a=w},yF7r:function(e,t,r){var n=r("ZjZ4"),i=r("B4Jh"),a=r("yqAG");e.exports=function(e){return a(i(e,void 0,n),e+"")}},yPX3:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("xAIp"),l=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),f=r("JhAV"),p=r("yBJb"),d=r("0n+b"),h=r("0fJP"),b=r("2Tlz");function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var v=n=function(e){Object(a.a)(r,e);var t=y(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).fields=[],n.normalizeField=null,n.series=[],n.tooltipField=null,n}return Object(p.a)(r,[{key:"clone",value:function(){return new n({fields:Object(h.a)(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}}]),r}(d.a);Object(c.a)([Object(u.b)({type:[String],json:{write:!0}})],v.prototype,"fields",void 0),Object(c.a)([Object(u.b)({type:String,json:{write:!0}})],v.prototype,"normalizeField",void 0),Object(c.a)([Object(u.b)({type:[b.a],json:{read:!1}})],v.prototype,"series",void 0),Object(c.a)([Object(u.b)({type:String,json:{write:!0}})],v.prototype,"tooltipField",void 0);var m=v=n=Object(c.a)([Object(l.a)("esri.popup.content.support.ChartMediaInfoValue")],v);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var O=function(e){Object(a.a)(r,e);var t=g(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).type=null,n.value=null,n}return r}(f.a);Object(c.a)([Object(u.b)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],O.prototype,"type",void 0),Object(c.a)([Object(u.b)({type:m,json:{write:!0}})],O.prototype,"value",void 0);var j=O=Object(c.a)([Object(l.a)("esri.popup.content.mixins.ChartMediaInfo")],O);t.a=j},ySkN:function(e,t,r){var n=r("2xEH"),i=r("Qwyb"),a=r("DlYZ"),o=r("Sq4h"),s=r("97Yx"),c=r("XA32"),u=r("x7dA"),l=r("cud3"),f=r("s3UK");e.exports=function e(t,r,p,d,h,b,y,v,m,g){var O=128&r,j=1&r,w=2&r,_=24&r,k=512&r,x=w?void 0:o(t);return function S(){for(var P=arguments.length,I=Array(P),R=P;R--;)I[R]=arguments[R];if(_)var M=c(S),E=a(I,M);if(d&&(I=n(I,d,h,_)),b&&(I=i(I,b,y,_)),P-=E,_&&P<g){var T=l(I,M);return s(t,r,e,S.placeholder,p,I,T,v,m,g-P)}var A=j?p:this,C=w?A[t]:t;return P=I.length,v?I=u(I,v):k&&P>1&&I.reverse(),O&&m<P&&(I.length=m),this&&this!==f&&this instanceof S&&(C=x||o(C)),C.apply(A,I)}}},yVxb:function(e,t,r){var n=r("zcvR");e.exports=function(e){return n(this,e).has(e)}},ykrQ:function(e,t,r){"use strict";var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("kDog"),l=r("LuB+"),f=r("TM+E"),p=r("z9dv"),d=r("8N15"),h=r("xAIp"),b=(r("J4Pc"),r("gljZ")),y=r("mp5+"),v=r("iaHD"),m=r("jr4m"),g=r("eoZi"),O=r("9jes"),j=r("HWYy"),w=r("5kin"),_=r("RIHA"),k=r("UKs3"),x=r("gtOA"),S=r("28EP"),P=r("ursF"),I=r("1lXL"),R=r("y2zH"),M=r("OsF9"),E=r("5UAi"),T=r("zOOR");function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var C={icon:_.a,object:x.a,line:k.a,path:S.a,fill:w.a,extrude:j.a,text:R.a,water:M.a},D=u.a.ofType({base:I.a,key:"type",typeMap:C,errorContext:"symbol-layer"}),L=f.a.getLogger("esri.symbols.Symbol3D"),F=function(e){Object(a.a)(r,e);var t=A(r);function r(e){var i;Object(n.a)(this,r),(i=t.call(this,e)).styleOrigin=null,i.thumbnail=null,i.type=null;var a=i.__accessor__&&i.__accessor__.metadatas&&i.__accessor__.metadatas.symbolLayers,o=a&&a.type||u.a;return i._set("symbolLayers",new o),i}return Object(i.a)(r,[{key:"color",get:function(){return null},set:function(e){L.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}},{key:"symbolLayers",set:function(e){Object(l.b)(e,this._get("symbolLayers"))}},{key:"readStyleOrigin",value:function(e,t,r){if(e.styleUrl&&e.name){var n=Object(O.a)(e.styleUrl,r);return new E.a({styleUrl:n,name:e.name})}if(e.styleName&&e.name)return new E.a({portal:r&&r.portal||g.a.getDefault(),styleName:e.styleName,name:e.name});r&&r.messages&&r.messages.push(new d.a("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:e}))}},{key:"writeStyleOrigin",value:function(e,t,r,n){if(e.styleUrl&&e.name){var i=Object(O.e)(e.styleUrl,n);Object(p.s)(i)&&(i=Object(p.D)(i)),t.styleOrigin={styleUrl:i,name:e.name}}else e.styleName&&e.name&&(e.portal&&n&&n.portal&&!Object(p.r)(e.portal.restUrl,n.portal.restUrl)?n&&n.messages&&n.messages.push(new d.a("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}},{key:"normalizeCtorArgs",value:function(e){return e instanceof I.a||e&&C[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}}]),r}(P.a);Object(c.a)([Object(h.b)({json:{read:!1,write:!1}})],F.prototype,"color",null),Object(c.a)([Object(h.b)({type:D,nonNullable:!0,json:{write:!0}}),Object(b.a)(l.a)],F.prototype,"symbolLayers",null),Object(c.a)([Object(h.b)({type:E.a})],F.prototype,"styleOrigin",void 0),Object(c.a)([Object(y.a)("styleOrigin")],F.prototype,"readStyleOrigin",null),Object(c.a)([Object(m.a)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],F.prototype,"writeStyleOrigin",null),Object(c.a)([Object(h.b)({type:T.a,json:{read:!1}})],F.prototype,"thumbnail",void 0),Object(c.a)([Object(h.b)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],F.prototype,"type",void 0);var N=F=Object(c.a)([Object(v.a)("esri.symbols.Symbol3D")],F);t.a=N},yoW1:function(e,t){e.exports=function(e){return e}},yqAG:function(e,t,r){var n=r("lLPU"),i=r("u7St")(n);e.exports=i},z9dv:function(e,t,r){"use strict";r.d(t,"a",(function(){return I})),r.d(t,"b",(function(){return F})),r.d(t,"c",(function(){return U})),r.d(t,"d",(function(){return we})),r.d(t,"e",(function(){return _e})),r.d(t,"f",(function(){return E})),r.d(t,"g",(function(){return R})),r.d(t,"h",(function(){return me})),r.d(t,"i",(function(){return ae})),r.d(t,"j",(function(){return ne})),r.d(t,"k",(function(){return ye})),r.d(t,"l",(function(){return G})),r.d(t,"m",(function(){return Y})),r.d(t,"n",(function(){return ke})),r.d(t,"o",(function(){return z})),r.d(t,"p",(function(){return L})),r.d(t,"q",(function(){return W})),r.d(t,"r",(function(){return q})),r.d(t,"s",(function(){return ee})),r.d(t,"t",(function(){return te})),r.d(t,"u",(function(){return re})),r.d(t,"v",(function(){return ue})),r.d(t,"w",(function(){return se})),r.d(t,"x",(function(){return Oe})),r.d(t,"y",(function(){return J})),r.d(t,"z",(function(){return K})),r.d(t,"A",(function(){return Z})),r.d(t,"B",(function(){return oe})),r.d(t,"C",(function(){return Q})),r.d(t,"D",(function(){return X})),r.d(t,"E",(function(){return D})),r.d(t,"F",(function(){return A})),r.d(t,"G",(function(){return be})),r.d(t,"H",(function(){return je})),r.d(t,"I",(function(){return ve})),r.d(t,"J",(function(){return fe})),r.d(t,"K",(function(){return T}));var n=r("aNYv"),i=r("mK0O"),a=r("hisu"),o=r("yBJb"),s=r("sc0P"),c=r("Mp7X"),u=(r("8jRW"),r("TM+E")),l=r("7im+");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b,y,v=u.a.getLogger("esri.core.urlUtils"),m=s.a.request,g="esri/config: esriConfig.request.proxyUrl is not set.",O=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,j=/^\s*http:/i,w=/^\s*https:/i,_=/^\s*file:/i,k=/:\d+$/,x=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,S=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),P=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(a.a)(this,e),this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;var r=Object(l.c)(this.uri.match(S));this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),null!=this.authority&&(r=Object(l.c)(this.authority.match(P)),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}return Object(o.a)(e,[{key:"toString",value:function(){return this.uri}}]),e}(),R=new I(s.a.applicationUrl),M={},E=(b=Object(l.c)(R.path),y=b.substring(0,b.lastIndexOf(b.split("/")[b.split("/").length-1])),"".concat("".concat(R.scheme,"://").concat(R.host).concat(null!=R.port?":".concat(R.port):""),y));function T(e){var t={path:null,query:null},r=new I(e),n=e.indexOf("?");return null===r.query?t.path=e:(t.path=e.substring(0,n),t.query=A(r.query)),r.fragment&&(t.hash=r.fragment,null===r.query&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function A(e){var t,r={},n=d(e.split("&"));try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i){var a=i.indexOf("="),o=void 0,s=void 0;a<0?(o=decodeURIComponent(i),s=""):(o=decodeURIComponent(i.slice(0,a)),s=decodeURIComponent(i.slice(a+1)));var c=r[o];"string"==typeof c&&(c=r[o]=[c]),Array.isArray(c)?c.push(s):r[o]=s}}}catch(u){n.e(u)}finally{n.f()}return r}function C(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}function D(e,t){return e?t&&"function"==typeof t?Object.keys(e).map((function(r){return encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r]))})).join("&"):Object.keys(e).map((function(r){var n=e[r];if(null==n)return"";var i=encodeURIComponent(r)+"=",a=t&&t[r];return a?i+encodeURIComponent(a(n)):Array.isArray(n)?n.map((function(e){return C(e)?i+encodeURIComponent(JSON.stringify(e)):i+encodeURIComponent(e)})).join("&"):C(n)?i+encodeURIComponent(JSON.stringify(n)):i+encodeURIComponent(n)})).filter((function(e){return e})).join("&"):""}function L(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=m.proxyUrl;if("string"==typeof t){e=ue(t);var n=z(t);n&&(r=n.proxyUrl)}else e=!!t;if(!r)throw v.warn(g),new c.a("urlutils:proxy-not-set",g);return e&&pe()&&(r=fe(r)),T(r)}function F(e){var t,r,n=z(e);if(n){var i=B(n.proxyUrl);t=i.path,r=i.query?A(i.query):null}if(t){var a=T(e);e=t+"?"+a.path;var o=D(p(p({},r),a.query));o&&(e="".concat(e,"?").concat(o))}return e}var N={path:"",query:""};function B(e){var t=e.indexOf("?");return-1!==t?(N.path=e.slice(0,t),N.query=e.slice(t+1)):(N.path=e,N.query=null),N}function V(e){return(e=de(e=function(e){return e&&"/"===e[e.length-1]?e:"".concat(e,"/")}(e=B(e).path),!0)).toLowerCase()}function U(e){for(var t={proxyUrl:e.proxyUrl,urlPrefix:V(e.urlPrefix)},r=m.proxyRules,n=t.urlPrefix,i=r.length,a=0;a<r.length;a++){var o=r[a].urlPrefix;if(0===n.indexOf(o)){if(n.length===o.length)return-1;i=a;break}0===o.indexOf(n)&&(i=a+1)}return r.splice(i,0,t),i}function z(e){for(var t=m.proxyRules,r=V(e),n=0;n<t.length;n++)if(0===r.indexOf(t[n].urlPrefix))return t[n]}function q(e,t){return e=H(e),t=H(t),de(e)===de(t)}function H(e){var t=(e=X(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function G(e){var t=function(t){return null==t||t instanceof RegExp&&t.test(e)||"string"==typeof t&&e.startsWith(t)},r=m.interceptors;if(r){var n,i=d(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(Array.isArray(a.urls)){if(a.urls.some(t))return a}else if(t(a.urls))return a}}catch(o){i.e(o)}finally{i.f()}}return null}function W(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=ge(e),i=ge(t);return!(!r&&n.scheme!==i.scheme)&&null!=n.host&&null!=i.host&&n.host.toLowerCase()===i.host.toLowerCase()&&n.port===i.port}function J(e){if("string"==typeof e){if(!ee(e))return!0;e=ge(e)}if(W(e,R))return!0;for(var t=m.trustedServers||[],r=0;r<t.length;r++)for(var n=$(t[r]),i=0;i<n.length;i++)if(W(e,n[i]))return!0;return!1}function $(e){return M[e]||(ce(e)||se(e)?M[e]=[new I(Z(e))]:M[e]=[new I("http://".concat(e)),new I("https://".concat(e))]),M[e]}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,r=arguments.length>2?arguments[2]:void 0;return se(e)?r&&r.preserveProtocolRelative?e:"http"===R.scheme&&R.authority===Y(e).slice(2)?"http:".concat(e):"https:".concat(e):ce(e)?e:Object(l.c)(K("/"===e[0]?he(t):t,e))}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,r=arguments.length>2?arguments[2]:void 0;if(!ee(e))return e;var n=X(e),i=n.toLowerCase(),a=X(t).toLowerCase().replace(/\/+$/,""),o=r?X(r).toLowerCase().replace(/\/+$/,""):null;if(o&&0!==a.indexOf(o))return e;for(var s=function(e,t,r){return-1===(r=e.indexOf(t,r))?e.length:r},c=s(i,"/",i.indexOf("//")+2),u=-1;i.slice(0,c+1)===a.slice(0,c)+"/"&&(u=c+1,c!==i.length);)c=s(i,"/",c+1);if(-1===u)return e;if(o&&u<o.length)return e;e=n.slice(u);var l=a.slice(u-1).replace(/[^/]+/g,"").length;if(l>0)for(var f=0;f<l;f++)e="../".concat(e);else e="./".concat(e);return e}function X(e){return function(e){var t=m.httpsDomains;if(!function(e){return j.test(e)||"http"===R.scheme&&se(e)}(e))return e;var r,n=e.indexOf("/",7);if(r=(r=-1===n?e:e.slice(0,n)).toLowerCase().slice(7),k.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return"http"===R.scheme&&r===R.authority&&!x.test(e)||(pe()&&r===R.authority||t&&t.some((function(e){return r===e||r.endsWith(".".concat(e))}))||pe()&&!z(e))&&(e=fe(e)),e}(e=function(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(e=function(e){if(/^https?:\/\//i.test(e)){var t=B(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+="?".concat(t.query))}return e}(e=Z(e=e.trim()))))}function K(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(l.i);if(n&&n.length){var i=[];if(ee(n[0])){var a=n[0],o=a.indexOf("//");-1!==o&&(i.push(a.slice(0,o+1)),le(n[0])&&(i[0]+="/"),n[0]=a.slice(o+2))}else"/"===n[0][0]&&i.push("");for(var s=n.reduce((function(e,t){return t?e.concat(t.split("/")):e}),[]),c=0;c<s.length;c++){var u=s[c];".."===u&&i.length>0&&".."!==i[i.length-1]?i.pop():(!u&&c===s.length-1||u&&("."!==u||0===i.length))&&i.push(u)}return i.join("/")}}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(te(e)||re(e))return null;var r=e.indexOf("://");if(-1===r&&se(e))r=2;else{if(-1===r)return null;r+=3}var n=e.indexOf("/",r);return-1!==n&&(e=e.slice(0,n)),t&&(e=de(e,!0)),e}function ee(e){return se(e)||ce(e)}function te(e){return null!=e&&"blob:"===e.slice(0,5)}function re(e){return"data:"===e.slice(0,5)}function ne(e){var t=ae(e);if(!t||!t.isBase64)return null;for(var r=atob(t.data),n=new Uint8Array(r.length),i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n.buffer}var ie=/^data:(.*?)(;base64)?,(.*)$/;function ae(e){var t=e.match(ie);if(!t)return null;var r=Object(n.a)(t,4);return{mediaType:r[1],isBase64:!!r[2],data:r[3]}}function oe(e){return e.isBase64?"data:".concat(e.mediaType,";base64,").concat(e.data):"data:".concat(e.mediaType,",").concat(e.data)}function se(e){return null!=e&&void 0!==e&&"/"===e[0]&&"/"===e[1]}function ce(e){return O.test(e)}function ue(e){return w.test(e)||"https"===R.scheme&&se(e)}function le(e){return _.test(e)}function fe(e){return se(e)?"https:".concat(e):e.replace(j,"https:")}function pe(){return"https"===R.scheme}function de(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return se(e)?e.slice(2):(e=e.replace(O,""),t&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function he(e){var t=e.indexOf("//"),r=e.indexOf("/",t+2);return-1===r?e:e.slice(0,r)}function be(e){var t=0;if(ee(e)){var r=e.indexOf("//");-1!==r&&(t=r+2)}var n=e.lastIndexOf("/");return n<t?e:e.slice(0,n+1)}function ye(e,t){if(!e)return"";var r=T(e).path.replace(/\/+$/,""),n=r.substring(r.lastIndexOf("/")+1);if(null==t||!t.length)return n;var i=new RegExp(".(".concat(t.join("|"),")$"),"ig");return n.replace(i,"")}function ve(e){return e.replace(/\/+$/,"")}function me(e,t,r){if(!(t&&r&&e&&ee(e)))return e;var n=e.indexOf("//"),i=e.indexOf("/",n+2),a=e.indexOf(":",n+2),o=Math.min(i<0?e.length:i,a<0?e.length:a);return e.slice(n+2,o).toLowerCase()!==t.toLowerCase()?e:"".concat(e.slice(0,n+2)).concat(r).concat(e.slice(o))}function ge(e){return"string"==typeof e?new I(Z(e)):(e.scheme||(e.scheme=R.scheme),e)}function Oe(e){return Se.test(e)}function je(e,t){var r=T(e),n=Object.keys(r.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: ".concat(n.join(", "),".")),r.path}function we(e,t,r){var n=T(e),i=n.query||{};return i[t]=String(r),"".concat(n.path,"?").concat(D(i))}function _e(e,t){var r=T(e),n=r.query||{};for(var i in t)n[i]=t[i];var a=D(n);return a?"".concat(r.path,"?").concat(a):r.path}function ke(e){if(Object(l.h)(e))return null;var t=e.match(xe);return t?t[1]:null}var xe=/.*?\.([^\/]*)$/,Se=/(^data:image\/svg|\.svg$)/i},zEvu:function(e,t){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},zHpc:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("8IYi");function i(e){e&&e.writtenProperties&&e.writtenProperties.forEach((function(e){var t=e.target;e.newOrigin&&e.oldOrigin!==e.newOrigin&&Object(n.a)(t)&&t.updateOrigin(e.propName,e.newOrigin)}))}},zIph:function(e,t,r){var n=r("6TGQ"),i=r("B4/L"),a=r("Vujp");e.exports=function(e){return n(e,a,i)}},zOOR:function(e,t,r){"use strict";var n,i=r("hisu"),a=r("yBJb"),o=r("CHlC"),s=r("kMo5"),c=r("P+uj"),u=r("dQW7"),l=r("hZBP"),f=r("xAIp"),p=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var h=n=function(e){Object(o.a)(r,e);var t=d(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(a.a)(r,[{key:"clone",value:function(){return new n({url:this.url})}}]),r}(l.a);Object(u.a)([Object(f.b)({type:String})],h.prototype,"url",void 0);var b=h=n=Object(u.a)([Object(p.a)("esri.symbols.support.Thumbnail")],h);t.a=b},zTdd:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r("hisu"),i=r("yBJb"),a=r("CHlC"),o=r("kMo5"),s=r("P+uj"),c=r("dQW7"),u=r("xAIp"),l=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD"));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var p=function(e){var t=function(e){Object(a.a)(r,e);var t=f(r);function r(){var e;Object(n.a)(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).goToOverride=null,e.view=null,e}return Object(i.a)(r,[{key:"callGoTo",value:function(e){var t=this.view;return this.goToOverride?this.goToOverride(t,e):t.goTo(e.target,e.options)}}]),r}(e);return Object(c.a)([Object(u.b)()],t.prototype,"goToOverride",void 0),Object(c.a)([Object(u.b)()],t.prototype,"view",void 0),t=Object(c.a)([Object(l.a)("esri.widgets.support.GoTo")],t)}},zXe4:function(e,t,r){var n=r("GI0s"),i=r("T9Ud");e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},zYYD:function(e,t,r){var n=r("MfmI");e.exports=function(e){return null==e?"":n(e)}},zbeF:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return d})),r.d(t,"f",(function(){return b})),r.d(t,"g",(function(){return y}));var n=r("o3y2"),i=r("kDog"),a=r("TM+E"),o=r("z9dv"),s=r("wckI"),c=r("XoOG"),u=a.a.getLogger("esri.support.basemapUtils");function l(){return{}}function f(e){for(var t in e){var r=e[t];!1===(null==r?void 0:r.destroyed)&&r.destroy(),delete e[t]}}function p(e,t){var r,i;if("string"==typeof e){if(!(e in c.a)){var a=Object.keys(c.a).map((function(e){return'"'.concat(e,'"')})).join(", ");return u.warn("Unable to find basemap definition for: ".concat(e,". Try one of these: ").concat(a)),null}t&&(i=t[e]),i||(i=n.default.fromId(e),t&&(t[e]=i))}else i=Object(s.m)(n.default,e);return null!=(r=i)&&r.destroyed&&(u.warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}function d(e){var t=null,r=g(e),n=!r.baseLayers.length;for(var i in c.a){var a=k(r,w(c.a[i]),{mustMatchReferences:n});if("equal"===a){t=i;break}"base-layers-equal"===a&&(t=i)}return t}function h(e,t){return e===t||"equal"===k(g(e),g(t),{mustMatchReferences:!0})}function b(e){return!(null==e||!e.baseLayers.concat(e.referenceLayers).some(y))}function y(e){if(m(e.url))return!0;if("vector-tile"===e.type)for(var t in e.sourceNameToSource){var r=e.sourceNameToSource[t];if(m(null==r?void 0:r.sourceUrl))return!0}return!1}var v=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function m(e){if(!e)return!1;var t=new o.a(Object(o.A)(e));return v.test(t.authority)}function g(e){return e?!e.loaded&&e.resourceInfo?w(e.resourceInfo.data):{baseLayers:O(e.baseLayers),referenceLayers:O(e.referenceLayers)}:null}function O(e){return(i.a.isCollection(e)?e.toArray():e).map(j)}function j(e){return{type:e.type,url:P("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible}}function w(e){return e?{baseLayers:_(e.baseMapLayers.filter((function(e){return!e.isReference}))),referenceLayers:_(e.baseMapLayers.filter((function(e){return e.isReference})))}:null}function _(e){return e.map((function(e){return function(e){var t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;default:t="unknown"}return{type:t,url:P(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:null!=e.minScale?e.minScale:0,maxScale:null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visibility||!!e.visibility}}(e)}))}function k(e,t,r){return null!=e!=(null!=t)?"not-equal":e?x(e.baseLayers,t.baseLayers)?x(e.referenceLayers,t.referenceLayers)?"equal":r.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function x(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!S(e[r],t[r]))return!1;return!0}function S(e,t){return e.type===t.type&&e.url===t.url&&e.minScale===t.minScale&&e.maxScale===t.maxScale&&e.visible===t.visible&&e.opacity===t.opacity}function P(e){return e?Object(o.D)(e).replace(/^\s*https?:/i,"").toLowerCase():""}},zc1V:function(e,t,r){var n,i=r("d6Vr"),a=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!a&&a in e}},zcvR:function(e,t,r){var n=r("7o+A");e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},zlak:function(e,t,r){var n=r("s3t7"),i=r("T9Ud");e.exports=function(e){return i(e)&&"[object Set]"==n(e)}},zm72:function(e,t,r){var n=r("m5HO"),i=r("IOY3"),a=Array.prototype.push;function o(e,t){return 2==t?function(t,r){return e(t,r)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,r=Array(t);t--;)r[t]=e[t];return r}function c(e,t){return function(){var r=arguments.length;if(r){for(var n=Array(r);r--;)n[r]=arguments[r];var i=n[0]=t.apply(void 0,n);return e.apply(void 0,n),i}}}e.exports=function e(t,r,u,l){var f="function"==typeof r,p=r===Object(r);if(p&&(l=u,u=r,r=void 0),null==u)throw new TypeError;l||(l={});var d=!("cap"in l)||l.cap,h=!("curry"in l)||l.curry,b=!("fixed"in l)||l.fixed,y=!("immutable"in l)||l.immutable,v=!("rearg"in l)||l.rearg,m=f?u:i,g="curry"in l&&l.curry,O="fixed"in l&&l.fixed,j="rearg"in l&&l.rearg,w=f?u.runInContext():void 0,_=f?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},k=_.ary,x=_.assign,S=_.clone,P=_.curry,I=_.forEach,R=_.isArray,M=_.isError,E=_.isFunction,T=_.isWeakMap,A=_.keys,C=_.rearg,D=_.toInteger,L=_.toPath,F=A(n.aryMethod),N={castArray:function(e){return function(){var t=arguments[0];return R(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],r=arguments[1],n=e(t,r),i=n.length;return d&&"number"==typeof r?(r=r>2?r-2:1,i&&i<=r?n:o(n,r)):n}},mixin:function(e){return function(t){var r=this;if(!E(r))return e(r,Object(t));var n=[];return I(A(t),(function(e){E(t[e])&&n.push([e,r.prototype[e]])})),e(r,Object(t)),I(n,(function(e){var t=e[1];E(t)?r.prototype[e[0]]=t:delete r.prototype[e[0]]})),r}},nthArg:function(e){return function(t){var r=t<0?1:D(t)+1;return P(e(t),r)}},rearg:function(e){return function(t,r){var n=r?r.length:0;return P(e(t,r),n)}},runInContext:function(r){return function(n){return e(t,r(n),l)}}};function B(e,t){if(d){var r=n.iterateeRearg[e];if(r)return function(e,t){return H(e,(function(e){var r=t.length;return function(e,t){return 2==t?function(t,r){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(C(o(e,r),t),r)}))}(t,r);var i=!f&&n.iterateeAry[e];if(i)return function(e,t){return H(e,(function(e){return"function"==typeof e?o(e,t):e}))}(t,i)}return t}function V(e,t,r){if(b&&(O||!n.skipFixed[e])){var i=n.methodSpread[e],o=i&&i.start;return void 0===o?k(t,r):function(e,t){return function(){for(var r=arguments.length,n=r-1,i=Array(r);r--;)i[r]=arguments[r];var o=i[t],s=i.slice(0,t);return o&&a.apply(s,o),t!=n&&a.apply(s,i.slice(t+1)),e.apply(this,s)}}(t,o)}return t}function U(e,t,r){return v&&r>1&&(j||!n.skipRearg[e])?C(t,n.methodRearg[e]||n.aryRearg[r]):t}function z(e,t){for(var r=-1,n=(t=L(t)).length,i=n-1,a=S(Object(e)),o=a;null!=o&&++r<n;){var s=t[r],c=o[s];null==c||E(c)||M(c)||T(c)||(o[s]=S(r==i?c:Object(c))),o=o[s]}return a}function q(t,r){var i=n.aliasToReal[t]||t,a=n.remap[i]||i,o=l;return function(t){var n=f?w:_,s=f?w[a]:r,c=x(x({},o),t);return e(n,i,s,c)}}function H(e,t){return function(){var r=arguments.length;if(!r)return e();for(var n=Array(r);r--;)n[r]=arguments[r];var i=v?0:r-1;return n[i]=t(n[i]),e.apply(void 0,n)}}function G(e,t,r){var i,a=n.aliasToReal[e]||e,o=t,u=N[a];return u?o=u(t):y&&(n.mutate.array[a]?o=c(t,s):n.mutate.object[a]?o=c(t,function(e){return function(t){return e({},t)}}(t)):n.mutate.set[a]&&(o=c(t,z))),I(F,(function(e){return I(n.aryMethod[e],(function(t){if(a==t){var r=n.methodSpread[a],s=r&&r.afterRearg;return i=s?V(a,U(a,o,e),e):U(a,V(a,o,e),e),i=function(e,t,r){return g||h&&r>1?P(t,r):t}(0,i=B(a,i),e),!1}})),!i})),i||(i=o),i==t&&(i=g?P(i,1):function(){return t.apply(this,arguments)}),i.convert=q(a,t),i.placeholder=t.placeholder=r,i}if(!p)return G(r,u,m);var W=u,J=[];return I(F,(function(e){I(n.aryMethod[e],(function(e){var t=W[n.remap[e]||e];t&&J.push([e,G(e,t,W)])}))})),I(A(W),(function(e){var t=W[e];if("function"==typeof t){for(var r=J.length;r--;)if(J[r][0]==e)return;t.convert=q(e,t),J.push([e,t])}})),I(J,(function(e){W[e[0]]=e[1]})),W.convert=function(e){return W.runInContext.convert(e)(void 0)},W.placeholder=W,I(A(W),(function(e){I(n.realToAlias[e]||[],(function(t){W[t]=W[e]}))})),W}},zrDt:function(e,t,r){var n=r("wTAb"),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},zuCa:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return l}));var n=r("wckI");var i=r("s9cN");function a(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function o(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function s(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}var c=r("otWl");function u(e,t){return f(e,"read",t)}function l(e,t){return f(e,"write",t)}function f(e,t,r){var n=e&&e.json;if(e&&e.json&&e.json.origins&&r){var i=e.json.origins[r.origin];i&&("any"===t||t in i)&&(n=i)}return n}function p(e){var t=function(e){return e.type?function(e){if(!e.type)return;for(var t=0,r=e.type;Array.isArray(r)&&!Object(n.o)(r);)r=r[0],t++;return{type:r,ndimArray:t}}(e):function(e){if(!e.types)return;for(var t=0,r=e.types;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}(e)}(e);if(e.json.origins)for(var r in e.json.origins){var a=e.json.origins[r];Object(i.a)(t,a,!1),Object(c.a)(t,a)}Object(i.a)(t,e.json,!0),Object(c.a)(t,e.json)}var d={processPrototypePropertyMetadata:function(e,t){var r;(function(e){if(e.json||(e.json={}),o(e.json),s(e.json),a(e.json),e.json.origins)for(var t in e.json.origins)o(e.json.origins[t]),s(e.json.origins[t]),a(e.json.origins[t]);return!0})(t)&&((r=t).json&&r.json.origins&&function(){var e=r.json.origins,t={"web-document":["web-scene","web-map"]};for(var n in t)e[n]&&function(){var r=e[n];t[n].forEach((function(t){e[t]=r})),delete e[n]}()}(),p(t))}}}},[["UxWs",15,44,46,43]]]);
//# sourceMappingURL=app-8e85eaad7e3b7d00d4f1.js.map